(window.webpackJsonp=window.webpackJsonp||[]).push([["9da1"],{"+/fp":function(e){e.exports=class{strong(e){return e}em(e){return e}codespan(e){return e}del(e){return e}html(e){return e}text(e){return e}link(e,t,n){return""+n}image(e,t,n){return""+n}br(){return""}}},"+SFK":function(e,t,n){n("AUvm"),n("wgeU"),n("adOz"),n("dl0q"),e.exports=n("WEpk").Symbol},"+U4B":function(e){var t,n=String.fromCharCode;t=function(){return function(e){function t(r){if(n[r])return n[r].exports;var i=n[r]={exports:{},id:r,loaded:!1};return e[r].call(i.exports,i,i.exports,t),i.loaded=!0,i.exports}var n={};return t.m=e,t.c=n,t.p="",t(0)}([function(e,t,n){"use strict";function r(e,t,n){var r=null,s=function(e,t){n&&n(e,t),r&&r.visit(e,t)},u="function"==typeof n?s:null,c=!1;if(t){c="boolean"==typeof t.comment&&t.comment;var l="boolean"==typeof t.attachComment&&t.attachComment;(c||l)&&((r=new i.CommentHandler).attach=l,t.comment=!0,u=s)}var h=!1;t&&"string"==typeof t.sourceType&&(h="module"===t.sourceType);var p=t&&"boolean"==typeof t.jsx&&t.jsx?new o.JSXParser(e,t,u):new a.Parser(e,t,u),f=h?p.parseModule():p.parseScript();return c&&r&&(f.comments=r.comments),p.config.tokens&&(f.tokens=p.tokens),p.config.tolerant&&(f.errors=p.errorHandler.errors),f}Object.defineProperty(t,"__esModule",{value:!0});var i=n(1),o=n(3),a=n(8),s=n(15);t.parse=r,t.parseModule=function(e,t,n){var i=t||{};return i.sourceType="module",r(e,i,n)},t.parseScript=function(e,t,n){var i=t||{};return i.sourceType="script",r(e,i,n)},t.tokenize=function(e,t,n){var r,i=new s.Tokenizer(e,t);r=[];try{for(;;){var o=i.getNextToken();if(!o)break;n&&(o=n(o)),r.push(o)}}catch(t){i.errorHandler.tolerate(t)}return i.errorHandler.tolerant&&(r.errors=i.errors()),r};var u=n(2);t.Syntax=u.Syntax,t.version="4.0.1"},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(2),i=function(){function e(){this.attach=!1,this.comments=[],this.stack=[],this.leading=[],this.trailing=[]}return e.prototype.insertInnerComments=function(e,t){if(e.type===r.Syntax.BlockStatement&&0===e.body.length){for(var n,i=[],o=this.leading.length-1;0<=o;--o)n=this.leading[o],t.end.offset>=n.start&&(i.unshift(n.comment),this.leading.splice(o,1),this.trailing.splice(o,1));i.length&&(e.innerComments=i)}},e.prototype.findTrailingComments=function(e){var t=[];if(0<this.trailing.length){for(var n,r=this.trailing.length-1;0<=r;--r)(n=this.trailing[r]).start>=e.end.offset&&t.unshift(n.comment);return this.trailing.length=0,t}var i=this.stack[this.stack.length-1];if(i&&i.node.trailingComments){var o=i.node.trailingComments[0];o&&o.range[0]>=e.end.offset&&(t=i.node.trailingComments,delete i.node.trailingComments)}return t},e.prototype.findLeadingComments=function(e){for(var t,n=[];0<this.stack.length&&((o=this.stack[this.stack.length-1])&&o.start>=e.start.offset);)t=o.node,this.stack.pop();if(t){for(var r,i=(t.leadingComments?t.leadingComments.length:0)-1;0<=i;--i)(r=t.leadingComments[i]).range[1]<=e.start.offset&&(n.unshift(r),t.leadingComments.splice(i,1));return t.leadingComments&&0===t.leadingComments.length&&delete t.leadingComments,n}var o;for(i=this.leading.length-1;0<=i;--i)(o=this.leading[i]).start<=e.start.offset&&(n.unshift(o.comment),this.leading.splice(i,1));return n},e.prototype.visitNode=function(e,t){if(!(e.type===r.Syntax.Program&&0<e.body.length)){this.insertInnerComments(e,t);var n=this.findTrailingComments(t),i=this.findLeadingComments(t);0<i.length&&(e.leadingComments=i),0<n.length&&(e.trailingComments=n),this.stack.push({node:e,start:t.start.offset})}},e.prototype.visitComment=function(e,t){var n="L"===e.type[0]?"Line":"Block",r={type:n,value:e.value};if(e.range&&(r.range=e.range),e.loc&&(r.loc=e.loc),this.comments.push(r),this.attach){var i={comment:{type:n,value:e.value,range:[t.start.offset,t.end.offset]},start:t.start.offset};e.loc&&(i.comment.loc=e.loc),e.type=n,this.leading.push(i),this.trailing.push(i)}},e.prototype.visit=function(e,t){"LineComment"===e.type?this.visitComment(e,t):"BlockComment"===e.type?this.visitComment(e,t):this.attach&&this.visitNode(e,t)},e}();t.CommentHandler=i},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Syntax={AssignmentExpression:"AssignmentExpression",AssignmentPattern:"AssignmentPattern",ArrayExpression:"ArrayExpression",ArrayPattern:"ArrayPattern",ArrowFunctionExpression:"ArrowFunctionExpression",AwaitExpression:"AwaitExpression",BlockStatement:"BlockStatement",BinaryExpression:"BinaryExpression",BreakStatement:"BreakStatement",CallExpression:"CallExpression",CatchClause:"CatchClause",ClassBody:"ClassBody",ClassDeclaration:"ClassDeclaration",ClassExpression:"ClassExpression",ConditionalExpression:"ConditionalExpression",ContinueStatement:"ContinueStatement",DoWhileStatement:"DoWhileStatement",DebuggerStatement:"DebuggerStatement",EmptyStatement:"EmptyStatement",ExportAllDeclaration:"ExportAllDeclaration",ExportDefaultDeclaration:"ExportDefaultDeclaration",ExportNamedDeclaration:"ExportNamedDeclaration",ExportSpecifier:"ExportSpecifier",ExpressionStatement:"ExpressionStatement",ForStatement:"ForStatement",ForOfStatement:"ForOfStatement",ForInStatement:"ForInStatement",FunctionDeclaration:"FunctionDeclaration",FunctionExpression:"FunctionExpression",Identifier:"Identifier",IfStatement:"IfStatement",ImportDeclaration:"ImportDeclaration",ImportDefaultSpecifier:"ImportDefaultSpecifier",ImportNamespaceSpecifier:"ImportNamespaceSpecifier",ImportSpecifier:"ImportSpecifier",Literal:"Literal",LabeledStatement:"LabeledStatement",LogicalExpression:"LogicalExpression",MemberExpression:"MemberExpression",MetaProperty:"MetaProperty",MethodDefinition:"MethodDefinition",NewExpression:"NewExpression",ObjectExpression:"ObjectExpression",ObjectPattern:"ObjectPattern",Program:"Program",Property:"Property",RestElement:"RestElement",ReturnStatement:"ReturnStatement",SequenceExpression:"SequenceExpression",SpreadElement:"SpreadElement",Super:"Super",SwitchCase:"SwitchCase",SwitchStatement:"SwitchStatement",TaggedTemplateExpression:"TaggedTemplateExpression",TemplateElement:"TemplateElement",TemplateLiteral:"TemplateLiteral",ThisExpression:"ThisExpression",ThrowStatement:"ThrowStatement",TryStatement:"TryStatement",UnaryExpression:"UnaryExpression",UpdateExpression:"UpdateExpression",VariableDeclaration:"VariableDeclaration",VariableDeclarator:"VariableDeclarator",WhileStatement:"WhileStatement",WithStatement:"WithStatement",YieldExpression:"YieldExpression"}},function(e,t,r){"use strict";function i(e){var t;switch(e.type){case u.JSXSyntax.JSXIdentifier:t=e.name;break;case u.JSXSyntax.JSXNamespacedName:var n=e;t=i(n.namespace)+":"+i(n.name);break;case u.JSXSyntax.JSXMemberExpression:var r=e;t=i(r.object)+"."+i(r.property)}return t}var o=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(t,"__esModule",{value:!0});var a=r(4),s=r(5),u=r(6),c=r(7),l=r(8),h=r(13),p=r(14);h.TokenName[100]="JSXIdentifier",h.TokenName[101]="JSXText";var f=function(e){function t(t,n,r){return e.call(this,t,n,r)||this}return o(t,e),t.prototype.parsePrimaryExpression=function(){return this.match("<")?this.parseJSXRoot():e.prototype.parsePrimaryExpression.call(this)},t.prototype.startJSX=function(){this.scanner.index=this.startMarker.index,this.scanner.lineNumber=this.startMarker.line,this.scanner.lineStart=this.startMarker.index-this.startMarker.column},t.prototype.finishJSX=function(){this.nextToken()},t.prototype.reenterJSX=function(){this.startJSX(),this.expectJSX("}"),this.config.tokens&&this.tokens.pop()},t.prototype.createJSXNode=function(){return this.collectComments(),{index:this.scanner.index,line:this.scanner.lineNumber,column:this.scanner.index-this.scanner.lineStart}},t.prototype.createJSXChildNode=function(){return{index:this.scanner.index,line:this.scanner.lineNumber,column:this.scanner.index-this.scanner.lineStart}},t.prototype.scanXHTMLEntity=function(e){for(var t,r="&",i=!0,o=!1,s=!1,u=!1;!this.scanner.eof()&&i&&!o&&(t=this.scanner.source[this.scanner.index])!==e;)if(o=";"===t,r+=t,++this.scanner.index,!o)switch(r.length){case 2:s="#"===t;break;case 3:s&&(i=(u="x"===t)||a.Character.isDecimalDigit(t.charCodeAt(0)),s=s&&!u);break;default:i=(i=i&&(!s||a.Character.isDecimalDigit(t.charCodeAt(0))))&&(!u||a.Character.isHexDigit(t.charCodeAt(0)))}if(i&&o&&2<r.length){var c=r.substr(1,r.length-2);s&&1<c.length?r=n(parseInt(c.substr(1),10)):u&&2<c.length?r=n(parseInt("0"+c.substr(1),16)):!s&&!u&&p.XHTMLEntities[c]&&(r=p.XHTMLEntities[c])}return r},t.prototype.lexJSX=function(){var e=this.scanner.source.charCodeAt(this.scanner.index);if(60===e||62===e||47===e||58===e||61===e||123===e||125===e)return{type:7,value:s=this.scanner.source[this.scanner.index++],lineNumber:this.scanner.lineNumber,lineStart:this.scanner.lineStart,start:this.scanner.index-1,end:this.scanner.index};if(34===e||39===e){for(var t=this.scanner.index,n=this.scanner.source[this.scanner.index++],r="";!this.scanner.eof()&&(u=this.scanner.source[this.scanner.index++])!==n;)r+="&"===u?this.scanXHTMLEntity(n):u;return{type:8,value:r,lineNumber:this.scanner.lineNumber,lineStart:this.scanner.lineStart,start:t,end:this.scanner.index}}if(46===e){var i=this.scanner.source.charCodeAt(this.scanner.index+1),o=this.scanner.source.charCodeAt(this.scanner.index+2),s=46===i&&46===o?"...":".";t=this.scanner.index;return this.scanner.index+=s.length,{type:7,value:s,lineNumber:this.scanner.lineNumber,lineStart:this.scanner.lineStart,start:t,end:this.scanner.index}}if(96===e)return{type:10,value:"",lineNumber:this.scanner.lineNumber,lineStart:this.scanner.lineStart,start:this.scanner.index,end:this.scanner.index};if(a.Character.isIdentifierStart(e)&&92!==e){t=this.scanner.index;for(++this.scanner.index;!this.scanner.eof();){var u=this.scanner.source.charCodeAt(this.scanner.index);if(a.Character.isIdentifierPart(u)&&92!==u)++this.scanner.index;else{if(45!==u)break;++this.scanner.index}}return{type:100,value:this.scanner.source.slice(t,this.scanner.index),lineNumber:this.scanner.lineNumber,lineStart:this.scanner.lineStart,start:t,end:this.scanner.index}}return this.scanner.lex()},t.prototype.nextJSXToken=function(){this.collectComments(),this.startMarker.index=this.scanner.index,this.startMarker.line=this.scanner.lineNumber,this.startMarker.column=this.scanner.index-this.scanner.lineStart;var e=this.lexJSX();return this.lastMarker.index=this.scanner.index,this.lastMarker.line=this.scanner.lineNumber,this.lastMarker.column=this.scanner.index-this.scanner.lineStart,this.config.tokens&&this.tokens.push(this.convertToken(e)),e},t.prototype.nextJSXText=function(){this.startMarker.index=this.scanner.index,this.startMarker.line=this.scanner.lineNumber,this.startMarker.column=this.scanner.index-this.scanner.lineStart;for(var e,t=this.scanner.index,n="";!this.scanner.eof()&&("{"!==(e=this.scanner.source[this.scanner.index])&&"<"!==e);)++this.scanner.index,n+=e,a.Character.isLineTerminator(e.charCodeAt(0))&&(++this.scanner.lineNumber,"\r"===e&&"\n"===this.scanner.source[this.scanner.index]&&++this.scanner.index,this.scanner.lineStart=this.scanner.index);this.lastMarker.index=this.scanner.index,this.lastMarker.line=this.scanner.lineNumber,this.lastMarker.column=this.scanner.index-this.scanner.lineStart;var r={type:101,value:n,lineNumber:this.scanner.lineNumber,lineStart:this.scanner.lineStart,start:t,end:this.scanner.index};return 0<n.length&&this.config.tokens&&this.tokens.push(this.convertToken(r)),r},t.prototype.peekJSXToken=function(){var e=this.scanner.saveState();this.scanner.scanComments();var t=this.lexJSX();return this.scanner.restoreState(e),t},t.prototype.expectJSX=function(e){var t=this.nextJSXToken();(7!==t.type||t.value!==e)&&this.throwUnexpectedToken(t)},t.prototype.matchJSX=function(e){var t=this.peekJSXToken();return 7===t.type&&t.value===e},t.prototype.parseJSXIdentifier=function(){var e=this.createJSXNode(),t=this.nextJSXToken();return 100!==t.type&&this.throwUnexpectedToken(t),this.finalize(e,new s.JSXIdentifier(t.value))},t.prototype.parseJSXElementName=function(){var e=this.createJSXNode(),t=this.parseJSXIdentifier();if(this.matchJSX(":")){var n=t;this.expectJSX(":");var r=this.parseJSXIdentifier();t=this.finalize(e,new s.JSXNamespacedName(n,r))}else if(this.matchJSX("."))for(;this.matchJSX(".");){var i=t;this.expectJSX(".");var o=this.parseJSXIdentifier();t=this.finalize(e,new s.JSXMemberExpression(i,o))}return t},t.prototype.parseJSXAttributeName=function(){var e,t=this.createJSXNode(),n=this.parseJSXIdentifier();if(this.matchJSX(":")){this.expectJSX(":");var r=this.parseJSXIdentifier();e=this.finalize(t,new s.JSXNamespacedName(n,r))}else e=n;return e},t.prototype.parseJSXStringLiteralAttribute=function(){var e=this.createJSXNode(),t=this.nextJSXToken();8!==t.type&&this.throwUnexpectedToken(t);var n=this.getTokenRaw(t);return this.finalize(e,new c.Literal(t.value,n))},t.prototype.parseJSXExpressionAttribute=function(){var e=this.createJSXNode();this.expectJSX("{"),this.finishJSX(),this.match("}")&&this.tolerateError("JSX attributes must only be assigned a non-empty expression");var t=this.parseAssignmentExpression();return this.reenterJSX(),this.finalize(e,new s.JSXExpressionContainer(t))},t.prototype.parseJSXAttributeValue=function(){return this.matchJSX("{")?this.parseJSXExpressionAttribute():this.matchJSX("<")?this.parseJSXElement():this.parseJSXStringLiteralAttribute()},t.prototype.parseJSXNameValueAttribute=function(){var e=this.createJSXNode(),t=this.parseJSXAttributeName(),n=null;return this.matchJSX("=")&&(this.expectJSX("="),n=this.parseJSXAttributeValue()),this.finalize(e,new s.JSXAttribute(t,n))},t.prototype.parseJSXSpreadAttribute=function(){var e=this.createJSXNode();this.expectJSX("{"),this.expectJSX("..."),this.finishJSX();var t=this.parseAssignmentExpression();return this.reenterJSX(),this.finalize(e,new s.JSXSpreadAttribute(t))},t.prototype.parseJSXAttributes=function(){for(var e,t=[];!this.matchJSX("/")&&!this.matchJSX(">");)e=this.matchJSX("{")?this.parseJSXSpreadAttribute():this.parseJSXNameValueAttribute(),t.push(e);return t},t.prototype.parseJSXOpeningElement=function(){var e=this.createJSXNode();this.expectJSX("<");var t=this.parseJSXElementName(),n=this.parseJSXAttributes(),r=this.matchJSX("/");return r&&this.expectJSX("/"),this.expectJSX(">"),this.finalize(e,new s.JSXOpeningElement(t,r,n))},t.prototype.parseJSXBoundaryElement=function(){var e=this.createJSXNode();if(this.expectJSX("<"),this.matchJSX("/")){this.expectJSX("/");var t=this.parseJSXElementName();return this.expectJSX(">"),this.finalize(e,new s.JSXClosingElement(t))}var n=this.parseJSXElementName(),r=this.parseJSXAttributes(),i=this.matchJSX("/");return i&&this.expectJSX("/"),this.expectJSX(">"),this.finalize(e,new s.JSXOpeningElement(n,i,r))},t.prototype.parseJSXEmptyExpression=function(){var e=this.createJSXChildNode();return this.collectComments(),this.lastMarker.index=this.scanner.index,this.lastMarker.line=this.scanner.lineNumber,this.lastMarker.column=this.scanner.index-this.scanner.lineStart,this.finalize(e,new s.JSXEmptyExpression)},t.prototype.parseJSXExpressionContainer=function(){var e,t=this.createJSXNode();return this.expectJSX("{"),this.matchJSX("}")?(e=this.parseJSXEmptyExpression(),this.expectJSX("}")):(this.finishJSX(),e=this.parseAssignmentExpression(),this.reenterJSX()),this.finalize(t,new s.JSXExpressionContainer(e))},t.prototype.parseJSXChildren=function(){for(var e=[];!this.scanner.eof();){var t=this.createJSXChildNode(),n=this.nextJSXText();if(n.start<n.end){var r=this.getTokenRaw(n),i=this.finalize(t,new s.JSXText(n.value,r));e.push(i)}if("{"!==this.scanner.source[this.scanner.index])break;var o=this.parseJSXExpressionContainer();e.push(o)}return e},t.prototype.parseComplexJSXElement=function(e){for(var t=[];!this.scanner.eof();){e.children=e.children.concat(this.parseJSXChildren());var n=this.createJSXChildNode(),r=this.parseJSXBoundaryElement();if(r.type===u.JSXSyntax.JSXOpeningElement){var o=r;if(o.selfClosing){var a=this.finalize(n,new s.JSXElement(o,[],null));e.children.push(a)}else t.push(e),e={node:n,opening:o,closing:null,children:[]}}if(r.type===u.JSXSyntax.JSXClosingElement){e.closing=r;var c=i(e.opening.name);if(c!==i(e.closing.name)&&this.tolerateError("Expected corresponding JSX closing tag for %0",c),!(0<t.length))break;a=this.finalize(e.node,new s.JSXElement(e.opening,e.children,e.closing));(e=t[t.length-1]).children.push(a),t.pop()}}return e},t.prototype.parseJSXElement=function(){var e=this.createJSXNode(),t=this.parseJSXOpeningElement(),n=[],r=null;if(!t.selfClosing){var i=this.parseComplexJSXElement({node:e,opening:t,closing:r,children:n});n=i.children,r=i.closing}return this.finalize(e,new s.JSXElement(t,n,r))},t.prototype.parseJSXRoot=function(){this.config.tokens&&this.tokens.pop(),this.startJSX();var e=this.parseJSXElement();return this.finishJSX(),e},t.prototype.isStartOfExpression=function(){return e.prototype.isStartOfExpression.call(this)||this.match("<")},t}(l.Parser);t.JSXParser=f},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r={NonAsciiIdentifierStart:/[\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0561-\u0587\u05D0-\u05EA\u05F0-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u08A0-\u08B4\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C60\u0C61\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D05-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D5F-\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E87\u0E88\u0E8A\u0E8D\u0E94-\u0E97\u0E99-\u0E9F\u0EA1-\u0EA3\u0EA5\u0EA7\u0EAA\u0EAB\u0EAD-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16EE-\u16F8\u1700-\u170C\u170E-\u1711\u1720-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1877\u1880-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4B\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1CE9-\u1CEC\u1CEE-\u1CF1\u1CF5\u1CF6\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2118-\u211D\u2124\u2126\u2128\u212A-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2160-\u2188\u2C00-\u2C2E\u2C30-\u2C5E\u2C60-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u3005-\u3007\u3021-\u3029\u3031-\u3035\u3038-\u303C\u3041-\u3096\u309B-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312D\u3131-\u318E\u31A0-\u31BA\u31F0-\u31FF\u3400-\u4DB5\u4E00-\u9FD5\uA000-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6EF\uA717-\uA71F\uA722-\uA788\uA78B-\uA7AD\uA7B0-\uA7B7\uA7F7-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA8FD\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB65\uAB70-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDD40-\uDD74\uDE80-\uDE9C\uDEA0-\uDED0\uDF00-\uDF1F\uDF30-\uDF4A\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF\uDFD1-\uDFD5]|\uD801[\uDC00-\uDC9D\uDD00-\uDD27\uDD30-\uDD63\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE33\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE4\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2]|\uD804[\uDC03-\uDC37\uDC83-\uDCAF\uDCD0-\uDCE8\uDD03-\uDD26\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE2B\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61]|\uD805[\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE80-\uDEAA\uDF00-\uDF19]|\uD806[\uDCA0-\uDCDF\uDCFF\uDEC0-\uDEF8]|\uD808[\uDC00-\uDF99]|\uD809[\uDC00-\uDC6E\uDC80-\uDD43]|[\uD80C\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2E]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDF00-\uDF44\uDF50\uDF93-\uDF9F]|\uD82C[\uDC00\uDC01]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB]|\uD83A[\uDC00-\uDCC4]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDED6\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF34\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1]|\uD87E[\uDC00-\uDE1D]/,NonAsciiIdentifierPart:/[\xAA\xB5\xB7\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0300-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u0483-\u0487\u048A-\u052F\u0531-\u0556\u0559\u0561-\u0587\u0591-\u05BD\u05BF\u05C1\u05C2\u05C4\u05C5\u05C7\u05D0-\u05EA\u05F0-\u05F2\u0610-\u061A\u0620-\u0669\u066E-\u06D3\u06D5-\u06DC\u06DF-\u06E8\u06EA-\u06FC\u06FF\u0710-\u074A\u074D-\u07B1\u07C0-\u07F5\u07FA\u0800-\u082D\u0840-\u085B\u08A0-\u08B4\u08E3-\u0963\u0966-\u096F\u0971-\u0983\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BC-\u09C4\u09C7\u09C8\u09CB-\u09CE\u09D7\u09DC\u09DD\u09DF-\u09E3\u09E6-\u09F1\u0A01-\u0A03\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A3C\u0A3E-\u0A42\u0A47\u0A48\u0A4B-\u0A4D\u0A51\u0A59-\u0A5C\u0A5E\u0A66-\u0A75\u0A81-\u0A83\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABC-\u0AC5\u0AC7-\u0AC9\u0ACB-\u0ACD\u0AD0\u0AE0-\u0AE3\u0AE6-\u0AEF\u0AF9\u0B01-\u0B03\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3C-\u0B44\u0B47\u0B48\u0B4B-\u0B4D\u0B56\u0B57\u0B5C\u0B5D\u0B5F-\u0B63\u0B66-\u0B6F\u0B71\u0B82\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BBE-\u0BC2\u0BC6-\u0BC8\u0BCA-\u0BCD\u0BD0\u0BD7\u0BE6-\u0BEF\u0C00-\u0C03\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D-\u0C44\u0C46-\u0C48\u0C4A-\u0C4D\u0C55\u0C56\u0C58-\u0C5A\u0C60-\u0C63\u0C66-\u0C6F\u0C81-\u0C83\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBC-\u0CC4\u0CC6-\u0CC8\u0CCA-\u0CCD\u0CD5\u0CD6\u0CDE\u0CE0-\u0CE3\u0CE6-\u0CEF\u0CF1\u0CF2\u0D01-\u0D03\u0D05-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D-\u0D44\u0D46-\u0D48\u0D4A-\u0D4E\u0D57\u0D5F-\u0D63\u0D66-\u0D6F\u0D7A-\u0D7F\u0D82\u0D83\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0DCA\u0DCF-\u0DD4\u0DD6\u0DD8-\u0DDF\u0DE6-\u0DEF\u0DF2\u0DF3\u0E01-\u0E3A\u0E40-\u0E4E\u0E50-\u0E59\u0E81\u0E82\u0E84\u0E87\u0E88\u0E8A\u0E8D\u0E94-\u0E97\u0E99-\u0E9F\u0EA1-\u0EA3\u0EA5\u0EA7\u0EAA\u0EAB\u0EAD-\u0EB9\u0EBB-\u0EBD\u0EC0-\u0EC4\u0EC6\u0EC8-\u0ECD\u0ED0-\u0ED9\u0EDC-\u0EDF\u0F00\u0F18\u0F19\u0F20-\u0F29\u0F35\u0F37\u0F39\u0F3E-\u0F47\u0F49-\u0F6C\u0F71-\u0F84\u0F86-\u0F97\u0F99-\u0FBC\u0FC6\u1000-\u1049\u1050-\u109D\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u135D-\u135F\u1369-\u1371\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16EE-\u16F8\u1700-\u170C\u170E-\u1714\u1720-\u1734\u1740-\u1753\u1760-\u176C\u176E-\u1770\u1772\u1773\u1780-\u17D3\u17D7\u17DC\u17DD\u17E0-\u17E9\u180B-\u180D\u1810-\u1819\u1820-\u1877\u1880-\u18AA\u18B0-\u18F5\u1900-\u191E\u1920-\u192B\u1930-\u193B\u1946-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u19D0-\u19DA\u1A00-\u1A1B\u1A20-\u1A5E\u1A60-\u1A7C\u1A7F-\u1A89\u1A90-\u1A99\u1AA7\u1AB0-\u1ABD\u1B00-\u1B4B\u1B50-\u1B59\u1B6B-\u1B73\u1B80-\u1BF3\u1C00-\u1C37\u1C40-\u1C49\u1C4D-\u1C7D\u1CD0-\u1CD2\u1CD4-\u1CF6\u1CF8\u1CF9\u1D00-\u1DF5\u1DFC-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u200C\u200D\u203F\u2040\u2054\u2071\u207F\u2090-\u209C\u20D0-\u20DC\u20E1\u20E5-\u20F0\u2102\u2107\u210A-\u2113\u2115\u2118-\u211D\u2124\u2126\u2128\u212A-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2160-\u2188\u2C00-\u2C2E\u2C30-\u2C5E\u2C60-\u2CE4\u2CEB-\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D7F-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2DE0-\u2DFF\u3005-\u3007\u3021-\u302F\u3031-\u3035\u3038-\u303C\u3041-\u3096\u3099-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312D\u3131-\u318E\u31A0-\u31BA\u31F0-\u31FF\u3400-\u4DB5\u4E00-\u9FD5\uA000-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA62B\uA640-\uA66F\uA674-\uA67D\uA67F-\uA6F1\uA717-\uA71F\uA722-\uA788\uA78B-\uA7AD\uA7B0-\uA7B7\uA7F7-\uA827\uA840-\uA873\uA880-\uA8C4\uA8D0-\uA8D9\uA8E0-\uA8F7\uA8FB\uA8FD\uA900-\uA92D\uA930-\uA953\uA960-\uA97C\uA980-\uA9C0\uA9CF-\uA9D9\uA9E0-\uA9FE\uAA00-\uAA36\uAA40-\uAA4D\uAA50-\uAA59\uAA60-\uAA76\uAA7A-\uAAC2\uAADB-\uAADD\uAAE0-\uAAEF\uAAF2-\uAAF6\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB65\uAB70-\uABEA\uABEC\uABED\uABF0-\uABF9\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE00-\uFE0F\uFE20-\uFE2F\uFE33\uFE34\uFE4D-\uFE4F\uFE70-\uFE74\uFE76-\uFEFC\uFF10-\uFF19\uFF21-\uFF3A\uFF3F\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDD40-\uDD74\uDDFD\uDE80-\uDE9C\uDEA0-\uDED0\uDEE0\uDF00-\uDF1F\uDF30-\uDF4A\uDF50-\uDF7A\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF\uDFD1-\uDFD5]|\uD801[\uDC00-\uDC9D\uDCA0-\uDCA9\uDD00-\uDD27\uDD30-\uDD63\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00-\uDE03\uDE05\uDE06\uDE0C-\uDE13\uDE15-\uDE17\uDE19-\uDE33\uDE38-\uDE3A\uDE3F\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE6\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2]|\uD804[\uDC00-\uDC46\uDC66-\uDC6F\uDC7F-\uDCBA\uDCD0-\uDCE8\uDCF0-\uDCF9\uDD00-\uDD34\uDD36-\uDD3F\uDD50-\uDD73\uDD76\uDD80-\uDDC4\uDDCA-\uDDCC\uDDD0-\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE37\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEEA\uDEF0-\uDEF9\uDF00-\uDF03\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3C-\uDF44\uDF47\uDF48\uDF4B-\uDF4D\uDF50\uDF57\uDF5D-\uDF63\uDF66-\uDF6C\uDF70-\uDF74]|\uD805[\uDC80-\uDCC5\uDCC7\uDCD0-\uDCD9\uDD80-\uDDB5\uDDB8-\uDDC0\uDDD8-\uDDDD\uDE00-\uDE40\uDE44\uDE50-\uDE59\uDE80-\uDEB7\uDEC0-\uDEC9\uDF00-\uDF19\uDF1D-\uDF2B\uDF30-\uDF39]|\uD806[\uDCA0-\uDCE9\uDCFF\uDEC0-\uDEF8]|\uD808[\uDC00-\uDF99]|\uD809[\uDC00-\uDC6E\uDC80-\uDD43]|[\uD80C\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2E]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDE60-\uDE69\uDED0-\uDEED\uDEF0-\uDEF4\uDF00-\uDF36\uDF40-\uDF43\uDF50-\uDF59\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDF00-\uDF44\uDF50-\uDF7E\uDF8F-\uDF9F]|\uD82C[\uDC00\uDC01]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99\uDC9D\uDC9E]|\uD834[\uDD65-\uDD69\uDD6D-\uDD72\uDD7B-\uDD82\uDD85-\uDD8B\uDDAA-\uDDAD\uDE42-\uDE44]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB\uDFCE-\uDFFF]|\uD836[\uDE00-\uDE36\uDE3B-\uDE6C\uDE75\uDE84\uDE9B-\uDE9F\uDEA1-\uDEAF]|\uD83A[\uDC00-\uDCC4\uDCD0-\uDCD6]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDED6\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF34\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1]|\uD87E[\uDC00-\uDE1D]|\uDB40[\uDD00-\uDDEF]/};t.Character={fromCodePoint:function(e){return 65536>e?n(e):n(55296+(e-65536>>10))+n(56320+(1023&e-65536))},isWhiteSpace:function(e){return 32===e||9===e||11===e||12===e||160===e||5760<=e&&0<=[5760,8192,8193,8194,8195,8196,8197,8198,8199,8200,8201,8202,8239,8287,12288,65279].indexOf(e)},isLineTerminator:function(e){return 10===e||13===e||8232===e||8233===e},isIdentifierStart:function(e){return 36===e||95===e||65<=e&&90>=e||97<=e&&122>=e||92===e||128<=e&&r.NonAsciiIdentifierStart.test(t.Character.fromCodePoint(e))},isIdentifierPart:function(e){return 36===e||95===e||65<=e&&90>=e||97<=e&&122>=e||48<=e&&57>=e||92===e||128<=e&&r.NonAsciiIdentifierPart.test(t.Character.fromCodePoint(e))},isDecimalDigit:function(e){return 48<=e&&57>=e},isHexDigit:function(e){return 48<=e&&57>=e||65<=e&&70>=e||97<=e&&102>=e},isOctalDigit:function(e){return 48<=e&&55>=e}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(6),i=function(e){this.type=r.JSXSyntax.JSXClosingElement,this.name=e};t.JSXClosingElement=i;var o=function(e,t,n){this.type=r.JSXSyntax.JSXElement,this.openingElement=e,this.children=t,this.closingElement=n};t.JSXElement=o;var a=function(){this.type=r.JSXSyntax.JSXEmptyExpression};t.JSXEmptyExpression=a;var s=function(e){this.type=r.JSXSyntax.JSXExpressionContainer,this.expression=e};t.JSXExpressionContainer=s;var u=function(e){this.type=r.JSXSyntax.JSXIdentifier,this.name=e};t.JSXIdentifier=u;var c=function(e,t){this.type=r.JSXSyntax.JSXMemberExpression,this.object=e,this.property=t};t.JSXMemberExpression=c;var l=function(e,t){this.type=r.JSXSyntax.JSXAttribute,this.name=e,this.value=t};t.JSXAttribute=l;var h=function(e,t){this.type=r.JSXSyntax.JSXNamespacedName,this.namespace=e,this.name=t};t.JSXNamespacedName=h;var p=function(e,t,n){this.type=r.JSXSyntax.JSXOpeningElement,this.name=e,this.selfClosing=t,this.attributes=n};t.JSXOpeningElement=p;var f=function(e){this.type=r.JSXSyntax.JSXSpreadAttribute,this.argument=e};t.JSXSpreadAttribute=f;var d=function(e,t){this.type=r.JSXSyntax.JSXText,this.value=e,this.raw=t};t.JSXText=d},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.JSXSyntax={JSXAttribute:"JSXAttribute",JSXClosingElement:"JSXClosingElement",JSXElement:"JSXElement",JSXEmptyExpression:"JSXEmptyExpression",JSXExpressionContainer:"JSXExpressionContainer",JSXIdentifier:"JSXIdentifier",JSXMemberExpression:"JSXMemberExpression",JSXNamespacedName:"JSXNamespacedName",JSXOpeningElement:"JSXOpeningElement",JSXSpreadAttribute:"JSXSpreadAttribute",JSXText:"JSXText"}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(2),i=function(e){this.type=r.Syntax.ArrayExpression,this.elements=e};t.ArrayExpression=i;var o=function(e){this.type=r.Syntax.ArrayPattern,this.elements=e};t.ArrayPattern=o;var a=function(e,t,n){this.type=r.Syntax.ArrowFunctionExpression,this.id=null,this.params=e,this.body=t,this.generator=!1,this.expression=n,this.async=!1};t.ArrowFunctionExpression=a;var s=function(e,t,n){this.type=r.Syntax.AssignmentExpression,this.operator=e,this.left=t,this.right=n};t.AssignmentExpression=s;var u=function(e,t){this.type=r.Syntax.AssignmentPattern,this.left=e,this.right=t};t.AssignmentPattern=u;var c=function(e,t,n){this.type=r.Syntax.ArrowFunctionExpression,this.id=null,this.params=e,this.body=t,this.generator=!1,this.expression=n,this.async=!0};t.AsyncArrowFunctionExpression=c;var l=function(e,t,n){this.type=r.Syntax.FunctionDeclaration,this.id=e,this.params=t,this.body=n,this.generator=!1,this.expression=!1,this.async=!0};t.AsyncFunctionDeclaration=l;var h=function(e,t,n){this.type=r.Syntax.FunctionExpression,this.id=e,this.params=t,this.body=n,this.generator=!1,this.expression=!1,this.async=!0};t.AsyncFunctionExpression=h;var p=function(e){this.type=r.Syntax.AwaitExpression,this.argument=e};t.AwaitExpression=p;var f=function(e,t,n){this.type="||"===e||"&&"===e?r.Syntax.LogicalExpression:r.Syntax.BinaryExpression,this.operator=e,this.left=t,this.right=n};t.BinaryExpression=f;var d=function(e){this.type=r.Syntax.BlockStatement,this.body=e};t.BlockStatement=d;var m=function(e){this.type=r.Syntax.BreakStatement,this.label=e};t.BreakStatement=m;var g=function(e,t){this.type=r.Syntax.CallExpression,this.callee=e,this.arguments=t};t.CallExpression=g;var v=function(e,t){this.type=r.Syntax.CatchClause,this.param=e,this.body=t};t.CatchClause=v;var y=function(e){this.type=r.Syntax.ClassBody,this.body=e};t.ClassBody=y;var x=function(e,t,n){this.type=r.Syntax.ClassDeclaration,this.id=e,this.superClass=t,this.body=n};t.ClassDeclaration=x;var b=function(e,t,n){this.type=r.Syntax.ClassExpression,this.id=e,this.superClass=t,this.body=n};t.ClassExpression=b;var w=function(e,t){this.type=r.Syntax.MemberExpression,this.computed=!0,this.object=e,this.property=t};t.ComputedMemberExpression=w;var _=function(e,t,n){this.type=r.Syntax.ConditionalExpression,this.test=e,this.consequent=t,this.alternate=n};t.ConditionalExpression=_;var E=function(e){this.type=r.Syntax.ContinueStatement,this.label=e};t.ContinueStatement=E;var S=function(){this.type=r.Syntax.DebuggerStatement};t.DebuggerStatement=S;var T=function(e,t){this.type=r.Syntax.ExpressionStatement,this.expression=e,this.directive=t};t.Directive=T;var A=function(e,t){this.type=r.Syntax.DoWhileStatement,this.body=e,this.test=t};t.DoWhileStatement=A;var M=function(){this.type=r.Syntax.EmptyStatement};t.EmptyStatement=M;var C=function(e){this.type=r.Syntax.ExportAllDeclaration,this.source=e};t.ExportAllDeclaration=C;var D=function(e){this.type=r.Syntax.ExportDefaultDeclaration,this.declaration=e};t.ExportDefaultDeclaration=D;var L=function(e,t,n){this.type=r.Syntax.ExportNamedDeclaration,this.declaration=e,this.specifiers=t,this.source=n};t.ExportNamedDeclaration=L;var P=function(e,t){this.type=r.Syntax.ExportSpecifier,this.exported=t,this.local=e};t.ExportSpecifier=P;var R=function(e){this.type=r.Syntax.ExpressionStatement,this.expression=e};t.ExpressionStatement=R;var O=function(e,t,n){this.type=r.Syntax.ForInStatement,this.left=e,this.right=t,this.body=n,this.each=!1};t.ForInStatement=O;var I=function(e,t,n){this.type=r.Syntax.ForOfStatement,this.left=e,this.right=t,this.body=n};t.ForOfStatement=I;var k=function(e,t,n,i){this.type=r.Syntax.ForStatement,this.init=e,this.test=t,this.update=n,this.body=i};t.ForStatement=k;var N=function(e,t,n,i){this.type=r.Syntax.FunctionDeclaration,this.id=e,this.params=t,this.body=n,this.generator=i,this.expression=!1,this.async=!1};t.FunctionDeclaration=N;var F=function(e,t,n,i){this.type=r.Syntax.FunctionExpression,this.id=e,this.params=t,this.body=n,this.generator=i,this.expression=!1,this.async=!1};t.FunctionExpression=F;var B=function(e){this.type=r.Syntax.Identifier,this.name=e};t.Identifier=B;var U=function(e,t,n){this.type=r.Syntax.IfStatement,this.test=e,this.consequent=t,this.alternate=n};t.IfStatement=U;var z=function(e,t){this.type=r.Syntax.ImportDeclaration,this.specifiers=e,this.source=t};t.ImportDeclaration=z;var j=function(e){this.type=r.Syntax.ImportDefaultSpecifier,this.local=e};t.ImportDefaultSpecifier=j;var G=function(e){this.type=r.Syntax.ImportNamespaceSpecifier,this.local=e};t.ImportNamespaceSpecifier=G;var H=function(e,t){this.type=r.Syntax.ImportSpecifier,this.local=e,this.imported=t};t.ImportSpecifier=H;var V=function(e,t){this.type=r.Syntax.LabeledStatement,this.label=e,this.body=t};t.LabeledStatement=V;var W=function(e,t){this.type=r.Syntax.Literal,this.value=e,this.raw=t};t.Literal=W;var X=function(e,t){this.type=r.Syntax.MetaProperty,this.meta=e,this.property=t};t.MetaProperty=X;var q=function(e,t,n,i,o){this.type=r.Syntax.MethodDefinition,this.key=e,this.computed=t,this.value=n,this.kind=i,this.static=o};t.MethodDefinition=q;var Y=function(e){this.type=r.Syntax.Program,this.body=e,this.sourceType="module"};t.Module=Y;var J=function(e,t){this.type=r.Syntax.NewExpression,this.callee=e,this.arguments=t};t.NewExpression=J;var Z=function(e){this.type=r.Syntax.ObjectExpression,this.properties=e};t.ObjectExpression=Z;var K=function(e){this.type=r.Syntax.ObjectPattern,this.properties=e};t.ObjectPattern=K;var $=function(e,t,n,i,o,a){this.type=r.Syntax.Property,this.key=t,this.computed=n,this.value=i,this.kind=e,this.method=o,this.shorthand=a};t.Property=$;var Q=function(e,t,n,i){this.type=r.Syntax.Literal,this.value=e,this.raw=t,this.regex={pattern:n,flags:i}};t.RegexLiteral=Q;var ee=function(e){this.type=r.Syntax.RestElement,this.argument=e};t.RestElement=ee;var te=function(e){this.type=r.Syntax.ReturnStatement,this.argument=e};t.ReturnStatement=te;var ne=function(e){this.type=r.Syntax.Program,this.body=e,this.sourceType="script"};t.Script=ne;var re=function(e){this.type=r.Syntax.SequenceExpression,this.expressions=e};t.SequenceExpression=re;var ie=function(e){this.type=r.Syntax.SpreadElement,this.argument=e};t.SpreadElement=ie;var oe=function(e,t){this.type=r.Syntax.MemberExpression,this.computed=!1,this.object=e,this.property=t};t.StaticMemberExpression=oe;var ae=function(){this.type=r.Syntax.Super};t.Super=ae;var se=function(e,t){this.type=r.Syntax.SwitchCase,this.test=e,this.consequent=t};t.SwitchCase=se;var ue=function(e,t){this.type=r.Syntax.SwitchStatement,this.discriminant=e,this.cases=t};t.SwitchStatement=ue;var ce=function(e,t){this.type=r.Syntax.TaggedTemplateExpression,this.tag=e,this.quasi=t};t.TaggedTemplateExpression=ce;var le=function(e,t){this.type=r.Syntax.TemplateElement,this.value=e,this.tail=t};t.TemplateElement=le;var he=function(e,t){this.type=r.Syntax.TemplateLiteral,this.quasis=e,this.expressions=t};t.TemplateLiteral=he;var pe=function(){this.type=r.Syntax.ThisExpression};t.ThisExpression=pe;var fe=function(e){this.type=r.Syntax.ThrowStatement,this.argument=e};t.ThrowStatement=fe;var de=function(e,t,n){this.type=r.Syntax.TryStatement,this.block=e,this.handler=t,this.finalizer=n};t.TryStatement=de;var me=function(e,t){this.type=r.Syntax.UnaryExpression,this.operator=e,this.argument=t,this.prefix=!0};t.UnaryExpression=me;var ge=function(e,t,n){this.type=r.Syntax.UpdateExpression,this.operator=e,this.argument=t,this.prefix=n};t.UpdateExpression=ge;var ve=function(e,t){this.type=r.Syntax.VariableDeclaration,this.declarations=e,this.kind=t};t.VariableDeclaration=ve;var ye=function(e,t){this.type=r.Syntax.VariableDeclarator,this.id=e,this.init=t};t.VariableDeclarator=ye;var xe=function(e,t){this.type=r.Syntax.WhileStatement,this.test=e,this.body=t};t.WhileStatement=xe;var be=function(e,t){this.type=r.Syntax.WithStatement,this.object=e,this.body=t};t.WithStatement=be;var we=function(e,t){this.type=r.Syntax.YieldExpression,this.argument=e,this.delegate=t};t.YieldExpression=we},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(9),i=n(10),o=n(11),a=n(7),s=n(12),u=n(2),c=n(13),l="ArrowParameterPlaceHolder",h=function(){function e(e,t,n){void 0===t&&(t={}),this.config={range:"boolean"==typeof t.range&&t.range,loc:"boolean"==typeof t.loc&&t.loc,source:null,tokens:"boolean"==typeof t.tokens&&t.tokens,comment:"boolean"==typeof t.comment&&t.comment,tolerant:"boolean"==typeof t.tolerant&&t.tolerant},this.config.loc&&t.source&&null!==t.source&&(this.config.source=t.source+""),this.delegate=n,this.errorHandler=new i.ErrorHandler,this.errorHandler.tolerant=this.config.tolerant,this.scanner=new s.Scanner(e,this.errorHandler),this.scanner.trackComment=this.config.comment,this.operatorPrecedence={")":0,";":0,",":0,"=":0,"]":0,"||":1,"&&":2,"|":3,"^":4,"&":5,"==":6,"!=":6,"===":6,"!==":6,"<":7,">":7,"<=":7,">=":7,"<<":8,">>":8,">>>":8,"+":9,"-":9,"*":11,"/":11,"%":11},this.lookahead={type:2,value:"",lineNumber:this.scanner.lineNumber,lineStart:0,start:0,end:0},this.hasLineTerminator=!1,this.context={isModule:!1,await:!1,allowIn:!0,allowStrictDirective:!0,allowYield:!0,firstCoverInitializedNameError:null,isAssignmentTarget:!1,isBindingElement:!1,inFunctionBody:!1,inIteration:!1,inSwitch:!1,labelSet:{},strict:!1},this.tokens=[],this.startMarker={index:0,line:this.scanner.lineNumber,column:0},this.lastMarker={index:0,line:this.scanner.lineNumber,column:0},this.nextToken(),this.lastMarker={index:this.scanner.index,line:this.scanner.lineNumber,column:this.scanner.index-this.scanner.lineStart}}return e.prototype.throwError=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];var i=Array.prototype.slice.call(arguments,1),o=e.replace(/%(\d)/g,function(e,t){return r.assert(t<i.length,"Message reference must be in range"),i[t]}),a=this.lastMarker.index,s=this.lastMarker.line,u=this.lastMarker.column+1;throw this.errorHandler.createError(a,s,u,o)},e.prototype.tolerateError=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];var i=Array.prototype.slice.call(arguments,1),o=e.replace(/%(\d)/g,function(e,t){return r.assert(t<i.length,"Message reference must be in range"),i[t]}),a=this.lastMarker.index,s=this.scanner.lineNumber,u=this.lastMarker.column+1;this.errorHandler.tolerateError(a,s,u,o)},e.prototype.unexpectedTokenError=function(e,t){var n,r=t||o.Messages.UnexpectedToken;if(e?(!t&&(r=2===e.type?o.Messages.UnexpectedEOS:3===e.type?o.Messages.UnexpectedIdentifier:6===e.type?o.Messages.UnexpectedNumber:8===e.type?o.Messages.UnexpectedString:10===e.type?o.Messages.UnexpectedTemplate:o.Messages.UnexpectedToken,4===e.type&&(this.scanner.isFutureReservedWord(e.value)?r=o.Messages.UnexpectedReserved:this.context.strict&&this.scanner.isStrictModeReservedWord(e.value)&&(r=o.Messages.StrictReservedWord))),n=e.value):n="ILLEGAL",r=r.replace("%0",n),e&&"number"==typeof e.lineNumber){var i=e.start,a=e.lineNumber,s=this.lastMarker.index-this.lastMarker.column,u=e.start-s+1;return this.errorHandler.createError(i,a,u,r)}i=this.lastMarker.index,a=this.lastMarker.line,u=this.lastMarker.column+1;return this.errorHandler.createError(i,a,u,r)},e.prototype.throwUnexpectedToken=function(e,t){throw this.unexpectedTokenError(e,t)},e.prototype.tolerateUnexpectedToken=function(e,t){this.errorHandler.tolerate(this.unexpectedTokenError(e,t))},e.prototype.collectComments=function(){if(this.config.comment){var e=this.scanner.scanComments();if(0<e.length&&this.delegate)for(var t=0;t<e.length;++t){var n=e[t],r=void 0;r={type:n.multiLine?"BlockComment":"LineComment",value:this.scanner.source.slice(n.slice[0],n.slice[1])},this.config.range&&(r.range=n.range),this.config.loc&&(r.loc=n.loc);var i={start:{line:n.loc.start.line,column:n.loc.start.column,offset:n.range[0]},end:{line:n.loc.end.line,column:n.loc.end.column,offset:n.range[1]}};this.delegate(r,i)}}else this.scanner.scanComments()},e.prototype.getTokenRaw=function(e){return this.scanner.source.slice(e.start,e.end)},e.prototype.convertToken=function(e){var t={type:c.TokenName[e.type],value:this.getTokenRaw(e)};if(this.config.range&&(t.range=[e.start,e.end]),this.config.loc&&(t.loc={start:{line:this.startMarker.line,column:this.startMarker.column},end:{line:this.scanner.lineNumber,column:this.scanner.index-this.scanner.lineStart}}),9===e.type){var n=e.pattern,r=e.flags;t.regex={pattern:n,flags:r}}return t},e.prototype.nextToken=function(){var e=this.lookahead;this.lastMarker.index=this.scanner.index,this.lastMarker.line=this.scanner.lineNumber,this.lastMarker.column=this.scanner.index-this.scanner.lineStart,this.collectComments(),this.scanner.index!==this.startMarker.index&&(this.startMarker.index=this.scanner.index,this.startMarker.line=this.scanner.lineNumber,this.startMarker.column=this.scanner.index-this.scanner.lineStart);var t=this.scanner.lex();return this.hasLineTerminator=e.lineNumber!==t.lineNumber,t&&this.context.strict&&3===t.type&&this.scanner.isStrictModeReservedWord(t.value)&&(t.type=4),this.lookahead=t,this.config.tokens&&2!==t.type&&this.tokens.push(this.convertToken(t)),e},e.prototype.nextRegexToken=function(){this.collectComments();var e=this.scanner.scanRegExp();return this.config.tokens&&(this.tokens.pop(),this.tokens.push(this.convertToken(e))),this.lookahead=e,this.nextToken(),e},e.prototype.createNode=function(){return{index:this.startMarker.index,line:this.startMarker.line,column:this.startMarker.column}},e.prototype.startNode=function(e,t){void 0===t&&(t=0);var n=e.start-e.lineStart,r=e.lineNumber;return 0>n&&(n+=t,r--),{index:e.start,line:r,column:n}},e.prototype.finalize=function(e,t){if(this.config.range&&(t.range=[e.index,this.lastMarker.index]),this.config.loc&&(t.loc={start:{line:e.line,column:e.column},end:{line:this.lastMarker.line,column:this.lastMarker.column}},this.config.source&&(t.loc.source=this.config.source)),this.delegate){var n={start:{line:e.line,column:e.column,offset:e.index},end:{line:this.lastMarker.line,column:this.lastMarker.column,offset:this.lastMarker.index}};this.delegate(t,n)}return t},e.prototype.expect=function(e){var t=this.nextToken();(7!==t.type||t.value!==e)&&this.throwUnexpectedToken(t)},e.prototype.expectCommaSeparator=function(){if(this.config.tolerant){var e=this.lookahead;7===e.type&&","===e.value?this.nextToken():7===e.type&&";"===e.value?(this.nextToken(),this.tolerateUnexpectedToken(e)):this.tolerateUnexpectedToken(e,o.Messages.UnexpectedToken)}else this.expect(",")},e.prototype.expectKeyword=function(e){var t=this.nextToken();(4!==t.type||t.value!==e)&&this.throwUnexpectedToken(t)},e.prototype.match=function(e){return 7===this.lookahead.type&&this.lookahead.value===e},e.prototype.matchKeyword=function(e){return 4===this.lookahead.type&&this.lookahead.value===e},e.prototype.matchContextualKeyword=function(e){return 3===this.lookahead.type&&this.lookahead.value===e},e.prototype.matchAssign=function(){if(7!==this.lookahead.type)return!1;var e=this.lookahead.value;return"="===e||"*="===e||"**="===e||"/="===e||"%="===e||"+="===e||"-="===e||"<<="===e||">>="===e||">>>="===e||"&="===e||"^="===e||"|="===e},e.prototype.isolateCoverGrammar=function(e){var t=this.context.isBindingElement,n=this.context.isAssignmentTarget,r=this.context.firstCoverInitializedNameError;this.context.isBindingElement=!0,this.context.isAssignmentTarget=!0,this.context.firstCoverInitializedNameError=null;var i=e.call(this);return null!==this.context.firstCoverInitializedNameError&&this.throwUnexpectedToken(this.context.firstCoverInitializedNameError),this.context.isBindingElement=t,this.context.isAssignmentTarget=n,this.context.firstCoverInitializedNameError=r,i},e.prototype.inheritCoverGrammar=function(e){var t=this.context.isBindingElement,n=this.context.isAssignmentTarget,r=this.context.firstCoverInitializedNameError;this.context.isBindingElement=!0,this.context.isAssignmentTarget=!0,this.context.firstCoverInitializedNameError=null;var i=e.call(this);return this.context.isBindingElement=this.context.isBindingElement&&t,this.context.isAssignmentTarget=this.context.isAssignmentTarget&&n,this.context.firstCoverInitializedNameError=r||this.context.firstCoverInitializedNameError,i},e.prototype.consumeSemicolon=function(){this.match(";")?this.nextToken():!this.hasLineTerminator&&(2!==this.lookahead.type&&!this.match("}")&&this.throwUnexpectedToken(this.lookahead),this.lastMarker.index=this.startMarker.index,this.lastMarker.line=this.startMarker.line,this.lastMarker.column=this.startMarker.column)},e.prototype.parsePrimaryExpression=function(){var e,t,n,r=this.createNode();switch(this.lookahead.type){case 3:(this.context.isModule||this.context.await)&&"await"===this.lookahead.value&&this.tolerateUnexpectedToken(this.lookahead),e=this.matchAsyncFunction()?this.parseFunctionExpression():this.finalize(r,new a.Identifier(this.nextToken().value));break;case 6:case 8:this.context.strict&&this.lookahead.octal&&this.tolerateUnexpectedToken(this.lookahead,o.Messages.StrictOctalLiteral),this.context.isAssignmentTarget=!1,this.context.isBindingElement=!1,t=this.nextToken(),n=this.getTokenRaw(t),e=this.finalize(r,new a.Literal(t.value,n));break;case 1:this.context.isAssignmentTarget=!1,this.context.isBindingElement=!1,t=this.nextToken(),n=this.getTokenRaw(t),e=this.finalize(r,new a.Literal("true"===t.value,n));break;case 5:this.context.isAssignmentTarget=!1,this.context.isBindingElement=!1,t=this.nextToken(),n=this.getTokenRaw(t),e=this.finalize(r,new a.Literal(null,n));break;case 10:e=this.parseTemplateLiteral();break;case 7:switch(this.lookahead.value){case"(":this.context.isBindingElement=!1,e=this.inheritCoverGrammar(this.parseGroupExpression);break;case"[":e=this.inheritCoverGrammar(this.parseArrayInitializer);break;case"{":e=this.inheritCoverGrammar(this.parseObjectInitializer);break;case"/":case"/=":this.context.isAssignmentTarget=!1,this.context.isBindingElement=!1,this.scanner.index=this.startMarker.index,t=this.nextRegexToken(),n=this.getTokenRaw(t),e=this.finalize(r,new a.RegexLiteral(t.regex,n,t.pattern,t.flags));break;default:e=this.throwUnexpectedToken(this.nextToken())}break;case 4:!this.context.strict&&this.context.allowYield&&this.matchKeyword("yield")?e=this.parseIdentifierName():!this.context.strict&&this.matchKeyword("let")?e=this.finalize(r,new a.Identifier(this.nextToken().value)):(this.context.isAssignmentTarget=!1,this.context.isBindingElement=!1,this.matchKeyword("function")?e=this.parseFunctionExpression():this.matchKeyword("this")?(this.nextToken(),e=this.finalize(r,new a.ThisExpression)):e=this.matchKeyword("class")?this.parseClassExpression():this.throwUnexpectedToken(this.nextToken()));break;default:e=this.throwUnexpectedToken(this.nextToken())}return e},e.prototype.parseSpreadElement=function(){var e=this.createNode();this.expect("...");var t=this.inheritCoverGrammar(this.parseAssignmentExpression);return this.finalize(e,new a.SpreadElement(t))},e.prototype.parseArrayInitializer=function(){var e=this.createNode(),t=[];for(this.expect("[");!this.match("]");)if(this.match(","))this.nextToken(),t.push(null);else if(this.match("...")){var n=this.parseSpreadElement();this.match("]")||(this.context.isAssignmentTarget=!1,this.context.isBindingElement=!1,this.expect(",")),t.push(n)}else t.push(this.inheritCoverGrammar(this.parseAssignmentExpression)),this.match("]")||this.expect(",");return this.expect("]"),this.finalize(e,new a.ArrayExpression(t))},e.prototype.parsePropertyMethod=function(e){this.context.isAssignmentTarget=!1,this.context.isBindingElement=!1;var t=this.context.strict,n=this.context.allowStrictDirective;this.context.allowStrictDirective=e.simple;var r=this.isolateCoverGrammar(this.parseFunctionSourceElements);return this.context.strict&&e.firstRestricted&&this.tolerateUnexpectedToken(e.firstRestricted,e.message),this.context.strict&&e.stricted&&this.tolerateUnexpectedToken(e.stricted,e.message),this.context.strict=t,this.context.allowStrictDirective=n,r},e.prototype.parsePropertyMethodFunction=function(){var e=this.createNode(),t=this.context.allowYield;this.context.allowYield=!0;var n=this.parseFormalParameters(),r=this.parsePropertyMethod(n);return this.context.allowYield=t,this.finalize(e,new a.FunctionExpression(null,n.params,r,!1))},e.prototype.parsePropertyMethodAsyncFunction=function(){var e=this.createNode(),t=this.context.allowYield,n=this.context.await;this.context.allowYield=!1,this.context.await=!0;var r=this.parseFormalParameters(),i=this.parsePropertyMethod(r);return this.context.allowYield=t,this.context.await=n,this.finalize(e,new a.AsyncFunctionExpression(null,r.params,i))},e.prototype.parseObjectPropertyKey=function(){var e,t=this.createNode(),n=this.nextToken();switch(n.type){case 8:case 6:this.context.strict&&n.octal&&this.tolerateUnexpectedToken(n,o.Messages.StrictOctalLiteral);var r=this.getTokenRaw(n);e=this.finalize(t,new a.Literal(n.value,r));break;case 3:case 1:case 5:case 4:e=this.finalize(t,new a.Identifier(n.value));break;case 7:"["===n.value?(e=this.isolateCoverGrammar(this.parseAssignmentExpression),this.expect("]")):e=this.throwUnexpectedToken(n);break;default:e=this.throwUnexpectedToken(n)}return e},e.prototype.isPropertyKey=function(e,t){return e.type===u.Syntax.Identifier&&e.name===t||e.type===u.Syntax.Literal&&e.value===t},e.prototype.parseObjectProperty=function(e){var t,n=this.createNode(),r=this.lookahead,i=null,s=null,u=!1,c=!1,l=!1,h=!1;if(3===r.type){var p=r.value;this.nextToken(),u=this.match("["),i=(h=!(this.hasLineTerminator||"async"!==p||this.match(":")||this.match("(")||this.match("*")||this.match(",")))?this.parseObjectPropertyKey():this.finalize(n,new a.Identifier(p))}else this.match("*")?this.nextToken():(u=this.match("["),i=this.parseObjectPropertyKey());var f=this.qualifiedPropertyName(this.lookahead);if(3===r.type&&!h&&"get"===r.value&&f)t="get",u=this.match("["),i=this.parseObjectPropertyKey(),this.context.allowYield=!1,s=this.parseGetterMethod();else if(3===r.type&&!h&&"set"===r.value&&f)t="set",u=this.match("["),i=this.parseObjectPropertyKey(),s=this.parseSetterMethod();else if(7===r.type&&"*"===r.value&&f)t="init",u=this.match("["),i=this.parseObjectPropertyKey(),s=this.parseGeneratorMethod(),c=!0;else if(i||this.throwUnexpectedToken(this.lookahead),t="init",this.match(":")&&!h)!u&&this.isPropertyKey(i,"__proto__")&&(e.value&&this.tolerateError(o.Messages.DuplicateProtoProperty),e.value=!0),this.nextToken(),s=this.inheritCoverGrammar(this.parseAssignmentExpression);else if(this.match("("))s=h?this.parsePropertyMethodAsyncFunction():this.parsePropertyMethodFunction(),c=!0;else if(3===r.type){p=this.finalize(n,new a.Identifier(r.value));if(this.match("=")){this.context.firstCoverInitializedNameError=this.lookahead,this.nextToken(),l=!0;var d=this.isolateCoverGrammar(this.parseAssignmentExpression);s=this.finalize(n,new a.AssignmentPattern(p,d))}else l=!0,s=p}else this.throwUnexpectedToken(this.nextToken());return this.finalize(n,new a.Property(t,i,u,s,c,l))},e.prototype.parseObjectInitializer=function(){var e=this.createNode();this.expect("{");for(var t=[],n={value:!1};!this.match("}");)t.push(this.parseObjectProperty(n)),this.match("}")||this.expectCommaSeparator();return this.expect("}"),this.finalize(e,new a.ObjectExpression(t))},e.prototype.parseTemplateHead=function(){r.assert(this.lookahead.head,"Template literal must start with a template head");var e=this.createNode(),t=this.nextToken(),n=t.value,i=t.cooked;return this.finalize(e,new a.TemplateElement({raw:n,cooked:i},t.tail))},e.prototype.parseTemplateElement=function(){10!==this.lookahead.type&&this.throwUnexpectedToken();var e=this.createNode(),t=this.nextToken(),n=t.value,r=t.cooked;return this.finalize(e,new a.TemplateElement({raw:n,cooked:r},t.tail))},e.prototype.parseTemplateLiteral=function(){var e=this.createNode(),t=[],n=[],r=this.parseTemplateHead();for(n.push(r);!r.tail;)t.push(this.parseExpression()),r=this.parseTemplateElement(),n.push(r);return this.finalize(e,new a.TemplateLiteral(n,t))},e.prototype.reinterpretExpressionAsPattern=function(e){switch(e.type){case u.Syntax.Identifier:case u.Syntax.MemberExpression:case u.Syntax.RestElement:case u.Syntax.AssignmentPattern:break;case u.Syntax.SpreadElement:e.type=u.Syntax.RestElement,this.reinterpretExpressionAsPattern(e.argument);break;case u.Syntax.ArrayExpression:e.type=u.Syntax.ArrayPattern;for(var t=0;t<e.elements.length;t++)null!==e.elements[t]&&this.reinterpretExpressionAsPattern(e.elements[t]);break;case u.Syntax.ObjectExpression:e.type=u.Syntax.ObjectPattern;for(t=0;t<e.properties.length;t++)this.reinterpretExpressionAsPattern(e.properties[t].value);break;case u.Syntax.AssignmentExpression:e.type=u.Syntax.AssignmentPattern,delete e.operator,this.reinterpretExpressionAsPattern(e.left)}},e.prototype.parseGroupExpression=function(){var e;if(this.expect("("),this.match(")"))this.nextToken(),this.match("=>")||this.expect("=>"),e={type:l,params:[],async:!1};else{var t=this.lookahead,n=[];if(this.match("..."))e=this.parseRestElement(n),this.expect(")"),this.match("=>")||this.expect("=>"),e={type:l,params:[e],async:!1};else{var r=!1;if(this.context.isBindingElement=!0,e=this.inheritCoverGrammar(this.parseAssignmentExpression),this.match(",")){var i=[];for(this.context.isAssignmentTarget=!1,i.push(e);2!==this.lookahead.type&&this.match(",");){if(this.nextToken(),this.match(")")){this.nextToken();for(var o=0;o<i.length;o++)this.reinterpretExpressionAsPattern(i[o]);r=!0,e={type:l,params:i,async:!1}}else if(this.match("...")){this.context.isBindingElement||this.throwUnexpectedToken(this.lookahead),i.push(this.parseRestElement(n)),this.expect(")"),this.match("=>")||this.expect("=>"),this.context.isBindingElement=!1;for(o=0;o<i.length;o++)this.reinterpretExpressionAsPattern(i[o]);r=!0,e={type:l,params:i,async:!1}}else i.push(this.inheritCoverGrammar(this.parseAssignmentExpression));if(r)break}r||(e=this.finalize(this.startNode(t),new a.SequenceExpression(i)))}if(!r){if(this.expect(")"),this.match("=>")&&(e.type===u.Syntax.Identifier&&"yield"===e.name&&(r=!0,e={type:l,params:[e],async:!1}),!r)){if(this.context.isBindingElement||this.throwUnexpectedToken(this.lookahead),e.type===u.Syntax.SequenceExpression)for(o=0;o<e.expressions.length;o++)this.reinterpretExpressionAsPattern(e.expressions[o]);else this.reinterpretExpressionAsPattern(e);var s=e.type===u.Syntax.SequenceExpression?e.expressions:[e];e={type:l,params:s,async:!1}}this.context.isBindingElement=!1}}}return e},e.prototype.parseArguments=function(){this.expect("(");var e=[];if(!this.match(")"))for(;;){var t=this.match("...")?this.parseSpreadElement():this.isolateCoverGrammar(this.parseAssignmentExpression);if(e.push(t),this.match(")"))break;if(this.expectCommaSeparator(),this.match(")"))break}return this.expect(")"),e},e.prototype.isIdentifierName=function(e){return 3===e.type||4===e.type||1===e.type||5===e.type},e.prototype.parseIdentifierName=function(){var e=this.createNode(),t=this.nextToken();return this.isIdentifierName(t)||this.throwUnexpectedToken(t),this.finalize(e,new a.Identifier(t.value))},e.prototype.parseNewExpression=function(){var e,t=this.createNode(),n=this.parseIdentifierName();if(r.assert("new"===n.name,"New expression must start with `new`"),this.match("."))if(this.nextToken(),3===this.lookahead.type&&this.context.inFunctionBody&&"target"===this.lookahead.value){var i=this.parseIdentifierName();e=new a.MetaProperty(n,i)}else this.throwUnexpectedToken(this.lookahead);else{var o=this.isolateCoverGrammar(this.parseLeftHandSideExpression),s=this.match("(")?this.parseArguments():[];e=new a.NewExpression(o,s),this.context.isAssignmentTarget=!1,this.context.isBindingElement=!1}return this.finalize(t,e)},e.prototype.parseAsyncArgument=function(){var e=this.parseAssignmentExpression();return this.context.firstCoverInitializedNameError=null,e},e.prototype.parseAsyncArguments=function(){this.expect("(");var e=[];if(!this.match(")"))for(;;){var t=this.match("...")?this.parseSpreadElement():this.isolateCoverGrammar(this.parseAsyncArgument);if(e.push(t),this.match(")"))break;if(this.expectCommaSeparator(),this.match(")"))break}return this.expect(")"),e},e.prototype.parseLeftHandSideExpressionAllowCall=function(){var e,t=this.lookahead,n=this.matchContextualKeyword("async"),r=this.context.allowIn;for(this.context.allowIn=!0,this.matchKeyword("super")&&this.context.inFunctionBody?(e=this.createNode(),this.nextToken(),e=this.finalize(e,new a.Super),!this.match("(")&&!this.match(".")&&!this.match("[")&&this.throwUnexpectedToken(this.lookahead)):e=this.inheritCoverGrammar(this.matchKeyword("new")?this.parseNewExpression:this.parsePrimaryExpression);;)if(this.match(".")){this.context.isBindingElement=!1,this.context.isAssignmentTarget=!0,this.expect(".");var i=this.parseIdentifierName();e=this.finalize(this.startNode(t),new a.StaticMemberExpression(e,i))}else if(this.match("(")){var o=n&&t.lineNumber===this.lookahead.lineNumber;this.context.isBindingElement=!1,this.context.isAssignmentTarget=!1;var s=o?this.parseAsyncArguments():this.parseArguments();if(e=this.finalize(this.startNode(t),new a.CallExpression(e,s)),o&&this.match("=>")){for(var u=0;u<s.length;++u)this.reinterpretExpressionAsPattern(s[u]);e={type:l,params:s,async:!0}}}else if(this.match("[")){this.context.isBindingElement=!1,this.context.isAssignmentTarget=!0,this.expect("[");i=this.isolateCoverGrammar(this.parseExpression);this.expect("]"),e=this.finalize(this.startNode(t),new a.ComputedMemberExpression(e,i))}else{if(10!==this.lookahead.type||!this.lookahead.head)break;var c=this.parseTemplateLiteral();e=this.finalize(this.startNode(t),new a.TaggedTemplateExpression(e,c))}return this.context.allowIn=r,e},e.prototype.parseSuper=function(){var e=this.createNode();return this.expectKeyword("super"),this.match("[")||this.match(".")||this.throwUnexpectedToken(this.lookahead),this.finalize(e,new a.Super)},e.prototype.parseLeftHandSideExpression=function(){r.assert(this.context.allowIn,"callee of new expression always allow in keyword.");for(var e=this.startNode(this.lookahead),t=this.matchKeyword("super")&&this.context.inFunctionBody?this.parseSuper():this.inheritCoverGrammar(this.matchKeyword("new")?this.parseNewExpression:this.parsePrimaryExpression);;)if(this.match("[")){this.context.isBindingElement=!1,this.context.isAssignmentTarget=!0,this.expect("[");var n=this.isolateCoverGrammar(this.parseExpression);this.expect("]"),t=this.finalize(e,new a.ComputedMemberExpression(t,n))}else if(this.match(".")){this.context.isBindingElement=!1,this.context.isAssignmentTarget=!0,this.expect(".");n=this.parseIdentifierName();t=this.finalize(e,new a.StaticMemberExpression(t,n))}else{if(10!==this.lookahead.type||!this.lookahead.head)break;var i=this.parseTemplateLiteral();t=this.finalize(e,new a.TaggedTemplateExpression(t,i))}return t},e.prototype.parseUpdateExpression=function(){var e,t=this.lookahead;if(this.match("++")||this.match("--")){var n=this.startNode(t),r=this.nextToken();e=this.inheritCoverGrammar(this.parseUnaryExpression),this.context.strict&&e.type===u.Syntax.Identifier&&this.scanner.isRestrictedWord(e.name)&&this.tolerateError(o.Messages.StrictLHSPrefix),this.context.isAssignmentTarget||this.tolerateError(o.Messages.InvalidLHSInAssignment);var i=!0;e=this.finalize(n,new a.UpdateExpression(r.value,e,i)),this.context.isAssignmentTarget=!1,this.context.isBindingElement=!1}else if(e=this.inheritCoverGrammar(this.parseLeftHandSideExpressionAllowCall),!this.hasLineTerminator&&7===this.lookahead.type&&(this.match("++")||this.match("--"))){this.context.strict&&e.type===u.Syntax.Identifier&&this.scanner.isRestrictedWord(e.name)&&this.tolerateError(o.Messages.StrictLHSPostfix),this.context.isAssignmentTarget||this.tolerateError(o.Messages.InvalidLHSInAssignment),this.context.isAssignmentTarget=!1,this.context.isBindingElement=!1;var s=this.nextToken().value;i=!1;e=this.finalize(this.startNode(t),new a.UpdateExpression(s,e,i))}return e},e.prototype.parseAwaitExpression=function(){var e=this.createNode();this.nextToken();var t=this.parseUnaryExpression();return this.finalize(e,new a.AwaitExpression(t))},e.prototype.parseUnaryExpression=function(){var e;if(this.match("+")||this.match("-")||this.match("~")||this.match("!")||this.matchKeyword("delete")||this.matchKeyword("void")||this.matchKeyword("typeof")){var t=this.startNode(this.lookahead),n=this.nextToken();e=this.inheritCoverGrammar(this.parseUnaryExpression),e=this.finalize(t,new a.UnaryExpression(n.value,e)),this.context.strict&&"delete"===e.operator&&e.argument.type===u.Syntax.Identifier&&this.tolerateError(o.Messages.StrictDelete),this.context.isAssignmentTarget=!1,this.context.isBindingElement=!1}else e=this.context.await&&this.matchContextualKeyword("await")?this.parseAwaitExpression():this.parseUpdateExpression();return e},e.prototype.parseExponentiationExpression=function(){var e=this.lookahead,t=this.inheritCoverGrammar(this.parseUnaryExpression);if(t.type!==u.Syntax.UnaryExpression&&this.match("**")){this.nextToken(),this.context.isAssignmentTarget=!1,this.context.isBindingElement=!1;var n=t,r=this.isolateCoverGrammar(this.parseExponentiationExpression);t=this.finalize(this.startNode(e),new a.BinaryExpression("**",n,r))}return t},e.prototype.binaryPrecedence=function(e){var t=e.value;return 7===e.type?this.operatorPrecedence[t]||0:4===e.type&&("instanceof"===t||this.context.allowIn&&"in"===t)?7:0},e.prototype.parseBinaryExpression=function(){var e=this.lookahead,t=this.inheritCoverGrammar(this.parseExponentiationExpression),n=this.lookahead,r=this.binaryPrecedence(n);if(0<r){this.nextToken(),this.context.isAssignmentTarget=!1,this.context.isBindingElement=!1;for(var i=[e,this.lookahead],o=t,s=this.isolateCoverGrammar(this.parseExponentiationExpression),u=[o,n.value,s],c=[r];!(0>=(r=this.binaryPrecedence(this.lookahead)));){for(;2<u.length&&r<=c[c.length-1];){s=u.pop();var l=u.pop();c.pop(),o=u.pop(),i.pop();var h=this.startNode(i[i.length-1]);u.push(this.finalize(h,new a.BinaryExpression(l,o,s)))}u.push(this.nextToken().value),c.push(r),i.push(this.lookahead),u.push(this.isolateCoverGrammar(this.parseExponentiationExpression))}var p=u.length-1;t=u[p];for(var f=i.pop();1<p;){var d=i.pop(),m=f&&f.lineStart;h=this.startNode(d,m),l=u[p-1];t=this.finalize(h,new a.BinaryExpression(l,u[p-2],t)),p-=2,f=d}}return t},e.prototype.parseConditionalExpression=function(){var e=this.lookahead,t=this.inheritCoverGrammar(this.parseBinaryExpression);if(this.match("?")){this.nextToken();var n=this.context.allowIn;this.context.allowIn=!0;var r=this.isolateCoverGrammar(this.parseAssignmentExpression);this.context.allowIn=n,this.expect(":");var i=this.isolateCoverGrammar(this.parseAssignmentExpression);t=this.finalize(this.startNode(e),new a.ConditionalExpression(t,r,i)),this.context.isAssignmentTarget=!1,this.context.isBindingElement=!1}return t},e.prototype.checkPatternParam=function(e,t){switch(t.type){case u.Syntax.Identifier:this.validateParam(e,t,t.name);break;case u.Syntax.RestElement:this.checkPatternParam(e,t.argument);break;case u.Syntax.AssignmentPattern:this.checkPatternParam(e,t.left);break;case u.Syntax.ArrayPattern:for(var n=0;n<t.elements.length;n++)null!==t.elements[n]&&this.checkPatternParam(e,t.elements[n]);break;case u.Syntax.ObjectPattern:for(n=0;n<t.properties.length;n++)this.checkPatternParam(e,t.properties[n].value)}e.simple=e.simple&&t instanceof a.Identifier},e.prototype.reinterpretAsCoverFormalsList=function(e){var t,n=[e],r=!1;switch(e.type){case u.Syntax.Identifier:break;case l:n=e.params,r=e.async;break;default:return null}t={simple:!0,paramSet:{}};for(var i=0;i<n.length;++i)(a=n[i]).type===u.Syntax.AssignmentPattern?a.right.type===u.Syntax.YieldExpression&&(a.right.argument&&this.throwUnexpectedToken(this.lookahead),a.right.type=u.Syntax.Identifier,a.right.name="yield",delete a.right.argument,delete a.right.delegate):r&&a.type===u.Syntax.Identifier&&"await"===a.name&&this.throwUnexpectedToken(this.lookahead),this.checkPatternParam(t,a),n[i]=a;if(this.context.strict||!this.context.allowYield){var a;for(i=0;i<n.length;++i)(a=n[i]).type===u.Syntax.YieldExpression&&this.throwUnexpectedToken(this.lookahead)}if(t.message===o.Messages.StrictParamDupe){var s=this.context.strict?t.stricted:t.firstRestricted;this.throwUnexpectedToken(s,t.message)}return{simple:t.simple,params:n,stricted:t.stricted,firstRestricted:t.firstRestricted,message:t.message}},e.prototype.parseAssignmentExpression=function(){var e;if(!this.context.allowYield&&this.matchKeyword("yield"))e=this.parseYieldExpression();else{var t=this.lookahead,n=t;if(e=this.parseConditionalExpression(),3===n.type&&n.lineNumber===this.lookahead.lineNumber&&"async"===n.value&&(3===this.lookahead.type||this.matchKeyword("yield"))){var r=this.parsePrimaryExpression();this.reinterpretExpressionAsPattern(r),e={type:l,params:[r],async:!0}}if(e.type===l||this.match("=>")){this.context.isAssignmentTarget=!1,this.context.isBindingElement=!1;var i=e.async,s=this.reinterpretAsCoverFormalsList(e);if(s){this.hasLineTerminator&&this.tolerateUnexpectedToken(this.lookahead),this.context.firstCoverInitializedNameError=null;var c=this.context.strict,h=this.context.allowStrictDirective;this.context.allowStrictDirective=s.simple;var p=this.context.allowYield,f=this.context.await;this.context.allowYield=!0,this.context.await=i;var d,m=this.startNode(t);if(this.expect("=>"),this.match("{")){var g=this.context.allowIn;this.context.allowIn=!0,d=this.parseFunctionSourceElements(),this.context.allowIn=g}else d=this.isolateCoverGrammar(this.parseAssignmentExpression);var v=d.type!==u.Syntax.BlockStatement;this.context.strict&&s.firstRestricted&&this.throwUnexpectedToken(s.firstRestricted,s.message),this.context.strict&&s.stricted&&this.tolerateUnexpectedToken(s.stricted,s.message),e=i?this.finalize(m,new a.AsyncArrowFunctionExpression(s.params,d,v)):this.finalize(m,new a.ArrowFunctionExpression(s.params,d,v)),this.context.strict=c,this.context.allowStrictDirective=h,this.context.allowYield=p,this.context.await=f}}else if(this.matchAssign()){if(this.context.isAssignmentTarget||this.tolerateError(o.Messages.InvalidLHSInAssignment),this.context.strict&&e.type===u.Syntax.Identifier){var y=e;this.scanner.isRestrictedWord(y.name)&&this.tolerateUnexpectedToken(n,o.Messages.StrictLHSAssignment),this.scanner.isStrictModeReservedWord(y.name)&&this.tolerateUnexpectedToken(n,o.Messages.StrictReservedWord)}this.match("=")?this.reinterpretExpressionAsPattern(e):(this.context.isAssignmentTarget=!1,this.context.isBindingElement=!1);var x=(n=this.nextToken()).value,b=this.isolateCoverGrammar(this.parseAssignmentExpression);e=this.finalize(this.startNode(t),new a.AssignmentExpression(x,e,b)),this.context.firstCoverInitializedNameError=null}}return e},e.prototype.parseExpression=function(){var e=this.lookahead,t=this.isolateCoverGrammar(this.parseAssignmentExpression);if(this.match(",")){for(var n=[t];2!==this.lookahead.type&&this.match(",");)this.nextToken(),n.push(this.isolateCoverGrammar(this.parseAssignmentExpression));t=this.finalize(this.startNode(e),new a.SequenceExpression(n))}return t},e.prototype.parseStatementListItem=function(){var e;if(this.context.isAssignmentTarget=!0,this.context.isBindingElement=!0,4===this.lookahead.type)switch(this.lookahead.value){case"export":this.context.isModule||this.tolerateUnexpectedToken(this.lookahead,o.Messages.IllegalExportDeclaration),e=this.parseExportDeclaration();break;case"import":this.context.isModule||this.tolerateUnexpectedToken(this.lookahead,o.Messages.IllegalImportDeclaration),e=this.parseImportDeclaration();break;case"const":e=this.parseLexicalDeclaration({inFor:!1});break;case"function":e=this.parseFunctionDeclaration();break;case"class":e=this.parseClassDeclaration();break;case"let":e=this.isLexicalDeclaration()?this.parseLexicalDeclaration({inFor:!1}):this.parseStatement();break;default:e=this.parseStatement()}else e=this.parseStatement();return e},e.prototype.parseBlock=function(){var e=this.createNode();this.expect("{");for(var t=[];!this.match("}");)t.push(this.parseStatementListItem());return this.expect("}"),this.finalize(e,new a.BlockStatement(t))},e.prototype.parseLexicalBinding=function(e,t){var n=this.createNode(),r=this.parsePattern([],e);this.context.strict&&r.type===u.Syntax.Identifier&&this.scanner.isRestrictedWord(r.name)&&this.tolerateError(o.Messages.StrictVarName);var i=null;return"const"===e?!this.matchKeyword("in")&&!this.matchContextualKeyword("of")&&(this.match("=")?(this.nextToken(),i=this.isolateCoverGrammar(this.parseAssignmentExpression)):this.throwError(o.Messages.DeclarationMissingInitializer,"const")):(!t.inFor&&r.type!==u.Syntax.Identifier||this.match("="))&&(this.expect("="),i=this.isolateCoverGrammar(this.parseAssignmentExpression)),this.finalize(n,new a.VariableDeclarator(r,i))},e.prototype.parseBindingList=function(e,t){for(var n=[this.parseLexicalBinding(e,t)];this.match(",");)this.nextToken(),n.push(this.parseLexicalBinding(e,t));return n},e.prototype.isLexicalDeclaration=function(){var e=this.scanner.saveState();this.scanner.scanComments();var t=this.scanner.lex();return this.scanner.restoreState(e),3===t.type||7===t.type&&"["===t.value||7===t.type&&"{"===t.value||4===t.type&&"let"===t.value||4===t.type&&"yield"===t.value},e.prototype.parseLexicalDeclaration=function(e){var t=this.createNode(),n=this.nextToken().value;r.assert("let"===n||"const"===n,"Lexical declaration must be either let or const");var i=this.parseBindingList(n,e);return this.consumeSemicolon(),this.finalize(t,new a.VariableDeclaration(i,n))},e.prototype.parseBindingRestElement=function(e,t){var n=this.createNode();this.expect("...");var r=this.parsePattern(e,t);return this.finalize(n,new a.RestElement(r))},e.prototype.parseArrayPattern=function(e,t){var n=this.createNode();this.expect("[");for(var r=[];!this.match("]");)if(this.match(","))this.nextToken(),r.push(null);else{if(this.match("...")){r.push(this.parseBindingRestElement(e,t));break}r.push(this.parsePatternWithDefault(e,t)),this.match("]")||this.expect(",")}return this.expect("]"),this.finalize(n,new a.ArrayPattern(r))},e.prototype.parsePropertyPattern=function(e,t){var n,r,i=this.createNode(),o=!1,s=!1;if(3===this.lookahead.type){var u=this.lookahead;n=this.parseVariableIdentifier();var c=this.finalize(i,new a.Identifier(u.value));if(this.match("=")){e.push(u),s=!0,this.nextToken();var l=this.parseAssignmentExpression();r=this.finalize(this.startNode(u),new a.AssignmentPattern(c,l))}else this.match(":")?(this.expect(":"),r=this.parsePatternWithDefault(e,t)):(e.push(u),s=!0,r=c)}else o=this.match("["),n=this.parseObjectPropertyKey(),this.expect(":"),r=this.parsePatternWithDefault(e,t);return this.finalize(i,new a.Property("init",n,o,r,!1,s))},e.prototype.parseObjectPattern=function(e,t){var n=this.createNode(),r=[];for(this.expect("{");!this.match("}");)r.push(this.parsePropertyPattern(e,t)),this.match("}")||this.expect(",");return this.expect("}"),this.finalize(n,new a.ObjectPattern(r))},e.prototype.parsePattern=function(e,t){var n;return this.match("[")?n=this.parseArrayPattern(e,t):this.match("{")?n=this.parseObjectPattern(e,t):(this.matchKeyword("let")&&("const"===t||"let"===t)&&this.tolerateUnexpectedToken(this.lookahead,o.Messages.LetInLexicalBinding),e.push(this.lookahead),n=this.parseVariableIdentifier(t)),n},e.prototype.parsePatternWithDefault=function(e,t){var n=this.lookahead,r=this.parsePattern(e,t);if(this.match("=")){this.nextToken();var i=this.context.allowYield;this.context.allowYield=!0;var o=this.isolateCoverGrammar(this.parseAssignmentExpression);this.context.allowYield=i,r=this.finalize(this.startNode(n),new a.AssignmentPattern(r,o))}return r},e.prototype.parseVariableIdentifier=function(e){var t=this.createNode(),n=this.nextToken();return 4===n.type&&"yield"===n.value?this.context.strict?this.tolerateUnexpectedToken(n,o.Messages.StrictReservedWord):!this.context.allowYield&&this.throwUnexpectedToken(n):3===n.type?(this.context.isModule||this.context.await)&&3===n.type&&"await"===n.value&&this.tolerateUnexpectedToken(n):this.context.strict&&4===n.type&&this.scanner.isStrictModeReservedWord(n.value)?this.tolerateUnexpectedToken(n,o.Messages.StrictReservedWord):(this.context.strict||"let"!==n.value||"var"!==e)&&this.throwUnexpectedToken(n),this.finalize(t,new a.Identifier(n.value))},e.prototype.parseVariableDeclaration=function(e){var t=this.createNode(),n=this.parsePattern([],"var");this.context.strict&&n.type===u.Syntax.Identifier&&this.scanner.isRestrictedWord(n.name)&&this.tolerateError(o.Messages.StrictVarName);var r=null;return this.match("=")?(this.nextToken(),r=this.isolateCoverGrammar(this.parseAssignmentExpression)):n.type!==u.Syntax.Identifier&&!e.inFor&&this.expect("="),this.finalize(t,new a.VariableDeclarator(n,r))},e.prototype.parseVariableDeclarationList=function(e){var t={inFor:e.inFor},n=[];for(n.push(this.parseVariableDeclaration(t));this.match(",");)this.nextToken(),n.push(this.parseVariableDeclaration(t));return n},e.prototype.parseVariableStatement=function(){var e=this.createNode();this.expectKeyword("var");var t=this.parseVariableDeclarationList({inFor:!1});return this.consumeSemicolon(),this.finalize(e,new a.VariableDeclaration(t,"var"))},e.prototype.parseEmptyStatement=function(){var e=this.createNode();return this.expect(";"),this.finalize(e,new a.EmptyStatement)},e.prototype.parseExpressionStatement=function(){var e=this.createNode(),t=this.parseExpression();return this.consumeSemicolon(),this.finalize(e,new a.ExpressionStatement(t))},e.prototype.parseIfClause=function(){return this.context.strict&&this.matchKeyword("function")&&this.tolerateError(o.Messages.StrictFunction),this.parseStatement()},e.prototype.parseIfStatement=function(){var e,t=this.createNode(),n=null;this.expectKeyword("if"),this.expect("(");var r=this.parseExpression();return!this.match(")")&&this.config.tolerant?(this.tolerateUnexpectedToken(this.nextToken()),e=this.finalize(this.createNode(),new a.EmptyStatement)):(this.expect(")"),e=this.parseIfClause(),this.matchKeyword("else")&&(this.nextToken(),n=this.parseIfClause())),this.finalize(t,new a.IfStatement(r,e,n))},e.prototype.parseDoWhileStatement=function(){var e=this.createNode();this.expectKeyword("do");var t=this.context.inIteration;this.context.inIteration=!0;var n=this.parseStatement();this.context.inIteration=t,this.expectKeyword("while"),this.expect("(");var r=this.parseExpression();return!this.match(")")&&this.config.tolerant?this.tolerateUnexpectedToken(this.nextToken()):(this.expect(")"),this.match(";")&&this.nextToken()),this.finalize(e,new a.DoWhileStatement(n,r))},e.prototype.parseWhileStatement=function(){var e,t=this.createNode();this.expectKeyword("while"),this.expect("(");var n=this.parseExpression();if(!this.match(")")&&this.config.tolerant)this.tolerateUnexpectedToken(this.nextToken()),e=this.finalize(this.createNode(),new a.EmptyStatement);else{this.expect(")");var r=this.context.inIteration;this.context.inIteration=!0,e=this.parseStatement(),this.context.inIteration=r}return this.finalize(t,new a.WhileStatement(n,e))},e.prototype.parseForStatement=function(){var e,t,n,r=null,i=null,s=null,c=!0,l=this.createNode();if(this.expectKeyword("for"),this.expect("("),this.match(";"))this.nextToken();else if(this.matchKeyword("var")){r=this.createNode(),this.nextToken();var h=this.context.allowIn;this.context.allowIn=!1;var p=this.parseVariableDeclarationList({inFor:!0});if(this.context.allowIn=h,1===p.length&&this.matchKeyword("in")){var f=p[0];f.init&&(f.id.type===u.Syntax.ArrayPattern||f.id.type===u.Syntax.ObjectPattern||this.context.strict)&&this.tolerateError(o.Messages.ForInOfLoopInitializer,"for-in"),r=this.finalize(r,new a.VariableDeclaration(p,"var")),this.nextToken(),e=r,t=this.parseExpression(),r=null}else 1===p.length&&null===p[0].init&&this.matchContextualKeyword("of")?(r=this.finalize(r,new a.VariableDeclaration(p,"var")),this.nextToken(),e=r,t=this.parseAssignmentExpression(),r=null,c=!1):(r=this.finalize(r,new a.VariableDeclaration(p,"var")),this.expect(";"))}else if(this.matchKeyword("const")||this.matchKeyword("let")){r=this.createNode();var d=this.nextToken().value;if(this.context.strict||"in"!==this.lookahead.value){h=this.context.allowIn;this.context.allowIn=!1;p=this.parseBindingList(d,{inFor:!0});this.context.allowIn=h,1===p.length&&null===p[0].init&&this.matchKeyword("in")?(r=this.finalize(r,new a.VariableDeclaration(p,d)),this.nextToken(),e=r,t=this.parseExpression(),r=null):1===p.length&&null===p[0].init&&this.matchContextualKeyword("of")?(r=this.finalize(r,new a.VariableDeclaration(p,d)),this.nextToken(),e=r,t=this.parseAssignmentExpression(),r=null,c=!1):(this.consumeSemicolon(),r=this.finalize(r,new a.VariableDeclaration(p,d)))}else r=this.finalize(r,new a.Identifier(d)),this.nextToken(),e=r,t=this.parseExpression(),r=null}else{var m=this.lookahead;h=this.context.allowIn;if(this.context.allowIn=!1,r=this.inheritCoverGrammar(this.parseAssignmentExpression),this.context.allowIn=h,this.matchKeyword("in"))this.context.isAssignmentTarget&&r.type!==u.Syntax.AssignmentExpression||this.tolerateError(o.Messages.InvalidLHSInForIn),this.nextToken(),this.reinterpretExpressionAsPattern(r),e=r,t=this.parseExpression(),r=null;else if(this.matchContextualKeyword("of"))this.context.isAssignmentTarget&&r.type!==u.Syntax.AssignmentExpression||this.tolerateError(o.Messages.InvalidLHSInForLoop),this.nextToken(),this.reinterpretExpressionAsPattern(r),e=r,t=this.parseAssignmentExpression(),r=null,c=!1;else{if(this.match(",")){for(var g=[r];this.match(",");)this.nextToken(),g.push(this.isolateCoverGrammar(this.parseAssignmentExpression));r=this.finalize(this.startNode(m),new a.SequenceExpression(g))}this.expect(";")}}if(void 0===e&&(!this.match(";")&&(i=this.parseExpression()),this.expect(";"),!this.match(")")&&(s=this.parseExpression())),!this.match(")")&&this.config.tolerant)this.tolerateUnexpectedToken(this.nextToken()),n=this.finalize(this.createNode(),new a.EmptyStatement);else{this.expect(")");var v=this.context.inIteration;this.context.inIteration=!0,n=this.isolateCoverGrammar(this.parseStatement),this.context.inIteration=v}return void 0===e?this.finalize(l,new a.ForStatement(r,i,s,n)):c?this.finalize(l,new a.ForInStatement(e,t,n)):this.finalize(l,new a.ForOfStatement(e,t,n))},e.prototype.parseContinueStatement=function(){var e=this.createNode();this.expectKeyword("continue");var t=null;if(3===this.lookahead.type&&!this.hasLineTerminator){var n=this.parseVariableIdentifier();t=n;var r="$"+n.name;Object.prototype.hasOwnProperty.call(this.context.labelSet,r)||this.throwError(o.Messages.UnknownLabel,n.name)}return this.consumeSemicolon(),null!==t||this.context.inIteration||this.throwError(o.Messages.IllegalContinue),this.finalize(e,new a.ContinueStatement(t))},e.prototype.parseBreakStatement=function(){var e=this.createNode();this.expectKeyword("break");var t=null;if(3===this.lookahead.type&&!this.hasLineTerminator){var n=this.parseVariableIdentifier(),r="$"+n.name;Object.prototype.hasOwnProperty.call(this.context.labelSet,r)||this.throwError(o.Messages.UnknownLabel,n.name),t=n}return this.consumeSemicolon(),null!==t||this.context.inIteration||this.context.inSwitch||this.throwError(o.Messages.IllegalBreak),this.finalize(e,new a.BreakStatement(t))},e.prototype.parseReturnStatement=function(){this.context.inFunctionBody||this.tolerateError(o.Messages.IllegalReturn);var e=this.createNode();this.expectKeyword("return");var t=!this.match(";")&&!this.match("}")&&!this.hasLineTerminator&&2!==this.lookahead.type||8===this.lookahead.type||10===this.lookahead.type?this.parseExpression():null;return this.consumeSemicolon(),this.finalize(e,new a.ReturnStatement(t))},e.prototype.parseWithStatement=function(){this.context.strict&&this.tolerateError(o.Messages.StrictModeWith);var e,t=this.createNode();this.expectKeyword("with"),this.expect("(");var n=this.parseExpression();return!this.match(")")&&this.config.tolerant?(this.tolerateUnexpectedToken(this.nextToken()),e=this.finalize(this.createNode(),new a.EmptyStatement)):(this.expect(")"),e=this.parseStatement()),this.finalize(t,new a.WithStatement(n,e))},e.prototype.parseSwitchCase=function(){var e,t=this.createNode();this.matchKeyword("default")?(this.nextToken(),e=null):(this.expectKeyword("case"),e=this.parseExpression()),this.expect(":");for(var n=[];!(this.match("}")||this.matchKeyword("default")||this.matchKeyword("case"));)n.push(this.parseStatementListItem());return this.finalize(t,new a.SwitchCase(e,n))},e.prototype.parseSwitchStatement=function(){var e=this.createNode();this.expectKeyword("switch"),this.expect("(");var t=this.parseExpression();this.expect(")");var n=this.context.inSwitch;this.context.inSwitch=!0;var r=[],i=!1;for(this.expect("{");!this.match("}");){var s=this.parseSwitchCase();null===s.test&&(i&&this.throwError(o.Messages.MultipleDefaultsInSwitch),i=!0),r.push(s)}return this.expect("}"),this.context.inSwitch=n,this.finalize(e,new a.SwitchStatement(t,r))},e.prototype.parseLabelledStatement=function(){var e,t=this.createNode(),n=this.parseExpression();if(n.type===u.Syntax.Identifier&&this.match(":")){this.nextToken();var r,i=n,s="$"+i.name;if(Object.prototype.hasOwnProperty.call(this.context.labelSet,s)&&this.throwError(o.Messages.Redeclaration,"Label",i.name),this.context.labelSet[s]=!0,this.matchKeyword("class"))this.tolerateUnexpectedToken(this.lookahead),r=this.parseClassDeclaration();else if(this.matchKeyword("function")){var c=this.lookahead,l=this.parseFunctionDeclaration();this.context.strict?this.tolerateUnexpectedToken(c,o.Messages.StrictFunction):l.generator&&this.tolerateUnexpectedToken(c,o.Messages.GeneratorInLegacyContext),r=l}else r=this.parseStatement();delete this.context.labelSet[s],e=new a.LabeledStatement(i,r)}else this.consumeSemicolon(),e=new a.ExpressionStatement(n);return this.finalize(t,e)},e.prototype.parseThrowStatement=function(){var e=this.createNode();this.expectKeyword("throw"),this.hasLineTerminator&&this.throwError(o.Messages.NewlineAfterThrow);var t=this.parseExpression();return this.consumeSemicolon(),this.finalize(e,new a.ThrowStatement(t))},e.prototype.parseCatchClause=function(){var e=this.createNode();this.expectKeyword("catch"),this.expect("("),this.match(")")&&this.throwUnexpectedToken(this.lookahead);for(var t,n=[],r=this.parsePattern(n),i={},s=0;s<n.length;s++)t="$"+n[s].value,Object.prototype.hasOwnProperty.call(i,t)&&this.tolerateError(o.Messages.DuplicateBinding,n[s].value),i[t]=!0;this.context.strict&&r.type===u.Syntax.Identifier&&this.scanner.isRestrictedWord(r.name)&&this.tolerateError(o.Messages.StrictCatchVariable),this.expect(")");var c=this.parseBlock();return this.finalize(e,new a.CatchClause(r,c))},e.prototype.parseFinallyClause=function(){return this.expectKeyword("finally"),this.parseBlock()},e.prototype.parseTryStatement=function(){var e=this.createNode();this.expectKeyword("try");var t=this.parseBlock(),n=this.matchKeyword("catch")?this.parseCatchClause():null,r=this.matchKeyword("finally")?this.parseFinallyClause():null;return n||r||this.throwError(o.Messages.NoCatchOrFinally),this.finalize(e,new a.TryStatement(t,n,r))},e.prototype.parseDebuggerStatement=function(){var e=this.createNode();return this.expectKeyword("debugger"),this.consumeSemicolon(),this.finalize(e,new a.DebuggerStatement)},e.prototype.parseStatement=function(){var e;switch(this.lookahead.type){case 1:case 5:case 6:case 8:case 10:case 9:e=this.parseExpressionStatement();break;case 7:var t=this.lookahead.value;e="{"===t?this.parseBlock():"("===t?this.parseExpressionStatement():";"===t?this.parseEmptyStatement():this.parseExpressionStatement();break;case 3:e=this.matchAsyncFunction()?this.parseFunctionDeclaration():this.parseLabelledStatement();break;case 4:switch(this.lookahead.value){case"break":e=this.parseBreakStatement();break;case"continue":e=this.parseContinueStatement();break;case"debugger":e=this.parseDebuggerStatement();break;case"do":e=this.parseDoWhileStatement();break;case"for":e=this.parseForStatement();break;case"function":e=this.parseFunctionDeclaration();break;case"if":e=this.parseIfStatement();break;case"return":e=this.parseReturnStatement();break;case"switch":e=this.parseSwitchStatement();break;case"throw":e=this.parseThrowStatement();break;case"try":e=this.parseTryStatement();break;case"var":e=this.parseVariableStatement();break;case"while":e=this.parseWhileStatement();break;case"with":e=this.parseWithStatement();break;default:e=this.parseExpressionStatement()}break;default:e=this.throwUnexpectedToken(this.lookahead)}return e},e.prototype.parseFunctionSourceElements=function(){var e=this.createNode();this.expect("{");var t=this.parseDirectivePrologues(),n=this.context.labelSet,r=this.context.inIteration,i=this.context.inSwitch,o=this.context.inFunctionBody;for(this.context.labelSet={},this.context.inIteration=!1,this.context.inSwitch=!1,this.context.inFunctionBody=!0;2!==this.lookahead.type&&!this.match("}");)t.push(this.parseStatementListItem());return this.expect("}"),this.context.labelSet=n,this.context.inIteration=r,this.context.inSwitch=i,this.context.inFunctionBody=o,this.finalize(e,new a.BlockStatement(t))},e.prototype.validateParam=function(e,t,n){var r="$"+n;this.context.strict?(this.scanner.isRestrictedWord(n)&&(e.stricted=t,e.message=o.Messages.StrictParamName),Object.prototype.hasOwnProperty.call(e.paramSet,r)&&(e.stricted=t,e.message=o.Messages.StrictParamDupe)):!e.firstRestricted&&(this.scanner.isRestrictedWord(n)?(e.firstRestricted=t,e.message=o.Messages.StrictParamName):this.scanner.isStrictModeReservedWord(n)?(e.firstRestricted=t,e.message=o.Messages.StrictReservedWord):Object.prototype.hasOwnProperty.call(e.paramSet,r)&&(e.stricted=t,e.message=o.Messages.StrictParamDupe)),"function"==typeof Object.defineProperty?Object.defineProperty(e.paramSet,r,{value:!0,enumerable:!0,writable:!0,configurable:!0}):e.paramSet[r]=!0},e.prototype.parseRestElement=function(e){var t=this.createNode();this.expect("...");var n=this.parsePattern(e);return this.match("=")&&this.throwError(o.Messages.DefaultRestParameter),this.match(")")||this.throwError(o.Messages.ParameterAfterRestParameter),this.finalize(t,new a.RestElement(n))},e.prototype.parseFormalParameter=function(e){for(var t=[],n=this.match("...")?this.parseRestElement(t):this.parsePatternWithDefault(t),r=0;r<t.length;r++)this.validateParam(e,t[r],t[r].value);e.simple=e.simple&&n instanceof a.Identifier,e.params.push(n)},e.prototype.parseFormalParameters=function(e){var t;if(t={simple:!0,params:[],firstRestricted:e},this.expect("("),!this.match(")"))for(t.paramSet={};2!==this.lookahead.type&&(this.parseFormalParameter(t),!this.match(")"))&&(this.expect(","),!this.match(")")););return this.expect(")"),{simple:t.simple,params:t.params,stricted:t.stricted,firstRestricted:t.firstRestricted,message:t.message}},e.prototype.matchAsyncFunction=function(){var e=this.matchContextualKeyword("async");if(e){var t=this.scanner.saveState();this.scanner.scanComments();var n=this.scanner.lex();this.scanner.restoreState(t),e=t.lineNumber===n.lineNumber&&4===n.type&&"function"===n.value}return e},e.prototype.parseFunctionDeclaration=function(e){var t=this.createNode(),n=this.matchContextualKeyword("async");n&&this.nextToken(),this.expectKeyword("function");var r=!n&&this.match("*");r&&this.nextToken();var i,s=null,u=null;if(!e||!this.match("(")){var c=this.lookahead;s=this.parseVariableIdentifier(),this.context.strict?this.scanner.isRestrictedWord(c.value)&&this.tolerateUnexpectedToken(c,o.Messages.StrictFunctionName):this.scanner.isRestrictedWord(c.value)?(u=c,i=o.Messages.StrictFunctionName):this.scanner.isStrictModeReservedWord(c.value)&&(u=c,i=o.Messages.StrictReservedWord)}var l=this.context.await,h=this.context.allowYield;this.context.await=n,this.context.allowYield=!r;var p=this.parseFormalParameters(u),f=p.params,d=p.stricted;u=p.firstRestricted,p.message&&(i=p.message);var m=this.context.strict,g=this.context.allowStrictDirective;this.context.allowStrictDirective=p.simple;var v=this.parseFunctionSourceElements();return this.context.strict&&u&&this.throwUnexpectedToken(u,i),this.context.strict&&d&&this.tolerateUnexpectedToken(d,i),this.context.strict=m,this.context.allowStrictDirective=g,this.context.await=l,this.context.allowYield=h,n?this.finalize(t,new a.AsyncFunctionDeclaration(s,f,v)):this.finalize(t,new a.FunctionDeclaration(s,f,v,r))},e.prototype.parseFunctionExpression=function(){var e=this.createNode(),t=this.matchContextualKeyword("async");t&&this.nextToken(),this.expectKeyword("function");var n=!t&&this.match("*");n&&this.nextToken();var r,i,s=null,u=this.context.await,c=this.context.allowYield;if(this.context.await=t,this.context.allowYield=!n,!this.match("(")){var l=this.lookahead;s=this.context.strict||n||!this.matchKeyword("yield")?this.parseVariableIdentifier():this.parseIdentifierName(),this.context.strict?this.scanner.isRestrictedWord(l.value)&&this.tolerateUnexpectedToken(l,o.Messages.StrictFunctionName):this.scanner.isRestrictedWord(l.value)?(i=l,r=o.Messages.StrictFunctionName):this.scanner.isStrictModeReservedWord(l.value)&&(i=l,r=o.Messages.StrictReservedWord)}var h=this.parseFormalParameters(i),p=h.params,f=h.stricted;i=h.firstRestricted,h.message&&(r=h.message);var d=this.context.strict,m=this.context.allowStrictDirective;this.context.allowStrictDirective=h.simple;var g=this.parseFunctionSourceElements();return this.context.strict&&i&&this.throwUnexpectedToken(i,r),this.context.strict&&f&&this.tolerateUnexpectedToken(f,r),this.context.strict=d,this.context.allowStrictDirective=m,this.context.await=u,this.context.allowYield=c,t?this.finalize(e,new a.AsyncFunctionExpression(s,p,g)):this.finalize(e,new a.FunctionExpression(s,p,g,n))},e.prototype.parseDirective=function(){var e=this.lookahead,t=this.createNode(),n=this.parseExpression(),r=n.type===u.Syntax.Literal?this.getTokenRaw(e).slice(1,-1):null;return this.consumeSemicolon(),this.finalize(t,r?new a.Directive(n,r):new a.ExpressionStatement(n))},e.prototype.parseDirectivePrologues=function(){for(var e,t,n=null,r=[];8===(e=this.lookahead).type;){t=this.parseDirective(),r.push(t);var i=t.directive;if("string"!=typeof i)break;"use strict"===i?(this.context.strict=!0,n&&this.tolerateUnexpectedToken(n,o.Messages.StrictOctalLiteral),!this.context.allowStrictDirective&&this.tolerateUnexpectedToken(e,o.Messages.IllegalLanguageModeDirective)):!n&&e.octal&&(n=e)}return r},e.prototype.qualifiedPropertyName=function(e){switch(e.type){case 3:case 8:case 1:case 5:case 6:case 4:return!0;case 7:return"["===e.value}return!1},e.prototype.parseGetterMethod=function(){var e=this.createNode(),t=this.context.allowYield;this.context.allowYield=!0;var n=this.parseFormalParameters();0<n.params.length&&this.tolerateError(o.Messages.BadGetterArity);var r=this.parsePropertyMethod(n);return this.context.allowYield=t,this.finalize(e,new a.FunctionExpression(null,n.params,r,!1))},e.prototype.parseSetterMethod=function(){var e=this.createNode(),t=this.context.allowYield;this.context.allowYield=!0;var n=this.parseFormalParameters();1===n.params.length?n.params[0]instanceof a.RestElement&&this.tolerateError(o.Messages.BadSetterRestParameter):this.tolerateError(o.Messages.BadSetterArity);var r=this.parsePropertyMethod(n);return this.context.allowYield=t,this.finalize(e,new a.FunctionExpression(null,n.params,r,!1))},e.prototype.parseGeneratorMethod=function(){var e=this.createNode(),t=this.context.allowYield;this.context.allowYield=!0;var n=this.parseFormalParameters();this.context.allowYield=!1;var r=this.parsePropertyMethod(n);return this.context.allowYield=t,this.finalize(e,new a.FunctionExpression(null,n.params,r,!0))},e.prototype.isStartOfExpression=function(){var e=!0,t=this.lookahead.value;switch(this.lookahead.type){case 7:e="["===t||"("===t||"{"===t||"+"===t||"-"===t||"!"===t||"~"===t||"++"===t||"--"===t||"/"===t||"/="===t;break;case 4:e="class"===t||"delete"===t||"function"===t||"let"===t||"new"===t||"super"===t||"this"===t||"typeof"===t||"void"===t||"yield"===t}return e},e.prototype.parseYieldExpression=function(){var e=this.createNode();this.expectKeyword("yield");var t=null,n=!1;if(!this.hasLineTerminator){var r=this.context.allowYield;this.context.allowYield=!1,(n=this.match("*"))?(this.nextToken(),t=this.parseAssignmentExpression()):this.isStartOfExpression()&&(t=this.parseAssignmentExpression()),this.context.allowYield=r}return this.finalize(e,new a.YieldExpression(t,n))},e.prototype.parseClassElement=function(e){var t=this.lookahead,n=this.createNode(),r="",i=null,s=null,u=!1,c=!1,l=!1,h=!1;if(this.match("*"))this.nextToken();else if(u=this.match("["),"static"===(i=this.parseObjectPropertyKey()).name&&(this.qualifiedPropertyName(this.lookahead)||this.match("*"))&&(t=this.lookahead,l=!0,u=this.match("["),this.match("*")?this.nextToken():i=this.parseObjectPropertyKey()),3===t.type&&!this.hasLineTerminator&&"async"===t.value){var p=this.lookahead.value;":"!==p&&"("!==p&&"*"!==p&&(h=!0,t=this.lookahead,i=this.parseObjectPropertyKey(),3===t.type&&"constructor"===t.value&&this.tolerateUnexpectedToken(t,o.Messages.ConstructorIsAsync))}var f=this.qualifiedPropertyName(this.lookahead);return 3===t.type?"get"===t.value&&f?(r="get",u=this.match("["),i=this.parseObjectPropertyKey(),this.context.allowYield=!1,s=this.parseGetterMethod()):"set"===t.value&&f&&(r="set",u=this.match("["),i=this.parseObjectPropertyKey(),s=this.parseSetterMethod()):7===t.type&&"*"===t.value&&f&&(r="init",u=this.match("["),i=this.parseObjectPropertyKey(),s=this.parseGeneratorMethod(),c=!0),!r&&i&&this.match("(")&&(r="init",s=h?this.parsePropertyMethodAsyncFunction():this.parsePropertyMethodFunction(),c=!0),r||this.throwUnexpectedToken(this.lookahead),"init"==r&&(r="method"),u||(l&&this.isPropertyKey(i,"prototype")&&this.throwUnexpectedToken(t,o.Messages.StaticPrototype),!l&&this.isPropertyKey(i,"constructor")&&(("method"!=r||!c||s&&s.generator)&&this.throwUnexpectedToken(t,o.Messages.ConstructorSpecialMethod),e.value?this.throwUnexpectedToken(t,o.Messages.DuplicateConstructor):e.value=!0,r="constructor")),this.finalize(n,new a.MethodDefinition(i,u,s,r,l))},e.prototype.parseClassElementList=function(){var e=[],t={value:!1};for(this.expect("{");!this.match("}");)this.match(";")?this.nextToken():e.push(this.parseClassElement(t));return this.expect("}"),e},e.prototype.parseClassBody=function(){var e=this.createNode(),t=this.parseClassElementList();return this.finalize(e,new a.ClassBody(t))},e.prototype.parseClassDeclaration=function(e){var t=this.createNode(),n=this.context.strict;this.context.strict=!0,this.expectKeyword("class");var r=e&&3!==this.lookahead.type?null:this.parseVariableIdentifier(),i=null;this.matchKeyword("extends")&&(this.nextToken(),i=this.isolateCoverGrammar(this.parseLeftHandSideExpressionAllowCall));var o=this.parseClassBody();return this.context.strict=n,this.finalize(t,new a.ClassDeclaration(r,i,o))},e.prototype.parseClassExpression=function(){var e=this.createNode(),t=this.context.strict;this.context.strict=!0,this.expectKeyword("class");var n=3===this.lookahead.type?this.parseVariableIdentifier():null,r=null;this.matchKeyword("extends")&&(this.nextToken(),r=this.isolateCoverGrammar(this.parseLeftHandSideExpressionAllowCall));var i=this.parseClassBody();return this.context.strict=t,this.finalize(e,new a.ClassExpression(n,r,i))},e.prototype.parseModule=function(){this.context.strict=!0,this.context.isModule=!0,this.scanner.isModule=!0;for(var e=this.createNode(),t=this.parseDirectivePrologues();2!==this.lookahead.type;)t.push(this.parseStatementListItem());return this.finalize(e,new a.Module(t))},e.prototype.parseScript=function(){for(var e=this.createNode(),t=this.parseDirectivePrologues();2!==this.lookahead.type;)t.push(this.parseStatementListItem());return this.finalize(e,new a.Script(t))},e.prototype.parseModuleSpecifier=function(){var e=this.createNode();8!==this.lookahead.type&&this.throwError(o.Messages.InvalidModuleSpecifier);var t=this.nextToken(),n=this.getTokenRaw(t);return this.finalize(e,new a.Literal(t.value,n))},e.prototype.parseImportSpecifier=function(){var e,t,n=this.createNode();return 3===this.lookahead.type?(t=e=this.parseVariableIdentifier(),this.matchContextualKeyword("as")&&(this.nextToken(),t=this.parseVariableIdentifier())):(t=e=this.parseIdentifierName(),this.matchContextualKeyword("as")?(this.nextToken(),t=this.parseVariableIdentifier()):this.throwUnexpectedToken(this.nextToken())),this.finalize(n,new a.ImportSpecifier(t,e))},e.prototype.parseNamedImports=function(){this.expect("{");for(var e=[];!this.match("}");)e.push(this.parseImportSpecifier()),this.match("}")||this.expect(",");return this.expect("}"),e},e.prototype.parseImportDefaultSpecifier=function(){var e=this.createNode(),t=this.parseIdentifierName();return this.finalize(e,new a.ImportDefaultSpecifier(t))},e.prototype.parseImportNamespaceSpecifier=function(){var e=this.createNode();this.expect("*"),this.matchContextualKeyword("as")||this.throwError(o.Messages.NoAsAfterImportNamespace),this.nextToken();var t=this.parseIdentifierName();return this.finalize(e,new a.ImportNamespaceSpecifier(t))},e.prototype.parseImportDeclaration=function(){this.context.inFunctionBody&&this.throwError(o.Messages.IllegalImportDeclaration);var e=this.createNode();this.expectKeyword("import");var t,n=[];if(8===this.lookahead.type)t=this.parseModuleSpecifier();else{if(this.match("{")?n=n.concat(this.parseNamedImports()):this.match("*")?n.push(this.parseImportNamespaceSpecifier()):this.isIdentifierName(this.lookahead)&&!this.matchKeyword("default")?(n.push(this.parseImportDefaultSpecifier()),this.match(",")&&(this.nextToken(),this.match("*")?n.push(this.parseImportNamespaceSpecifier()):this.match("{")?n=n.concat(this.parseNamedImports()):this.throwUnexpectedToken(this.lookahead))):this.throwUnexpectedToken(this.nextToken()),!this.matchContextualKeyword("from")){var r=this.lookahead.value?o.Messages.UnexpectedToken:o.Messages.MissingFromClause;this.throwError(r,this.lookahead.value)}this.nextToken(),t=this.parseModuleSpecifier()}return this.consumeSemicolon(),this.finalize(e,new a.ImportDeclaration(n,t))},e.prototype.parseExportSpecifier=function(){var e=this.createNode(),t=this.parseIdentifierName(),n=t;return this.matchContextualKeyword("as")&&(this.nextToken(),n=this.parseIdentifierName()),this.finalize(e,new a.ExportSpecifier(t,n))},e.prototype.parseExportDeclaration=function(){this.context.inFunctionBody&&this.throwError(o.Messages.IllegalExportDeclaration);var e,t=this.createNode();if(this.expectKeyword("export"),this.matchKeyword("default"))if(this.nextToken(),this.matchKeyword("function")){var n=this.parseFunctionDeclaration(!0);e=this.finalize(t,new a.ExportDefaultDeclaration(n))}else if(this.matchKeyword("class")){n=this.parseClassDeclaration(!0);e=this.finalize(t,new a.ExportDefaultDeclaration(n))}else if(this.matchContextualKeyword("async")){n=this.matchAsyncFunction()?this.parseFunctionDeclaration(!0):this.parseAssignmentExpression();e=this.finalize(t,new a.ExportDefaultDeclaration(n))}else{this.matchContextualKeyword("from")&&this.throwError(o.Messages.UnexpectedToken,this.lookahead.value);n=this.match("{")?this.parseObjectInitializer():this.match("[")?this.parseArrayInitializer():this.parseAssignmentExpression();this.consumeSemicolon(),e=this.finalize(t,new a.ExportDefaultDeclaration(n))}else if(this.match("*")){if(this.nextToken(),!this.matchContextualKeyword("from")){var r=this.lookahead.value?o.Messages.UnexpectedToken:o.Messages.MissingFromClause;this.throwError(r,this.lookahead.value)}this.nextToken();var i=this.parseModuleSpecifier();this.consumeSemicolon(),e=this.finalize(t,new a.ExportAllDeclaration(i))}else if(4===this.lookahead.type){n=void 0;switch(this.lookahead.value){case"let":case"const":n=this.parseLexicalDeclaration({inFor:!1});break;case"var":case"class":case"function":n=this.parseStatementListItem();break;default:this.throwUnexpectedToken(this.lookahead)}e=this.finalize(t,new a.ExportNamedDeclaration(n,[],null))}else if(this.matchAsyncFunction()){n=this.parseFunctionDeclaration();e=this.finalize(t,new a.ExportNamedDeclaration(n,[],null))}else{var s=[],u=null,c=!1;for(this.expect("{");!this.match("}");)c=c||this.matchKeyword("default"),s.push(this.parseExportSpecifier()),this.match("}")||this.expect(",");if(this.expect("}"),this.matchContextualKeyword("from"))this.nextToken(),u=this.parseModuleSpecifier(),this.consumeSemicolon();else if(c){r=this.lookahead.value?o.Messages.UnexpectedToken:o.Messages.MissingFromClause;this.throwError(r,this.lookahead.value)}else this.consumeSemicolon();e=this.finalize(t,new a.ExportNamedDeclaration(null,s,u))}return e},e}();t.Parser=h},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.assert=function(e,t){if(!e)throw new Error("ASSERT: "+t)}},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(){this.errors=[],this.tolerant=!1}return e.prototype.recordError=function(e){this.errors.push(e)},e.prototype.tolerate=function(e){if(!this.tolerant)throw e;this.recordError(e)},e.prototype.constructError=function(e,t){var n=new Error(e);try{throw n}catch(e){Object.create&&Object.defineProperty&&(n=Object.create(e),Object.defineProperty(n,"column",{value:t}))}return n},e.prototype.createError=function(e,t,n,r){var i=this.constructError("Line "+t+": "+r,n);return i.index=e,i.lineNumber=t,i.description=r,i},e.prototype.throwError=function(e,t,n,r){throw this.createError(e,t,n,r)},e.prototype.tolerateError=function(e,t,n,r){var i=this.createError(e,t,n,r);if(!this.tolerant)throw i;this.recordError(i)},e}();t.ErrorHandler=n},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Messages={BadGetterArity:"Getter must not have any formal parameters",BadSetterArity:"Setter must have exactly one formal parameter",BadSetterRestParameter:"Setter function argument must not be a rest parameter",ConstructorIsAsync:"Class constructor may not be an async method",ConstructorSpecialMethod:"Class constructor may not be an accessor",DeclarationMissingInitializer:"Missing initializer in %0 declaration",DefaultRestParameter:"Unexpected token =",DuplicateBinding:"Duplicate binding %0",DuplicateConstructor:"A class may only have one constructor",DuplicateProtoProperty:"Duplicate __proto__ fields are not allowed in object literals",ForInOfLoopInitializer:"%0 loop variable declaration may not have an initializer",GeneratorInLegacyContext:"Generator declarations are not allowed in legacy contexts",IllegalBreak:"Illegal break statement",IllegalContinue:"Illegal continue statement",IllegalExportDeclaration:"Unexpected token",IllegalImportDeclaration:"Unexpected token",IllegalLanguageModeDirective:"Illegal 'use strict' directive in function with non-simple parameter list",IllegalReturn:"Illegal return statement",InvalidEscapedReservedWord:"Keyword must not contain escaped characters",InvalidHexEscapeSequence:"Invalid hexadecimal escape sequence",InvalidLHSInAssignment:"Invalid left-hand side in assignment",InvalidLHSInForIn:"Invalid left-hand side in for-in",InvalidLHSInForLoop:"Invalid left-hand side in for-loop",InvalidModuleSpecifier:"Unexpected token",InvalidRegExp:"Invalid regular expression",LetInLexicalBinding:"let is disallowed as a lexically bound name",MissingFromClause:"Unexpected token",MultipleDefaultsInSwitch:"More than one default clause in switch statement",NewlineAfterThrow:"Illegal newline after throw",NoAsAfterImportNamespace:"Unexpected token",NoCatchOrFinally:"Missing catch or finally after try",ParameterAfterRestParameter:"Rest parameter must be last formal parameter",Redeclaration:"%0 '%1' has already been declared",StaticPrototype:"Classes may not have static property named prototype",StrictCatchVariable:"Catch variable may not be eval or arguments in strict mode",StrictDelete:"Delete of an unqualified identifier in strict mode.",StrictFunction:"In strict mode code, functions can only be declared at top level or inside a block",StrictFunctionName:"Function name may not be eval or arguments in strict mode",StrictLHSAssignment:"Assignment to eval or arguments is not allowed in strict mode",StrictLHSPostfix:"Postfix increment/decrement may not have eval or arguments operand in strict mode",StrictLHSPrefix:"Prefix increment/decrement may not have eval or arguments operand in strict mode",StrictModeWith:"Strict mode code may not include a with statement",StrictOctalLiteral:"Octal literals are not allowed in strict mode.",StrictParamDupe:"Strict mode function may not have duplicate parameter names",StrictParamName:"Parameter name eval or arguments is not allowed in strict mode",StrictReservedWord:"Use of future reserved word in strict mode",StrictVarName:"Variable name may not be eval or arguments in strict mode",TemplateOctalLiteral:"Octal literals are not allowed in template strings.",UnexpectedEOS:"Unexpected end of input",UnexpectedIdentifier:"Unexpected identifier",UnexpectedNumber:"Unexpected number",UnexpectedReserved:"Unexpected reserved word",UnexpectedString:"Unexpected string",UnexpectedTemplate:"Unexpected quasi %0",UnexpectedToken:"Unexpected token %0",UnexpectedTokenIllegal:"Unexpected token ILLEGAL",UnknownLabel:"Undefined label '%0'",UnterminatedRegExp:"Invalid regular expression: missing /"}},function(e,t,r){"use strict";function i(e){return"0123456789abcdef".indexOf(e.toLowerCase())}function o(e){return"01234567".indexOf(e)}Object.defineProperty(t,"__esModule",{value:!0});var a=r(9),s=r(4),u=r(11),c=function(){function e(e,t){this.source=e,this.errorHandler=t,this.trackComment=!1,this.isModule=!1,this.length=e.length,this.index=0,this.lineNumber=0<e.length?1:0,this.lineStart=0,this.curlyStack=[]}return e.prototype.saveState=function(){return{index:this.index,lineNumber:this.lineNumber,lineStart:this.lineStart}},e.prototype.restoreState=function(e){this.index=e.index,this.lineNumber=e.lineNumber,this.lineStart=e.lineStart},e.prototype.eof=function(){return this.index>=this.length},e.prototype.throwUnexpectedToken=function(e){return void 0===e&&(e=u.Messages.UnexpectedTokenIllegal),this.errorHandler.throwError(this.index,this.lineNumber,this.index-this.lineStart+1,e)},e.prototype.tolerateUnexpectedToken=function(e){void 0===e&&(e=u.Messages.UnexpectedTokenIllegal),this.errorHandler.tolerateError(this.index,this.lineNumber,this.index-this.lineStart+1,e)},e.prototype.skipSingleLineComment=function(e){var t,n,r=[];for(this.trackComment&&(r=[],t=this.index-e,n={start:{line:this.lineNumber,column:this.index-this.lineStart-e},end:{}});!this.eof();){var i=this.source.charCodeAt(this.index);if(++this.index,s.Character.isLineTerminator(i)){if(this.trackComment){n.end={line:this.lineNumber,column:this.index-this.lineStart-1};var o={multiLine:!1,slice:[t+e,this.index-1],range:[t,this.index-1],loc:n};r.push(o)}return 13===i&&10===this.source.charCodeAt(this.index)&&++this.index,++this.lineNumber,this.lineStart=this.index,r}}if(this.trackComment){n.end={line:this.lineNumber,column:this.index-this.lineStart};o={multiLine:!1,slice:[t+e,this.index],range:[t,this.index],loc:n};r.push(o)}return r},e.prototype.skipMultiLineComment=function(){var e,t,n=[];for(this.trackComment&&(n=[],e=this.index-2,t={start:{line:this.lineNumber,column:this.index-this.lineStart-2},end:{}});!this.eof();){var r=this.source.charCodeAt(this.index);if(s.Character.isLineTerminator(r))13===r&&10===this.source.charCodeAt(this.index+1)&&++this.index,++this.lineNumber,++this.index,this.lineStart=this.index;else if(42===r){if(47===this.source.charCodeAt(this.index+1)){if(this.index+=2,this.trackComment){t.end={line:this.lineNumber,column:this.index-this.lineStart};var i={multiLine:!0,slice:[e+2,this.index-2],range:[e,this.index],loc:t};n.push(i)}return n}++this.index}else++this.index}if(this.trackComment){t.end={line:this.lineNumber,column:this.index-this.lineStart};i={multiLine:!0,slice:[e+2,this.index],range:[e,this.index],loc:t};n.push(i)}return this.tolerateUnexpectedToken(),n},e.prototype.scanComments=function(){var e;this.trackComment&&(e=[]);for(var t,n=0===this.index;!this.eof();)if(t=this.source.charCodeAt(this.index),s.Character.isWhiteSpace(t))++this.index;else if(s.Character.isLineTerminator(t))++this.index,13===t&&10===this.source.charCodeAt(this.index)&&++this.index,++this.lineNumber,this.lineStart=this.index,n=!0;else if(47===t)if(47===(t=this.source.charCodeAt(this.index+1))){this.index+=2;var r=this.skipSingleLineComment(2);this.trackComment&&(e=e.concat(r)),n=!0}else{if(42!==t)break;this.index+=2;r=this.skipMultiLineComment();this.trackComment&&(e=e.concat(r))}else if(n&&45===t){if(45!==this.source.charCodeAt(this.index+1)||62!==this.source.charCodeAt(this.index+2))break;this.index+=3;r=this.skipSingleLineComment(3);this.trackComment&&(e=e.concat(r))}else{if(60!==t||this.isModule)break;if("!--"!==this.source.slice(this.index+1,this.index+4))break;this.index+=4;r=this.skipSingleLineComment(4);this.trackComment&&(e=e.concat(r))}return e},e.prototype.isFutureReservedWord=function(e){return"enum"===e||"export"===e||"import"===e||"super"===e},e.prototype.isStrictModeReservedWord=function(e){return"implements"===e||"interface"===e||"package"===e||"private"===e||"protected"===e||"public"===e||"static"===e||"yield"===e||"let"===e},e.prototype.isRestrictedWord=function(e){return"eval"===e||"arguments"===e},e.prototype.isKeyword=function(e){switch(e.length){case 2:return"if"===e||"in"===e||"do"===e;case 3:return"var"===e||"for"===e||"new"===e||"try"===e||"let"===e;case 4:return"this"===e||"else"===e||"case"===e||"void"===e||"with"===e||"enum"===e;case 5:return"while"===e||"break"===e||"catch"===e||"throw"===e||"const"===e||"yield"===e||"class"===e||"super"===e;case 6:return"return"===e||"typeof"===e||"delete"===e||"switch"===e||"export"===e||"import"===e;case 7:return"default"===e||"finally"===e||"extends"===e;case 8:return"function"===e||"continue"===e||"debugger"===e;case 10:return"instanceof"===e;default:return!1}},e.prototype.codePointAt=function(e){var t=this.source.charCodeAt(e);if(55296<=t&&56319>=t){var n=this.source.charCodeAt(e+1);if(56320<=n&&57343>=n)t=1024*(t-55296)+n-56320+65536}return t},e.prototype.scanHexEscape=function(e){for(var t="u"===e?4:2,r=0,o=0;o<t;++o){if(this.eof()||!s.Character.isHexDigit(this.source.charCodeAt(this.index)))return null;r=16*r+i(this.source[this.index++])}return n(r)},e.prototype.scanUnicodeCodePointEscape=function(){var e=this.source[this.index],t=0;for("}"===e&&this.throwUnexpectedToken();!this.eof()&&(e=this.source[this.index++],s.Character.isHexDigit(e.charCodeAt(0)));)t=16*t+i(e);return(1114111<t||"}"!==e)&&this.throwUnexpectedToken(),s.Character.fromCodePoint(t)},e.prototype.getIdentifier=function(){for(var e,t=this.index++;!this.eof();){if(92===(e=this.source.charCodeAt(this.index)))return this.index=t,this.getComplexIdentifier();if(55296<=e&&57343>e)return this.index=t,this.getComplexIdentifier();if(!s.Character.isIdentifierPart(e))break;++this.index}return this.source.slice(t,this.index)},e.prototype.getComplexIdentifier=function(){var e,t=this.codePointAt(this.index),n=s.Character.fromCodePoint(t);for(this.index+=n.length,92===t&&(117!==this.source.charCodeAt(this.index)&&this.throwUnexpectedToken(),++this.index,"{"===this.source[this.index]?(++this.index,e=this.scanUnicodeCodePointEscape()):(null===(e=this.scanHexEscape("u"))||"\\"===e||!s.Character.isIdentifierStart(e.charCodeAt(0)))&&this.throwUnexpectedToken(),n=e);!this.eof()&&(t=this.codePointAt(this.index),s.Character.isIdentifierPart(t));)n+=e=s.Character.fromCodePoint(t),this.index+=e.length,92===t&&(n=n.substr(0,n.length-1),117!==this.source.charCodeAt(this.index)&&this.throwUnexpectedToken(),++this.index,"{"===this.source[this.index]?(++this.index,e=this.scanUnicodeCodePointEscape()):(null===(e=this.scanHexEscape("u"))||"\\"===e||!s.Character.isIdentifierPart(e.charCodeAt(0)))&&this.throwUnexpectedToken(),n+=e);return n},e.prototype.octalToDecimal=function(e){var t="0"!==e,n=o(e);return!this.eof()&&s.Character.isOctalDigit(this.source.charCodeAt(this.index))&&(t=!0,n=8*n+o(this.source[this.index++]),0<="0123".indexOf(e)&&!this.eof()&&s.Character.isOctalDigit(this.source.charCodeAt(this.index))&&(n=8*n+o(this.source[this.index++]))),{code:n,octal:t}},e.prototype.scanIdentifier=function(){var e,t=this.index,n=92===this.source.charCodeAt(t)?this.getComplexIdentifier():this.getIdentifier();if(3!==(e=1===n.length?3:this.isKeyword(n)?4:"null"===n?5:"true"===n||"false"===n?1:3)&&t+n.length!==this.index){var r=this.index;this.index=t,this.tolerateUnexpectedToken(u.Messages.InvalidEscapedReservedWord),this.index=r}return{type:e,value:n,lineNumber:this.lineNumber,lineStart:this.lineStart,start:t,end:this.index}},e.prototype.scanPunctuator=function(){var e=this.index,t=this.source[this.index];return"("===t||"{"===t?("{"===t&&this.curlyStack.push("{"),++this.index):"."===t?(++this.index,"."===this.source[this.index]&&"."===this.source[this.index+1]&&(this.index+=2,t="...")):"}"===t?(++this.index,this.curlyStack.pop()):")"===t||";"===t||","===t||"["===t||"]"===t||":"===t||"?"===t||"~"===t?++this.index:">>>="===(t=this.source.substr(this.index,4))?this.index+=4:"==="===(t=t.substr(0,3))||"!=="===t||">>>"===t||"<<="===t||">>="===t||"**="===t?this.index+=3:"&&"===(t=t.substr(0,2))||"||"===t||"=="===t||"!="===t||"+="===t||"-="===t||"*="===t||"/="===t||"++"===t||"--"===t||"<<"===t||">>"===t||"&="===t||"|="===t||"^="===t||"%="===t||"<="===t||">="===t||"=>"===t||"**"===t?this.index+=2:(t=this.source[this.index],0<="<>=!+-*%&|^/".indexOf(t)&&++this.index),this.index===e&&this.throwUnexpectedToken(),{type:7,value:t,lineNumber:this.lineNumber,lineStart:this.lineStart,start:e,end:this.index}},e.prototype.scanHexLiteral=function(e){for(var t="";!this.eof()&&s.Character.isHexDigit(this.source.charCodeAt(this.index));)t+=this.source[this.index++];return 0===t.length&&this.throwUnexpectedToken(),s.Character.isIdentifierStart(this.source.charCodeAt(this.index))&&this.throwUnexpectedToken(),{type:6,value:parseInt("0x"+t,16),lineNumber:this.lineNumber,lineStart:this.lineStart,start:e,end:this.index}},e.prototype.scanBinaryLiteral=function(e){for(var t,n="";!this.eof()&&("0"===(t=this.source[this.index])||"1"===t);)n+=this.source[this.index++];return 0===n.length&&this.throwUnexpectedToken(),this.eof()||(t=this.source.charCodeAt(this.index),(s.Character.isIdentifierStart(t)||s.Character.isDecimalDigit(t))&&this.throwUnexpectedToken()),{type:6,value:parseInt(n,2),lineNumber:this.lineNumber,lineStart:this.lineStart,start:e,end:this.index}},e.prototype.scanOctalLiteral=function(e,t){var n="",r=!1;for(s.Character.isOctalDigit(e.charCodeAt(0))?(r=!0,n="0"+this.source[this.index++]):++this.index;!this.eof()&&s.Character.isOctalDigit(this.source.charCodeAt(this.index));)n+=this.source[this.index++];return r||0!==n.length||this.throwUnexpectedToken(),(s.Character.isIdentifierStart(this.source.charCodeAt(this.index))||s.Character.isDecimalDigit(this.source.charCodeAt(this.index)))&&this.throwUnexpectedToken(),{type:6,value:parseInt(n,8),octal:r,lineNumber:this.lineNumber,lineStart:this.lineStart,start:t,end:this.index}},e.prototype.isImplicitOctalLiteral=function(){for(var e,t=this.index+1;t<this.length;++t){if("8"===(e=this.source[t])||"9"===e)return!1;if(!s.Character.isOctalDigit(e.charCodeAt(0)))return!0}return!0},e.prototype.scanNumericLiteral=function(){var e=this.index,t=this.source[e];a.assert(s.Character.isDecimalDigit(t.charCodeAt(0))||"."===t,"Numeric literal must start with a decimal digit or a decimal point");var n="";if("."!==t){if(n=this.source[this.index++],t=this.source[this.index],"0"===n){if("x"===t||"X"===t)return++this.index,this.scanHexLiteral(e);if("b"===t||"B"===t)return++this.index,this.scanBinaryLiteral(e);if("o"===t||"O"===t)return this.scanOctalLiteral(t,e);if(t&&s.Character.isOctalDigit(t.charCodeAt(0))&&this.isImplicitOctalLiteral())return this.scanOctalLiteral(t,e)}for(;s.Character.isDecimalDigit(this.source.charCodeAt(this.index));)n+=this.source[this.index++];t=this.source[this.index]}if("."===t){for(n+=this.source[this.index++];s.Character.isDecimalDigit(this.source.charCodeAt(this.index));)n+=this.source[this.index++];t=this.source[this.index]}if("e"===t||"E"===t)if(n+=this.source[this.index++],("+"===(t=this.source[this.index])||"-"===t)&&(n+=this.source[this.index++]),s.Character.isDecimalDigit(this.source.charCodeAt(this.index)))for(;s.Character.isDecimalDigit(this.source.charCodeAt(this.index));)n+=this.source[this.index++];else this.throwUnexpectedToken();return s.Character.isIdentifierStart(this.source.charCodeAt(this.index))&&this.throwUnexpectedToken(),{type:6,value:parseFloat(n),lineNumber:this.lineNumber,lineStart:this.lineStart,start:e,end:this.index}},e.prototype.scanStringLiteral=function(){var e=this.index,t=this.source[e];a.assert("'"===t||'"'===t,"String literal must starts with a quote"),++this.index;for(var r,i=!1,o="";!this.eof();){if((r=this.source[this.index++])===t){t="";break}if("\\"===r)if((r=this.source[this.index++])&&s.Character.isLineTerminator(r.charCodeAt(0)))++this.lineNumber,"\r"===r&&"\n"===this.source[this.index]&&++this.index,this.lineStart=this.index;else switch(r){case"u":if("{"===this.source[this.index])++this.index,o+=this.scanUnicodeCodePointEscape();else{var c=this.scanHexEscape(r);null===c&&this.throwUnexpectedToken(),o+=c}break;case"x":var l=this.scanHexEscape(r);null===l&&this.throwUnexpectedToken(u.Messages.InvalidHexEscapeSequence),o+=l;break;case"n":o+="\n";break;case"r":o+="\r";break;case"t":o+="\t";break;case"b":o+="\b";break;case"f":o+="\f";break;case"v":o+="\v";break;case"8":case"9":o+=r,this.tolerateUnexpectedToken();break;default:if(r&&s.Character.isOctalDigit(r.charCodeAt(0))){var h=this.octalToDecimal(r);i=h.octal||i,o+=n(h.code)}else o+=r}else{if(s.Character.isLineTerminator(r.charCodeAt(0)))break;o+=r}}return""!==t&&(this.index=e,this.throwUnexpectedToken()),{type:8,value:o,octal:i,lineNumber:this.lineNumber,lineStart:this.lineStart,start:e,end:this.index}},e.prototype.scanTemplate=function(){var e="",t=!1,n=this.index,r="`"===this.source[n],i=!1,o=2;for(++this.index;!this.eof();){var a=this.source[this.index++];if("`"===a){o=1,i=!0,t=!0;break}if("$"===a){if("{"===this.source[this.index]){this.curlyStack.push("${"),++this.index,t=!0;break}e+=a}else if("\\"!==a)s.Character.isLineTerminator(a.charCodeAt(0))?(++this.lineNumber,"\r"===a&&"\n"===this.source[this.index]&&++this.index,this.lineStart=this.index,e+="\n"):e+=a;else if(a=this.source[this.index++],s.Character.isLineTerminator(a.charCodeAt(0)))++this.lineNumber,"\r"===a&&"\n"===this.source[this.index]&&++this.index,this.lineStart=this.index;else switch(a){case"n":e+="\n";break;case"r":e+="\r";break;case"t":e+="\t";break;case"u":if("{"===this.source[this.index])++this.index,e+=this.scanUnicodeCodePointEscape();else{var c=this.index,l=this.scanHexEscape(a);null===l?(this.index=c,e+=a):e+=l}break;case"x":var h=this.scanHexEscape(a);null===h&&this.throwUnexpectedToken(u.Messages.InvalidHexEscapeSequence),e+=h;break;case"b":e+="\b";break;case"f":e+="\f";break;case"v":e+="\v";break;default:"0"===a?(s.Character.isDecimalDigit(this.source.charCodeAt(this.index))&&this.throwUnexpectedToken(u.Messages.TemplateOctalLiteral),e+="\0"):s.Character.isOctalDigit(a.charCodeAt(0))?this.throwUnexpectedToken(u.Messages.TemplateOctalLiteral):e+=a}}return t||this.throwUnexpectedToken(),r||this.curlyStack.pop(),{type:10,value:this.source.slice(n+1,this.index-o),cooked:e,head:r,tail:i,lineNumber:this.lineNumber,lineStart:this.lineStart,start:n,end:this.index}},e.prototype.testRegExp=function(e,t){var r=e,i=this;0<=t.indexOf("u")&&(r=r.replace(/\\u\{([0-9a-fA-F]+)\}|\\u([a-fA-F0-9]{4})/g,function(e,t,r){var o=parseInt(t||r,16);return 1114111<o&&i.throwUnexpectedToken(u.Messages.InvalidRegExp),65535>=o?n(o):""}).replace(/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,""));try{RegExp(r)}catch(n){this.throwUnexpectedToken(u.Messages.InvalidRegExp)}try{return new RegExp(e,t)}catch(e){return null}},e.prototype.scanRegExpBody=function(){var e=this.source[this.index];a.assert("/"===e,"Regular expression literal must start with a slash");for(var t=this.source[this.index++],n=!1,r=!1;!this.eof();)if(t+=e=this.source[this.index++],"\\"===e)e=this.source[this.index++],s.Character.isLineTerminator(e.charCodeAt(0))&&this.throwUnexpectedToken(u.Messages.UnterminatedRegExp),t+=e;else if(s.Character.isLineTerminator(e.charCodeAt(0)))this.throwUnexpectedToken(u.Messages.UnterminatedRegExp);else if(n)"]"===e&&(n=!1);else{if("/"===e){r=!0;break}"["===e&&(n=!0)}return r||this.throwUnexpectedToken(u.Messages.UnterminatedRegExp),t.substr(1,t.length-2)},e.prototype.scanRegExpFlags=function(){for(var e,t="";!this.eof()&&(e=this.source[this.index],s.Character.isIdentifierPart(e.charCodeAt(0)));)if(++this.index,"\\"!==e||this.eof())t+=e,e;else if("u"===(e=this.source[this.index])){++this.index;var n=this.index,r=this.scanHexEscape("u");if(null!==r)for(t+=r,"\\u";n<this.index;++n)this.source[n];else this.index=n,t+="u","\\u";this.tolerateUnexpectedToken()}else"\\",this.tolerateUnexpectedToken();return t},e.prototype.scanRegExp=function(){var e=this.index,t=this.scanRegExpBody(),n=this.scanRegExpFlags();return{type:9,value:"",pattern:t,flags:n,regex:this.testRegExp(t,n),lineNumber:this.lineNumber,lineStart:this.lineStart,start:e,end:this.index}},e.prototype.lex=function(){if(this.eof())return{type:2,value:"",lineNumber:this.lineNumber,lineStart:this.lineStart,start:this.index,end:this.index};var e=this.source.charCodeAt(this.index);return s.Character.isIdentifierStart(e)?this.scanIdentifier():40===e||41===e||59===e?this.scanPunctuator():39===e||34===e?this.scanStringLiteral():46===e?s.Character.isDecimalDigit(this.source.charCodeAt(this.index+1))?this.scanNumericLiteral():this.scanPunctuator():s.Character.isDecimalDigit(e)?this.scanNumericLiteral():96===e||125===e&&"${"===this.curlyStack[this.curlyStack.length-1]?this.scanTemplate():55296<=e&&57343>e&&s.Character.isIdentifierStart(this.codePointAt(this.index))?this.scanIdentifier():this.scanPunctuator()},e}();t.Scanner=c},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TokenName={},t.TokenName[1]="Boolean",t.TokenName[2]="<end>",t.TokenName[3]="Identifier",t.TokenName[4]="Keyword",t.TokenName[5]="Null",t.TokenName[6]="Numeric",t.TokenName[7]="Punctuator",t.TokenName[8]="String",t.TokenName[9]="RegularExpression",t.TokenName[10]="Template"},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.XHTMLEntities={quot:'"',amp:"&",apos:"'",gt:">",nbsp:"",iexcl:"",cent:"",pound:"",curren:"",yen:"",brvbar:"",sect:"",uml:"",copy:"",ordf:"",laquo:"",not:"",shy:"",reg:"",macr:"",deg:"",plusmn:"",sup2:"",sup3:"",acute:"",micro:"",para:"",middot:"",cedil:"",sup1:"",ordm:"",raquo:"",frac14:"",frac12:"",frac34:"",iquest:"",Agrave:"",Aacute:"",Acirc:"",Atilde:"",Auml:"",Aring:"",AElig:"",Ccedil:"",Egrave:"",Eacute:"",Ecirc:"",Euml:"",Igrave:"",Iacute:"",Icirc:"",Iuml:"",ETH:"",Ntilde:"",Ograve:"",Oacute:"",Ocirc:"",Otilde:"",Ouml:"",times:"",Oslash:"",Ugrave:"",Uacute:"",Ucirc:"",Uuml:"",Yacute:"",THORN:"",szlig:"",agrave:"",aacute:"",acirc:"",atilde:"",auml:"",aring:"",aelig:"",ccedil:"",egrave:"",eacute:"",ecirc:"",euml:"",igrave:"",iacute:"",icirc:"",iuml:"",eth:"",ntilde:"",ograve:"",oacute:"",ocirc:"",otilde:"",ouml:"",divide:"",oslash:"",ugrave:"",uacute:"",ucirc:"",uuml:"",yacute:"",thorn:"",yuml:"",OElig:"",oelig:"",Scaron:"",scaron:"",Yuml:"",fnof:"",circ:"",tilde:"",Alpha:"",Beta:"",Gamma:"",Delta:"",Epsilon:"",Zeta:"",Eta:"",Theta:"",Iota:"",Kappa:"",Lambda:"",Mu:"",Nu:"",Xi:"",Omicron:"",Pi:"",Rho:"",Sigma:"",Tau:"",Upsilon:"",Phi:"",Chi:"",Psi:"",Omega:"",alpha:"",beta:"",gamma:"",delta:"",epsilon:"",zeta:"",eta:"",theta:"",iota:"",kappa:"",lambda:"",mu:"",nu:"",xi:"",omicron:"",pi:"",rho:"",sigmaf:"",sigma:"",tau:"",upsilon:"",phi:"",chi:"",psi:"",omega:"",thetasym:"",upsih:"",piv:"",ensp:"",emsp:"",thinsp:"",zwnj:"",zwj:"",lrm:"",rlm:"",ndash:"",mdash:"",lsquo:"",rsquo:"",sbquo:"",ldquo:"",rdquo:"",bdquo:"",dagger:"",Dagger:"",bull:"",hellip:"",permil:"",prime:"",Prime:"",lsaquo:"",rsaquo:"",oline:"",frasl:"",euro:"",image:"",weierp:"",real:"",trade:"",alefsym:"",larr:"",uarr:"",rarr:"",darr:"",harr:"",crarr:"",lArr:"",uArr:"",rArr:"",dArr:"",hArr:"",forall:"",part:"",exist:"",empty:"",nabla:"",isin:"",notin:"",ni:"",prod:"",sum:"",minus:"",lowast:"",radic:"",prop:"",infin:"",ang:"",and:"",or:"",cap:"",cup:"",int:"",there4:"",sim:"",cong:"",asymp:"",ne:"",equiv:"",le:"",ge:"",sub:"",sup:"",nsub:"",sube:"",supe:"",oplus:"",otimes:"",perp:"",sdot:"",lceil:"",rceil:"",lfloor:"",rfloor:"",loz:"",spades:"",clubs:"",hearts:"",diams:"",lang:"",rang:""}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(10),i=n(12),o=n(13),a=function(){function e(){this.values=[],this.curly=this.paren=-1}return e.prototype.beforeFunctionExpression=function(e){return 0<=["(","{","[","in","typeof","instanceof","new","return","case","delete","throw","void","=","+=","-=","*=","**=","/=","%=","<<=",">>=",">>>=","&=","|=","^=",",","+","-","*","**","/","%","++","--","<<",">>",">>>","&","|","^","!","~","&&","||","?",":","===","==",">=","<=","<",">","!=","!=="].indexOf(e)},e.prototype.isRegexStart=function(){var e=this.values[this.values.length-1],t=null!==e;switch(e){case"this":case"]":t=!1;break;case")":var n=this.values[this.paren-1];t="if"===n||"while"===n||"for"===n||"with"===n;break;case"}":if(t=!1,"function"===this.values[this.curly-3])t=!!(r=this.values[this.curly-4])&&!this.beforeFunctionExpression(r);else if("function"===this.values[this.curly-4]){var r;t=!(r=this.values[this.curly-5])||!this.beforeFunctionExpression(r)}}return t},e.prototype.push=function(e){7===e.type||4===e.type?("{"===e.value?this.curly=this.values.length:"("===e.value&&(this.paren=this.values.length),this.values.push(e.value)):this.values.push(null)},e}(),s=function(){function e(e,t){this.errorHandler=new r.ErrorHandler,this.errorHandler.tolerant=!!t&&"boolean"==typeof t.tolerant&&t.tolerant,this.scanner=new i.Scanner(e,this.errorHandler),this.scanner.trackComment=!!t&&"boolean"==typeof t.comment&&t.comment,this.trackRange=!!t&&"boolean"==typeof t.range&&t.range,this.trackLoc=!!t&&"boolean"==typeof t.loc&&t.loc,this.buffer=[],this.reader=new a}return e.prototype.errors=function(){return this.errorHandler.errors},e.prototype.getNextToken=function(){if(0===this.buffer.length){var e=this.scanner.scanComments();if(this.scanner.trackComment)for(var t=0;t<e.length;++t){var n=e[t],r=this.scanner.source.slice(n.slice[0],n.slice[1]),i={type:n.multiLine?"BlockComment":"LineComment",value:r};this.trackRange&&(i.range=n.range),this.trackLoc&&(i.loc=n.loc),this.buffer.push(i)}if(!this.scanner.eof()){var a;this.trackLoc&&(a={start:{line:this.scanner.lineNumber,column:this.scanner.index-this.scanner.lineStart},end:{}});var s="/"===this.scanner.source[this.scanner.index]&&this.reader.isRegexStart()?this.scanner.scanRegExp():this.scanner.lex();this.reader.push(s);var u={type:o.TokenName[s.type],value:this.scanner.source.slice(s.start,s.end)};if(this.trackRange&&(u.range=[s.start,s.end]),this.trackLoc&&(a.end={line:this.scanner.lineNumber,column:this.scanner.index-this.scanner.lineStart},u.loc=a),9===s.type){var c=s.pattern,l=s.flags;u.regex={pattern:c,flags:l}}this.buffer.push(u)}}return this.buffer.shift()},e}();t.Tokenizer=s}])},e.exports=t()},"+VNs":function(e,t,n){"use strict";var r=n("3lC6");e.exports=new r({include:[n("2YgE")],implicit:[n("peYA"),n("0/QM"),n("ydHo"),n("Pe6h")]})},"+plK":function(e,t,n){n("ApPD"),e.exports=n("WEpk").Object.getPrototypeOf},"+wdc":function(e,t){"use strict";function n(e,t){var n=e.length;e.push(t);e:for(;;){var r=n-1>>>1,i=e[r];if(!(void 0!==i&&0<o(i,t)))break e;e[r]=t,e[n]=i,n=r}}function r(e){return void 0===(e=e[0])?null:e}function i(e){var t=e[0];if(void 0!==t){var n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,i=e.length;r<i;){var a=2*(r+1)-1,s=e[a],u=a+1,c=e[u];if(void 0!==s&&0>o(s,n))void 0!==c&&0>o(c,s)?(e[r]=c,e[u]=n,r=u):(e[r]=s,e[a]=n,r=a);else{if(!(void 0!==c&&0>o(c,n)))break e;e[r]=c,e[u]=n,r=u}}}return t}return null}function o(e,t){var n=e.sortIndex-t.sortIndex;return 0==n?e.id-t.id:n}function a(e){for(var t=r(O);null!==t;){if(null===t.callback)i(O);else{if(!(t.startTime<=e))break;i(O),t.sortIndex=t.expirationTime,n(R,t)}t=r(O)}}function s(e){if(U=!1,a(e),!B)if(null!==r(R))B=!0,l(u);else{var t=r(O);null!==t&&h(s,t.startTime-e)}}function u(e,n){B=!1,U&&(U=!1,p()),F=!0;var o=N;try{for(a(n),k=r(R);null!==k&&(!(k.expirationTime>n)||e&&!f());){var u=k.callback;if(null!==u){k.callback=null,N=k.priorityLevel;var c=u(k.expirationTime<=n);n=t.unstable_now(),"function"==typeof c?k.callback=c:k===r(R)&&i(R),a(n)}else i(R);k=r(R)}if(null!==k)var l=!0;else{var d=r(O);null!==d&&h(s,d.startTime-n),l=!1}return l}finally{k=null,N=o,F=!1}}function c(e){return 1===e?-1:2===e?250:5===e?1073741823:4===e?1e4:5e3}var l,h,p,f,d;if("undefined"==typeof window||"function"!=typeof MessageChannel){var m=null,g=null,v=function(){if(null!==m)try{var e=t.unstable_now();m(!0,e),m=null}catch(e){throw setTimeout(v,0),e}},y=Date.now();t.unstable_now=function(){return Date.now()-y},l=function(e){null===m?(m=e,setTimeout(v,0)):setTimeout(l,0,e)},h=function(e,t){g=setTimeout(e,t)},p=function(){clearTimeout(g)},f=function(){return!1},d=t.unstable_forceFrameRate=function(){}}else{var x=window.performance,b=window.Date,w=window.setTimeout,_=window.clearTimeout;if("undefined"!=typeof console){var E=window.cancelAnimationFrame;"function"!=typeof window.requestAnimationFrame&&console.error("This browser doesn't support requestAnimationFrame. Make sure that you load a polyfill in older browsers. https://fb.me/react-polyfills"),"function"!=typeof E&&console.error("This browser doesn't support cancelAnimationFrame. Make sure that you load a polyfill in older browsers. https://fb.me/react-polyfills")}if("object"==typeof x&&"function"==typeof x.now)t.unstable_now=function(){return x.now()};else{var S=b.now();t.unstable_now=function(){return b.now()-S}}var T=!1,A=null,M=-1,C=5,D=0;f=function(){return t.unstable_now()>=D},d=function(){},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing framerates higher than 125 fps is not unsupported"):C=0<e?Math.floor(1e3/e):5};var L=new MessageChannel,P=L.port2;L.port1.onmessage=function(){if(null!==A){var e=t.unstable_now();D=e+C;try{A(!0,e)?P.postMessage(null):(T=!1,A=null)}catch(e){throw P.postMessage(null),e}}else T=!1},l=function(e){A=e,T||(T=!0,P.postMessage(null))},h=function(e,n){M=w(function(){e(t.unstable_now())},n)},p=function(){_(M),M=-1}}var R=[],O=[],I=1,k=null,N=3,F=!1,B=!1,U=!1,z=d;t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){B||F||(B=!0,l(u))},t.unstable_getCurrentPriorityLevel=function(){return N},t.unstable_getFirstCallbackNode=function(){return r(R)},t.unstable_next=function(e){switch(N){case 1:case 2:case 3:var t=3;break;default:t=N}var n=N;N=t;try{return e()}finally{N=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=z,t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=N;N=e;try{return t()}finally{N=n}},t.unstable_scheduleCallback=function(e,i,o){var a=t.unstable_now();if("object"==typeof o&&null!==o){var f=o.delay;f="number"==typeof f&&0<f?a+f:a,o="number"==typeof o.timeout?o.timeout:c(e)}else o=c(e),f=a;return e={id:I++,callback:i,priorityLevel:e,startTime:f,expirationTime:o=f+o,sortIndex:-1},f>a?(e.sortIndex=f,n(O,e),null===r(R)&&e===r(O)&&(U?p():U=!0,h(s,f-a))):(e.sortIndex=o,n(R,e),B||F||(B=!0,l(u))),e},t.unstable_shouldYield=function(){var e=t.unstable_now();a(e);var n=r(R);return n!==k&&null!==k&&null!==n&&null!==n.callback&&n.startTime<=e&&n.expirationTime<k.expirationTime||f()},t.unstable_wrapCallback=function(e){var t=N;return function(){var n=N;N=t;try{return e.apply(this,arguments)}finally{N=n}}}},"/+P4":function(e,t,n){function r(t){return e.exports=r=o?i:function(e){return e.__proto__||i(e)},r(t)}var i=n("Bhuq"),o=n("TRZx");e.exports=r},"/HRN":function(e){e.exports=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}},"/MKj":function(e,t,n){"use strict";function r(e,t){var n=e[1];return[t.payload,n+1]}function i(e,t,n){I(function(){return e.apply(void 0,t)},n)}function o(e,t,n,r,i,o,a){e.current=r,t.current=i,n.current=!1,o.current&&(o.current=null,a())}function a(e,t,n,r,i,o,a,s,u,c){if(e){var l=!1,h=null,p=function(){if(!l){var e,n,p=t.getState();try{e=r(p,i.current)}catch(t){n=t,h=t}n||(h=null),e===o.current?!a.current&&u():(o.current=e,s.current=e,a.current=!0,c({type:"STORE_UPDATED",payload:{error:n}}))}};n.onStateChange=p,n.trySubscribe(),p();return function(){if(l=!0,n.tryUnsubscribe(),n.onStateChange=null,h)throw h}}}function s(e,t){void 0===t&&(t={});var n=t,s=n.getDisplayName,u=void 0===s?function(e){return"ConnectAdvanced("+e+")"}:s,c=n.methodName,l=void 0===c?"connectAdvanced":c,h=n.renderCountProp,p=void 0===h?void 0:h,f=n.shouldHandleStateChanges,d=void 0===f||f,m=n.storeKey,g=void 0===m?"store":m,v=(n.withRef,n.forwardRef),y=n.context,x=void 0===y?E:y,b=Object(L.a)(n,["getDisplayName","methodName","renderCountProp","shouldHandleStateChanges","storeKey","withRef","forwardRef","context"]),S=x;return function(t){function n(t){return e(t.dispatch,f)}function s(e){var s=Object(w.useMemo)(function(){var t=e.forwardedRef,n=Object(L.a)(e,["forwardedRef"]);return[e.context,t,n]},[e]),u=s[0],c=s[1],l=s[2],h=Object(w.useMemo)(function(){return u&&u.Consumer&&Object(O.isContextConsumer)(_.a.createElement(u.Consumer,null))?u:S},[u,S]),p=Object(w.useContext)(h),f=!!e.store&&!!e.store.getState&&!!e.store.dispatch,m=(!!p&&p.store,f?e.store:p.store),g=Object(w.useMemo)(function(){return n(m)},[m]),v=Object(w.useMemo)(function(){if(!d)return N;var e=new M(m,f?null:p.subscription),t=e.notifyNestedSubs.bind(e);return[e,t]},[m,f,p]),x=v[0],b=v[1],E=Object(w.useMemo)(function(){return f?p:Object(D.a)({},p,{subscription:x})},[f,p,x]),T=Object(w.useReducer)(r,k,F),A=T[0][0],C=T[1];if(A&&A.error)throw A.error;var P=Object(w.useRef)(),R=Object(w.useRef)(l),I=Object(w.useRef)(),B=Object(w.useRef)(!1),U=y(function(){return I.current&&l===R.current?I.current:g(m.getState(),l)},[m,A,l]);i(o,[R,P,B,l,U,I,b]),i(a,[d,m,x,g,R,P,B,I,b,C],[m,x,g]);var z=Object(w.useMemo)(function(){return _.a.createElement(t,Object(D.a)({},U,{ref:c}))},[c,t,U]);return Object(w.useMemo)(function(){return d?_.a.createElement(h.Provider,{value:E},z):z},[h,z,E])}var c=t.displayName||t.name||"Component",h=u(c),f=Object(D.a)({},b,{getDisplayName:u,methodName:l,renderCountProp:p,shouldHandleStateChanges:d,storeKey:g,displayName:h,wrappedComponentName:c,WrappedComponent:t}),m=b.pure,y=m?w.useMemo:function(e){return e()},x=m?_.a.memo(s):s;if(x.WrappedComponent=t,x.displayName=h,void 0!==v&&v){var E=_.a.forwardRef(function(e,t){return _.a.createElement(x,Object(D.a)({},e,{forwardedRef:t}))});return E.displayName=h,E.WrappedComponent=t,R()(E,t)}return R()(x,t)}}function u(e,t){return e===t?0!==e||0!==t||1/e==1/t:e!=e&&t!=t}function c(e,t){if(u(e,t))return!0;if("object"!=typeof e||null===e||"object"!=typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(var i=0;i<n.length;i++)if(!Object.prototype.hasOwnProperty.call(t,n[i])||!u(e[n[i]],t[n[i]]))return!1;return!0}function l(e){return function(t,n){function r(){return i}var i=e(t,n);return r.dependsOnOwnProps=!1,r}}function h(e){return null!==e.dependsOnOwnProps&&void 0!==e.dependsOnOwnProps?!!e.dependsOnOwnProps:1!==e.length}function p(e){return function(t,n){n.displayName;var r=function(e,t){return r.dependsOnOwnProps?r.mapToProps(e,t):r.mapToProps(e)};return r.dependsOnOwnProps=!0,r.mapToProps=function(t,n){r.mapToProps=e,r.dependsOnOwnProps=h(e);var i=r(t,n);return"function"==typeof i&&(r.mapToProps=i,r.dependsOnOwnProps=h(i),i=r(t,n)),i},r}}function f(e,t,n){return Object(D.a)({},n,{},e,{},t)}function d(e,t,n,r){return function(i,o){return n(e(i,o),t(r,o),o)}}function m(e,t,n,r,i){function o(i,o){return h=e(c=i,l=o),p=t(r,l),f=n(h,p,l),v=!0,f}function a(){return h=e(c,l),t.dependsOnOwnProps&&(p=t(r,l)),f=n(h,p,l)}function s(){return e.dependsOnOwnProps&&(h=e(c,l)),t.dependsOnOwnProps&&(p=t(r,l)),f=n(h,p,l)}function u(){var t=e(c,l),r=!g(t,h);return h=t,r&&(f=n(h,p,l)),f}var c,l,h,p,f,d=i.areStatesEqual,m=i.areOwnPropsEqual,g=i.areStatePropsEqual,v=!1;return function(e,t){return v?function(e,t){var n=!m(t,l),r=!d(e,c);return c=e,l=t,n&&r?a():n?s():r?u():f}(e,t):o(e,t)}}function g(e,t){var n=t.initMapStateToProps,r=t.initMapDispatchToProps,i=t.initMergeProps,o=Object(L.a)(t,["initMapStateToProps","initMapDispatchToProps","initMergeProps"]),a=n(e,o),s=r(e,o),u=i(e,o);return(o.pure?m:d)(a,s,u,e,o)}function v(e,t,n){for(var r,i=t.length-1;0<=i;i--)if(r=t[i](e))return r;return function(t,r){throw new Error("Invalid value of type "+typeof e+" for "+n+" argument when connecting component "+r.wrappedComponentName+".")}}function y(e,t){return e===t}function x(){return Object(w.useContext)(E)}function b(e){void 0===e&&(e=E);var t=e===E?x:function(){return Object(w.useContext)(e)};return function(){return t().store}}var w=n("q1tI"),_=n.n(w),E=(n("17x9"),_.a.createContext(null)),S=function(e){e()},T=function(){return S},A={notify:function(){}},M=function(){function e(e,t){this.store=e,this.parentSub=t,this.unsubscribe=null,this.listeners=A,this.handleChangeWrapper=this.handleChangeWrapper.bind(this)}var t=e.prototype;return t.addNestedSub=function(e){return this.trySubscribe(),this.listeners.subscribe(e)},t.notifyNestedSubs=function(){this.listeners.notify()},t.handleChangeWrapper=function(){this.onStateChange&&this.onStateChange()},t.isSubscribed=function(){return!!this.unsubscribe},t.trySubscribe=function(){var e,t,n;this.unsubscribe||(this.unsubscribe=this.parentSub?this.parentSub.addNestedSub(this.handleChangeWrapper):this.store.subscribe(this.handleChangeWrapper),this.listeners=(e=T(),t=null,n=null,{clear:function(){t=null,n=null},notify:function(){e(function(){for(var e=t;e;)e.callback(),e=e.next})},get:function(){for(var e=[],n=t;n;)e.push(n),n=n.next;return e},subscribe:function(e){var r=!0,i=n={callback:e,next:null,prev:n};return i.prev?i.prev.next=i:t=i,function(){r&&null!==t&&(r=!1,i.next?i.next.prev=i.prev:n=i.prev,i.prev?i.prev.next=i.next:t=i.next)}}}))},t.tryUnsubscribe=function(){this.unsubscribe&&(this.unsubscribe(),this.unsubscribe=null,this.listeners.clear(),this.listeners=A)},e}(),C=function(e){var t=e.store,n=e.context,r=e.children,i=Object(w.useMemo)(function(){var e=new M(t);return e.onStateChange=e.notifyNestedSubs,{store:t,subscription:e}},[t]),o=Object(w.useMemo)(function(){return t.getState()},[t]);return Object(w.useEffect)(function(){var e=i.subscription;return e.trySubscribe(),o!==t.getState()&&e.notifyNestedSubs(),function(){e.tryUnsubscribe(),e.onStateChange=null}},[i,o]),_.a.createElement((n||E).Provider,{value:i},r)},D=n("wx14"),L=n("zLVn"),P=n("2mql"),R=n.n(P),O=n("TOwV"),I="undefined"!=typeof window&&void 0!==window.document&&void 0!==window.document.createElement?w.useLayoutEffect:w.useEffect,k=[],N=[null,null],F=function(){return[null,0]},B=n("ANjH"),U=[function(e){return"function"==typeof e?p(e):void 0},function(e){return e?void 0:l(function(e){return{dispatch:e}})},function(e){return e&&"object"==typeof e?l(function(t){return Object(B.bindActionCreators)(e,t)}):void 0}],z=[function(e){return"function"==typeof e?p(e):void 0},function(e){return e?void 0:l(function(){return{}})}],j=[function(e){return"function"==typeof e?function(e){return function(t,n){n.displayName;var r,i=n.pure,o=n.areMergedPropsEqual,a=!1;return function(t,n,s){var u=e(t,n,s);return a?(!i||!o(u,r))&&(r=u):(a=!0,r=u),r}}}(e):void 0},function(e){return e?void 0:function(){return f}}],G=function(e){var t={},n=t.connectHOC,r=void 0===n?s:n,i=t.mapStateToPropsFactories,o=void 0===i?z:i,a=t.mapDispatchToPropsFactories,u=void 0===a?U:a,l=t.mergePropsFactories,h=void 0===l?j:l,p=t.selectorFactory,f=void 0===p?g:p;return function(e,t,n,i){void 0===i&&(i={});var a=i,s=a.pure,l=a.areStatesEqual,p=void 0===l?y:l,d=a.areOwnPropsEqual,m=void 0===d?c:d,g=a.areStatePropsEqual,x=void 0===g?c:g,b=a.areMergedPropsEqual,w=void 0===b?c:b,_=Object(L.a)(a,["pure","areStatesEqual","areOwnPropsEqual","areStatePropsEqual","areMergedPropsEqual"]),E=v(e,o,"mapStateToProps"),S=v(t,u,"mapDispatchToProps"),T=v(n,h,"mergeProps");return r(f,Object(D.a)({methodName:"connect",getDisplayName:function(e){return"Connect("+e+")"},shouldHandleStateChanges:!!e,initMapStateToProps:E,initMapDispatchToProps:S,initMergeProps:T,pure:void 0===s||s,areStatesEqual:p,areOwnPropsEqual:m,areStatePropsEqual:x,areMergedPropsEqual:w},_))}}(),H=b(),V=(function(e){void 0===e&&(e=E);var t=e===E?H:b(e)}(),function(e,t){return e===t}),W=(function(e){void 0===e&&(e=E);var t=e===E?x:function(){return Object(w.useContext)(e)}}(),n("i8i4"));n.d(t,"a",function(){return C}),n.d(t,"b",function(){return G}),function(e){S=e}(W.unstable_batchedUpdates)},"/eQG":function(e,t,n){n("v5Dd");var r=n("WEpk").Object;e.exports=function(e,t){return r.getOwnPropertyDescriptor(e,t)}},"0/QM":function(e,t,n){"use strict";var r=n("hyoZ");e.exports=new r("tag:yaml.org,2002:bool",{kind:"scalar",resolve:function(e){if(null===e)return!1;var t=e.length;return 4===t&&("true"===e||"True"===e||"TRUE"===e)||5===t&&("false"===e||"False"===e||"FALSE"===e)},construct:function(e){return"true"===e||"True"===e||"TRUE"===e},predicate:function(e){return"[object Boolean]"===Object.prototype.toString.call(e)},represent:{lowercase:function(e){return e?"true":"false"},uppercase:function(e){return e?"TRUE":"FALSE"},camelcase:function(e){return e?"True":"False"}},defaultStyle:"lowercase"})},"0Bsm":function(e,t,n){"use strict";var r=n("KI45"),i=r(n("UXZV")),o=r(n("/HRN")),a=r(n("WaGi")),s=r(n("ZDA2")),u=r(n("/+P4")),c=r(n("N9n2")),l=function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var h=l(n("q1tI")),p=l(n("lgD3"));t.default=function(e){var t=function(t){function n(){return(0,o.default)(this,n),(0,s.default)(this,(0,u.default)(n).apply(this,arguments))}return(0,c.default)(n,t),(0,a.default)(n,[{key:"render",value:function(){return h.default.createElement(e,(0,i.default)({router:this.context.router},this.props))}}]),n}(h.default.Component);return t.contextTypes={router:p.default.object},t.getInitialProps=e.getInitialProps,t}},"0iUn":function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}n.d(t,"a",function(){return r})},"16Al":function(e,t,n){"use strict";function r(){}function i(){}var o=n("WbBG");i.resetWarningCache=r,e.exports=function(){function e(e,t,n,r,i,a){if(a!==o){var s=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw s.name="Invariant Violation",s}}function t(){return e}e.isRequired=e;var n={array:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:i,resetWarningCache:r};return n.PropTypes=n,n}},"17x9":function(e,t,n){e.exports=n("16Al")()},"29s/":function(e,t,n){var r=n("WEpk"),i=n("5T2Y"),o="__core-js_shared__",a=i[o]||(i[o]={});(e.exports=function(e,t){return a[e]||(a[e]=void 0===t?{}:t)})("versions",[]).push({version:r.version,mode:n("uOPS")?"pure":"global",copyright:" 2019 Denis Pushkarev (zloirock.ru)"})},"2Eek":function(e,t,n){e.exports=n("W7oM")},"2GTP":function(e,t,n){var r=n("eaoh");e.exports=function(e,t,n){return r(e),void 0===t?e:1===n?function(n){return e.call(t,n)}:2===n?function(n,r){return e.call(t,n,r)}:3===n?function(n,r,i){return e.call(t,n,r,i)}:function(){return e.apply(t,arguments)}}},"2Nb0":function(e,t,n){n("FlQf"),n("bBy9"),e.exports=n("zLkG").f("iterator")},"2YgE":function(e,t,n){"use strict";var r=n("3lC6");e.exports=new r({explicit:[n("LFvy"),n("vQl5"),n("Ljib")]})},"2faE":function(e,t,n){var r=n("5K7Z"),i=n("eUtF"),o=n("G8Mo"),a=Object.defineProperty;t.f=n("jmDH")?Object.defineProperty:function(e,t,n){if(r(e),t=o(t,!0),r(n),i)try{return a(e,t,n)}catch(t){}if("get"in n||"set"in n)throw TypeError("Accessors not supported!");return"value"in n&&(e[t]=n.value),e}},"2mql":function(e,t,n){"use strict";function r(e){return i.isMemo(e)?s:u[e.$$typeof]||o}var i=n("TOwV"),o={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},a={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},s={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},u={};u[i.ForwardRef]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},u[i.Memo]=s;var c=Object.defineProperty,l=Object.getOwnPropertyNames,h=Object.getOwnPropertySymbols,p=Object.getOwnPropertyDescriptor,f=Object.getPrototypeOf,d=Object.prototype;e.exports=function e(t,n,i){if("string"!=typeof n){if(d){var o=f(n);o&&o!==d&&e(t,o,i)}var s=l(n);h&&(s=s.concat(h(n)));for(var u,m=r(t),g=r(n),v=0;v<s.length;++v)if(u=s[v],!(a[u]||i&&i[u]||g&&g[u]||m&&m[u])){var y=p(n,u);try{c(t,u,y)}catch(n){}}}return t}},"33yf":function(e,t,n){(function(e){function n(e,t){for(var n,r=0,i=e.length-1;0<=i;i--)"."===(n=e[i])?e.splice(i,1):".."===n?(e.splice(i,1),r++):r&&(e.splice(i,1),r--);if(t)for(;r--;r)e.unshift("..");return e}function r(e,t){if(e.filter)return e.filter(t);for(var n=[],r=0;r<e.length;r++)t(e[r],r,e)&&n.push(e[r]);return n}t.resolve=function(){for(var t,i="",o=!1,a=arguments.length-1;-1<=a&&!o;a--){if("string"!=typeof(t=0<=a?arguments[a]:e.cwd()))throw new TypeError("Arguments to path.resolve must be strings");t&&(i=t+"/"+i,o="/"===t.charAt(0))}return(o?"/":"")+(i=n(r(i.split("/"),function(e){return!!e}),!o).join("/"))||"."},t.normalize=function(e){var o=t.isAbsolute(e),a="/"===i(e,-1);return(e=n(r(e.split("/"),function(e){return!!e}),!o).join("/"))||o||(e="."),e&&a&&(e+="/"),(o?"/":"")+e},t.isAbsolute=function(e){return"/"===e.charAt(0)},t.join=function(){var e=Array.prototype.slice.call(arguments,0);return t.normalize(r(e,function(e){if("string"!=typeof e)throw new TypeError("Arguments to path.join must be strings");return e}).join("/"))},t.relative=function(e,n){function r(e){for(var t=0;t<e.length&&""===e[t];t++);for(var n=e.length-1;0<=n&&""===e[n];n--);return t>n?[]:e.slice(t,n-t+1)}e=t.resolve(e).substr(1),n=t.resolve(n).substr(1);for(var i=r(e.split("/")),o=r(n.split("/")),a=Math.min(i.length,o.length),s=a,u=0;u<a;u++)if(i[u]!==o[u]){s=u;break}var c=[];for(u=s;u<i.length;u++)c.push("..");return(c=c.concat(o.slice(s))).join("/")},t.sep="/",t.delimiter=":",t.dirname=function(e){if("string"!=typeof e&&(e+=""),0===e.length)return".";for(var t=e.charCodeAt(0),n=47===t,r=-1,i=!0,o=e.length-1;1<=o;--o)if(47!==(t=e.charCodeAt(o)))i=!1;else if(!i){r=o;break}return-1===r?n?"/":".":n&&1===r?"/":e.slice(0,r)},t.basename=function(e,t){var n=function(e){"string"!=typeof e&&(e+="");var t,n=0,r=-1,i=!0;for(t=e.length-1;0<=t;--t)if(47!==e.charCodeAt(t))-1==r&&(i=!1,r=t+1);else if(!i){n=t+1;break}return-1===r?"":e.slice(n,r)}(e);return t&&n.substr(-1*t.length)===t&&(n=n.substr(0,n.length-t.length)),n},t.extname=function(e){"string"!=typeof e&&(e+="");for(var t,n=-1,r=0,i=-1,o=!0,a=0,s=e.length-1;0<=s;--s)if(47!==(t=e.charCodeAt(s)))-1==i&&(o=!1,i=s+1),46===t?-1===n?n=s:1!=a&&(a=1):-1!==n&&(a=-1);else if(!o){r=s+1;break}return-1===n||-1===i||0==a||1==a&&n===i-1&&n===r+1?"":e.slice(n,i)};var i=function(e,t,n){return e.substr(t,n)}}).call(this,n("8oxB"))},"3GJH":function(e,t,n){n("lCc8");var r=n("WEpk").Object;e.exports=function(e,t){return r.create(e,t)}},"3UD+":function(e){e.exports=function(e){if(!e.webpackPolyfill){var t=Object.create(e);t.children||(t.children=[]),Object.defineProperty(t,"loaded",{enumerable:!0,get:function(){return t.l}}),Object.defineProperty(t,"id",{enumerable:!0,get:function(){return t.i}}),Object.defineProperty(t,"exports",{enumerable:!0}),t.webpackPolyfill=1}return t}},"3lC6":function(e,t,n){"use strict";function r(e,t,n){var i=[];return e.include.forEach(function(e){n=r(e,t,n)}),e[t].forEach(function(e){n.forEach(function(t,n){t.tag===e.tag&&t.kind===e.kind&&i.push(n)}),n.push(e)}),n.filter(function(e,t){return-1===i.indexOf(t)})}function i(e){this.include=e.include||[],this.implicit=e.implicit||[],this.explicit=e.explicit||[],this.implicit.forEach(function(e){if(e.loadKind&&"scalar"!==e.loadKind)throw new a("There is a non-scalar type in the implicit list of a schema. Implicit resolving of such types is not supported.")}),this.compiledImplicit=r(this,"implicit",[]),this.compiledExplicit=r(this,"explicit",[]),this.compiledTypeMap=function(){function e(e){r[e.kind][e.tag]=r.fallback[e.tag]=e}var t,n,r={scalar:{},sequence:{},mapping:{},fallback:{}};for(t=0,n=arguments.length;t<n;t+=1)arguments[t].forEach(e);return r}(this.compiledImplicit,this.compiledExplicit)}var o=n("Y2Yi"),a=n("w+qe"),s=n("hyoZ");i.DEFAULT=null,i.create=function(){var e,t;switch(arguments.length){case 1:e=i.DEFAULT,t=arguments[0];break;case 2:e=arguments[0],t=arguments[1];break;default:throw new a("Wrong number of arguments for Schema.create function")}if(e=o.toArray(e),t=o.toArray(t),!e.every(function(e){return e instanceof i}))throw new a("Specified list of super schemas (or a single Schema object) contains a non-Schema object.");if(!t.every(function(e){return e instanceof s}))throw new a("Specified list of YAML types (or a single Type object) contains a non-Type object.");return new i({include:e,explicit:t})},e.exports=i},"3niX":function(e,t,n){"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function i(e,t){for(var n,r=0;r<t.length;r++)(n=t[r]).enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}function o(e,t){return!t||"object"!==r(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function a(e){return(a=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function s(e,t){return(s=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}Object.defineProperty(t,"__esModule",{value:!0}),t.flush=function(){var e=c.cssRules();return c.flush(),e},t.default=void 0;var u=n("q1tI"),c=new(function(e){return e&&e.__esModule?e:{default:e}}(n("SevZ")).default),l=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(n=o(this,a(t).call(this,e))).prevProps={},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&s(e,t)}(t,u.Component),function(e,t,n){t&&i(e.prototype,t),n&&i(e,n)}(t,[{key:"shouldComponentUpdate",value:function(e){return this.props.id!==e.id||this.props.dynamic+""!=e.dynamic+""}},{key:"componentWillUnmount",value:function(){c.remove(this.props)}},{key:"render",value:function(){return this.shouldComponentUpdate(this.prevProps)&&(this.prevProps.id&&c.remove(this.prevProps),c.add(this.props),this.prevProps=this.props),null}}],[{key:"dynamic",value:function(e){return e.map(function(e){var t=e[0],n=e[1];return c.computeId(t,n)}).join(" ")}}]),t}();t.default=l},"3wag":function(e){e.exports=function(e){return{keywords:{keyword:"break continue discard do else for if return while switch case default attribute binding buffer ccw centroid centroid varying coherent column_major const cw depth_any depth_greater depth_less depth_unchanged early_fragment_tests equal_spacing flat fractional_even_spacing fractional_odd_spacing highp in index inout invariant invocations isolines layout line_strip lines lines_adjacency local_size_x local_size_y local_size_z location lowp max_vertices mediump noperspective offset origin_upper_left out packed patch pixel_center_integer point_mode points precise precision quads r11f_g11f_b10f r16 r16_snorm r16f r16i r16ui r32f r32i r32ui r8 r8_snorm r8i r8ui readonly restrict rg16 rg16_snorm rg16f rg16i rg16ui rg32f rg32i rg32ui rg8 rg8_snorm rg8i rg8ui rgb10_a2 rgb10_a2ui rgba16 rgba16_snorm rgba16f rgba16i rgba16ui rgba32f rgba32i rgba32ui rgba8 rgba8_snorm rgba8i rgba8ui row_major sample shared smooth std140 std430 stream triangle_strip triangles triangles_adjacency uniform varying vertices volatile writeonly",type:"atomic_uint bool bvec2 bvec3 bvec4 dmat2 dmat2x2 dmat2x3 dmat2x4 dmat3 dmat3x2 dmat3x3 dmat3x4 dmat4 dmat4x2 dmat4x3 dmat4x4 double dvec2 dvec3 dvec4 float iimage1D iimage1DArray iimage2D iimage2DArray iimage2DMS iimage2DMSArray iimage2DRect iimage3D iimageBufferiimageCube iimageCubeArray image1D image1DArray image2D image2DArray image2DMS image2DMSArray image2DRect image3D imageBuffer imageCube imageCubeArray int isampler1D isampler1DArray isampler2D isampler2DArray isampler2DMS isampler2DMSArray isampler2DRect isampler3D isamplerBuffer isamplerCube isamplerCubeArray ivec2 ivec3 ivec4 mat2 mat2x2 mat2x3 mat2x4 mat3 mat3x2 mat3x3 mat3x4 mat4 mat4x2 mat4x3 mat4x4 sampler1D sampler1DArray sampler1DArrayShadow sampler1DShadow sampler2D sampler2DArray sampler2DArrayShadow sampler2DMS sampler2DMSArray sampler2DRect sampler2DRectShadow sampler2DShadow sampler3D samplerBuffer samplerCube samplerCubeArray samplerCubeArrayShadow samplerCubeShadow image1D uimage1DArray uimage2D uimage2DArray uimage2DMS uimage2DMSArray uimage2DRect uimage3D uimageBuffer uimageCube uimageCubeArray uint usampler1D usampler1DArray usampler2D usampler2DArray usampler2DMS usampler2DMSArray usampler2DRect usampler3D samplerBuffer usamplerCube usamplerCubeArray uvec2 uvec3 uvec4 vec2 vec3 vec4 void",built_in:"gl_MaxAtomicCounterBindings gl_MaxAtomicCounterBufferSize gl_MaxClipDistances gl_MaxClipPlanes gl_MaxCombinedAtomicCounterBuffers gl_MaxCombinedAtomicCounters gl_MaxCombinedImageUniforms gl_MaxCombinedImageUnitsAndFragmentOutputs gl_MaxCombinedTextureImageUnits gl_MaxComputeAtomicCounterBuffers gl_MaxComputeAtomicCounters gl_MaxComputeImageUniforms gl_MaxComputeTextureImageUnits gl_MaxComputeUniformComponents gl_MaxComputeWorkGroupCount gl_MaxComputeWorkGroupSize gl_MaxDrawBuffers gl_MaxFragmentAtomicCounterBuffers gl_MaxFragmentAtomicCounters gl_MaxFragmentImageUniforms gl_MaxFragmentInputComponents gl_MaxFragmentInputVectors gl_MaxFragmentUniformComponents gl_MaxFragmentUniformVectors gl_MaxGeometryAtomicCounterBuffers gl_MaxGeometryAtomicCounters gl_MaxGeometryImageUniforms gl_MaxGeometryInputComponents gl_MaxGeometryOutputComponents gl_MaxGeometryOutputVertices gl_MaxGeometryTextureImageUnits gl_MaxGeometryTotalOutputComponents gl_MaxGeometryUniformComponents gl_MaxGeometryVaryingComponents gl_MaxImageSamples gl_MaxImageUnits gl_MaxLights gl_MaxPatchVertices gl_MaxProgramTexelOffset gl_MaxTessControlAtomicCounterBuffers gl_MaxTessControlAtomicCounters gl_MaxTessControlImageUniforms gl_MaxTessControlInputComponents gl_MaxTessControlOutputComponents gl_MaxTessControlTextureImageUnits gl_MaxTessControlTotalOutputComponents gl_MaxTessControlUniformComponents gl_MaxTessEvaluationAtomicCounterBuffers gl_MaxTessEvaluationAtomicCounters gl_MaxTessEvaluationImageUniforms gl_MaxTessEvaluationInputComponents gl_MaxTessEvaluationOutputComponents gl_MaxTessEvaluationTextureImageUnits gl_MaxTessEvaluationUniformComponents gl_MaxTessGenLevel gl_MaxTessPatchComponents gl_MaxTextureCoords gl_MaxTextureImageUnits gl_MaxTextureUnits gl_MaxVaryingComponents gl_MaxVaryingFloats gl_MaxVaryingVectors gl_MaxVertexAtomicCounterBuffers gl_MaxVertexAtomicCounters gl_MaxVertexAttribs gl_MaxVertexImageUniforms gl_MaxVertexOutputComponents gl_MaxVertexOutputVectors gl_MaxVertexTextureImageUnits gl_MaxVertexUniformComponents gl_MaxVertexUniformVectors gl_MaxViewports gl_MinProgramTexelOffset gl_BackColor gl_BackLightModelProduct gl_BackLightProduct gl_BackMaterial gl_BackSecondaryColor gl_ClipDistance gl_ClipPlane gl_ClipVertex gl_Color gl_DepthRange gl_EyePlaneQ gl_EyePlaneR gl_EyePlaneS gl_EyePlaneT gl_Fog gl_FogCoord gl_FogFragCoord gl_FragColor gl_FragCoord gl_FragData gl_FragDepth gl_FrontColor gl_FrontFacing gl_FrontLightModelProduct gl_FrontLightProduct gl_FrontMaterial gl_FrontSecondaryColor gl_GlobalInvocationID gl_InstanceID gl_InvocationID gl_Layer gl_LightModel gl_LightSource gl_LocalInvocationID gl_LocalInvocationIndex gl_ModelViewMatrix gl_ModelViewMatrixInverse gl_ModelViewMatrixInverseTranspose gl_ModelViewMatrixTranspose gl_ModelViewProjectionMatrix gl_ModelViewProjectionMatrixInverse gl_ModelViewProjectionMatrixInverseTranspose gl_ModelViewProjectionMatrixTranspose gl_MultiTexCoord0 gl_MultiTexCoord1 gl_MultiTexCoord2 gl_MultiTexCoord3 gl_MultiTexCoord4 gl_MultiTexCoord5 gl_MultiTexCoord6 gl_MultiTexCoord7 gl_Normal gl_NormalMatrix gl_NormalScale gl_NumSamples gl_NumWorkGroups gl_ObjectPlaneQ gl_ObjectPlaneR gl_ObjectPlaneS gl_ObjectPlaneT gl_PatchVerticesIn gl_Point gl_PointCoord gl_PointSize gl_Position gl_PrimitiveID gl_PrimitiveIDIn gl_ProjectionMatrix gl_ProjectionMatrixInverse gl_ProjectionMatrixInverseTranspose gl_ProjectionMatrixTranspose gl_SampleID gl_SampleMask gl_SampleMaskIn gl_SamplePosition gl_SecondaryColor gl_TessCoord gl_TessLevelInner gl_TessLevelOuter gl_TexCoord gl_TextureEnvColor gl_TextureMatrix gl_TextureMatrixInverse gl_TextureMatrixInverseTranspose gl_TextureMatrixTranspose gl_Vertex gl_VertexID gl_ViewportIndex gl_WorkGroupID gl_WorkGroupSize gl_in gl_out EmitStreamVertex EmitVertex EndPrimitive EndStreamPrimitive abs acos acosh all any asin asinh atan atanh atomicAdd atomicAnd atomicCompSwap atomicCounter atomicCounterDecrement atomicCounterIncrement atomicExchange atomicMax atomicMin atomicOr atomicXor barrier bitCount bitfieldExtract bitfieldInsert bitfieldReverse ceil clamp cos cosh cross dFdx dFdy degrees determinant distance dot equal exp exp2 faceforward findLSB findMSB floatBitsToInt floatBitsToUint floor fma fract frexp ftransform fwidth greaterThan greaterThanEqual groupMemoryBarrier imageAtomicAdd imageAtomicAnd imageAtomicCompSwap imageAtomicExchange imageAtomicMax imageAtomicMin imageAtomicOr imageAtomicXor imageLoad imageSize imageStore imulExtended intBitsToFloat interpolateAtCentroid interpolateAtOffset interpolateAtSample inverse inversesqrt isinf isnan ldexp length lessThan lessThanEqual log log2 matrixCompMult max memoryBarrier memoryBarrierAtomicCounter memoryBarrierBuffer memoryBarrierImage memoryBarrierShared min mix mod modf noise1 noise2 noise3 noise4 normalize not notEqual outerProduct packDouble2x32 packHalf2x16 packSnorm2x16 packSnorm4x8 packUnorm2x16 packUnorm4x8 pow radians reflect refract round roundEven shadow1D shadow1DLod shadow1DProj shadow1DProjLod shadow2D shadow2DLod shadow2DProj shadow2DProjLod sign sin sinh smoothstep sqrt step tan tanh texelFetch texelFetchOffset texture texture1D texture1DLod texture1DProj texture1DProjLod texture2D texture2DLod texture2DProj texture2DProjLod texture3D texture3DLod texture3DProj texture3DProjLod textureCube textureCubeLod textureGather textureGatherOffset textureGatherOffsets textureGrad textureGradOffset textureLod textureLodOffset textureOffset textureProj textureProjGrad textureProjGradOffset textureProjLod textureProjLodOffset textureProjOffset textureQueryLevels textureQueryLod textureSize transpose trunc uaddCarry uintBitsToFloat umulExtended unpackDouble2x32 unpackHalf2x16 unpackSnorm2x16 unpackSnorm4x8 unpackUnorm2x16 unpackUnorm4x8 usubBorrow",literal:"true false"},illegal:'"',contains:[e.C_LINE_COMMENT_MODE,e.C_BLOCK_COMMENT_MODE,e.C_NUMBER_MODE,{className:"meta",begin:"#",end:"$"}]}}},"49sm":function(e){var t={}.toString;e.exports=Array.isArray||function(e){return"[object Array]"==t.call(e)}},"4JlD":function(e){"use strict";function t(e,t){if(e.map)return e.map(t);for(var n=[],r=0;r<e.length;r++)n.push(t(e[r],r));return n}var n=function(e){switch(typeof e){case"string":return e;case"boolean":return e?"true":"false";case"number":return isFinite(e)?e:"";default:return""}};e.exports=function(e,o,a,s){return o=o||"&",a=a||"=",null===e&&(e=void 0),"object"==typeof e?t(i(e),function(i){var s=encodeURIComponent(n(i))+a;return r(e[i])?t(e[i],function(e){return s+encodeURIComponent(n(e))}).join(o):s+encodeURIComponent(n(e[i]))}).join(o):s?encodeURIComponent(n(s))+a+encodeURIComponent(n(e)):""};var r=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)},i=Object.keys||function(e){var t=[];for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.push(n);return t}},"4M5b":function(e,t,n){"use strict";var r=n("hyoZ"),i=/^([0-9][0-9][0-9][0-9])-([0-9][0-9])-([0-9][0-9])$/,o=/^([0-9][0-9][0-9][0-9])-([0-9][0-9]?)-([0-9][0-9]?)(?:[Tt]|[ \t]+)([0-9][0-9]?):([0-9][0-9]):([0-9][0-9])(?:\.([0-9]*))?(?:[ \t]*(Z|([-+])([0-9][0-9]?)(?::([0-9][0-9]))?))?$/;e.exports=new r("tag:yaml.org,2002:timestamp",{kind:"scalar",resolve:function(e){return null!==e&&(null!==i.exec(e)||null!==o.exec(e))},construct:function(e){var t,n,r,a,s,u,c,l,h=0,p=null;if(null===(t=i.exec(e))&&(t=o.exec(e)),null===t)throw new Error("Date resolve error");if(n=+t[1],r=+t[2]-1,a=+t[3],!t[4])return new Date(Date.UTC(n,r,a));if(s=+t[4],u=+t[5],c=+t[6],t[7]){for(h=t[7].slice(0,3);3>h.length;)h+="0";h=+h}return t[9]&&(p=6e4*(60*+t[10]+ +(t[11]||0)),"-"===t[9]&&(p=-p)),l=new Date(Date.UTC(n,r,a,s,u,c,h)),p&&l.setTime(l.getTime()-p),l},instanceOf:Date,represent:function(e){return e.toISOString()}})},"4MG8":function(e,t,n){function r(e,t,n){if(null==e)throw new Error("marked(): input parameter is undefined or null");if("string"!=typeof e)throw new Error("marked(): input parameter is of type "+Object.prototype.toString.call(e)+", string expected");if(n||"function"==typeof t){n||(n=t,t=null),t=l({},r.defaults,t||{}),h(t);const a=t.highlight;let s,u,c=0;try{s=i.lex(e,t)}catch(t){return n(t)}u=s.length;const p=function(e){if(e)return t.highlight=a,n(e);let r;try{r=o.parse(s,t)}catch(t){e=t}return t.highlight=a,e?n(e):n(null,r)};if(!a||3>a.length)return p();if(delete t.highlight,!u)return p();for(;c<s.length;c++)!function(e){"code"===e.type?a(e.text,e.lang,function(t,n){return t?p(t):null==n||n===e.text?--u||p():(e.text=n,e.escaped=!0,void(--u||p()))}):--u||p()}(s[c])}else try{return t=l({},r.defaults,t||{}),h(t),o.parse(i.lex(e,t),t)}catch(n){if(n.message+="\nPlease report this to https://github.com/markedjs/marked.",(t||r.defaults).silent)return"<p>An error occurred:</p><pre>"+p(n.message+"",!0)+"</pre>";throw n}}const i=n("T9Ld"),o=n("66f7"),a=n("SbYC"),s=n("+/fp"),u=n("hyX7"),c=n("J7Ao"),{merge:l,checkSanitizeDeprecation:h,escape:p}=n("rUJ1"),{getDefaults:f,changeDefaults:d,defaults:m}=n("vbtb");r.options=r.setOptions=function(e){return l(r.defaults,e),d(r.defaults),r},r.getDefaults=f,r.defaults=m,r.Parser=o,r.parser=o.parse,r.Renderer=a,r.TextRenderer=s,r.Lexer=i,r.lexer=i.lex,r.InlineLexer=u,r.inlineLexer=u.output,r.Slugger=c,r.parse=r,e.exports=r},"4VPZ":function(e){"use strict";function t(e){throw new Error(e)}e.exports=function(e){e.OBJLoader=function(t){this.manager=void 0===t?e.DefaultLoadingManager:t,this.materials=null,this.regexp={vertex_pattern:/^v\s+([\d|\.|\+|\-|e|E]+)\s+([\d|\.|\+|\-|e|E]+)\s+([\d|\.|\+|\-|e|E]+)/,normal_pattern:/^vn\s+([\d|\.|\+|\-|e|E]+)\s+([\d|\.|\+|\-|e|E]+)\s+([\d|\.|\+|\-|e|E]+)/,uv_pattern:/^vt\s+([\d|\.|\+|\-|e|E]+)\s+([\d|\.|\+|\-|e|E]+)/,face_vertex:/^f\s+(-?\d+)\s+(-?\d+)\s+(-?\d+)(?:\s+(-?\d+))?/,face_vertex_uv:/^f\s+(-?\d+)\/(-?\d+)\s+(-?\d+)\/(-?\d+)\s+(-?\d+)\/(-?\d+)(?:\s+(-?\d+)\/(-?\d+))?/,face_vertex_uv_normal:/^f\s+(-?\d+)\/(-?\d+)\/(-?\d+)\s+(-?\d+)\/(-?\d+)\/(-?\d+)\s+(-?\d+)\/(-?\d+)\/(-?\d+)(?:\s+(-?\d+)\/(-?\d+)\/(-?\d+))?/,face_vertex_normal:/^f\s+(-?\d+)\/\/(-?\d+)\s+(-?\d+)\/\/(-?\d+)\s+(-?\d+)\/\/(-?\d+)(?:\s+(-?\d+)\/\/(-?\d+))?/,object_pattern:/^[og]\s*(.+)?/,smoothing_pattern:/^s\s+(\d+|on|off)/,material_library_pattern:/^mtllib /,material_use_pattern:/^usemtl /}},e.OBJLoader.prototype={constructor:e.OBJLoader,load:function(n,r,i,o){var a=this;this.onError=o||t;var s=new e.FileLoader(a.manager);s.setPath(this.path),s.load(n,function(e){r(a.parse(e))},i,o)},setPath:function(e){this.path=e},setMaterials:function(e){this.materials=e},_createParserState:function(){var e={objects:[],object:{},vertices:[],normals:[],uvs:[],materialLibraries:[],startObject:function(e,t){if(this.object&&!1===this.object.fromDeclaration)return this.object.name=e,void(this.object.fromDeclaration=!1!==t);var n=this.object&&"function"==typeof this.object.currentMaterial?this.object.currentMaterial():void 0;if(this.object&&"function"==typeof this.object._finalize&&this.object._finalize(!0),this.object={name:e||"",fromDeclaration:!1!==t,geometry:{vertices:[],normals:[],uvs:[]},materials:[],smooth:!0,startMaterial:function(e,t){var n=this._finalize(!1);n&&(n.inherited||0>=n.groupCount)&&this.materials.splice(n.index,1);var r={index:this.materials.length,name:e||"",mtllib:Array.isArray(t)&&0<t.length?t[t.length-1]:"",smooth:void 0===n?this.smooth:n.smooth,groupStart:void 0===n?0:n.groupEnd,groupEnd:-1,groupCount:-1,inherited:!1,clone:function(e){var t={index:"number"==typeof e?e:this.index,name:this.name,mtllib:this.mtllib,smooth:this.smooth,groupStart:0,groupEnd:-1,groupCount:-1,inherited:!1};return t.clone=this.clone.bind(t),t}};return this.materials.push(r),r},currentMaterial:function(){return 0<this.materials.length?this.materials[this.materials.length-1]:void 0},_finalize:function(e){var t=this.currentMaterial();if(t&&-1===t.groupEnd&&(t.groupEnd=this.geometry.vertices.length/3,t.groupCount=t.groupEnd-t.groupStart,t.inherited=!1),e&&1<this.materials.length)for(var n=this.materials.length-1;0<=n;n--)0>=this.materials[n].groupCount&&this.materials.splice(n,1);return e&&0===this.materials.length&&this.materials.push({name:"",smooth:this.smooth}),t}},n&&n.name&&"function"==typeof n.clone){var r=n.clone(0);r.inherited=!0,this.object.materials.push(r)}this.objects.push(this.object)},finalize:function(){this.object&&"function"==typeof this.object._finalize&&this.object._finalize(!0)},parseVertexIndex:function(e,t){var n=parseInt(e,10);return 3*(0<=n?n-1:n+t/3)},parseNormalIndex:function(e,t){var n=parseInt(e,10);return 3*(0<=n?n-1:n+t/3)},parseUVIndex:function(e,t){var n=parseInt(e,10);return 2*(0<=n?n-1:n+t/2)},addVertex:function(e,t,n){var r=this.vertices,i=this.object.geometry.vertices;i.push(r[e+0]),i.push(r[e+1]),i.push(r[e+2]),i.push(r[t+0]),i.push(r[t+1]),i.push(r[t+2]),i.push(r[n+0]),i.push(r[n+1]),i.push(r[n+2])},addVertexLine:function(e){var t=this.vertices,n=this.object.geometry.vertices;n.push(t[e+0]),n.push(t[e+1]),n.push(t[e+2])},addNormal:function(e,t,n){var r=this.normals,i=this.object.geometry.normals;i.push(r[e+0]),i.push(r[e+1]),i.push(r[e+2]),i.push(r[t+0]),i.push(r[t+1]),i.push(r[t+2]),i.push(r[n+0]),i.push(r[n+1]),i.push(r[n+2])},addUV:function(e,t,n){var r=this.uvs,i=this.object.geometry.uvs;i.push(r[e+0]),i.push(r[e+1]),i.push(r[t+0]),i.push(r[t+1]),i.push(r[n+0]),i.push(r[n+1])},addUVLine:function(e){var t=this.uvs,n=this.object.geometry.uvs;n.push(t[e+0]),n.push(t[e+1])},addFace:function(e,t,n,r,i,o,a,s,u,c,l,h){var p,f=this.vertices.length,d=this.parseVertexIndex(e,f),m=this.parseVertexIndex(t,f),g=this.parseVertexIndex(n,f);if(void 0===r?this.addVertex(d,m,g):(p=this.parseVertexIndex(r,f),this.addVertex(d,m,p),this.addVertex(m,g,p)),void 0!==i){var v=this.uvs.length;d=this.parseUVIndex(i,v),m=this.parseUVIndex(o,v),g=this.parseUVIndex(a,v),void 0===r?this.addUV(d,m,g):(p=this.parseUVIndex(s,v),this.addUV(d,m,p),this.addUV(m,g,p))}if(void 0!==u){var y=this.normals.length;d=this.parseNormalIndex(u,y),m=u===c?d:this.parseNormalIndex(c,y),g=u===l?d:this.parseNormalIndex(l,y),void 0===r?this.addNormal(d,m,g):(p=this.parseNormalIndex(h,y),this.addNormal(d,m,p),this.addNormal(m,g,p))}},addLineGeometry:function(e,t){this.object.geometry.type="Line";for(var n=this.vertices.length,r=this.uvs.length,i=0,o=e.length;i<o;i++)this.addVertexLine(this.parseVertexIndex(e[i],n));var a=0;for(o=t.length;a<o;a++)this.addUVLine(this.parseUVIndex(t[a],r))}};return e.startObject("",!1),e},parse:function(t,n){void 0===n&&(n=!0),n&&console.time("OBJLoader");var r=this._createParserState();-1!==t.indexOf("\r\n")&&(t=t.replace(/\r\n/g,"\n")),-1!==t.indexOf("\\\n")&&(t=t.replace(/\\\n/g,""));for(var i=t.split("\n"),o="",a="",s="",u=[],c=0,l=i.length;c<l;c++)if(0!==(o=(o=i[c]).trimLeft()).length&&"#"!==(a=o.charAt(0)))if("v"===a)" "===(s=o.charAt(1))&&null!==(u=this.regexp.vertex_pattern.exec(o))?r.vertices.push(parseFloat(u[1]),parseFloat(u[2]),parseFloat(u[3])):"n"===s&&null!==(u=this.regexp.normal_pattern.exec(o))?r.normals.push(parseFloat(u[1]),parseFloat(u[2]),parseFloat(u[3])):"t"===s&&null!==(u=this.regexp.uv_pattern.exec(o))?r.uvs.push(parseFloat(u[1]),parseFloat(u[2])):this.onError("Unexpected vertex/normal/uv line: '"+o+"'");else if("f"===a)null===(u=this.regexp.face_vertex_uv_normal.exec(o))?null===(u=this.regexp.face_vertex_uv.exec(o))?null===(u=this.regexp.face_vertex_normal.exec(o))?null===(u=this.regexp.face_vertex.exec(o))?this.onError("Unexpected face line: '"+o+"'"):r.addFace(u[1],u[2],u[3],u[4]):r.addFace(u[1],u[3],u[5],u[7],void 0,void 0,void 0,void 0,u[2],u[4],u[6],u[8]):r.addFace(u[1],u[3],u[5],u[7],u[2],u[4],u[6],u[8]):r.addFace(u[1],u[4],u[7],u[10],u[2],u[5],u[8],u[11],u[3],u[6],u[9],u[12]);else if("l"===a){var h=o.substring(1).trim().split(" "),p=[],f=[];if(-1===o.indexOf("/"))p=h;else for(var d,m=0,g=h.length;m<g;m++)""!==(d=h[m].split("/"))[0]&&p.push(d[0]),""!==d[1]&&f.push(d[1]);r.addLineGeometry(p,f)}else if(null!==(u=this.regexp.object_pattern.exec(o))){var v=(" "+u[0].substr(1).trim()).substr(1);r.startObject(v)}else if(this.regexp.material_use_pattern.test(o))r.object.startMaterial(o.substring(7).trim(),r.materialLibraries);else if(this.regexp.material_library_pattern.test(o))r.materialLibraries.push(o.substring(7).trim());else if(null!==(u=this.regexp.smoothing_pattern.exec(o))){var y=u[1].trim().toLowerCase();r.object.smooth="1"===y||"on"===y,(L=r.object.currentMaterial())&&(L.smooth=r.object.smooth)}else{if("\0"===o)continue;this.onError("Unexpected line: '"+o+"'")}r.finalize();var x=new e.Group;x.materialLibraries=[].concat(r.materialLibraries);for(c=0,l=r.objects.length;c<l;c++){var b=r.objects[c],w=b.geometry,_=b.materials,E="Line"===w.type;if(0!==w.vertices.length){var S,T=new e.BufferGeometry;T.addAttribute("position",new e.BufferAttribute(new Float32Array(w.vertices),3)),0<w.normals.length?T.addAttribute("normal",new e.BufferAttribute(new Float32Array(w.normals),3)):T.computeVertexNormals(),0<w.uvs.length&&T.addAttribute("uv",new e.BufferAttribute(new Float32Array(w.uvs),2));for(var A=[],M=0,C=_.length;M<C;M++){var D=_[M],L=void 0;if(null!==this.materials&&(L=this.materials.create(D.name),E&&L&&!(L instanceof e.LineBasicMaterial))){var P=new e.LineBasicMaterial;P.copy(L),L=P}L||((L=E?new e.LineBasicMaterial:new e.MeshPhongMaterial).name=D.name),L.shading=D.smooth?e.SmoothShading:e.FlatShading,A.push(L)}if(1<A.length){for(M=0,C=_.length;M<C;M++)D=_[M],T.addGroup(D.groupStart,D.groupCount,M);var R=new e.MultiMaterial(A);S=E?new e.LineSegments(T,R):new e.Mesh(T,R)}else S=E?new e.LineSegments(T,A[0]):new e.Mesh(T,A[0]);S.name=b.name,x.add(S)}}return n&&console.timeEnd("OBJLoader"),x}}}},"4Vye":function(e,t,n){"use strict";var r=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t};Object.defineProperty(t,"__esModule",{value:!0});const i=r(n("q1tI"));t.RequestContext=i.createContext(null)},"4bdI":function(e,t,n){n("Ui4e"),e.exports=n("WEpk").Object.freeze},"4mXO":function(e,t,n){e.exports=n("7TPF")},"4qcr":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n("Womt");t.default=class{constructor(){this.cache={}}load(e,t,n){const i=this.cache[t];if(i)return i.video.playbackRate=n,i.texture;const o=document.createElement("video");document.body.appendChild(o),o.classList.add("veda-video-source"),o.style.position="fixed",o.style.top="-99999px",o.src=t,o.autoplay=!0,o.loop=!0,o.muted=!0,o.playbackRate=n,o.play();const a=new r.VideoTexture(o);return a.minFilter=r.LinearFilter,a.magFilter=r.LinearFilter,a.format=r.RGBAFormat,this.cache[t]={name:e,video:o,texture:a},a}unload(e){const t=this.cache[e];t&&document.body.removeChild(t.video),this.cache[e]=null}}},"5ECd":function(e){e.exports=["3g2","3gp","aaf","asf","avchd","avi","drc","flv","m2v","m4p","m4v","mkv","mng","mov","mp2","mp4","mpe","mpeg","mpg","mpv","mxf","nsv","ogg","ogv","qt","rm","rmvb","roq","svi","vob","webm","wmv","yuv"]},"5K7Z":function(e,t,n){var r=n("93I4");e.exports=function(e){if(!r(e))throw TypeError(e+" is not an object!");return e}},"5T2Y":function(e){var t=e.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=t)},"5vMV":function(e,t,n){var r=n("B+OT"),i=n("NsO/"),o=n("W070")(!1),a=n("VVlx")("IE_PROTO");e.exports=function(e,t){var n,s=i(e),u=0,c=[];for(n in s)n!=a&&r(s,n)&&c.push(n);for(;t.length>u;)r(s,n=t[u++])&&(~o(c,n)||c.push(n));return c}},"6/1s":function(e,t,n){var r=n("YqAc")("meta"),i=n("93I4"),o=n("B+OT"),a=n("2faE").f,s=0,u=Object.isExtensible||function(){return!0},c=!n("KUxP")(function(){return u(Object.preventExtensions({}))}),l=function(e){a(e,r,{value:{i:"O"+ ++s,w:{}}})},h=e.exports={KEY:r,NEED:!1,fastKey:function(e,t){if(!i(e))return"symbol"==typeof e?e:("string"==typeof e?"S":"P")+e;if(!o(e,r)){if(!u(e))return"F";if(!t)return"E";l(e)}return e[r].i},getWeak:function(e,t){if(!o(e,r)){if(!u(e))return!0;if(!t)return!1;l(e)}return e[r].w},onFreeze:function(e){return c&&h.NEED&&u(e)&&!o(e,r)&&l(e),e}}},"66f7":function(e,t,n){const r=n("SbYC"),i=n("J7Ao"),o=n("hyX7"),a=n("+/fp"),{defaults:s}=n("vbtb"),{merge:u,unescape:c}=n("rUJ1");e.exports=class e{constructor(e){this.tokens=[],this.token=null,this.options=e||s,this.options.renderer=this.options.renderer||new r,this.renderer=this.options.renderer,this.renderer.options=this.options,this.slugger=new i}static parse(t,n){return new e(n).parse(t)}parse(e){this.inline=new o(e.links,this.options),this.inlineText=new o(e.links,u({},this.options,{renderer:new a})),this.tokens=e.reverse();let t="";for(;this.next();)t+=this.tok();return t}next(){return this.token=this.tokens.pop(),this.token}peek(){return this.tokens[this.tokens.length-1]||0}parseText(){let e=this.token.text;for(;"text"===this.peek().type;)e+="\n"+this.next().text;return this.inline.output(e)}tok(){let e="";switch(this.token.type){case"space":return"";case"hr":return this.renderer.hr();case"heading":return this.renderer.heading(this.inline.output(this.token.text),this.token.depth,c(this.inlineText.output(this.token.text)),this.slugger);case"code":return this.renderer.code(this.token.text,this.token.lang,this.token.escaped);case"table":{let t,n,r,i,o="";for(r="",t=0;t<this.token.header.length;t++)r+=this.renderer.tablecell(this.inline.output(this.token.header[t]),{header:!0,align:this.token.align[t]});for(o+=this.renderer.tablerow(r),t=0;t<this.token.cells.length;t++){for(n=this.token.cells[t],r="",i=0;i<n.length;i++)r+=this.renderer.tablecell(this.inline.output(n[i]),{header:!1,align:this.token.align[i]});e+=this.renderer.tablerow(r)}return this.renderer.table(o,e)}case"blockquote_start":for(e="";"blockquote_end"!==this.next().type;)e+=this.tok();return this.renderer.blockquote(e);case"list_start":{e="";const t=this.token.ordered,n=this.token.start;for(;"list_end"!==this.next().type;)e+=this.tok();return this.renderer.list(e,t,n)}case"list_item_start":{e="";const t=this.token.loose,n=this.token.checked,r=this.token.task;if(this.token.task)if(t)if("text"===this.peek().type){const e=this.peek();e.text=this.renderer.checkbox(n)+" "+e.text}else this.tokens.push({type:"text",text:this.renderer.checkbox(n)});else e+=this.renderer.checkbox(n);for(;"list_item_end"!==this.next().type;)e+=t||"text"!==this.token.type?this.tok():this.parseText();return this.renderer.listitem(e,r,n)}case"html":return this.renderer.html(this.token.text);case"paragraph":return this.renderer.paragraph(this.inline.output(this.token.text));case"text":return this.renderer.paragraph(this.parseText());default:{const e='Token with "'+this.token.type+'" type was not found.';if(!this.options.silent)throw new Error(e);console.log(e)}}}}},"6tYh":function(e,t,n){var r=n("93I4"),i=n("5K7Z"),o=function(e,t){if(i(e),!r(t)&&null!==t)throw TypeError(t+": can't set as prototype!")};e.exports={set:Object.setPrototypeOf||("__proto__"in{}?function(e,t,r){try{(r=n("2GTP")(Function.call,n("vwuL").f(Object.prototype,"__proto__").set,2))(e,[]),t=!(e instanceof Array)}catch(n){t=!0}return function(e,n){return o(e,n),t?e.__proto__=n:r(e,n),e}}({},!1):void 0),check:o}},"7TPF":function(e,t,n){n("AUvm"),e.exports=n("WEpk").Object.getOwnPropertySymbols},"7YZU":function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))(function(i,o){function a(e){try{u(r.next(e))}catch(t){o(t)}}function s(e){try{u(r.throw(e))}catch(t){o(t)}}function u(e){e.done?i(e.value):new n(function(t){t(e.value)}).then(a,s)}u((r=r.apply(e,t||[])).next())})};Object.defineProperty(t,"__esModule",{value:!0});const i=n("Womt"),o=n("EFsK");t.default=class{constructor(){this.cache={}}update(){Object.keys(this.cache).forEach(e=>{const t=this.cache[e];t&&(t.gif.update(),t.texture.needsUpdate=!0)})}load(e,t){return r(this,void 0,void 0,function*(){const n=this.cache[t];if(n)return n.texture;const r=yield o.default.create(t,1),a=r.getCanvas(),s=new i.Texture(a);return s.minFilter=i.LinearFilter,s.magFilter=i.LinearFilter,s.format=i.RGBFormat,this.cache[t]={name:e,texture:s,gif:r},s})}unload(e){this.cache[e]=null}}},"8+mo":function(e,t,n){"use strict";var r=n("hyoZ"),i=Object.prototype.hasOwnProperty,o=Object.prototype.toString;e.exports=new r("tag:yaml.org,2002:omap",{kind:"sequence",resolve:function(e){if(null===e)return!0;var t,n,r,a,s,u=[],c=e;for(t=0,n=c.length;t<n;t+=1){if(r=c[t],s=!1,"[object Object]"!==o.call(r))return!1;for(a in r)if(i.call(r,a)){if(s)return!1;s=!0}if(!s)return!1;if(-1!==u.indexOf(a))return!1;u.push(a)}return!0},construct:function(e){return null===e?[]:e}})},"8+s/":function(e,t,n){"use strict";function r(e){return e&&"object"==typeof e&&"default"in e?e.default:e}function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var o=n("q1tI"),a=r(o),s=r(n("Gytx")),u=!("undefined"==typeof window||!window.document||!window.document.createElement);e.exports=function(e,t,n){if("function"!=typeof e)throw new Error("Expected reducePropsToState to be a function.");if("function"!=typeof t)throw new Error("Expected handleStateChangeOnClient to be a function.");if(void 0!==n&&"function"!=typeof n)throw new Error("Expected mapStateOnServer to either be undefined or a function.");return function(r){function c(){l=e(h.map(function(e){return e.props})),p.canUseDOM?t(l):n&&(l=n(l))}if("function"!=typeof r)throw new Error("Expected WrappedComponent to be a React component.");var l,h=[],p=function(e){function t(){return e.apply(this,arguments)||this}(function(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t})(t,e),t.peek=function(){return l},t.rewind=function(){if(t.canUseDOM)throw new Error("You may only call rewind() on the server. Call peek() to read the current state.");var e=l;return l=void 0,h=[],e};var n=t.prototype;return n.shouldComponentUpdate=function(e){return!s(e,this.props)},n.componentWillMount=function(){h.push(this),c()},n.componentDidUpdate=function(){c()},n.componentWillUnmount=function(){var e=h.indexOf(this);h.splice(e,1),c()},n.render=function(){return a.createElement(r,this.props)},t}(o.Component);return i(p,"displayName","SideEffect("+function(e){return e.displayName||e.name||"Component"}(r)+")"),i(p,"canUseDOM",u),p}}},"8Pgg":function(e){e.exports=function(e){var t={className:"variable",variants:[{begin:/\$[\w\d#@][\w\d_]*/},{begin:/\$\{(.*?)}/}]},n={className:"string",begin:/"/,end:/"/,contains:[e.BACKSLASH_ESCAPE,t,{className:"variable",begin:/\$\(/,end:/\)/,contains:[e.BACKSLASH_ESCAPE]}]};return{aliases:["sh","zsh"],lexemes:/\b-?[a-z\._]+\b/,keywords:{keyword:"if then else elif fi for while in do done case esac function",literal:"true false",built_in:"break cd continue eval exec exit export getopts hash pwd readonly return shift test times trap umask unset alias bind builtin caller command declare echo enable help let local logout mapfile printf read readarray source type typeset ulimit unalias set shopt autoload bg bindkey bye cap chdir clone comparguments compcall compctl compdescribe compfiles compgroups compquote comptags comptry compvalues dirs disable disown echotc echoti emulate fc fg float functions getcap getln history integer jobs kill limit log noglob popd print pushd pushln rehash sched setcap setopt stat suspend ttyctl unfunction unhash unlimit unsetopt vared wait whence where which zcompile zformat zftp zle zmodload zparseopts zprof zpty zregexparse zsocket zstyle ztcp",_:"-ne -eq -lt -gt -f -d -e -s -l -a"},contains:[{className:"meta",begin:/^#![^\n]+sh\s*$/,relevance:10},{className:"function",begin:/\w[\w\d_]*\s*\(\s*\)\s*\{/,returnBegin:!0,contains:[e.inherit(e.TITLE_MODE,{begin:/\w[\w\d_]*/})],relevance:0},e.HASH_COMMENT_MODE,n,{className:"",begin:/\\"/},{className:"string",begin:/'/,end:/'/},t]}}},"8gHz":function(e,t,n){var r=n("5K7Z"),i=n("eaoh"),o=n("UWiX")("species");e.exports=function(e,t){var n,a=r(e).constructor;return void 0===a||null==(n=r(a)[o])?t:i(n)}},"8oxB":function(e){function t(){throw new Error("setTimeout has not been defined")}function n(){throw new Error("clearTimeout has not been defined")}function r(e){if(u===setTimeout)return setTimeout(e,0);if((u===t||!u)&&setTimeout)return u=setTimeout,setTimeout(e,0);try{return u(e,0)}catch(t){try{return u.call(null,e,0)}catch(t){return u.call(this,e,0)}}}function i(){f&&h&&(f=!1,h.length?p=h.concat(p):d=-1,p.length&&o())}function o(){if(!f){var e=r(i);f=!0;for(var t=p.length;t;){for(h=p,p=[];++d<t;)h&&h[d].run();d=-1,t=p.length}h=null,f=!1,function(e){if(c===clearTimeout)return clearTimeout(e);if((c===n||!c)&&clearTimeout)return c=clearTimeout,clearTimeout(e);try{c(e)}catch(t){try{return c.call(null,e)}catch(t){return c.call(this,e)}}}(e)}}function a(e,t){this.fun=e,this.array=t}function s(){}var u,c,l=e.exports={};!function(){try{u="function"==typeof setTimeout?setTimeout:t}catch(n){u=t}try{c="function"==typeof clearTimeout?clearTimeout:n}catch(t){c=n}}();var h,p=[],f=!1,d=-1;l.nextTick=function(e){var t=Array(arguments.length-1);if(1<arguments.length)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];p.push(new a(e,t)),1!==p.length||f||r(o)},a.prototype.run=function(){this.fun.apply(null,this.array)},l.title="browser",l.browser=!0,l.env={},l.argv=[],l.version="",l.versions={},l.on=s,l.addListener=s,l.once=s,l.off=s,l.removeListener=s,l.removeAllListeners=s,l.emit=s,l.prependListener=s,l.prependOnceListener=s,l.listeners=function(){return[]},l.binding=function(){throw new Error("process.binding is not supported")},l.cwd=function(){return"/"},l.chdir=function(){throw new Error("process.chdir is not supported")},l.umask=function(){return 0}},"93I4":function(e){e.exports=function(e){return"object"==typeof e?null!==e:"function"==typeof e}},"9EOK":function(e,t,n){"use strict";var r=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t};Object.defineProperty(t,"__esModule",{value:!0});const i=r(n("q1tI"));t.RouterContext=i.createContext(null)},"9Jkg":function(e,t,n){e.exports=n("oh+g")},"9kyW":function(e){"use strict";e.exports=function(e){for(var t=5381,n=e.length;n;)t=33*t^e.charCodeAt(--n);return t>>>0}},"9uj6":function(e,t){"use strict";var n=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|download|draggable|encType|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|inert|itemProp|itemScope|itemType|itemID|itemRef|on|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,r=function(e){var t={};return function(n){return void 0===t[n]&&(t[n]=e(n)),t[n]}}(function(e){return n.test(e)||111===e.charCodeAt(0)&&110===e.charCodeAt(1)&&91>e.charCodeAt(2)});t.a=r},A5Xg:function(e,t,n){var r=n("NsO/"),i=n("ar/p").f,o={}.toString,a="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];e.exports.f=function(e){return a&&"[object Window]"==o.call(e)?function(e){try{return i(e)}catch(t){return a.slice()}}(e):i(r(e))}},ANjH:function(e,t,n){"use strict";function r(e,t,n){function i(){f===h&&(f=h.slice())}function o(){if(m)throw new Error("You may not call store.getState() while the reducer is executing. The reducer has already received the state as an argument. Pass it down from the top reducer instead of reading it from the store.");return l}function a(e){if("function"!=typeof e)throw new Error("Expected the listener to be a function.");if(m)throw new Error("You may not call store.subscribe() while the reducer is executing. If you would like to be notified after the store has been updated, subscribe from a component and invoke store.getState() in the callback to access the latest state. See https://redux.js.org/api-reference/store#subscribelistener for more details.");var t=!0;return i(),f.push(e),function(){if(t){if(m)throw new Error("You may not unsubscribe from a store listener while the reducer is executing. See https://redux.js.org/api-reference/store#subscribelistener for more details.");t=!1,i();var n=f.indexOf(e);f.splice(n,1),h=null}}}function s(e){if(!function(e){if("object"!=typeof e||null===e)return!1;for(var t=e;null!==Object.getPrototypeOf(t);)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t}(e))throw new Error("Actions must be plain objects. Use custom middleware for async actions.");if(void 0===e.type)throw new Error('Actions may not have an undefined "type" property. Have you misspelled a constant?');if(m)throw new Error("Reducers may not dispatch actions.");try{m=!0,l=c(l,e)}finally{m=!1}for(var t=h=f,n=0;n<t.length;n++)(0,t[n])();return e}var u;if("function"==typeof t&&"function"==typeof n||"function"==typeof n&&"function"==typeof arguments[3])throw new Error("It looks like you are passing several store enhancers to createStore(). This is not supported. Instead, compose them together to a single function.");if("function"==typeof t&&void 0===n&&(n=t,t=void 0),void 0!==n){if("function"!=typeof n)throw new Error("Expected the enhancer to be a function.");return n(r)(e,t)}if("function"!=typeof e)throw new Error("Expected the reducer to be a function.");var c=e,l=t,h=[],f=h,m=!1;return s({type:d.INIT}),(u={dispatch:s,subscribe:a,getState:o,replaceReducer:function(e){if("function"!=typeof e)throw new Error("Expected the nextReducer to be a function.");c=e,s({type:d.REPLACE})}})[p.a]=function(){var e,t=a;return(e={subscribe:function(e){function n(){e.next&&e.next(o())}if("object"!=typeof e||null===e)throw new TypeError("Expected the observer to be an object.");return n(),{unsubscribe:t(n)}}})[p.a]=function(){return this},e},u}function i(e,t){var n=t&&t.type;return"Given "+(n&&'action "'+n+'"'||"an action")+', reducer "'+e+'" returned undefined. To ignore an action, you must explicitly return the previous state. If you want this reducer to hold no value, you can return null instead of undefined.'}function o(e){for(var t,n=Object.keys(e),r={},o=0;o<n.length;o++)"function"==typeof e[t=n[o]]&&(r[t]=e[t]);var a,s=Object.keys(r);try{!function(e){Object.keys(e).forEach(function(t){var n=e[t];if(void 0===n(void 0,{type:d.INIT}))throw new Error('Reducer "'+t+"\" returned undefined during initialization. If the state passed to the reducer is undefined, you must explicitly return the initial state. The initial state may not be undefined. If you don't want to set a value for this reducer, you can use null instead of undefined.");if(void 0===n(void 0,{type:d.PROBE_UNKNOWN_ACTION()}))throw new Error('Reducer "'+t+"\" returned undefined when probed with a random type. Don't try to handle "+d.INIT+' or other actions in "redux/*" namespace. They are considered private. Instead, you must return the current state for any unknown actions, unless it is undefined, in which case you must return the initial state, regardless of the action type. The initial state may not be undefined, but can be null.')})}(r)}catch(n){a=n}return function(e,t){if(void 0===e&&(e={}),a)throw a;for(var n=!1,o={},u=0;u<s.length;u++){var c=s[u],l=r[c],h=e[c],p=l(h,t);if(void 0===p){var f=i(c,t);throw new Error(f)}o[c]=p,n=n||p!==h}return(n=n||s.length!==Object.keys(e).length)?o:e}}function a(e,t){return function(){return t(e.apply(this,arguments))}}function s(e,t){if("function"==typeof e)return a(e,t);if("object"!=typeof e||null===e)throw new Error("bindActionCreators expected an object or a function, instead received "+(null===e?"null":typeof e)+'. Did you write "import ActionCreators from" instead of "import * as ActionCreators from"?');var n={};for(var r in e){var i=e[r];"function"==typeof i&&(n[r]=a(i,t))}return n}function u(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function c(e,t){var n=Object.keys(e);return Object.getOwnPropertySymbols&&n.push.apply(n,Object.getOwnPropertySymbols(e)),t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n}function l(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return 0===t.length?function(e){return e}:1===t.length?t[0]:t.reduce(function(e,t){return function(){return e(t.apply(void 0,arguments))}})}function h(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(e){return function(){var n=e.apply(void 0,arguments),r=function(){throw new Error("Dispatching while constructing your middleware is not allowed. Other middleware would not be applied to this dispatch.")},i={getState:n.getState,dispatch:function(){return r.apply(void 0,arguments)}},o=t.map(function(e){return e(i)});return function(e){for(var t,n=1;n<arguments.length;n++)t=null==arguments[n]?{}:arguments[n],n%2?c(t,!0).forEach(function(n){u(e,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):c(t).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))});return e}({},n,{dispatch:r=l.apply(void 0,o)(n.dispatch)})}}}n.r(t),n.d(t,"__DO_NOT_USE__ActionTypes",function(){return d}),n.d(t,"applyMiddleware",function(){return h}),n.d(t,"bindActionCreators",function(){return s}),n.d(t,"combineReducers",function(){return o}),n.d(t,"compose",function(){return l}),n.d(t,"createStore",function(){return r});var p=n("bCCX"),f=function(){return Math.random().toString(36).substring(7).split("").join(".")},d={INIT:"@@redux/INIT"+f(),REPLACE:"@@redux/REPLACE"+f(),PROBE_UNKNOWN_ACTION:function(){return"@@redux/PROBE_UNKNOWN_ACTION"+f()}}},"AT/M":function(e,t,n){"use strict";function r(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}n.d(t,"a",function(){return r})},AUvm:function(e,t,n){"use strict";var r=n("5T2Y"),i=n("B+OT"),o=n("jmDH"),a=n("Y7ZC"),s=n("kTiW"),u=n("6/1s").KEY,c=n("KUxP"),l=n("29s/"),h=n("RfKB"),p=n("YqAc"),f=n("UWiX"),d=n("zLkG"),m=n("Zxgi"),g=n("R+7+"),v=n("kAMH"),y=n("5K7Z"),x=n("93I4"),b=n("JB68"),w=n("NsO/"),_=n("G8Mo"),E=n("rr1i"),S=n("oVml"),T=n("A5Xg"),A=n("vwuL"),M=n("mqlF"),C=n("2faE"),D=n("w6GO"),L=A.f,P=C.f,R=T.f,O=r.Symbol,I=r.JSON,k=I&&I.stringify,N="prototype",F=f("_hidden"),B=f("toPrimitive"),U={}.propertyIsEnumerable,z=l("symbol-registry"),j=l("symbols"),G=l("op-symbols"),H=Object[N],V="function"==typeof O&&!!M.f,W=r.QObject,X=!W||!W[N]||!W[N].findChild,q=o&&c(function(){return 7!=S(P({},"a",{get:function(){return P(this,"a",{value:7}).a}})).a})?function(e,t,n){var r=L(H,t);r&&delete H[t],P(e,t,n),r&&e!==H&&P(H,t,r)}:P,Y=function(e){var t=j[e]=S(O[N]);return t._k=e,t},J=V&&"symbol"==typeof O.iterator?function(e){return"symbol"==typeof e}:function(e){return e instanceof O},Z=function(e,t,n){return e===H&&Z(G,t,n),y(e),t=_(t,!0),y(n),i(j,t)?(n.enumerable?(i(e,F)&&e[F][t]&&(e[F][t]=!1),n=S(n,{enumerable:E(0,!1)})):(!i(e,F)&&P(e,F,E(1,{})),e[F][t]=!0),q(e,t,n)):P(e,t,n)},K=function(e,t){y(e);for(var n,r=g(t=w(t)),i=0,o=r.length;o>i;)Z(e,n=r[i++],t[n]);return e},$=function(e){var t=U.call(this,e=_(e,!0));return(this!==H||!i(j,e)||i(G,e))&&(!(t||!i(this,e)||!i(j,e)||i(this,F)&&this[F][e])||t)},Q=function(e,t){if(e=w(e),t=_(t,!0),e!==H||!i(j,t)||i(G,t)){var n=L(e,t);return n&&i(j,t)&&!(i(e,F)&&e[F][t])&&(n.enumerable=!0),n}},ee=function(e){for(var t,n=R(w(e)),r=[],o=0;n.length>o;)i(j,t=n[o++])||t==F||t==u||r.push(t);return r},te=function(e){for(var t,n=e===H,r=R(n?G:w(e)),o=[],a=0;r.length>a;)i(j,t=r[a++])&&(!n||i(H,t))&&o.push(j[t]);return o};V||(s((O=function(){if(this instanceof O)throw TypeError("Symbol is not a constructor!");var e=p(0<arguments.length?arguments[0]:void 0),t=function(n){this===H&&t.call(G,n),i(this,F)&&i(this[F],e)&&(this[F][e]=!1),q(this,e,E(1,n))};return o&&X&&q(H,e,{configurable:!0,set:t}),Y(e)})[N],"toString",function(){return this._k}),A.f=Q,C.f=Z,n("ar/p").f=T.f=ee,n("NV0k").f=$,M.f=te,o&&!n("uOPS")&&s(H,"propertyIsEnumerable",$,!0),d.f=function(e){return Y(f(e))}),a(a.G+a.W+a.F*!V,{Symbol:O});for(var ne=["hasInstance","isConcatSpreadable","iterator","match","replace","search","species","split","toPrimitive","toStringTag","unscopables"],re=0;ne.length>re;)f(ne[re++]);for(var ie=D(f.store),oe=0;ie.length>oe;)m(ie[oe++]);a(a.S+a.F*!V,"Symbol",{for:function(e){return i(z,e+="")?z[e]:z[e]=O(e)},keyFor:function(e){if(!J(e))throw TypeError(e+" is not a symbol!");for(var t in z)if(z[t]===e)return t},useSetter:function(){X=!0},useSimple:function(){X=!1}}),a(a.S+a.F*!V,"Object",{create:function(e,t){return void 0===t?S(e):K(S(e),t)},defineProperty:Z,defineProperties:K,getOwnPropertyDescriptor:Q,getOwnPropertyNames:ee,getOwnPropertySymbols:te});var ae=c(function(){M.f(1)});a(a.S+a.F*ae,"Object",{getOwnPropertySymbols:function(e){return M.f(b(e))}}),I&&a(a.S+a.F*(!V||c(function(){var e=O();return"[null]"!=k([e])||"{}"!=k({a:e})||"{}"!=k(Object(e))})),"JSON",{stringify:function(e){for(var t,n,r=[e],i=1;arguments.length>i;)r.push(arguments[i++]);if(n=t=r[1],(x(t)||void 0!==e)&&!J(e))return v(t)||(t=function(e,t){if("function"==typeof n&&(t=n.call(this,e,t)),!J(t))return t}),r[1]=t,k.apply(I,r)}}),O[N][B]||n("NegM")(O[N],B,O[N].valueOf),h(O,"Symbol"),h(Math,"Math",!0),h(r.JSON,"JSON",!0)},ApPD:function(e,t,n){var r=n("JB68"),i=n("U+KD");n("zn7N")("getPrototypeOf",function(){return function(e){return i(r(e))}})},"B+OT":function(e){var t={}.hasOwnProperty;e.exports=function(e,n){return t.call(e,n)}},BSXz:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n("yjFg");t.default=r.default},Bhuq:function(e,t,n){e.exports=n("+plK")},Bu4q:function(e,t,n){"use strict";function r(){const{protocol:e,hostname:t,port:n}=window.location;return`${e}//${t}${n?":"+n:""}`}function i(e){return"string"==typeof e?e:e.displayName||e.name||"Unknown"}function o(e){return e.finished||e.headersSent}Object.defineProperty(t,"__esModule",{value:!0});const a=n("CxY0");t.execOnce=function(e){let t=!1;return(...n)=>{t||(t=!0,e.apply(this,n))}},t.getLocationOrigin=r,t.getURL=function(){const{href:e}=window.location,t=r();return e.substring(t.length)},t.getDisplayName=i,t.isResSent=o,t.loadGetInitialProps=async function(e,t){if(!e.getInitialProps)return{};const n=await e.getInitialProps(t);if(t.res&&o(t.res))return n;if(!n){const t=`"${i(e)}.getInitialProps()" should resolve to an object. But found "${n}" instead.`;throw new Error(t)}return n},t.urlObjectKeys=["auth","hash","host","hostname","href","path","pathname","port","protocol","query","search","slashes"],t.formatWithValidation=function(e,t){return a.format(e,t)}},C46Q:function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))(function(i,o){function a(e){try{u(r.next(e))}catch(t){o(t)}}function s(e){try{u(r.throw(e))}catch(t){o(t)}}function u(e){e.done?i(e.value):new n(function(t){t(e.value)}).then(a,s)}u((r=r.apply(e,t||[])).next())})};Object.defineProperty(t,"__esModule",{value:!0});const i=n("Womt");n("4VPZ")(i);const o=n("ePJp");t.default=class{constructor(){this.cache={},this.objLoader=new i.OBJLoader,this.mtlLoader=new o,this.objectLoader=new i.ObjectLoader,this.jsonLoader=new i.JSONLoader}load(e){return r(this,void 0,void 0,function*(){const t=e.PATH,n=`${e.PATH}:${e.MATERIAL||"_"}`,r=this.cache[n];if(r)return Promise.resolve(r.obj);let i;if(/\.obj\/?$/.test(t))i=yield this.loadObjAndMtl(e);else{if(!/\.js(on)?\/?$/.test(t))throw new TypeError("Unsupported model URL: "+t);i=yield this.loadJson(e)}return i=this.fixObj(i),this.cache[t]={url:t,obj:i},i})}loadJson(e){return r(this,void 0,void 0,function*(){const t=yield Promise.race([new Promise((t,n)=>{this.jsonLoader.load(e.PATH,(e,n)=>{n&&Array.isArray(n)?t(new i.Mesh(e,n[0])):t(new i.Mesh(e))},void 0,n)}),new Promise((t,n)=>{this.objectLoader.load(e.PATH,t,void 0,n)}),new Promise((e,t)=>{setTimeout(()=>t("Request Timeout"),5e4)})]);t instanceof i.Mesh&&t.geometry instanceof i.Geometry&&(t.geometry=(new i.BufferGeometry).fromGeometry(t.geometry));const n=new i.Group;return n.add(t),n})}loadObjAndMtl(e){return r(this,void 0,void 0,function*(){if(e.MATERIAL){const t=yield this.loadMtl(e.MATERIAL);t.preload(),this.objLoader.setMaterials(t)}else this.objLoader.setMaterials(null);return this.loadObj(e.PATH)})}loadMtl(e){const t=(e=>{const t=e.match(/^(.*\\)(.*)$/)||e.match(/^(.*\/)(.*)\/?$/);return t?{path:t[1],basename:t[2]}:null})(e);return null===t?Promise.reject(new TypeError("Invalid URL: "+e)):(this.mtlLoader.setPath(t.path),new Promise((e,n)=>{this.mtlLoader.load(t.basename,e,void 0,n)}))}loadObj(e){return new Promise((t,n)=>{this.objLoader.load(e,t,void 0,n)})}fixObj(e){let t=null;if(e.traverse(e=>{e instanceof i.Mesh&&e.geometry instanceof i.BufferGeometry&&(e.geometry.computeBoundingBox(),null===t?t=e.geometry.boundingBox:t.union(e.geometry.boundingBox))}),null===t)return e;const n=new i.Sphere;t.getBoundingSphere(n);const r=1/n.radius,o=n.center;return e.traverse(e=>{e instanceof i.Mesh&&e.geometry instanceof i.BufferGeometry&&(e.geometry.translate(-o.x,-o.y,-o.z),e.geometry.scale(r,r,r),e.updateMatrix())}),e}}},ClZL:function(e,t,n){"use strict";function r(e){return Object.prototype.toString.call(e)}function i(e){return 10===e||13===e}function o(e){return 9===e||32===e}function a(e){return 9===e||32===e||10===e||13===e}function s(e){return 44===e||91===e||93===e||123===e||125===e}function u(e){var t;return 48<=e&&57>=e?e-48:97<=(t=32|e)&&102>=t?t-97+10:-1}function c(e){return 120===e?2:117===e?4:85===e?8:0}function l(e){return 48<=e&&57>=e?e-48:-1}function h(e){return 48===e?"\0":97===e?"":98===e?"\b":116===e?"\t":9===e?"\t":110===e?"\n":118===e?"\v":102===e?"\f":114===e?"\r":101===e?"":32===e?" ":34===e?'"':47===e?"/":92===e?"\\":78===e?"":95===e?"":76===e?"\u2028":80===e?"\u2029":""}function p(e){return 65535>=e?U(e):U(55296+(e-65536>>10),56320+(1023&e-65536))}function f(e,t){this.input=e,this.filename=t.filename||null,this.schema=t.schema||V,this.onWarning=t.onWarning||null,this.legacy=t.legacy||!1,this.json=t.json||!1,this.listener=t.listener||null,this.implicitTypes=this.schema.compiledImplicit,this.typeMap=this.schema.compiledTypeMap,this.length=e.length,this.position=0,this.line=0,this.lineStart=0,this.lineIndent=0,this.documents=[]}function d(e,t){return new j(t,new G(e.filename,e.input,e.position,e.line,e.position-e.lineStart))}function m(e,t){throw d(e,t)}function g(e,t){e.onWarning&&e.onWarning.call(null,d(e,t))}function v(e,t,n,r){var i,o,a,s;if(t<n){if(s=e.input.slice(t,n),r)for(i=0,o=s.length;i<o;i+=1)9===(a=s.charCodeAt(i))||32<=a&&1114111>=a||m(e,"expected valid JSON character");else Q.test(s)&&m(e,"the stream contains non-printable characters");e.result+=s}}function y(e,t,n,r){var i,o,a,s;for(z.isObject(n)||m(e,"cannot merge mappings; the provided source object is unacceptable"),a=0,s=(i=Object.keys(n)).length;a<s;a+=1)o=i[a],W.call(t,o)||(t[o]=n[o],r[o]=!0)}function x(e,t,n,i,o,a,s,u){var c,l;if(Array.isArray(o))for(c=0,l=(o=Array.prototype.slice.call(o)).length;c<l;c+=1)Array.isArray(o[c])&&m(e,"nested arrays are not supported inside keys"),"object"==typeof o&&"[object Object]"===r(o[c])&&(o[c]="[object Object]");if("object"==typeof o&&"[object Object]"===r(o)&&(o="[object Object]"),o+="",null===t&&(t={}),"tag:yaml.org,2002:merge"!==i)e.json||W.call(n,o)||!W.call(t,o)||(e.line=s||e.line,e.position=u||e.position,m(e,"duplicated mapping key")),t[o]=a,delete n[o];else if(Array.isArray(a))for(c=0,l=a.length;c<l;c+=1)y(e,t,a[c],n);else y(e,t,a,n);return t}function b(e){var t;10===(t=e.input.charCodeAt(e.position))?e.position++:13===t?(e.position++,10===e.input.charCodeAt(e.position)&&e.position++):m(e,"a line break is expected"),e.line+=1,e.lineStart=e.position}function w(e,t,n){for(var r=0,a=e.input.charCodeAt(e.position);0!==a;){for(;o(a);)a=e.input.charCodeAt(++e.position);if(t&&35===a)do{a=e.input.charCodeAt(++e.position)}while(10!==a&&13!==a&&0!==a);if(!i(a))break;for(b(e),a=e.input.charCodeAt(e.position),r++,e.lineIndent=0;32===a;)e.lineIndent++,a=e.input.charCodeAt(++e.position)}return-1!==n&&0!=r&&e.lineIndent<n&&g(e,"deficient indentation"),r}function _(e){var t,n=e.position;return!(45!==(t=e.input.charCodeAt(n))&&46!==t||t!==e.input.charCodeAt(n+1)||t!==e.input.charCodeAt(n+2)||(n+=3,t=e.input.charCodeAt(n),0!==t&&!a(t)))}function E(e,t){1===t?e.result+=" ":1<t&&(e.result+=z.repeat("\n",t-1))}function S(e,t,n){var r,u,c,l,h,p,f,d,m=e.kind,g=e.result;if(a(d=e.input.charCodeAt(e.position))||s(d)||35===d||38===d||42===d||33===d||124===d||62===d||39===d||34===d||37===d||64===d||96===d)return!1;if((63===d||45===d)&&(a(r=e.input.charCodeAt(e.position+1))||n&&s(r)))return!1;for(e.kind="scalar",e.result="",u=c=e.position,l=!1;0!==d;){if(58===d){if(a(r=e.input.charCodeAt(e.position+1))||n&&s(r))break}else if(35===d){if(a(e.input.charCodeAt(e.position-1)))break}else{if(e.position===e.lineStart&&_(e)||n&&s(d))break;if(i(d)){if(h=e.line,p=e.lineStart,f=e.lineIndent,w(e,!1,-1),e.lineIndent>=t){l=!0,d=e.input.charCodeAt(e.position);continue}e.position=c,e.line=h,e.lineStart=p,e.lineIndent=f;break}}l&&(v(e,u,c,!1),E(e,e.line-h),u=c=e.position,l=!1),o(d)||(c=e.position+1),d=e.input.charCodeAt(++e.position)}return v(e,u,c,!1),!!e.result||(e.kind=m,e.result=g,!1)}function T(e,t){var n,r,o;if(39!==(n=e.input.charCodeAt(e.position)))return!1;for(e.kind="scalar",e.result="",e.position++,r=o=e.position;0!==(n=e.input.charCodeAt(e.position));)if(39!==n)i(n)?(v(e,r,o,!0),E(e,w(e,!1,t)),r=o=e.position):e.position===e.lineStart&&_(e)?m(e,"unexpected end of the document within a single quoted scalar"):(e.position++,o=e.position);else{if(v(e,r,e.position,!0),39!==(n=e.input.charCodeAt(++e.position)))return!0;r=e.position,e.position++,o=e.position}m(e,"unexpected end of the stream within a single quoted scalar")}function A(e,t){var n,r,o,a,s,l;if(34!==(l=e.input.charCodeAt(e.position)))return!1;for(e.kind="scalar",e.result="",e.position++,n=r=e.position;0!==(l=e.input.charCodeAt(e.position));){if(34===l)return v(e,n,e.position,!0),e.position++,!0;if(92===l){if(v(e,n,e.position,!0),i(l=e.input.charCodeAt(++e.position)))w(e,!1,t);else if(256>l&&ie[l])e.result+=oe[l],e.position++;else if(0<(s=c(l))){for(o=s,a=0;0<o;o--)0<=(s=u(l=e.input.charCodeAt(++e.position)))?a=(a<<4)+s:m(e,"expected hexadecimal character");e.result+=p(a),e.position++}else m(e,"unknown escape sequence");n=r=e.position}else i(l)?(v(e,n,r,!0),E(e,w(e,!1,t)),n=r=e.position):e.position===e.lineStart&&_(e)?m(e,"unexpected end of the document within a double quoted scalar"):(e.position++,r=e.position)}m(e,"unexpected end of the stream within a double quoted scalar")}function M(e,t){var n,r,i,o,s,u,c,l,h,p,f=!0,d=e.tag,g=e.anchor,v={};if(91===(p=e.input.charCodeAt(e.position)))i=93,u=!1,r=[];else{if(123!==p)return!1;i=125,u=!0,r={}}for(null!==e.anchor&&(e.anchorMap[e.anchor]=r),p=e.input.charCodeAt(++e.position);0!==p;){if(w(e,!0,t),(p=e.input.charCodeAt(e.position))===i)return e.position++,e.tag=d,e.anchor=g,e.kind=u?"mapping":"sequence",e.result=r,!0;f||m(e,"missed comma between flow collection entries"),h=null,o=s=!1,63===p&&(a(e.input.charCodeAt(e.position+1))&&(o=s=!0,e.position++,w(e,!0,t))),n=e.line,I(e,t,X,!1,!0),l=e.tag,c=e.result,w(e,!0,t),p=e.input.charCodeAt(e.position),(s||e.line===n)&&58===p&&(o=!0,p=e.input.charCodeAt(++e.position),w(e,!0,t),I(e,t,X,!1,!0),h=e.result),u?x(e,r,v,l,c,h):o?r.push(x(e,null,v,l,c,h)):r.push(c),w(e,!0,t),44===(p=e.input.charCodeAt(e.position))?(f=!0,p=e.input.charCodeAt(++e.position)):f=!1}m(e,"unexpected end of the stream within a flow collection")}function C(e,t){var n,r,a,s,u=Z,c=!1,h=!1,p=t,f=0,d=!1;if(124===(s=e.input.charCodeAt(e.position)))r=!1;else{if(62!==s)return!1;r=!0}for(e.kind="scalar",e.result="";0!==s;)if(43===(s=e.input.charCodeAt(++e.position))||45===s)Z===u?u=43===s?$:K:m(e,"repeat of a chomping mode identifier");else{if(!(0<=(a=l(s))))break;0===a?m(e,"bad explicit indentation width of a block scalar; it cannot be less than one"):h?m(e,"repeat of an indentation width identifier"):(p=t+a-1,h=!0)}if(o(s)){do{s=e.input.charCodeAt(++e.position)}while(o(s));if(35===s)do{s=e.input.charCodeAt(++e.position)}while(!i(s)&&0!==s)}for(;0!==s;){for(b(e),e.lineIndent=0,s=e.input.charCodeAt(e.position);(!h||e.lineIndent<p)&&32===s;)e.lineIndent++,s=e.input.charCodeAt(++e.position);if(!h&&e.lineIndent>p&&(p=e.lineIndent),i(s))f++;else{if(e.lineIndent<p){u===$?e.result+=z.repeat("\n",c?1+f:f):u===Z&&c&&(e.result+="\n");break}for(r?o(s)?(d=!0,e.result+=z.repeat("\n",c?1+f:f)):d?(d=!1,e.result+=z.repeat("\n",f+1)):0==f?c&&(e.result+=" "):e.result+=z.repeat("\n",f):e.result+=z.repeat("\n",c?1+f:f),c=!0,h=!0,f=0,n=e.position;!i(s)&&0!==s;)s=e.input.charCodeAt(++e.position);v(e,n,e.position,!1)}}return!0}function D(e,t){var n,r,i=e.tag,o=e.anchor,s=[],u=!1;for(null!==e.anchor&&(e.anchorMap[e.anchor]=s),r=e.input.charCodeAt(e.position);0!==r&&45===r&&a(e.input.charCodeAt(e.position+1));)if(u=!0,e.position++,w(e,!0,-1)&&e.lineIndent<=t)s.push(null),r=e.input.charCodeAt(e.position);else if(n=e.line,I(e,t,Y,!1,!0),s.push(e.result),w(e,!0,-1),r=e.input.charCodeAt(e.position),(e.line===n||e.lineIndent>t)&&0!==r)m(e,"bad indentation of a sequence entry");else if(e.lineIndent<t)break;return!!u&&(e.tag=i,e.anchor=o,e.kind="sequence",e.result=s,!0)}function L(e,t,n){var r,i,s,u,c,l=e.tag,h=e.anchor,p={},f={},d=null,g=null,v=null,y=!1,b=!1;for(null!==e.anchor&&(e.anchorMap[e.anchor]=p),c=e.input.charCodeAt(e.position);0!==c;){if(r=e.input.charCodeAt(e.position+1),s=e.line,u=e.position,63!==c&&58!==c||!a(r)){if(!I(e,n,q,!1,!0))break;if(e.line===s){for(c=e.input.charCodeAt(e.position);o(c);)c=e.input.charCodeAt(++e.position);if(58===c)a(c=e.input.charCodeAt(++e.position))||m(e,"a whitespace character is expected after the key-value separator within a block mapping"),y&&(x(e,p,f,d,g,null),d=g=v=null),b=!0,y=!1,i=!1,d=e.tag,g=e.result;else{if(!b)return e.tag=l,e.anchor=h,!0;m(e,"can not read an implicit mapping pair; a colon is missed")}}else{if(!b)return e.tag=l,e.anchor=h,!0;m(e,"can not read a block mapping entry; a multiline key may not be an implicit key")}}else 63===c?(y&&(x(e,p,f,d,g,null),d=g=v=null),b=!0,y=!0,i=!0):y?(y=!1,i=!0):m(e,"incomplete explicit mapping pair; a key node is missed; or followed by a non-tabulated empty line"),e.position+=1,c=r;if((e.line===s||e.lineIndent>t)&&(I(e,t,J,!0,i)&&(y?g=e.result:v=e.result),!y&&(x(e,p,f,d,g,v,s,u),d=g=v=null),w(e,!0,-1),c=e.input.charCodeAt(e.position)),e.lineIndent>t&&0!==c)m(e,"bad indentation of a mapping entry");else if(e.lineIndent<t)break}return y&&x(e,p,f,d,g,null),b&&(e.tag=l,e.anchor=h,e.kind="mapping",e.result=p),b}function P(e){var t,n,r,i,o=!1,s=!1;if(33!==(i=e.input.charCodeAt(e.position)))return!1;if(null!==e.tag&&m(e,"duplication of a tag property"),60===(i=e.input.charCodeAt(++e.position))?(o=!0,i=e.input.charCodeAt(++e.position)):33===i?(s=!0,n="!!",i=e.input.charCodeAt(++e.position)):n="!",t=e.position,o){do{i=e.input.charCodeAt(++e.position)}while(0!==i&&62!==i);e.position<e.length?(r=e.input.slice(t,e.position),i=e.input.charCodeAt(++e.position)):m(e,"unexpected end of the stream within a verbatim tag")}else{for(;0!==i&&!a(i);)33===i&&(s?m(e,"tag suffix cannot contain exclamation marks"):(n=e.input.slice(t-1,e.position+1),!ne.test(n)&&m(e,"named tag handle cannot contain such characters"),s=!0,t=e.position+1)),i=e.input.charCodeAt(++e.position);r=e.input.slice(t,e.position),te.test(r)&&m(e,"tag suffix cannot contain flow indicator characters")}return r&&!re.test(r)&&m(e,"tag name cannot contain such characters: "+r),o?e.tag=r:W.call(e.tagMap,n)?e.tag=e.tagMap[n]+r:"!"===n?e.tag="!"+r:"!!"===n?e.tag="tag:yaml.org,2002:"+r:m(e,'undeclared tag handle "'+n+'"'),!0}function R(e){var t,n;if(38!==(n=e.input.charCodeAt(e.position)))return!1;for(null!==e.anchor&&m(e,"duplication of an anchor property"),n=e.input.charCodeAt(++e.position),t=e.position;0!==n&&!a(n)&&!s(n);)n=e.input.charCodeAt(++e.position);return e.position===t&&m(e,"name of an anchor node must contain at least one character"),e.anchor=e.input.slice(t,e.position),!0}function O(e){var t,n,r;if(42!==(r=e.input.charCodeAt(e.position)))return!1;for(r=e.input.charCodeAt(++e.position),t=e.position;0!==r&&!a(r)&&!s(r);)r=e.input.charCodeAt(++e.position);return e.position===t&&m(e,"name of an alias node must contain at least one character"),n=e.input.slice(t,e.position),e.anchorMap.hasOwnProperty(n)||m(e,'unidentified alias "'+n+'"'),e.result=e.anchorMap[n],w(e,!0,-1),!0}function I(e,t,n,r,i){var o,a,s,u,c,l,h,p,f=1,d=!1,g=!1;if(null!==e.listener&&e.listener("open",e),e.tag=null,e.anchor=null,e.kind=null,e.result=null,o=a=s=J===n||Y===n,r&&w(e,!0,-1)&&(d=!0,e.lineIndent>t?f=1:e.lineIndent===t?f=0:e.lineIndent<t&&(f=-1)),1==f)for(;P(e)||R(e);)w(e,!0,-1)?(d=!0,s=o,e.lineIndent>t?f=1:e.lineIndent===t?f=0:e.lineIndent<t&&(f=-1)):s=!1;if(s&&(s=d||i),(1==f||J===n)&&(h=X===n||q===n?t:t+1,p=e.position-e.lineStart,1==f?s&&(D(e,p)||L(e,p,h))||M(e,h)?g=!0:(a&&C(e,h)||T(e,h)||A(e,h)?g=!0:O(e)?(g=!0,(null!==e.tag||null!==e.anchor)&&m(e,"alias node should not have any properties")):S(e,h,X===n)&&(g=!0,null===e.tag&&(e.tag="?")),null!==e.anchor&&(e.anchorMap[e.anchor]=e.result)):0==f&&(g=s&&D(e,p))),null!==e.tag&&"!"!==e.tag)if("?"===e.tag){for(u=0,c=e.implicitTypes.length;u<c;u+=1)if((l=e.implicitTypes[u]).resolve(e.result)){e.result=l.construct(e.result),e.tag=l.tag,null!==e.anchor&&(e.anchorMap[e.anchor]=e.result);break}}else W.call(e.typeMap[e.kind||"fallback"],e.tag)?(l=e.typeMap[e.kind||"fallback"][e.tag],null!==e.result&&l.kind!==e.kind&&m(e,"unacceptable node kind for !<"+e.tag+'> tag; it should be "'+l.kind+'", not "'+e.kind+'"'),l.resolve(e.result)?(e.result=l.construct(e.result),null!==e.anchor&&(e.anchorMap[e.anchor]=e.result)):m(e,"cannot resolve a node with !<"+e.tag+"> explicit tag")):m(e,"unknown tag !<"+e.tag+">");return null!==e.listener&&e.listener("close",e),null!==e.tag||null!==e.anchor||g}function k(e){var t,n,r,s,u=e.position,c=!1;for(e.version=null,e.checkLineBreaks=e.legacy,e.tagMap={},e.anchorMap={};0!==(s=e.input.charCodeAt(e.position))&&(w(e,!0,-1),s=e.input.charCodeAt(e.position),!(0<e.lineIndent||37!==s));){for(c=!0,s=e.input.charCodeAt(++e.position),t=e.position;0!==s&&!a(s);)s=e.input.charCodeAt(++e.position);for(r=[],1>(n=e.input.slice(t,e.position)).length&&m(e,"directive name must not be less than one character in length");0!==s;){for(;o(s);)s=e.input.charCodeAt(++e.position);if(35===s){do{s=e.input.charCodeAt(++e.position)}while(0!==s&&!i(s));break}if(i(s))break;for(t=e.position;0!==s&&!a(s);)s=e.input.charCodeAt(++e.position);r.push(e.input.slice(t,e.position))}0!==s&&b(e),W.call(se,n)?se[n](e,n,r):g(e,'unknown document directive "'+n+'"')}return w(e,!0,-1),0===e.lineIndent&&45===e.input.charCodeAt(e.position)&&45===e.input.charCodeAt(e.position+1)&&45===e.input.charCodeAt(e.position+2)?(e.position+=3,w(e,!0,-1)):c&&m(e,"directives end mark is expected"),I(e,e.lineIndent-1,J,!1,!0),w(e,!0,-1),e.checkLineBreaks&&ee.test(e.input.slice(u,e.position))&&g(e,"non-ASCII line breaks are interpreted as content"),e.documents.push(e.result),e.position===e.lineStart&&_(e)?void(46===e.input.charCodeAt(e.position)&&(e.position+=3,w(e,!0,-1))):void(e.position<e.length-1&&m(e,"end of the stream or a document separator is expected"))}function N(e,t){t=t||{},0!==(e+="").length&&(10!==e.charCodeAt(e.length-1)&&13!==e.charCodeAt(e.length-1)&&(e+="\n"),65279===e.charCodeAt(0)&&(e=e.slice(1)));var n=new f(e,t);for(n.input+="\0";32===n.input.charCodeAt(n.position);)n.lineIndent+=1,n.position+=1;for(;n.position<n.length-1;)k(n);return n.documents}function F(e,t,n){var r,i,o=N(e,n);if("function"!=typeof t)return o;for(r=0,i=o.length;r<i;r+=1)t(o[r])}function B(e,t){var n=N(e,t);if(0!==n.length){if(1===n.length)return n[0];throw new j("expected a single document in the stream, but found more")}}for(var U=String.fromCharCode,z=n("Y2Yi"),j=n("w+qe"),G=n("tN50"),H=n("Z3Ei"),V=n("VtPO"),W=Object.prototype.hasOwnProperty,X=1,q=2,Y=3,J=4,Z=1,K=2,$=3,Q=/[\x00-\x08\x0B\x0C\x0E-\x1F\x7F-\x84\x86-\x9F\uFFFE\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]/,ee=/[\x85\u2028\u2029]/,te=/[,\[\]\{\}]/,ne=/^(?:!|!!|![a-z\-]+!)$/i,re=/^(?:!|[^,\[\]\{\}])(?:%[0-9a-f]{2}|[0-9a-z\-#;\/\?:@&=\+\$,_\.!~\*'\(\)\[\]])*$/i,ie=Array(256),oe=Array(256),ae=0;256>ae;ae++)ie[ae]=h(ae)?1:0,oe[ae]=h(ae);var se={YAML:function(e,t,n){var r,i,o;null!==e.version&&m(e,"duplication of %YAML directive"),1!==n.length&&m(e,"YAML directive accepts exactly one argument"),null===(r=/^([0-9]+)\.([0-9]+)$/.exec(n[0]))&&m(e,"ill-formed argument of the YAML directive"),i=parseInt(r[1],10),o=parseInt(r[2],10),1!==i&&m(e,"unacceptable YAML version of the document"),e.version=n[0],e.checkLineBreaks=2>o,1!==o&&2!==o&&g(e,"unsupported YAML version of the document")},TAG:function(e,t,n){var r,i;2!==n.length&&m(e,"TAG directive accepts exactly two arguments"),r=n[0],i=n[1],ne.test(r)||m(e,"ill-formed tag handle (first argument) of the TAG directive"),W.call(e.tagMap,r)&&m(e,'there is a previously declared suffix for "'+r+'" tag handle'),re.test(i)||m(e,"ill-formed tag prefix (second argument) of the TAG directive"),e.tagMap[r]=i}};e.exports.loadAll=F,e.exports.load=B,e.exports.safeLoadAll=function(e,t,n){return"function"==typeof t?void F(e,t,z.extend({schema:H},n)):F(e,z.extend({schema:H},n))},e.exports.safeLoad=function(e,t){return B(e,z.extend({schema:H},t))}},CxY0:function(e,t,n){"use strict";function r(){this.protocol=null,this.slashes=null,this.auth=null,this.host=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.query=null,this.pathname=null,this.path=null,this.href=null}function i(e,t,n){if(e&&a.isObject(e)&&e instanceof r)return e;var i=new r;return i.parse(e,t,n),i}var o=n("GYWy"),a=n("Nehr");t.parse=i,t.resolve=function(e,t){return i(e,!1,!0).resolve(t)},t.resolveObject=function(e,t){return e?i(e,!1,!0).resolveObject(t):t},t.format=function(e){return a.isString(e)&&(e=i(e)),e instanceof r?e.format():r.prototype.format.call(e)},t.Url=r;var s=/^([a-z0-9.+-]+:)/i,u=/:[0-9]*$/,c=/^(\/\/?(?!\/)[^\?\s]*)(\?[^\s]*)?$/,l=["{","}","|","\\","^","`"].concat(["<",">",'"',"`"," ","\r","\n","\t"]),h=["'"].concat(l),p=["%","/","?",";","#"].concat(h),f=["/","?","#"],d=/^[+a-z0-9A-Z_-]{0,63}$/,m=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,g={javascript:!0,"javascript:":!0},v={javascript:!0,"javascript:":!0},y={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0},x=n("s4NR");r.prototype.parse=function(e,t,n){if(!a.isString(e))throw new TypeError("Parameter 'url' must be a string, not "+typeof e);var r=e.indexOf("?"),i=-1!==r&&r<e.indexOf("#")?"?":"#",u=e.split(i);u[0]=u[0].replace(/\\/g,"/");var l=e=u.join(i);if(l=l.trim(),!n&&1===e.split("#").length){var b=c.exec(l);if(b)return this.path=l,this.href=l,this.pathname=b[1],b[2]?(this.search=b[2],this.query=t?x.parse(this.search.substr(1)):this.search.substr(1)):t&&(this.search="",this.query={}),this}var w=s.exec(l);if(w){var _=(w=w[0]).toLowerCase();this.protocol=_,l=l.substr(w.length)}if(n||w||l.match(/^\/\/[^@\/]+@[^@\/]+/)){var E="//"===l.substr(0,2);E&&(!w||!v[w])&&(l=l.substr(2),this.slashes=!0)}if(!v[w]&&(E||w&&!y[w])){for(var S=-1,T=0;T<f.length;T++)-1!==(C=l.indexOf(f[T]))&&(-1===S||C<S)&&(S=C);var A,M;-1!==(M=-1===S?l.lastIndexOf("@"):l.lastIndexOf("@",S))&&(A=l.slice(0,M),l=l.slice(M+1),this.auth=decodeURIComponent(A)),S=-1;var C;for(T=0;T<p.length;T++)-1!==(C=l.indexOf(p[T]))&&(-1===S||C<S)&&(S=C);-1===S&&(S=l.length),this.host=l.slice(0,S),l=l.slice(S),this.parseHost(),this.hostname=this.hostname||"";var D="["===this.hostname[0]&&"]"===this.hostname[this.hostname.length-1];if(!D)for(var L,P=this.hostname.split(/\./),R=(T=0,P.length);T<R;T++)if((L=P[T])&&!L.match(d)){for(var O="",I=0,k=L.length;I<k;I++)O+=127<L.charCodeAt(I)?"x":L[I];if(!O.match(d)){var N=P.slice(0,T),F=P.slice(T+1),B=L.match(m);B&&(N.push(B[1]),F.unshift(B[2])),F.length&&(l="/"+F.join(".")+l),this.hostname=N.join(".");break}}this.hostname=this.hostname.length>255?"":this.hostname.toLowerCase(),D||(this.hostname=o.toASCII(this.hostname));var U=this.port?":"+this.port:"",z=this.hostname||"";this.host=z+U,this.href+=this.host,D&&(this.hostname=this.hostname.substr(1,this.hostname.length-2),"/"!==l[0]&&(l="/"+l))}if(!g[_]){var j;for(T=0,R=h.length;T<R;T++)if(j=h[T],-1!==l.indexOf(j)){var G=encodeURIComponent(j);G===j&&(G=escape(j)),l=l.split(j).join(G)}}var H=l.indexOf("#");-1!==H&&(this.hash=l.substr(H),l=l.slice(0,H));var V=l.indexOf("?");if(-1===V?t&&(this.search="",this.query={}):(this.search=l.substr(V),this.query=l.substr(V+1),t&&(this.query=x.parse(this.query)),l=l.slice(0,V)),l&&(this.pathname=l),y[_]&&this.hostname&&!this.pathname&&(this.pathname="/"),this.pathname||this.search){U=this.pathname||"";var W=this.search||"";this.path=U+W}return this.href=this.format(),this},r.prototype.format=function(){var e=this.auth||"";e&&(e=(e=encodeURIComponent(e)).replace(/%3A/i,":"),e+="@");var t=this.protocol||"",n=this.pathname||"",r=this.hash||"",i=!1,o="";this.host?i=e+this.host:this.hostname&&(i=e+(-1===this.hostname.indexOf(":")?this.hostname:"["+this.hostname+"]"),this.port&&(i+=":"+this.port)),this.query&&a.isObject(this.query)&&Object.keys(this.query).length&&(o=x.stringify(this.query));var s=this.search||o&&"?"+o||"";return t&&":"!==t.substr(-1)&&(t+=":"),this.slashes||(!t||y[t])&&0!=i?(i="//"+(i||""),n&&"/"!==n.charAt(0)&&(n="/"+n)):!i&&(i=""),r&&"#"!==r.charAt(0)&&(r="#"+r),s&&"?"!==s.charAt(0)&&(s="?"+s),t+i+(n=n.replace(/[?#]/g,function(e){return encodeURIComponent(e)}))+(s=s.replace("#","%23"))+r},r.prototype.resolve=function(e){return this.resolveObject(i(e,!1,!0)).format()},r.prototype.resolveObject=function(e){if(a.isString(e)){var t=new r;t.parse(e,!1,!0),e=t}for(var n,i=new r,o=Object.keys(this),s=0;s<o.length;s++)i[n=o[s]]=this[n];if(i.hash=e.hash,""===e.href)return i.href=i.format(),i;if(e.slashes&&!e.protocol){for(var u,c=Object.keys(e),l=0;l<c.length;l++)"protocol"!==(u=c[l])&&(i[u]=e[u]);return y[i.protocol]&&i.hostname&&!i.pathname&&(i.path=i.pathname="/"),i.href=i.format(),i}if(e.protocol&&e.protocol!==i.protocol){if(!y[e.protocol]){for(var h,p=Object.keys(e),f=0;f<p.length;f++)i[h=p[f]]=e[h];return i.href=i.format(),i}if(i.protocol=e.protocol,e.host||v[e.protocol])i.pathname=e.pathname;else{for(var d=(e.pathname||"").split("/");d.length&&!(e.host=d.shift()););e.host||(e.host=""),e.hostname||(e.hostname=""),""!==d[0]&&d.unshift(""),2>d.length&&d.unshift(""),i.pathname=d.join("/")}if(i.search=e.search,i.query=e.query,i.host=e.host||"",i.auth=e.auth,i.hostname=e.hostname||e.host,i.port=e.port,i.pathname||i.search){var m=i.pathname||"",g=i.search||"";i.path=m+g}return i.slashes=i.slashes||e.slashes,i.href=i.format(),i}var x=i.pathname&&"/"===i.pathname.charAt(0),b=e.host||e.pathname&&"/"===e.pathname.charAt(0),w=b||x||i.host&&e.pathname,_=w,E=i.pathname&&i.pathname.split("/")||[],S=(d=e.pathname&&e.pathname.split("/")||[],i.protocol&&!y[i.protocol]);if(S&&(i.hostname="",i.port=null,i.host&&(""===E[0]?E[0]=i.host:E.unshift(i.host)),i.host="",e.protocol&&(e.hostname=null,e.port=null,e.host&&(""===d[0]?d[0]=e.host:d.unshift(e.host)),e.host=null),w=w&&(""===d[0]||""===E[0])),b)i.host=e.host||""===e.host?e.host:i.host,i.hostname=e.hostname||""===e.hostname?e.hostname:i.hostname,i.search=e.search,i.query=e.query,E=d;else if(d.length)E||(E=[]),E.pop(),E=E.concat(d),i.search=e.search,i.query=e.query;else if(!a.isNullOrUndefined(e.search)){if(S)i.hostname=i.host=E.shift(),(D=!!(i.host&&0<i.host.indexOf("@"))&&i.host.split("@"))&&(i.auth=D.shift(),i.host=i.hostname=D.shift());return i.search=e.search,i.query=e.query,a.isNull(i.pathname)&&a.isNull(i.search)||(i.path=(i.pathname?i.pathname:"")+(i.search?i.search:"")),i.href=i.format(),i}if(!E.length)return i.pathname=null,i.path=i.search?"/"+i.search:null,i.href=i.format(),i;for(var T=E.slice(-1)[0],A=(i.host||e.host||1<E.length)&&("."===T||".."===T)||""===T,M=0,C=E.length;0<=C;C--)"."===(T=E[C])?E.splice(C,1):".."===T?(E.splice(C,1),M++):M&&(E.splice(C,1),M--);if(!w&&!_)for(;M--;M)E.unshift("..");w&&""!==E[0]&&(!E[0]||"/"!==E[0].charAt(0))&&E.unshift(""),A&&"/"!==E.join("/").substr(-1)&&E.push("");var D,L=""===E[0]||E[0]&&"/"===E[0].charAt(0);S&&(i.hostname=i.host=L?"":E.length?E.shift():"",(D=!!(i.host&&0<i.host.indexOf("@"))&&i.host.split("@"))&&(i.auth=D.shift(),i.host=i.hostname=D.shift()));return(w=w||i.host&&E.length)&&!L&&E.unshift(""),E.length?i.pathname=E.join("/"):(i.pathname=null,i.path=null),a.isNull(i.pathname)&&a.isNull(i.search)||(i.path=(i.pathname?i.pathname:"")+(i.search?i.search:"")),i.auth=e.auth||i.auth,i.slashes=i.slashes||e.slashes,i.href=i.format(),i},r.prototype.parseHost=function(){var e=this.host,t=u.exec(e);t&&(":"!==(t=t[0])&&(this.port=t.substr(1)),e=e.substr(0,e.length-t.length)),e&&(this.hostname=e)}},D8kY:function(e,t,n){var r=n("Ojgd"),i=Math.max,o=Math.min;e.exports=function(e,t){return 0>(e=r(e))?i(e+t,0):o(e,t)}},DfW2:function(e,t,n){"use strict";var r=n("hyoZ"),i=Object.prototype.toString;e.exports=new r("tag:yaml.org,2002:pairs",{kind:"sequence",resolve:function(e){if(null===e)return!0;var t,n,r,o,a,s=e;for(a=Array(s.length),t=0,n=s.length;t<n;t+=1){if(r=s[t],"[object Object]"!==i.call(r))return!1;if(1!==(o=Object.keys(r)).length)return!1;a[t]=[o[0],r[o[0]]]}return!0},construct:function(e){if(null===e)return[];var t,n,r,i,o,a=e;for(o=Array(a.length),t=0,n=a.length;t<n;t+=1)r=a[t],i=Object.keys(r),o[t]=[i[0],r[i[0]]];return o}})},DwK1:function(e,t){"use strict";let n;Object.defineProperty(t,"__esModule",{value:!0}),t.getCtx=(()=>(n||(n=new(window.AudioContext||window.webkitAudioContext)),n))},ECyS:function(e,t){"use strict";function n(e){return Object.prototype.toString.call(e).slice(8,-1)}function r(e){return"Object"===n(e)&&e.constructor===Object&&Object.getPrototypeOf(e)===Object.prototype}function i(e){return"Array"===n(e)}function o(e){return"Symbol"===n(e)}function a(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var r=Array(e),i=0;for(t=0;t<n;t++)for(var o=arguments[t],a=0,s=o.length;a<s;a++,i++)r[i]=o[a];return r}function s(e,t,n,r){var i=r.propertyIsEnumerable(t)?"enumerable":"nonenumerable";"enumerable"==i&&(e[t]=n),"nonenumerable"==i&&Object.defineProperty(e,t,{value:n,enumerable:!1,writable:!0,configurable:!0})}function u(e,t,n){if(!r(t))return n&&i(n)&&n.forEach(function(n){t=n(e,t)}),t;var c={};r(e)&&(c=a(Object.getOwnPropertyNames(e),Object.getOwnPropertySymbols(e)).reduce(function(n,r){var i=e[r];return(o(r)||Object.getOwnPropertyNames(t).includes(r))&&(!o(r)||Object.getOwnPropertySymbols(t).includes(r))||s(n,r,i,e),n},{}));return a(Object.getOwnPropertyNames(t),Object.getOwnPropertySymbols(t)).reduce(function(o,a){var c=t[a],l=r(e)?e[a]:void 0;return n&&i(n)&&n.forEach(function(e){c=e(l,c)}),void 0!==l&&r(c)&&(c=u(l,c,n)),s(o,a,c,t),o},c)}t.a=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];var i=null,o=e;return r(e)&&e.extensions&&1===Object.keys(e).length&&(o={},i=e.extensions),t.reduce(function(e,t){return u(e,t,i)},o)}},EFsK:function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))(function(i,o){function a(e){try{u(r.next(e))}catch(t){o(t)}}function s(e){try{u(r.throw(e))}catch(t){o(t)}}function u(e){e.done?i(e.value):new n(function(t){t(e.value)}).then(a,s)}u((r=r.apply(e,t||[])).next())})};Object.defineProperty(t,"__esModule",{value:!0});const i=n("FMFf");class o{constructor(e,t,n,r){this.frames=[],this.index=0,this.playTime=0,this.frames=e,this.canvas=document.createElement("canvas"),this.ctx=this.canvas.getContext("2d"),this.pixelRatio=r,this.canvas.width=t,this.canvas.height=n,this.startTime=Date.now()}static create(e,t){return r(this,void 0,void 0,function*(){const n=yield fetch(e).then(e=>e.arrayBuffer()).then(e=>new i.default(e)),r=n.decompressFrames(!0),a=n.raw.lsd.width,s=n.raw.lsd.height;return new o(r,a,s,t)})}getCanvas(){return this.canvas}update(){const e=Date.now()-this.startTime;for(;this.playTime<e;){const e=this.frames[this.index%this.frames.length];this.playTime+=e.delay,this.index++}const t=this.frames[this.index%this.frames.length],n=new ImageData(t.patch,t.dims.width,t.dims.height);this.ctx.clearRect(0,0,this.canvas.width,this.canvas.height),this.ctx.putImageData(n,t.dims.left,t.dims.top)}}t.default=o},EXMj:function(e){e.exports=function(e,t,n,r){if(!(e instanceof t)||void 0!==r&&r in e)throw TypeError(n+": incorrect invocation!");return e}},FMFf:function(e,t,n){const r=n("n95T");e.exports=r},FbiP:function(e,t,n){e.exports=n("4bdI")},FlQf:function(e,t,n){"use strict";var r=n("ccE7")(!0);n("MPFp")(String,"String",function(e){this._t=e+"",this._i=0},function(){var e,t=this._t,n=this._i;return n>=t.length?{value:void 0,done:!0}:(e=r(t,n),this._i+=e.length,{value:e,done:!1})})},FpHa:function(e){e.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},G8Mo:function(e,t,n){var r=n("93I4");e.exports=function(e,t){if(!r(e))return e;var n,i;if(t&&"function"==typeof(n=e.toString)&&!r(i=n.call(e)))return i;if("function"==typeof(n=e.valueOf)&&!r(i=n.call(e)))return i;if(!t&&"function"==typeof(n=e.toString)&&!r(i=n.call(e)))return i;throw TypeError("Can't convert object to primitive value")}},GYWy:function(e,t,n){(function(e,r){var i;!function(o){function a(e){throw new RangeError(L[e])}function s(e,t){for(var n=e.length,r=[];n--;)r[n]=t(e[n]);return r}function u(e,t){var n=e.split("@"),r="";return 1<n.length&&(r=n[0]+"@",e=n[1]),r+s((e=e.replace(D,".")).split("."),t).join(".")}function c(e){for(var t,n,r=[],i=0,o=e.length;i<o;)55296<=(t=e.charCodeAt(i++))&&56319>=t&&i<o?56320==(64512&(n=e.charCodeAt(i++)))?r.push(((1023&t)<<10)+(1023&n)+65536):(r.push(t),i--):r.push(t);return r}function l(e){return s(e,function(e){var t="";return 65535<e&&(t+=O(55296|1023&(e-=65536)>>>10),e=56320|1023&e),t+=O(e)}).join("")}function h(e){return 10>e-48?e-22:26>e-65?e-65:26>e-97?e-97:x}function p(e,t){return e+22+75*(26>e)-((0!=t)<<5)}function f(e,t,n){var r=0;for(e=n?R(e/E):e>>1,e+=R(e/t);e>P*w>>1;r+=x)e=R(e/P);return R(r+(P+1)*e/(e+_))}function d(e){var t,n,r,i,o,s,u,c,p,d,m=[],g=e.length,v=0,_=T,E=S;for(0>(n=e.lastIndexOf(A))&&(n=0),r=0;r<n;++r)128<=e.charCodeAt(r)&&a("not-basic"),m.push(e.charCodeAt(r));for(i=0<n?n+1:0;i<g;){for(o=v,s=1,u=x;i>=g&&a("invalid-input"),((c=h(e.charCodeAt(i++)))>=x||c>R((y-v)/s))&&a("overflow"),v+=c*s,!(c<(p=u<=E?b:u>=E+w?w:u-E));u+=x)s>R(y/(d=x-p))&&a("overflow"),s*=d;E=f(v-o,t=m.length+1,0==o),R(v/t)>y-_&&a("overflow"),_+=R(v/t),v%=t,m.splice(v++,0,_)}return l(m)}function m(e){var t,n,r,i,o,s,u,l,h,d,m,g,v,_,E,M=[];for(g=(e=c(e)).length,t=T,n=0,o=S,s=0;s<g;++s)128>(m=e[s])&&M.push(O(m));for(r=i=M.length,i&&M.push(A);r<g;){for(u=y,s=0;s<g;++s)(m=e[s])>=t&&m<u&&(u=m);for(u-t>R((y-n)/(v=r+1))&&a("overflow"),n+=(u-t)*v,t=u,s=0;s<g;++s)if((m=e[s])<t&&++n>y&&a("overflow"),m==t){for(l=n,h=x;!(l<(d=h<=o?b:h>=o+w?w:h-o));h+=x)E=l-d,_=x-d,M.push(O(p(d+E%_,0))),l=R(E/_);M.push(O(p(l,0))),o=f(n,v,r==i),n=0,++r}++n,++t}return M.join("")}t&&t.nodeType,e&&e.nodeType;var g="object"==typeof r&&r;g.global===g||g.window===g||g.self;var v,y=2147483647,x=36,b=1,w=26,_=38,E=700,S=72,T=128,A="-",M=/^xn--/,C=/[^\x20-\x7E]/,D=/[\x2E\u3002\uFF0E\uFF61]/g,L={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},P=x-b,R=Math.floor,O=String.fromCharCode;v={version:"1.4.1",ucs2:{decode:c,encode:l},decode:d,encode:m,toASCII:function(e){return u(e,function(e){return C.test(e)?"xn--"+m(e):e})},toUnicode:function(e){return u(e,function(e){return M.test(e)?d(e.slice(4).toLowerCase()):e})}},void 0===(i=function(){return v}.call(t,n,t,e))||(e.exports=i)}()}).call(this,n("YuTi")(e),n("yLpj"))},GsEv:function(e,t,n){"use strict";function r(){}var i=n("luDK");e.exports=function(){function e(e,t,n,r,o,a){if(a!==i){var s=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw s.name="Invariant Violation",s}}function t(){return e}e.isRequired=e;var n={array:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t};return n.checkPropTypes=r,n.PropTypes=n,n}},Gytx:function(e){e.exports=function(e,t,n,r){var i=n?n.call(r,e,t):void 0;if(void 0!==i)return!!i;if(e===t)return!0;if("object"!=typeof e||!e||"object"!=typeof t||!t)return!1;var o=Object.keys(e),a=Object.keys(t);if(o.length!==a.length)return!1;for(var s,u=Object.prototype.hasOwnProperty.bind(t),c=0;c<o.length;c++){if(!u(s=o[c]))return!1;var l=e[s],h=t[s];if(!1===(i=n?n.call(r,l,h,s):void 0)||void 0===i&&l!==h)return!1}return!0}},H7XF:function(e,t){"use strict";function n(e){var t=e.length;if(0<t%4)throw new Error("Invalid string. Length must be a multiple of 4");var n=e.indexOf("=");return-1===n&&(n=t),[n,n===t?0:4-n%4]}function r(e){return o[63&e>>18]+o[63&e>>12]+o[63&e>>6]+o[63&e]}function i(e,t,n){for(var i,o=[],a=t;a<n;a+=3)i=(16711680&e[a]<<16)+(65280&e[a+1]<<8)+(255&e[a+2]),o.push(r(i));return o.join("")}t.byteLength=function(e){var t=n(e),r=t[0],i=t[1];return 3*(r+i)/4-i},t.toByteArray=function(e){var t,r,i=n(e),o=i[0],u=i[1],c=new s(function(e,t,n){return 3*(t+n)/4-n}(0,o,u)),l=0,h=0<u?o-4:o;for(r=0;r<h;r+=4)t=a[e.charCodeAt(r)]<<18|a[e.charCodeAt(r+1)]<<12|a[e.charCodeAt(r+2)]<<6|a[e.charCodeAt(r+3)],c[l++]=255&t>>16,c[l++]=255&t>>8,c[l++]=255&t;return 2===u&&(t=a[e.charCodeAt(r)]<<2|a[e.charCodeAt(r+1)]>>4,c[l++]=255&t),1===u&&(t=a[e.charCodeAt(r)]<<10|a[e.charCodeAt(r+1)]<<4|a[e.charCodeAt(r+2)]>>2,c[l++]=255&t>>8,c[l++]=255&t),c},t.fromByteArray=function(e){for(var t,n=e.length,r=n%3,a=[],s=16383,u=0,c=n-r;u<c;u+=s)a.push(i(e,u,u+s>c?c:u+s));return 1==r?(t=e[n-1],a.push(o[t>>2]+o[63&t<<4]+"==")):2==r&&(t=(e[n-2]<<8)+e[n-1],a.push(o[t>>10]+o[63&t>>4]+o[63&t<<2]+"=")),a.join("")};for(var o=[],a=[],s="undefined"==typeof Uint8Array?Array:Uint8Array,u="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",c=0,l=u.length;c<l;++c)o[c]=u[c],a[u.charCodeAt(c)]=c;a[45]=62,a[95]=63},HMs9:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var s=Math.max,u=Math.min;Object.defineProperty(t,"__esModule",{value:!0}),t.forceVisible=t.forceCheck=t.lazyload=void 0;var c=function(){function e(e,t){for(var n,r=0;r<t.length;r++)(n=t[r]).enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=n("q1tI"),h=r(l),p=r(n("i8i4")),f=r(n("17x9")),d=n("Seim"),m=r(n("tvXG")),g=r(n("PTkm")),v=r(n("uUxy")),y=0,x=0,b=0,w=0,_="data-lazyload-listened",E=[],S=[],T=!1;try{var A=Object.defineProperty({},"passive",{get:function(){T=!0}});window.addEventListener("test",null,A)}catch(t){}var M=!!T&&{capture:!1,passive:!0},C=function(e){var t=p.default.findDOMNode(e);if(t instanceof HTMLElement){var n=(0,m.default)(t);(e.props.overflow&&n!==t.ownerDocument&&n!==document&&n!==document.documentElement?function(e,t){var n=p.default.findDOMNode(e),r=void 0,i=void 0,o=void 0,a=void 0;try{var c=t.getBoundingClientRect();r=c.top,i=c.left,o=c.height,a=c.width}catch(t){r=y,i=x,o=w,a=b}var l=window.innerHeight||document.documentElement.clientHeight,h=window.innerWidth||document.documentElement.clientWidth,f=s(r,0),d=s(i,0),m=u(l,r+o)-f,g=u(h,i+a)-d,v=void 0,_=void 0,E=void 0,S=void 0;try{var T=n.getBoundingClientRect();v=T.top,_=T.left,E=T.height,S=T.width}catch(t){v=y,_=x,E=w,S=b}var A=v-f,M=_-d,C=Array.isArray(e.props.offset)?e.props.offset:[e.props.offset,e.props.offset];return A-C[0]<=m&&0<=A+E+C[1]&&M-C[0]<=g&&0<=M+S+C[1]}(e,n):function(e){var t=p.default.findDOMNode(e);if(!(t.offsetWidth||t.offsetHeight||t.getClientRects().length))return!1;var n=void 0,r=void 0;try{var i=t.getBoundingClientRect();n=i.top,r=i.height}catch(t){n=y,r=w}var o=window.innerHeight||document.documentElement.clientHeight,a=Array.isArray(e.props.offset)?e.props.offset:[e.props.offset,e.props.offset];return n-a[0]<=o&&0<=n+r+a[1]}(e))?!e.visible&&(e.props.once&&S.push(e),e.visible=!0,e.forceUpdate()):(!e.props.once||!e.visible)&&(e.visible=!1,e.props.unmountIfInvisible&&e.forceUpdate())}},D=function(){S.forEach(function(e){var t=E.indexOf(e);-1!==t&&E.splice(t,1)}),S=[]},L=function(){for(var e,t=0;t<E.length;++t)e=E[t],C(e);D()},P=void 0,R=null,O=function(e){function t(e){i(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.visible=!1,n}return a(t,l.Component),c(t,[{key:"componentDidMount",value:function(){var e=window,t=this.props.scrollContainer;t&&function(e){return"string"==typeof e}(t)&&(e=e.document.querySelector(t));var n=void 0!==this.props.debounce&&"throttle"===P||"debounce"===P&&void 0===this.props.debounce;if(n&&((0,d.off)(e,"scroll",R,M),(0,d.off)(window,"resize",R,M),R=null),R||(void 0===this.props.debounce?void 0===this.props.throttle?R=L:(R=(0,v.default)(L,"number"==typeof this.props.throttle?this.props.throttle:300),P="throttle"):(R=(0,g.default)(L,"number"==typeof this.props.debounce?this.props.debounce:300),P="debounce")),this.props.overflow){var r=(0,m.default)(p.default.findDOMNode(this));if(r&&"function"==typeof r.getAttribute){var i=+r.getAttribute(_)+1;1==i&&r.addEventListener("scroll",R,M),r.setAttribute(_,i)}}else if(0===E.length||n){var o=this.props,a=o.scroll,s=o.resize;a&&(0,d.on)(e,"scroll",R,M),s&&(0,d.on)(window,"resize",R,M)}E.push(this),C(this)}},{key:"shouldComponentUpdate",value:function(){return this.visible}},{key:"componentWillUnmount",value:function(){if(this.props.overflow){var e=(0,m.default)(p.default.findDOMNode(this));if(e&&"function"==typeof e.getAttribute){var t=+e.getAttribute(_)-1;0==t?(e.removeEventListener("scroll",R,M),e.removeAttribute(_)):e.setAttribute(_,t)}}var n=E.indexOf(this);-1!==n&&E.splice(n,1),0===E.length&&"undefined"!=typeof window&&((0,d.off)(window,"resize",R,M),(0,d.off)(window,"scroll",R,M))}},{key:"render",value:function(){return this.visible?this.props.children:this.props.placeholder?this.props.placeholder:h.default.createElement("div",{style:{height:this.props.height},className:"lazyload-placeholder"})}}]),t}();O.propTypes={once:f.default.bool,height:f.default.oneOfType([f.default.number,f.default.string]),offset:f.default.oneOfType([f.default.number,f.default.arrayOf(f.default.number)]),overflow:f.default.bool,resize:f.default.bool,scroll:f.default.bool,children:f.default.node,throttle:f.default.oneOfType([f.default.number,f.default.bool]),debounce:f.default.oneOfType([f.default.number,f.default.bool]),placeholder:f.default.node,scrollContainer:f.default.oneOfType([f.default.string,f.default.object]),unmountIfInvisible:f.default.bool},O.defaultProps={once:!1,offset:0,overflow:!1,resize:!1,scroll:!0,unmountIfInvisible:!1};var I=function(e){return e.displayName||e.name||"Component"};t.lazyload=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};return function(t){return function(n){function r(){i(this,r);var e=o(this,(r.__proto__||Object.getPrototypeOf(r)).call(this));return e.displayName="LazyLoad"+I(t),e}return a(r,l.Component),c(r,[{key:"render",value:function(){return h.default.createElement(O,e,h.default.createElement(t,this.props))}}]),r}()}},t.default=O,t.forceCheck=L,t.forceVisible=function(){for(var e,t=0;t<E.length;++t)(e=E[t]).visible=!0,e.forceUpdate();D()}},HUeH:function(e,t,n){"use strict";function r(e){return function(){throw new Error("Function "+e+" is deprecated and cannot be used.")}}var i=n("ClZL"),o=n("XP29");e.exports.Type=n("hyoZ"),e.exports.Schema=n("3lC6"),e.exports.FAILSAFE_SCHEMA=n("2YgE"),e.exports.JSON_SCHEMA=n("+VNs"),e.exports.CORE_SCHEMA=n("RSjF"),e.exports.DEFAULT_SAFE_SCHEMA=n("Z3Ei"),e.exports.DEFAULT_FULL_SCHEMA=n("VtPO"),e.exports.load=i.load,e.exports.loadAll=i.loadAll,e.exports.safeLoad=i.safeLoad,e.exports.safeLoadAll=i.safeLoadAll,e.exports.dump=o.dump,e.exports.safeDump=o.safeDump,e.exports.YAMLException=n("w+qe"),e.exports.MINIMAL_SCHEMA=n("2YgE"),e.exports.SAFE_SCHEMA=n("Z3Ei"),e.exports.DEFAULT_SCHEMA=n("VtPO"),e.exports.scan=r("scan"),e.exports.parse=r("parse"),e.exports.compose=r("compose"),e.exports.addConstructor=r("addConstructor")},Hfiw:function(e,t,n){var r=n("Y7ZC");r(r.S,"Object",{setPrototypeOf:n("6tYh").set})},Hsns:function(e,t,n){var r=n("93I4"),i=n("5T2Y").document,o=r(i)&&r(i.createElement);e.exports=function(e){return o?i.createElement(e):{}}},J7Ao:function(e){e.exports=class{constructor(){this.seen={}}slug(e){let t=e.toLowerCase().trim().replace(/<[!\/a-z].*?>/gi,"").replace(/[\u2000-\u206F\u2E00-\u2E7F\\'!"#$%&()*+,./:;<=>?@[\]^`{|}~]/g,"").replace(/\s/g,"-");if(this.seen.hasOwnProperty(t)){const e=t;do{this.seen[e]++,t=e+"-"+this.seen[e]}while(this.seen.hasOwnProperty(t))}return this.seen[t]=0,t}}},JB68:function(e,t,n){var r=n("Jes0");e.exports=function(e){return Object(r(e))}},"JMW+":function(e,t,n){"use strict";var r,i,o,a,s=n("uOPS"),u=n("5T2Y"),c=n("2GTP"),l=n("QMMT"),h=n("Y7ZC"),p=n("93I4"),f=n("eaoh"),d=n("EXMj"),m=n("oioR"),g=n("8gHz"),v=n("QXhf").set,y=n("q6LJ")(),x=n("ZW5q"),b=n("RDmV"),w=n("vBP9"),_=n("zXhZ"),E="Promise",S=u.TypeError,T=u.process,A=T&&T.versions,M=A&&A.v8||"",C=u[E],D="process"==l(T),L=function(){},P=i=x.f,R=!!function(){try{var e=C.resolve(1),t=(e.constructor={})[n("UWiX")("species")]=function(e){e(L,L)};return(D||"function"==typeof PromiseRejectionEvent)&&e.then(L)instanceof t&&0!==M.indexOf("6.6")&&-1===w.indexOf("Chrome/66")}catch(t){}}(),O=function(e){var t;return!(!p(e)||"function"!=typeof(t=e.then))&&t},I=function(e,t){if(!e._n){e._n=!0;var n=e._c;y(function(){for(var r=e._v,i=1==e._s,o=0,a=function(t){var n,o,a,s=i?t.ok:t.fail,u=t.resolve,c=t.reject,l=t.domain;try{s?(!i&&(2==e._h&&F(e),e._h=1),!0===s?n=r:(l&&l.enter(),n=s(r),l&&(l.exit(),a=!0)),n===t.promise?c(S("Promise-chain cycle")):(o=O(n))?o.call(n,u,c):u(n)):c(r)}catch(t){l&&!a&&l.exit(),c(t)}};n.length>o;)a(n[o++]);e._c=[],e._n=!1,t&&!e._h&&k(e)})}},k=function(e){v.call(u,function(){var t,n,r,i=e._v,o=N(e);if(o&&(t=b(function(){D?T.emit("unhandledRejection",i,e):(n=u.onunhandledrejection)?n({promise:e,reason:i}):(r=u.console)&&r.error&&r.error("Unhandled promise rejection",i)}),e._h=D||N(e)?2:1),e._a=void 0,o&&t.e)throw t.v})},N=function(e){return 1!==e._h&&0===(e._a||e._c).length},F=function(e){v.call(u,function(){var t;D?T.emit("rejectionHandled",e):(t=u.onrejectionhandled)&&t({promise:e,reason:e._v})})},B=function(e){var t=this;t._d||(t._d=!0,(t=t._w||t)._v=e,t._s=2,!t._a&&(t._a=t._c.slice()),I(t,!0))},U=function(e){var t,n=this;if(!n._d){n._d=!0,n=n._w||n;try{if(n===e)throw S("Promise can't be resolved itself");(t=O(e))?y(function(){var r={_w:n,_d:!1};try{t.call(e,c(U,r,1),c(B,r,1))}catch(n){B.call(r,n)}}):(n._v=e,n._s=1,I(n,!1))}catch(t){B.call({_w:n,_d:!1},t)}}};R||(C=function(e){d(this,C,E,"_h"),f(e),r.call(this);try{e(c(U,this,1),c(B,this,1))}catch(e){B.call(this,e)}},(r=function(){this._c=[],this._a=void 0,this._s=0,this._d=!1,this._v=void 0,this._h=0,this._n=!1}).prototype=n("XJU/")(C.prototype,{then:function(e,t){var n=P(g(this,C));return n.ok="function"!=typeof e||e,n.fail="function"==typeof t&&t,n.domain=D?T.domain:void 0,this._c.push(n),this._a&&this._a.push(n),this._s&&I(this,!1),n.promise},catch:function(e){return this.then(void 0,e)}}),o=function(){var e=new r;this.promise=e,this.resolve=c(U,e,1),this.reject=c(B,e,1)},x.f=P=function(e){return e===C||e===a?new o(e):i(e)}),h(h.G+h.W+h.F*!R,{Promise:C}),n("RfKB")(C,E),n("TJWN")(E),a=n("WEpk")[E],h(h.S+h.F*!R,E,{reject:function(e){var t=P(this);return(0,t.reject)(e),t.promise}}),h(h.S+h.F*(s||!R),E,{resolve:function(e){return _(s&&this===a?C:this,e)}}),h(h.S+h.F*!(R&&n("TuGD")(function(e){C.all(e).catch(L)})),E,{all:function(e){var t=this,n=P(t),r=n.resolve,i=n.reject,o=b(function(){var n=[],o=0,a=1;m(e,!1,function(e){var s=o++,u=!1;n.push(void 0),a++,t.resolve(e).then(function(e){u||(u=!0,n[s]=e,--a||r(n))},i)}),--a||r(n)});return o.e&&i(o.v),n.promise},race:function(e){var t=this,n=P(t),r=n.reject,i=b(function(){m(e,!1,function(e){t.resolve(e).then(n.resolve,r)})});return i.e&&r(i.v),n.promise}})},JQMT:function(e,t,n){"use strict";function r(e){return e.replace(/\/$/,"")||"/"}var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=n("CxY0"),a=i(n("kiME")),s=n("Bu4q");class u{constructor(e,t,n,{initialProps:i,pageLoader:o,App:a,Component:c,err:l}){this.onPopState=(e=>{if(e.state){if((!e.state.options||!e.state.options.fromExternal)&&(!this._bps||this._bps(e.state))){const{url:t,as:n,options:r}=e.state;this.replace(t,n,r)}}else{const{pathname:e,query:t}=this;this.changeState("replaceState",s.formatWithValidation({pathname:e,query:t}),s.getURL())}}),this.route=r(e),this.components={},"/_error"!==e&&(this.components[this.route]={Component:c,props:i,err:l}),this.components["/_app"]={Component:a},this.events=u.events,this.pageLoader=o,this.pathname=e,this.query=t,this.asPath=n,this.subscriptions=new Set,this.componentLoadCancel=null,"undefined"!=typeof window&&(this.changeState("replaceState",s.formatWithValidation({pathname:e,query:t}),n),window.addEventListener("popstate",this.onPopState),window.addEventListener("unload",()=>{if(history.state){const{url:e,as:t,options:n}=history.state;this.changeState("replaceState",e,t,Object.assign({},n,{fromExternal:!0}))}}))}static _rewriteUrlForNextExport(e){const[t,n]=e.split("#");let[r,i]=t.split("?");return r=r.replace(/\/$/,""),/\.[^/]+\/?$/.test(r)||(r+="/"),i&&(r+="?"+i),n&&(r+="#"+n),r}update(e,t){const n=this.components[e];if(!n)throw new Error(`Cannot update unavailable route: ${e}`);const r=Object.assign({},n,{Component:t});return this.components[e]=r,"/_app"===e?void this.notify(this.components[this.route]):void(e===this.route&&this.notify(r))}reload(e){return new Promise((t,n)=>{if(delete this.components[e],this.pageLoader.clearCache(e),e!==this.route)return t();const{pathname:r,query:i}=this,o=window.location.href,a=window.location.pathname+window.location.search+window.location.hash;u.events.emit("routeChangeStart",o),this.getRouteInfo(e,r,i,a).then(e=>{const{error:r}=e;return r&&r.cancelled?t():(this.notify(e),r?(u.events.emit("routeChangeError",r,o),n(r)):void u.events.emit("routeChangeComplete",o))})})}back(){window.history.back()}push(e,t=e,n={}){return this.change("pushState",e,t,n)}replace(e,t=e,n={}){return this.change("replaceState",e,t,n)}change(e,t,n,i){return new Promise((a,c)=>{const l="object"==typeof t?s.formatWithValidation(t):t;let h="object"==typeof n?s.formatWithValidation(n):n;if(__NEXT_DATA__.nextExport&&(h=u._rewriteUrlForNextExport(h)),this.abortComponentLoad(h),this.onlyAHashChange(h))return u.events.emit("hashChangeStart",h),this.changeState(e,l,h),this.scrollToHash(h),u.events.emit("hashChangeComplete",h),!0;const{pathname:p,query:f}=o.parse(l,!0);this.urlIsNew(h)||(e="replaceState");const d=r(p),{shallow:m=!1}=i;u.events.emit("routeChangeStart",h),this.getRouteInfo(d,p,f,h,m).then(t=>{const{error:n}=t;if(n&&n.cancelled)return a(!1);u.events.emit("beforeHistoryChange",h),this.changeState(e,l,h,i);const r=window.location.hash.substring(1);if(this.set(d,p,f,h,Object.assign({},t,{hash:r})),n)throw u.events.emit("routeChangeError",n,h),n;return u.events.emit("routeChangeComplete",h),a(!0)},c)})}changeState(e,t,n,r={}){("pushState"!==e||s.getURL()!==n)&&window.history[e]({url:t,as:n,options:r},null,n)}getRouteInfo(e,t,n,r,i=!1){const o=this.components[e];return i&&o&&this.route===e?Promise.resolve(o):new Promise((t,n)=>o?t(o):void this.fetchComponent(e).then(e=>t({Component:e}),n)).then(i=>{const{Component:o}=i;return new Promise((a,s)=>{this.getInitialProps(o,{pathname:t,query:n,asPath:r}).then(t=>{i.props=t,this.components[e]=i,a(i)},s)})}).catch(e=>new Promise(i=>"PAGE_LOAD_ERROR"===e.code?(window.location.href=r,e.cancelled=!0,i({error:e})):e.cancelled?i({error:e}):void i(this.fetchComponent("/_error").then(r=>{const i={Component:r,err:e},o={err:e,pathname:t,query:n};return new Promise(t=>{this.getInitialProps(r,o).then(n=>{i.props=n,i.error=e,t(i)},n=>{console.error("Error in error page `getInitialProps`: ",n),i.error=e,i.props={},t(i)})})}))))}set(e,t,n,r,i){this.route=e,this.pathname=t,this.query=n,this.asPath=r,this.notify(i)}beforePopState(e){this._bps=e}onlyAHashChange(e){if(!this.asPath)return!1;const[t,n]=this.asPath.split("#"),[r,i]=e.split("#");return!(!i||t!==r||n!==i)||t===r&&n!==i}scrollToHash(e){const[,t]=e.split("#");if(""===t)return void window.scrollTo(0,0);const n=document.getElementById(t);if(n)return void n.scrollIntoView();const r=document.getElementsByName(t)[0];r&&r.scrollIntoView()}urlIsNew(e){return this.asPath!==e}prefetch(e){return new Promise((t,n)=>{const{pathname:i}=o.parse(e),a=r(i);this.pageLoader.prefetch(a).then(t,n)})}async fetchComponent(e){let t=!1;const n=this.componentLoadCancel=(()=>{t=!0}),r=await this.pageLoader.loadPage(e);if(t){const t=new Error(`Abort fetching component for route: "${e}"`);throw t.cancelled=!0,t}return n===this.componentLoadCancel&&(this.componentLoadCancel=null),r}async getInitialProps(e,t){let n=!1;const r=()=>{n=!0};this.componentLoadCancel=r;const{Component:i}=this.components["/_app"],o=await s.loadGetInitialProps(i,{Component:e,router:this,ctx:t});if(r===this.componentLoadCancel&&(this.componentLoadCancel=null),n){const e=new Error("Loading initial props cancelled");throw e.cancelled=!0,e}return o}abortComponentLoad(e){this.componentLoadCancel&&(u.events.emit("routeChangeError",new Error("Route Cancelled"),e),this.componentLoadCancel(),this.componentLoadCancel=null)}notify(e){const{Component:t}=this.components["/_app"];this.subscriptions.forEach(n=>n(Object.assign({},e,{App:t})))}subscribe(e){return this.subscriptions.add(e),()=>this.subscriptions.delete(e)}}u.events=a.default(),t.default=u},JbBM:function(e,t,n){n("Hfiw"),e.exports=n("WEpk").Object.setPrototypeOf},Jes0:function(e){e.exports=function(e){if(null==e)throw TypeError("Can't call method on  "+e);return e}},"Jo+v":function(e,t,n){e.exports=n("/eQG")},K47E:function(e){e.exports=function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}},KI45:function(e){e.exports=function(e){return e&&e.__esModule?e:{default:e}}},KUxP:function(e){e.exports=function(e){try{return!!e()}catch(t){return!0}}},LFvy:function(e,t,n){"use strict";var r=n("hyoZ");e.exports=new r("tag:yaml.org,2002:str",{kind:"scalar",construct:function(e){return null===e?"":e}})},Ljib:function(e,t,n){"use strict";var r=n("hyoZ");e.exports=new r("tag:yaml.org,2002:map",{kind:"mapping",construct:function(e){return null===e?{}:e}})},LvDl:function(e,t,n){(function(e,r){var i;(function(){function o(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}function a(e,t,n,r){for(var i,o=-1,a=null==e?0:e.length;++o<a;)t(r,i=e[o],n(i),e);return r}function s(e,t){for(var n=-1,r=null==e?0:e.length;++n<r&&!1!==t(e[n],n,e););return e}function u(e,t){for(var n=null==e?0:e.length;n--&&!1!==t(e[n],n,e););return e}function c(e,t){for(var n=-1,r=null==e?0:e.length;++n<r;)if(!t(e[n],n,e))return!1;return!0}function l(e,t){for(var n,r=-1,i=null==e?0:e.length,o=0,a=[];++r<i;)t(n=e[r],r,e)&&(a[o++]=n);return a}function h(e,t){return!!(null==e?0:e.length)&&-1<w(e,t,0)}function p(e,t,n){for(var r=-1,i=null==e?0:e.length;++r<i;)if(n(t,e[r]))return!0;return!1}function f(e,t){for(var n=-1,r=null==e?0:e.length,i=Array(r);++n<r;)i[n]=t(e[n],n,e);return i}function d(e,t){for(var n=-1,r=t.length,i=e.length;++n<r;)e[i+n]=t[n];return e}function m(e,t,n,r){var i=-1,o=null==e?0:e.length;for(r&&o&&(n=e[++i]);++i<o;)n=t(n,e[i],i,e);return n}function g(e,t,n,r){var i=null==e?0:e.length;for(r&&i&&(n=e[--i]);i--;)n=t(n,e[i],i,e);return n}function v(e,t){for(var n=-1,r=null==e?0:e.length;++n<r;)if(t(e[n],n,e))return!0;return!1}function y(e){return e.match(lt)||[]}function x(e,t,n){var r;return n(e,function(e,n,i){if(t(e,n,i))return r=n,!1}),r}function b(e,t,n,r){for(var i=e.length,o=n+(r?1:-1);r?o--:++o<i;)if(t(e[o],o,e))return o;return-1}function w(e,t,n){return t==t?function(e,t,n){for(var r=n-1,i=e.length;++r<i;)if(e[r]===t)return r;return-1}(e,t,n):b(e,E,n)}function _(e,t,n,r){for(var i=n-1,o=e.length;++i<o;)if(r(e[i],t))return i;return-1}function E(e){return e!=e}function S(e,t){var n=null==e?0:e.length;return n?C(e,t)/n:fe}function T(e){return function(t){return null==t?void 0:t[e]}}function A(e){return function(t){return null==e?void 0:e[t]}}function M(e,t,n,r,i){return i(e,function(e,i,o){n=r?(r=!1,e):t(n,e,i,o)}),n}function C(e,t){for(var n,r,i=-1,o=e.length;++i<o;)void 0!==(r=t(e[i]))&&(n=void 0===n?r:n+r);return n}function D(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}function L(e){return function(t){return e(t)}}function P(e,t){return f(t,function(t){return e[t]})}function R(e,t){return e.has(t)}function O(e,t){for(var n=-1,r=e.length;++n<r&&-1<w(t,e[n],0););return n}function I(e,t){for(var n=e.length;n--&&-1<w(t,e[n],0););return n}function k(e){return"\\"+Rt[e]}function N(e){return At.test(e)}function F(e){return Mt.test(e)}function B(e){var t=-1,n=Array(e.size);return e.forEach(function(e,r){n[++t]=[r,e]}),n}function U(e,t){return function(n){return e(t(n))}}function z(e,t){for(var n,r=-1,i=e.length,o=0,a=[];++r<i;)((n=e[r])===t||n===Y)&&(e[r]=Y,a[o++]=r);return a}function j(e){var t=-1,n=Array(e.size);return e.forEach(function(e){n[++t]=e}),n}function G(e){return N(e)?function(e){for(var t=St.lastIndex=0;St.test(e);)++t;return t}(e):Jt(e)}function H(e){return N(e)?function(e){return e.match(St)||[]}(e):function(e){return e.split("")}(e)}function V(e){return e.match(Tt)||[]}var W=200,X="Expected a function",q="__lodash_hash_undefined__",Y="__lodash_placeholder__",J=1,Z=2,K=4,$=1,Q=2,ee=1,te=2,ne=4,re=8,ie=16,oe=32,ae=64,se=128,ue=256,ce=512,le=1,he=1/0,pe=9007199254740991,fe=NaN,de=4294967295,me=[["ary",se],["bind",ee],["bindKey",te],["curry",re],["curryRight",ie],["flip",ce],["partial",oe],["partialRight",ae],["rearg",ue]],ge="[object Arguments]",ve="[object Array]",ye="[object Boolean]",xe="[object Date]",be="[object Error]",we="[object Function]",_e="[object GeneratorFunction]",Ee="[object Map]",Se="[object Number]",Te="[object Object]",Ae="[object Promise]",Me="[object RegExp]",Ce="[object Set]",De="[object String]",Le="[object Symbol]",Pe="[object WeakMap]",Re="[object ArrayBuffer]",Oe="[object DataView]",Ie="[object Float32Array]",ke="[object Float64Array]",Ne="[object Int8Array]",Fe="[object Int16Array]",Be="[object Int32Array]",Ue="[object Uint8Array]",ze="[object Uint8ClampedArray]",je="[object Uint16Array]",Ge="[object Uint32Array]",He=/\b__p \+= '';/g,Ve=/\b(__p \+=) '' \+/g,We=/(__e\(.*?\)|\b__t\)) \+\n'';/g,Xe=/&(?:amp|lt|gt|quot|#39);/g,qe=/[&<>"']/g,Ye=RegExp(Xe.source),Je=RegExp(qe.source),Ze=/<%-([\s\S]+?)%>/g,Ke=/<%([\s\S]+?)%>/g,$e=/<%=([\s\S]+?)%>/g,Qe=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,et=/^\w*$/,tt=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,nt=/[\\^$.*+?()[\]{}|]/g,rt=RegExp(nt.source),it=/^\s+|\s+$/g,ot=/^\s+/,at=/\s+$/,st=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,ut=/\{\n\/\* \[wrapped with (.+)\] \*/,ct=/,? & /,lt=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,ht=/\\(\\)?/g,pt=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,ft=/\w*$/,dt=/^[-+]0x[0-9a-f]+$/i,mt=/^0b[01]+$/i,gt=/^\[object .+?Constructor\]$/,vt=/^0o[0-7]+$/i,yt=/^(?:0|[1-9]\d*)$/,xt=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,bt=/($^)/,wt=/['\n\r\u2028\u2029\\]/g,_t=/[']/g,Et=/[\u0300-\u036f\ufe20-\ufe2f\u20d0-\u20ff]/g,St=/\ud83c[\udffb-\udfff](?=\ud83c[\udffb-\udfff])|(?:[^\ud800-\udfff][\u0300-\u036f\ufe20-\ufe2f\u20d0-\u20ff]?|[\u0300-\u036f\ufe20-\ufe2f\u20d0-\u20ff]|(?:\ud83c[\udde6-\uddff]){2}|[\ud800-\udbff][\udc00-\udfff]|[\ud800-\udfff])[\ufe0e\ufe0f]?(?:[\u0300-\u036f\ufe20-\ufe2f\u20d0-\u20ff]|\ud83c[\udffb-\udfff])?(?:\u200d(?:[^\ud800-\udfff]|(?:\ud83c[\udde6-\uddff]){2}|[\ud800-\udbff][\udc00-\udfff])[\ufe0e\ufe0f]?(?:[\u0300-\u036f\ufe20-\ufe2f\u20d0-\u20ff]|\ud83c[\udffb-\udfff])?)*/g,Tt=RegExp("[A-Z\\xc0-\\xd6\\xd8-\\xde]?[a-z\\xdf-\\xf6\\xf8-\\xff]+(?:['](?:d|ll|m|re|s|t|ve))?(?=[\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000]|[A-Z\\xc0-\\xd6\\xd8-\\xde]|$)|(?:[A-Z\\xc0-\\xd6\\xd8-\\xde]|[^\\ud800-\\udfff\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000\\d+\\u2700-\\u27bfa-z\\xdf-\\xf6\\xf8-\\xffA-Z\\xc0-\\xd6\\xd8-\\xde])+(?:['](?:D|LL|M|RE|S|T|VE))?(?=[\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000]|[A-Z\\xc0-\\xd6\\xd8-\\xde](?:[a-z\\xdf-\\xf6\\xf8-\\xff]|[^\\ud800-\\udfff\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000\\d+\\u2700-\\u27bfa-z\\xdf-\\xf6\\xf8-\\xffA-Z\\xc0-\\xd6\\xd8-\\xde])|$)|[A-Z\\xc0-\\xd6\\xd8-\\xde]?(?:[a-z\\xdf-\\xf6\\xf8-\\xff]|[^\\ud800-\\udfff\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000\\d+\\u2700-\\u27bfa-z\\xdf-\\xf6\\xf8-\\xffA-Z\\xc0-\\xd6\\xd8-\\xde])+(?:['](?:d|ll|m|re|s|t|ve))?|[A-Z\\xc0-\\xd6\\xd8-\\xde]+(?:['](?:D|LL|M|RE|S|T|VE))?|\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])|\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])|\\d+|(?:[\\u2700-\\u27bf]|(?:\\ud83c[\\udde6-\\uddff]){2}|[\\ud800-\\udbff][\\udc00-\\udfff])[\\ufe0e\\ufe0f]?(?:[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]|\\ud83c[\\udffb-\\udfff])?(?:\\u200d(?:[^\\ud800-\\udfff]|(?:\\ud83c[\\udde6-\\uddff]){2}|[\\ud800-\\udbff][\\udc00-\\udfff])[\\ufe0e\\ufe0f]?(?:[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]|\\ud83c[\\udffb-\\udfff])?)*","g"),At=/[\u200d\ud800-\udfff\u0300-\u036f\ufe20-\ufe2f\u20d0-\u20ff\ufe0e\ufe0f]/,Mt=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,Ct=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],Dt=-1,Lt={};Lt[Ie]=Lt[ke]=Lt[Ne]=Lt[Fe]=Lt[Be]=Lt[Ue]=Lt[ze]=Lt[je]=Lt[Ge]=!0,Lt[ge]=Lt[ve]=Lt[Re]=Lt[ye]=Lt[Oe]=Lt[xe]=Lt[be]=Lt[we]=Lt[Ee]=Lt[Se]=Lt[Te]=Lt[Me]=Lt[Ce]=Lt[De]=Lt[Pe]=!1;var Pt={};Pt[ge]=Pt[ve]=Pt[Re]=Pt[Oe]=Pt[ye]=Pt[xe]=Pt[Ie]=Pt[ke]=Pt[Ne]=Pt[Fe]=Pt[Be]=Pt[Ee]=Pt[Se]=Pt[Te]=Pt[Me]=Pt[Ce]=Pt[De]=Pt[Le]=Pt[Ue]=Pt[ze]=Pt[je]=Pt[Ge]=!0,Pt[be]=Pt[we]=Pt[Pe]=!1;var Rt={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},Ot=parseFloat,It=parseInt,kt="object"==typeof e&&e&&e.Object===Object&&e,Nt="object"==typeof self&&self&&self.Object===Object&&self,Ft=kt||Nt||Function("return this")(),Bt=t&&!t.nodeType&&t,Ut=Bt&&"object"==typeof r&&r&&!r.nodeType&&r,zt=Ut&&Ut.exports===Bt,jt=zt&&kt.process,Gt=function(){try{var e=Ut&&Ut.require&&Ut.require("util").types;return e||jt&&jt.binding&&jt.binding("util")}catch(t){}}(),Ht=Gt&&Gt.isArrayBuffer,Vt=Gt&&Gt.isDate,Wt=Gt&&Gt.isMap,Xt=Gt&&Gt.isRegExp,qt=Gt&&Gt.isSet,Yt=Gt&&Gt.isTypedArray,Jt=T("length"),Zt=A({"":"A","":"A","":"A","":"A","":"A","":"A","":"a","":"a","":"a","":"a","":"a","":"a","":"C","":"c","":"D","":"d","":"E","":"E","":"E","":"E","":"e","":"e","":"e","":"e","":"I","":"I","":"I","":"I","":"i","":"i","":"i","":"i","":"N","":"n","":"O","":"O","":"O","":"O","":"O","":"O","":"o","":"o","":"o","":"o","":"o","":"o","":"U","":"U","":"U","":"U","":"u","":"u","":"u","":"u","":"Y","":"y","":"y","":"Ae","":"ae","":"Th","":"th","":"ss","":"A","":"A","":"A","":"a","":"a","":"a","":"C","":"C","":"C","":"C","":"c","":"c","":"c","":"c","":"D","":"D","":"d","":"d","":"E","":"E","":"E","":"E","":"E","":"e","":"e","":"e","":"e","":"e","":"G","":"G","":"G","":"G","":"g","":"g","":"g","":"g","":"H","":"H","":"h","":"h","":"I","":"I","":"I","":"I","":"I","":"i","":"i","":"i","":"i","":"i","":"J","":"j","":"K","":"k","":"k","":"L","":"L","":"L","":"L","":"L","":"l","":"l","":"l","":"l","":"l","":"N","":"N","":"N","":"N","":"n","":"n","":"n","":"n","":"O","":"O","":"O","":"o","":"o","":"o","":"R","":"R","":"R","":"r","":"r","":"r","":"S","":"S","":"S","":"S","":"s","":"s","":"s","":"s","":"T","":"T","":"T","":"t","":"t","":"t","":"U","":"U","":"U","":"U","":"U","":"U","":"u","":"u","":"u","":"u","":"u","":"u","":"W","":"w","":"Y","":"y","":"Y","":"Z","":"Z","":"Z","":"z","":"z","":"z","":"IJ","":"ij","":"Oe","":"oe","":"'n","":"s"}),Kt=A({"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"}),$t=A({"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"}),Qt=function e(t){function n(e){if(qi(e)&&!Ns(e)&&!(e instanceof A)){if(e instanceof i)return e;if(Fo.call(e,"__wrapped__"))return xi(e)}return new i(e)}function r(){}function i(e,t){this.__wrapped__=e,this.__actions__=[],this.__chain__=!!t,this.__index__=0,this.__values__=void 0}function A(e){this.__wrapped__=e,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=de,this.__views__=[]}function lt(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function St(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function Tt(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function At(e){var t=-1,n=null==e?0:e.length;for(this.__data__=new Tt;++t<n;)this.add(e[t])}function Mt(e){var t=this.__data__=new St(e);this.size=t.size}function Rt(e,t){var n=Ns(e),r=!n&&ks(e),i=!n&&!r&&Bs(e),o=!n&&!r&&!i&&Hs(e),a=n||r||i||o,s=a?D(e.length,Lo):[],u=s.length;for(var c in e)(t||Fo.call(e,c))&&(!a||!("length"==c||i&&("offset"==c||"parent"==c)||o&&("buffer"==c||"byteLength"==c||"byteOffset"==c)||ii(c,u)))&&s.push(c);return s}function kt(e){var t=e.length;return t?e[jn(0,t-1)]:void 0}function Nt(e,t){return gi(yr(e),rn(t,0,e.length))}function Bt(e){return gi(yr(e))}function Ut(e,t,n){(void 0===n||Ui(e[t],n))&&(void 0!==n||t in e)||tn(e,t,n)}function jt(e,t,n){var r=e[t];Fo.call(e,t)&&Ui(r,n)&&(void 0!==n||t in e)||tn(e,t,n)}function Gt(e,t){for(var n=e.length;n--;)if(Ui(e[n][0],t))return n;return-1}function Jt(e,t,n,r){return ka(e,function(e,i,o){t(r,e,n(e),o)}),r}function en(e,t){return e&&xr(t,so(t),e)}function tn(e,t,n){"__proto__"==t&&ta?ta(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n}function nn(e,t){for(var n=-1,r=t.length,i=Eo(r);++n<r;)i[n]=null==e?void 0:oo(e,t[n]);return i}function rn(e,t,n){return e==e&&(void 0!==n&&(e=e<=n?e:n),void 0!==t&&(e=e>=t?e:t)),e}function on(e,t,n,r,i,o){var a,u=t&J,c=t&Z;if(n&&(a=i?n(e,r,i,o):n(e)),void 0!==a)return a;if(!Xi(e))return e;var l=Ns(e);if(l){if(a=function(e){var t=e.length,n=new e.constructor(t);return t&&"string"==typeof e[0]&&Fo.call(e,"index")&&(n.index=e.index,n.input=e.input),n}(e),!u)return yr(e,a)}else{var h=Xa(e),p=h==we||h==_e;if(Bs(e))return pr(e,u);if(h==Te||h==ge||p&&!i){if(a=c||p?{}:ni(e),!u)return c?function(e,t){return xr(e,Wa(e),t)}(e,function(e,t){return e&&xr(t,uo(t),e)}(a,e)):function(e,t){return xr(e,Va(e),t)}(e,en(a,e))}else{if(!Pt[h])return i?e:{};a=function(e,t,n){var r=e.constructor;return t===Re?fr(e):t===ye||t===xe?new r(+e):t===Oe?function(e,t){var n=t?fr(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.byteLength)}(e,n):t===Ie||t===ke||t===Ne||t===Fe||t===Be||t===Ue||t===ze||t===je||t===Ge?dr(e,n):t===Ee?new r:t===Se||t===De?new r(e):t===Me?function(e){var t=new e.constructor(e.source,ft.exec(e));return t.lastIndex=e.lastIndex,t}(e):t===Ce?new r:t===Le?function(e){return Ra?Co(Ra.call(e)):{}}(e):void 0}(e,h,u)}}o||(o=new Mt);var f=o.get(e);if(f)return f;o.set(e,a),Gs(e)?e.forEach(function(r){a.add(on(r,t,n,r,e,o))}):zs(e)&&e.forEach(function(r,i){a.set(i,on(r,t,n,i,e,o))});var d=l?void 0:(t&K?c?Yr:qr:c?uo:so)(e);return s(d||e,function(r,i){d&&(r=e[i=r]),jt(a,i,on(r,t,n,i,e,o))}),a}function an(e,t,n){var r=n.length;if(null==e)return!r;for(e=Co(e);r--;){var i=n[r],o=t[i],a=e[i];if(void 0===a&&!(i in e)||!o(a))return!1}return!0}function sn(e,t,n){if("function"!=typeof e)throw new Po(X);return Ja(function(){e.apply(void 0,n)},t)}function un(e,t,n,r){var i=-1,o=h,a=!0,s=e.length,u=[],c=t.length;if(!s)return u;n&&(t=f(t,L(n))),r?(o=p,a=!1):t.length>=W&&(o=R,a=!1,t=new At(t));e:for(;++i<s;){var l=e[i],d=null==n?l:n(l);if(l=r||0!==l?l:0,a&&d==d){for(var m=c;m--;)if(t[m]===d)continue e;u.push(l)}else o(t,d,r)||u.push(l)}return u}function cn(e,t){var n=!0;return ka(e,function(e,r,i){return n=!!t(e,r,i)}),n}function ln(e,t,n){for(var r=-1,i=e.length;++r<i;){var o=e[r],a=t(o);if(null!=a&&(void 0===s?a==a&&!Ki(a):n(a,s)))var s=a,u=o}return u}function hn(e,t){var n=[];return ka(e,function(e,r,i){t(e,r,i)&&n.push(e)}),n}function pn(e,t,n,r,i){var o=-1,a=e.length;for(n||(n=ri),i||(i=[]);++o<a;){var s=e[o];0<t&&n(s)?1<t?pn(s,t-1,n,r,i):d(i,s):!r&&(i[i.length]=s)}return i}function fn(e,t){return e&&Fa(e,t,so)}function dn(e,t){return e&&Ba(e,t,so)}function mn(e,t){return l(t,function(t){return Hi(e[t])})}function gn(e,t){for(var n=0,r=(t=lr(t,e)).length;null!=e&&n<r;)e=e[vi(t[n++])];return n&&n==r?e:void 0}function vn(e,t,n){var r=t(e);return Ns(e)?r:d(r,n(e))}function yn(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":ea&&ea in Co(e)?function(e){var t=Fo.call(e,ea),n=e[ea];try{e[ea]=void 0}catch(t){}var r=zo.call(e);return t?e[ea]=n:delete e[ea],r}(e):function(e){return zo.call(e)}(e)}function xn(e,t){return e>t}function bn(e,t){return null!=e&&Fo.call(e,t)}function wn(e,t){return null!=e&&t in Co(e)}function _n(e,t,n){for(var r,i=n?p:h,o=e[0].length,a=e.length,s=a,u=Eo(a),c=1/0,l=[];s--;)r=e[s],s&&t&&(r=f(r,L(t))),c=fa(r.length,c),u[s]=!n&&(t||120<=o&&120<=r.length)?new At(s&&r):void 0;r=e[0];var d=-1,m=u[0];e:for(;++d<o&&l.length<c;){var g=r[d],v=t?t(g):g;if(g=n||0!==g?g:0,m?!R(m,v):!i(l,v,n)){for(s=a;--s;){var y=u[s];if(y?!R(y,v):!i(e[s],v,n))continue e}m&&m.push(v),l.push(g)}}return l}function En(e,t,n){var r=null==(e=pi(e,t=lr(t,e)))?e:e[vi(Si(t))];return null==r?void 0:o(r,e,n)}function Sn(e){return qi(e)&&yn(e)==ge}function Tn(e,t,n,r,i){return e===t||(null!=e&&null!=t&&(qi(e)||qi(t))?function(e,t,n,r,i,o){var a=Ns(e),s=Ns(t),u=a?ve:Xa(e),c=s?ve:Xa(t),l=(u=u==ge?Te:u)==Te,h=(c=c==ge?Te:c)==Te,p=u==c;if(p&&Bs(e)){if(!Bs(t))return!1;a=!0,l=!1}if(p&&!l)return o||(o=new Mt),a||Hs(e)?Wr(e,t,n,r,i,o):function(e,t,n,r,i,o,a){switch(n){case Oe:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case Re:return!(e.byteLength!=t.byteLength||!o(new Xo(e),new Xo(t)));case ye:case xe:case Se:return Ui(+e,+t);case be:return e.name==t.name&&e.message==t.message;case Me:case De:return e==t+"";case Ee:var s=B;case Ce:var u=r&$;if(s||(s=j),e.size!=t.size&&!u)return!1;var c=a.get(e);if(c)return c==t;r|=Q,a.set(e,t);var l=Wr(s(e),s(t),r,i,o,a);return a.delete(e),l;case Le:if(Ra)return Ra.call(e)==Ra.call(t)}return!1}(e,t,u,n,r,i,o);if(!(n&$)){var f=l&&Fo.call(e,"__wrapped__"),d=h&&Fo.call(t,"__wrapped__");if(f||d){var m=f?e.value():e,g=d?t.value():t;return o||(o=new Mt),i(m,g,n,r,o)}}return!!p&&(o||(o=new Mt),function(e,t,n,r,i,o){var a=n&$,s=qr(e),u=s.length,c=qr(t).length;if(u!=c&&!a)return!1;for(var l,h=u;h--;)if(l=s[h],a?!(l in t):!Fo.call(t,l))return!1;var p=o.get(e);if(p&&o.get(t))return p==t;var f=!0;o.set(e,t),o.set(t,e);for(var d=a;++h<u;){l=s[h];var m=e[l],g=t[l];if(r)var v=a?r(g,m,l,t,e,o):r(m,g,l,e,t,o);if(void 0===v?m!==g&&!i(m,g,n,r,o):!v){f=!1;break}d||(d="constructor"==l)}if(f&&!d){var y=e.constructor,x=t.constructor;y!=x&&"constructor"in e&&"constructor"in t&&!("function"==typeof y&&y instanceof y&&"function"==typeof x&&x instanceof x)&&(f=!1)}return o.delete(e),o.delete(t),f}(e,t,n,r,i,o))}(e,t,n,r,Tn,i):e!=e&&t!=t)}function An(e,t,n,r){var i=n.length,o=i,a=!r;if(null==e)return!o;for(e=Co(e);i--;){var s=n[i];if(a&&s[2]?s[1]!==e[s[0]]:!(s[0]in e))return!1}for(;++i<o;){var u=(s=n[i])[0],c=e[u],l=s[1];if(a&&s[2]){if(void 0===c&&!(u in e))return!1}else{var h=new Mt;if(r)var p=r(c,l,u,e,t,h);if(void 0===p?!Tn(l,c,$|Q,r,h):!p)return!1}}return!0}function Mn(e){return!(!Xi(e)||function(e){return!!Uo&&Uo in e}(e))&&(Hi(e)?Ho:gt).test(yi(e))}function Cn(e){return"function"==typeof e?e:null==e?go:"object"==typeof e?Ns(e)?In(e[0],e[1]):On(e):bo(e)}function Dn(e){if(!ui(e))return ha(e);var t=[];for(var n in Co(e))Fo.call(e,n)&&"constructor"!=n&&t.push(n);return t}function Ln(e){if(!Xi(e))return function(e){var t=[];if(null!=e)for(var n in Co(e))t.push(n);return t}(e);var t=ui(e),n=[];for(var r in e)("constructor"!=r||!t&&Fo.call(e,r))&&n.push(r);return n}function Pn(e,t){return e<t}function Rn(e,t){var n=-1,r=zi(e)?Eo(e.length):[];return ka(e,function(e,i,o){r[++n]=t(e,i,o)}),r}function On(e){var t=Qr(e);return 1==t.length&&t[0][2]?li(t[0][0],t[0][1]):function(n){return n===e||An(n,e,t)}}function In(e,t){return ai(e)&&ci(t)?li(vi(e),t):function(n){var r=oo(n,e);return void 0===r&&r===t?ao(n,e):Tn(t,r,$|Q)}}function kn(e,t,n,r,i){e===t||Fa(t,function(o,a){if(i||(i=new Mt),Xi(o))!function(e,t,n,r,i,o,a){var s=fi(e,n),u=fi(t,n),c=a.get(u);if(c)return void Ut(e,n,c);var l=o?o(s,u,n+"",e,t,a):void 0,h=void 0===l;if(h){var p=Ns(u),f=!p&&Bs(u),d=!p&&!f&&Hs(u);l=u,p||f||d?Ns(s)?l=s:ji(s)?l=yr(s):f?(h=!1,l=pr(u,!0)):d?(h=!1,l=dr(u,!0)):l=[]:Ji(u)||ks(u)?(l=s,ks(s)?l=ro(s):(!Xi(s)||Hi(s))&&(l=ni(u))):h=!1}h&&(a.set(u,l),i(l,u,r,o,a),a.delete(u)),Ut(e,n,l)}(e,t,a,n,kn,r,i);else{var s=r?r(fi(e,a),o,a+"",e,t,i):void 0;void 0===s&&(s=o),Ut(e,a,s)}},uo)}function Nn(e,t){var n=e.length;if(n)return ii(t+=0>t?n:0,n)?e[t]:void 0}function Fn(e,t,n){var r=-1;return t=f(t.length?t:[go],L(Kr())),function(e,t){var n=e.length;for(e.sort(t);n--;)e[n]=e[n].value;return e}(Rn(e,function(e){return{criteria:f(t,function(t){return t(e)}),index:++r,value:e}}),function(e,t){return function(e,t,n){for(var r,i=-1,o=e.criteria,a=t.criteria,s=o.length,u=n.length;++i<s;)if(r=mr(o[i],a[i])){if(i>=u)return r;var c=n[i];return r*("desc"==c?-1:1)}return e.index-t.index}(e,t,n)})}function Bn(e,t,n){for(var r=-1,i=t.length,o={};++r<i;){var a=t[r],s=gn(e,a);n(s,a)&&Xn(o,lr(a,e),s)}return o}function Un(e,t,n,r){var i=r?_:w,o=-1,a=t.length,s=e;for(e===t&&(t=yr(t)),n&&(s=f(e,L(n)));++o<a;)for(var u=0,c=t[o],l=n?n(c):c;-1<(u=i(s,l,u,r));)s!==e&&Ko.call(s,u,1),Ko.call(e,u,1);return e}function zn(e,t){for(var n,r=e?t.length:0,i=r-1;r--;)if(n=t[r],r==i||n!==o){var o=n;ii(n)?Ko.call(e,n,1):nr(e,n)}return e}function jn(e,t){return e+aa(ga()*(t-e+1))}function Gn(e,t){var n="";if(!e||1>t||t>pe)return n;do{t%2&&(n+=e),(t=aa(t/2))&&(e+=e)}while(t);return n}function Hn(e,t){return Za(hi(e,t,go),e+"")}function Vn(e){return kt(lo(e))}function Wn(e,t){var n=lo(e);return gi(n,rn(t,0,n.length))}function Xn(e,t,n,r){if(!Xi(e))return e;for(var i=-1,o=(t=lr(t,e)).length,a=e;null!=a&&++i<o;){var s=vi(t[i]),u=n;if(i!=o-1){var c=a[s];void 0===(u=r?r(c,s,a):void 0)&&(u=Xi(c)?c:ii(t[i+1])?[]:{})}jt(a,s,u),a=a[s]}return e}function qn(e){return gi(lo(e))}function Yn(e,t,n){var r=-1,i=e.length;0>t&&(t=-t>i?0:i+t),0>(n=n>i?i:n)&&(n+=i),i=t>n?0:n-t>>>0,t>>>=0;for(var o=Eo(i);++r<i;)o[r]=e[r+t];return o}function Jn(e,t){var n;return ka(e,function(e,r,i){return!(n=t(e,r,i))}),!!n}function Zn(e,t,n){var r=0,i=null==e?r:e.length;if("number"==typeof t&&t==t&&i<=de>>>1){for(;r<i;){var o=r+i>>>1,a=e[o];null!==a&&!Ki(a)&&(n?a<=t:a<t)?r=o+1:i=o}return i}return Kn(e,t,go,n)}function Kn(e,t,n,r){t=n(t);for(var i=0,o=null==e?0:e.length,a=t!=t,s=null===t,u=Ki(t),c=void 0===t;i<o;){var l=aa((i+o)/2),h=n(e[l]),p=void 0!==h,f=null===h,d=h==h,m=Ki(h);if(a)var g=r||d;else g=c?d&&(r||p):s?d&&p&&(r||!f):u?d&&p&&!f&&(r||!m):!(f||m)&&(r?h<=t:h<t);g?i=l+1:o=l}return fa(o,de-1)}function $n(e,t){for(var n=-1,r=e.length,i=0,o=[];++n<r;){var a=e[n],s=t?t(a):a;if(!n||!Ui(s,u)){var u=s;o[i++]=0===a?0:a}}return o}function Qn(e){return"number"==typeof e?e:Ki(e)?fe:+e}function er(e){if("string"==typeof e)return e;if(Ns(e))return f(e,er)+"";if(Ki(e))return Oa?Oa.call(e):"";var t=e+"";return"0"==t&&1/e==-he?"-0":t}function tr(e,t,n){var r=-1,i=h,o=e.length,a=!0,s=[],u=s;if(n)a=!1,i=p;else if(o>=W){var c=t?null:Ga(e);if(c)return j(c);a=!1,i=R,u=new At}else u=t?[]:s;e:for(;++r<o;){var l=e[r],f=t?t(l):l;if(l=n||0!==l?l:0,a&&f==f){for(var d=u.length;d--;)if(u[d]===f)continue e;t&&u.push(f),s.push(l)}else i(u,f,n)||(u!==s&&u.push(f),s.push(l))}return s}function nr(e,t){return null==(e=pi(e,t=lr(t,e)))||delete e[vi(Si(t))]}function rr(e,t,n,r){return Xn(e,t,n(gn(e,t)),r)}function ir(e,t,n,r){for(var i=e.length,o=r?i:-1;(r?o--:++o<i)&&t(e[o],o,e););return n?Yn(e,r?0:o,r?o+1:i):Yn(e,r?o+1:0,r?i:o)}function or(e,t){var n=e;return n instanceof A&&(n=n.value()),m(t,function(e,t){return t.func.apply(t.thisArg,d([e],t.args))},n)}function ar(e,t,n){var r=e.length;if(2>r)return r?tr(e[0]):[];for(var i=-1,o=Eo(r);++i<r;)for(var a=e[i],s=-1;++s<r;)s!=i&&(o[i]=un(o[i]||a,e[s],t,n));return tr(pn(o,1),t,n)}function sr(e,t,n){for(var r,i=-1,o=e.length,a=t.length,s={};++i<o;)r=i<a?t[i]:void 0,n(s,e[i],r);return s}function ur(e){return ji(e)?e:[]}function cr(e){return"function"==typeof e?e:go}function lr(e,t){return Ns(e)?e:ai(e,t)?[e]:Ka(io(e))}function hr(e,t,n){var r=e.length;return n=void 0===n?r:n,!t&&n>=r?e:Yn(e,t,n)}function pr(e,t){if(t)return e.slice();var n=e.length,r=qo?qo(n):new e.constructor(n);return e.copy(r),r}function fr(e){var t=new e.constructor(e.byteLength);return new Xo(t).set(new Xo(e)),t}function dr(e,t){var n=t?fr(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.length)}function mr(e,t){if(e!==t){var n=void 0!==e,r=null===e,i=e==e,o=Ki(e),a=void 0!==t,s=null===t,u=t==t,c=Ki(t);if(!s&&!c&&!o&&e>t||o&&a&&u&&!s&&!c||r&&a&&u||!n&&u||!i)return 1;if(!r&&!o&&!c&&e<t||c&&n&&i&&!r&&!o||s&&n&&i||!a&&i||!u)return-1}return 0}function gr(e,t,n,r){for(var i=-1,o=e.length,a=n.length,s=-1,u=t.length,c=pa(o-a,0),l=Eo(u+c),h=!r;++s<u;)l[s]=t[s];for(;++i<a;)(h||i<o)&&(l[n[i]]=e[i]);for(;c--;)l[s++]=e[i++];return l}function vr(e,t,n,r){for(var i=-1,o=e.length,a=-1,s=n.length,u=-1,c=t.length,l=pa(o-s,0),h=Eo(l+c),p=!r;++i<l;)h[i]=e[i];for(var f=i;++u<c;)h[f+u]=t[u];for(;++a<s;)(p||i<o)&&(h[f+n[a]]=e[i++]);return h}function yr(e,t){var n=-1,r=e.length;for(t||(t=Eo(r));++n<r;)t[n]=e[n];return t}function xr(e,t,n,r){var i=!n;n||(n={});for(var o=-1,a=t.length;++o<a;){var s=t[o],u=r?r(n[s],e[s],s,n,e):void 0;void 0===u&&(u=e[s]),i?tn(n,s,u):jt(n,s,u)}return n}function br(e,t){return function(n,r){var i=Ns(n)?a:Jt,o=t?t():{};return i(n,e,Kr(r,2),o)}}function wr(e){return Hn(function(t,n){var r=-1,i=n.length,o=1<i?n[i-1]:void 0,a=2<i?n[2]:void 0;for(o=3<e.length&&"function"==typeof o?(i--,o):void 0,a&&oi(n[0],n[1],a)&&(o=3>i?void 0:o,i=1),t=Co(t);++r<i;){var s=n[r];s&&e(t,s,r,o)}return t})}function _r(e,t){return function(n,r){if(null==n)return n;if(!zi(n))return e(n,r);for(var i=n.length,o=t?i:-1,a=Co(n);(t?o--:++o<i)&&!1!==r(a[o],o,a););return n}}function Er(e){return function(t,n,r){for(var i,o=-1,a=Co(t),s=r(t),u=s.length;u--&&!1!==n(a[i=s[e?u:++o]],i,a););return t}}function Sr(e){return function(t){var n=N(t=io(t))?H(t):void 0,r=n?n[0]:t.charAt(0),i=n?hr(n,1).join(""):t.slice(1);return r[e]()+i}}function Tr(e){return function(t){return m(fo(po(t).replace(_t,"")),e,"")}}function Ar(e){return function(){var t=arguments;switch(t.length){case 0:return new e;case 1:return new e(t[0]);case 2:return new e(t[0],t[1]);case 3:return new e(t[0],t[1],t[2]);case 4:return new e(t[0],t[1],t[2],t[3]);case 5:return new e(t[0],t[1],t[2],t[3],t[4]);case 6:return new e(t[0],t[1],t[2],t[3],t[4],t[5]);case 7:return new e(t[0],t[1],t[2],t[3],t[4],t[5],t[6])}var n=Ia(e.prototype),r=e.apply(n,t);return Xi(r)?r:n}}function Mr(e,t,n){var r=Ar(e);return function i(){for(var a=arguments.length,s=Eo(a),u=a,c=Zr(i);u--;)s[u]=arguments[u];var l=3>a&&s[0]!==c&&s[a-1]!==c?[]:z(s,c);return(a-=l.length)<n?Br(e,t,Lr,i.placeholder,void 0,s,l,void 0,void 0,n-a):o(this&&this!==Ft&&this instanceof i?r:e,this,s)}}function Cr(e){return function(t,n,r){var i=Co(t);if(!zi(t)){var o=Kr(n,3);t=so(t),n=function(e){return o(i[e],e,i)}}var a=e(t,n,r);return-1<a?i[o?t[a]:a]:void 0}}function Dr(e){return Xr(function(t){var n=t.length,r=n,o=i.prototype.thru;for(e&&t.reverse();r--;){var a=t[r];if("function"!=typeof a)throw new Po(X);if(o&&!s&&"wrapper"==Jr(a))var s=new i([],!0)}for(r=s?r:n;++r<n;){var u=Jr(a=t[r]),c="wrapper"==u?Ha(a):void 0;s=c&&si(c[0])&&c[1]==(se|re|oe|ue)&&!c[4].length&&1==c[9]?s[Jr(c[0])].apply(s,c[3]):1==a.length&&si(a)?s[u]():s.thru(a)}return function(){var e=arguments,r=e[0];if(s&&1==e.length&&Ns(r))return s.plant(r).value();for(var i=0,o=n?t[i].apply(this,e):r;++i<n;)o=t[i].call(this,o);return o}})}function Lr(e,t,n,r,i,o,a,s,u,c){var l=t&se,h=t&ee,p=t&te,f=t&(re|ie),d=t&ce,m=p?void 0:Ar(e);return function g(){for(var v=arguments.length,y=Eo(v),x=v;x--;)y[x]=arguments[x];if(f)var b=Zr(g),w=function(e,t){for(var n=e.length,r=0;n--;)e[n]===t&&++r;return r}(y,b);if(r&&(y=gr(y,r,i,f)),o&&(y=vr(y,o,a,f)),v-=w,f&&v<c){var _=z(y,b);return Br(e,t,Lr,g.placeholder,n,y,_,s,u,c-v)}var E=h?n:this,S=p?E[e]:e;return v=y.length,s?y=function(e,t){for(var n,r=e.length,i=fa(t.length,r),o=yr(e);i--;)n=t[i],e[i]=ii(n,r)?o[n]:void 0;return e}(y,s):d&&1<v&&y.reverse(),l&&u<v&&(y.length=u),this&&this!==Ft&&this instanceof g&&(S=m||Ar(S)),S.apply(E,y)}}function Pr(e,t){return function(n,r){return function(e,t,n,r){return fn(e,function(e,i,o){t(r,n(e),i,o)}),r}(n,e,t(r),{})}}function Rr(e,t){return function(n,r){var i;if(void 0===n&&void 0===r)return t;if(void 0!==n&&(i=n),void 0!==r){if(void 0===i)return r;"string"==typeof n||"string"==typeof r?(n=er(n),r=er(r)):(n=Qn(n),r=Qn(r)),i=e(n,r)}return i}}function Or(e){return Xr(function(t){return t=f(t,L(Kr())),Hn(function(n){var r=this;return e(t,function(e){return o(e,r,n)})})})}function Ir(e,t){var n=(t=void 0===t?" ":er(t)).length;if(2>n)return n?Gn(t,e):t;var r=Gn(t,oa(e/G(t)));return N(t)?hr(H(r),0,e).join(""):r.slice(0,e)}function kr(e,t,n,r){var i=t&ee,a=Ar(e);return function t(){for(var s=-1,u=arguments.length,c=-1,l=r.length,h=Eo(l+u),p=this&&this!==Ft&&this instanceof t?a:e;++c<l;)h[c]=r[c];for(;u--;)h[c++]=arguments[++s];return o(p,i?n:this,h)}}function Nr(e){return function(t,n,r){return r&&"number"!=typeof r&&oi(t,n,r)&&(n=r=void 0),t=Qi(t),void 0===n?(n=t,t=0):n=Qi(n),function(e,t,n,r){for(var i=-1,o=pa(oa((t-e)/(n||1)),0),a=Eo(o);o--;)a[r?o:++i]=e,e+=n;return a}(t,n,r=void 0===r?t<n?1:-1:Qi(r),e)}}function Fr(e){return function(t,n){return"string"==typeof t&&"string"==typeof n||(t=no(t),n=no(n)),e(t,n)}}function Br(e,t,n,r,i,o,a,s,u,c){var l=t&re;t|=l?oe:ae,(t&=~(l?ae:oe))&ne||(t&=~(ee|te));var h=[e,t,i,l?o:void 0,l?a:void 0,l?void 0:o,l?void 0:a,s,u,c],p=n.apply(void 0,h);return si(e)&&Ya(p,h),p.placeholder=r,di(p,e,t)}function Ur(e){var t=Mo[e];return function(e,n){if(e=no(e),(n=null==n?0:fa(eo(n),292))&&ca(e)){var r=(io(e)+"e").split("e");return+((r=(io(t(r[0]+"e"+(+r[1]+n)))+"e").split("e"))[0]+"e"+(+r[1]-n))}return t(e)}}function zr(e){return function(t){var n=Xa(t);return n==Ee?B(t):n==Ce?function(e){var t=-1,n=Array(e.size);return e.forEach(function(e){n[++t]=[e,e]}),n}(t):function(e,t){return f(t,function(t){return[t,e[t]]})}(t,e(t))}}function jr(e,t,n,r,i,o,a,s){var u=t&te;if(!u&&"function"!=typeof e)throw new Po(X);var c=r?r.length:0;if(c||(t&=~(oe|ae),r=i=void 0),a=void 0===a?a:pa(eo(a),0),s=void 0===s?s:eo(s),c-=i?i.length:0,t&ae){var l=r,h=i;r=i=void 0}var p=u?void 0:Ha(e),f=[e,t,n,r,i,l,h,o,a,s];if(p&&function(e,t){var n=e[1],r=t[1],i=n|r,o=i<(ee|te|se),a=r==se&&n==re||r==se&&n==ue&&e[7].length<=t[8]||r==(se|ue)&&t[7].length<=t[8]&&n==re;if(!o&&!a)return e;r&ee&&(e[2]=t[2],i|=n&ee?0:ne);var s=t[3];if(s){var u=e[3];e[3]=u?gr(u,s,t[4]):s,e[4]=u?z(e[3],Y):t[4]}(s=t[5])&&(u=e[5],e[5]=u?vr(u,s,t[6]):s,e[6]=u?z(e[5],Y):t[6]),(s=t[7])&&(e[7]=s),r&se&&(e[8]=null==e[8]?t[8]:fa(e[8],t[8])),null==e[9]&&(e[9]=t[9]),e[0]=t[0],e[1]=i}(f,p),e=f[0],t=f[1],n=f[2],r=f[3],i=f[4],!(s=f[9]=void 0===f[9]?u?0:e.length:pa(f[9]-c,0))&&t&(re|ie)&&(t&=~(re|ie)),t&&t!=ee)d=t==re||t==ie?Mr(e,t,s):t!=oe&&t!=(ee|oe)||i.length?Lr.apply(void 0,f):kr(e,t,n,r);else var d=function(e,t,n){var r=t&ee,i=Ar(e);return function t(){return(this&&this!==Ft&&this instanceof t?i:e).apply(r?n:this,arguments)}}(e,t,n);return di((p?Ua:Ya)(d,f),e,t)}function Gr(e,t,n,r){return void 0===e||Ui(e,Io[n])&&!Fo.call(r,n)?t:e}function Hr(e,t,n,r,i,o){return Xi(e)&&Xi(t)&&(o.set(t,e),kn(e,t,void 0,Hr,o),o.delete(t)),e}function Vr(e){return Ji(e)?void 0:e}function Wr(e,t,n,r,i,o){var a=n&$,s=e.length,u=t.length;if(s!=u&&!(a&&u>s))return!1;var c=o.get(e);if(c&&o.get(t))return c==t;var l=-1,h=!0,p=n&Q?new At:void 0;for(o.set(e,t),o.set(t,e);++l<s;){var f=e[l],d=t[l];if(r)var m=a?r(d,f,l,t,e,o):r(f,d,l,e,t,o);if(void 0!==m){if(m)continue;h=!1;break}if(p){if(!v(t,function(e,t){if(!R(p,t)&&(f===e||i(f,e,n,r,o)))return p.push(t)})){h=!1;break}}else if(f!==d&&!i(f,d,n,r,o)){h=!1;break}}return o.delete(e),o.delete(t),h}function Xr(e){return Za(hi(e,void 0,_i),e+"")}function qr(e){return vn(e,so,Va)}function Yr(e){return vn(e,uo,Wa)}function Jr(e){for(var t=e.name+"",n=Ta[t],r=Fo.call(Ta,t)?n.length:0;r--;){var i=n[r],o=i.func;if(null==o||o==e)return i.name}return t}function Zr(e){return(Fo.call(n,"placeholder")?n:e).placeholder}function Kr(){var e=n.iteratee||vo;return e=e===vo?Cn:e,arguments.length?e(arguments[0],arguments[1]):e}function $r(e,t){var n=e.__data__;return function(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e}(t)?n["string"==typeof t?"string":"hash"]:n.map}function Qr(e){for(var t=so(e),n=t.length;n--;){var r=t[n],i=e[r];t[n]=[r,i,ci(i)]}return t}function ei(e,t){var n=function(e,t){return null==e?void 0:e[t]}(e,t);return Mn(n)?n:void 0}function ti(e,t,n){for(var r,i=-1,o=(t=lr(t,e)).length,a=!1;++i<o&&(r=vi(t[i]),a=null!=e&&n(e,r));)e=e[r];return a||++i!=o?a:!!(o=null==e?0:e.length)&&Wi(o)&&ii(r,o)&&(Ns(e)||ks(e))}function ni(e){return"function"!=typeof e.constructor||ui(e)?{}:Ia(Yo(e))}function ri(e){return Ns(e)||ks(e)||!!($o&&e&&e[$o])}function ii(e,t){var n=typeof e;return!!(t=null==t?pe:t)&&("number"==n||"symbol"!=n&&yt.test(e))&&-1<e&&0==e%1&&e<t}function oi(e,t,n){if(!Xi(n))return!1;var r=typeof t;return("number"==r?!(!zi(n)||!ii(t,n.length)):!!("string"==r&&t in n))&&Ui(n[t],e)}function ai(e,t){if(Ns(e))return!1;var n=typeof e;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=e&&!Ki(e))||et.test(e)||!Qe.test(e)||null!=t&&e in Co(t)}function si(e){var t=Jr(e),r=n[t];if("function"!=typeof r||!(t in A.prototype))return!1;if(e===r)return!0;var i=Ha(r);return!!i&&e===i[0]}function ui(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||Io)}function ci(e){return e==e&&!Xi(e)}function li(e,t){return function(n){return null!=n&&n[e]===t&&(void 0!==t||e in Co(n))}}function hi(e,t,n){return t=pa(void 0===t?e.length-1:t,0),function(){for(var r=arguments,i=-1,a=pa(r.length-t,0),s=Eo(a);++i<a;)s[i]=r[t+i];i=-1;for(var u=Eo(t+1);++i<t;)u[i]=r[i];return u[t]=n(s),o(e,this,u)}}function pi(e,t){return 2>t.length?e:gn(e,Yn(t,0,-1))}function fi(e,t){return"constructor"===t&&"function"==typeof e[t]||"__proto__"==t?void 0:e[t]}function di(e,t,n){var r=t+"";return Za(e,function(e,t){var n=t.length;if(!n)return e;var r=n-1;return t[r]=(1<n?"& ":"")+t[r],t=t.join(2<n?", ":" "),e.replace(st,"{\n/* [wrapped with "+t+"] */\n")}(r,function(e,t){return s(me,function(n){var r="_."+n[0];t&n[1]&&!h(e,r)&&e.push(r)}),e.sort()}(function(e){var t=e.match(ut);return t?t[1].split(ct):[]}(r),n)))}function mi(e){var t=0,n=0;return function(){var r=da(),i=16-(r-n);if(n=r,0<i){if(++t>=800)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}function gi(e,t){var n=-1,r=e.length;for(t=void 0===t?r:t;++n<t;){var i=jn(n,r-1),o=e[i];e[i]=e[n],e[n]=o}return e.length=t,e}function vi(e){if("string"==typeof e||Ki(e))return e;var t=e+"";return"0"==t&&1/e==-he?"-0":t}function yi(e){if(null!=e){try{return No.call(e)}catch(t){}try{return e+""}catch(t){}}return""}function xi(e){if(e instanceof A)return e.clone();var t=new i(e.__wrapped__,e.__chain__);return t.__actions__=yr(e.__actions__),t.__index__=e.__index__,t.__values__=e.__values__,t}function bi(e,t,n){var r=null==e?0:e.length;if(!r)return-1;var i=null==n?0:eo(n);return 0>i&&(i=pa(r+i,0)),b(e,Kr(t,3),i)}function wi(e,t,n){var r=null==e?0:e.length;if(!r)return-1;var i=r-1;return void 0!==n&&(i=eo(n),i=0>n?pa(r+i,0):fa(i,r-1)),b(e,Kr(t,3),i,!0)}function _i(e){return(null==e?0:e.length)?pn(e,1):[]}function Ei(e){return e&&e.length?e[0]:void 0}function Si(e){var t=null==e?0:e.length;return t?e[t-1]:void 0}function Ti(e,t){return e&&e.length&&t&&t.length?Un(e,t):e}function Ai(e){return null==e?e:va.call(e)}function Mi(e){if(!e||!e.length)return[];var t=0;return e=l(e,function(e){if(ji(e))return t=pa(e.length,t),!0}),D(t,function(t){return f(e,T(t))})}function Ci(e,t){if(!e||!e.length)return[];var n=Mi(e);return null==t?n:f(n,function(e){return o(t,void 0,e)})}function Di(e){var t=n(e);return t.__chain__=!0,t}function Li(e,t){return t(e)}function Pi(e,t){return(Ns(e)?s:ka)(e,Kr(t,3))}function Ri(e,t){return(Ns(e)?u:Na)(e,Kr(t,3))}function Oi(e,t){return(Ns(e)?f:Rn)(e,Kr(t,3))}function Ii(e,t,n){return t=n?void 0:t,t=e&&null==t?e.length:t,jr(e,se,void 0,void 0,void 0,void 0,t)}function ki(e,t){var n;if("function"!=typeof t)throw new Po(X);return e=eo(e),function(){return 0<--e&&(n=t.apply(this,arguments)),1>=e&&(t=void 0),n}}function Ni(e,t,n){function r(t){var n=u,r=c;return u=c=void 0,d=t,h=e.apply(r,n)}function i(e){var n=e-f;return void 0===f||n>=t||0>n||g&&e-d>=l}function o(){var e=Ss();return i(e)?a(e):void(p=Ja(o,function(e){var n=t-(e-f);return g?fa(n,l-(e-d)):n}(e)))}function a(e){return p=void 0,v&&u?r(e):(u=c=void 0,h)}function s(){var e=Ss(),n=i(e);if(u=arguments,c=this,f=e,n){if(void 0===p)return function(e){return d=e,p=Ja(o,t),m?r(e):h}(f);if(g)return ja(p),p=Ja(o,t),r(f)}return void 0===p&&(p=Ja(o,t)),h}var u,c,l,h,p,f,d=0,m=!1,g=!1,v=!0;if("function"!=typeof e)throw new Po(X);return t=no(t)||0,Xi(n)&&(m=!!n.leading,l=(g="maxWait"in n)?pa(no(n.maxWait)||0,t):l,v="trailing"in n?!!n.trailing:v),s.cancel=function(){void 0!==p&&ja(p),d=0,u=f=c=p=void 0},s.flush=function(){return void 0===p?h:a(Ss())},s}function Fi(e,t){if("function"!=typeof e||null!=t&&"function"!=typeof t)throw new Po(X);var n=function(){var r=arguments,i=t?t.apply(this,r):r[0],o=n.cache;if(o.has(i))return o.get(i);var a=e.apply(this,r);return n.cache=o.set(i,a)||o,a};return n.cache=new(Fi.Cache||Tt),n}function Bi(e){if("function"!=typeof e)throw new Po(X);return function(){var t=arguments;switch(t.length){case 0:return!e.call(this);case 1:return!e.call(this,t[0]);case 2:return!e.call(this,t[0],t[1]);case 3:return!e.call(this,t[0],t[1],t[2])}return!e.apply(this,t)}}function Ui(e,t){return e===t||e!=e&&t!=t}function zi(e){return null!=e&&Wi(e.length)&&!Hi(e)}function ji(e){return qi(e)&&zi(e)}function Gi(e){if(!qi(e))return!1;var t=yn(e);return t==be||"[object DOMException]"==t||"string"==typeof e.message&&"string"==typeof e.name&&!Ji(e)}function Hi(e){if(!Xi(e))return!1;var t=yn(e);return t==we||t==_e||"[object AsyncFunction]"==t||"[object Proxy]"==t}function Vi(e){return"number"==typeof e&&e==eo(e)}function Wi(e){return"number"==typeof e&&-1<e&&0==e%1&&e<=pe}function Xi(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}function qi(e){return null!=e&&"object"==typeof e}function Yi(e){return"number"==typeof e||qi(e)&&yn(e)==Se}function Ji(e){if(!qi(e)||yn(e)!=Te)return!1;var t=Yo(e);if(null===t)return!0;var n=Fo.call(t,"constructor")&&t.constructor;return"function"==typeof n&&n instanceof n&&No.call(n)==jo}function Zi(e){return"string"==typeof e||!Ns(e)&&qi(e)&&yn(e)==De}function Ki(e){return"symbol"==typeof e||qi(e)&&yn(e)==Le}function $i(e){if(!e)return[];if(zi(e))return Zi(e)?H(e):yr(e);if(Qo&&e[Qo])return function(e){for(var t,n=[];!(t=e.next()).done;)n.push(t.value);return n}(e[Qo]());var t=Xa(e);return(t==Ee?B:t==Ce?j:lo)(e)}function Qi(e){return e?(e=no(e))===he||e===-he?1.7976931348623157e308*(0>e?-1:1):e==e?e:0:0===e?e:0}function eo(e){var t=Qi(e),n=t%1;return t==t?n?t-n:t:0}function to(e){return e?rn(eo(e),0,de):0}function no(e){if("number"==typeof e)return e;if(Ki(e))return fe;if(Xi(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=Xi(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=e.replace(it,"");var n=mt.test(e);return n||vt.test(e)?It(e.slice(2),n?2:8):dt.test(e)?fe:+e}function ro(e){return xr(e,uo(e))}function io(e){return null==e?"":er(e)}function oo(e,t,n){var r=null==e?void 0:gn(e,t);return void 0===r?n:r}function ao(e,t){return null!=e&&ti(e,t,wn)}function so(e){return zi(e)?Rt(e):Dn(e)}function uo(e){return zi(e)?Rt(e,!0):Ln(e)}function co(e,t){if(null==e)return{};var n=f(Yr(e),function(e){return[e]});return t=Kr(t),Bn(e,n,function(e,n){return t(e,n[0])})}function lo(e){return null==e?[]:P(e,so(e))}function ho(e){return mu(io(e).toLowerCase())}function po(e){return(e=io(e))&&e.replace(xt,Zt).replace(Et,"")}function fo(e,t,n){return e=io(e),void 0===(t=n?void 0:t)?F(e)?V(e):y(e):e.match(t)||[]}function mo(e){return function(){return e}}function go(e){return e}function vo(e){return Cn("function"==typeof e?e:on(e,J))}function yo(e,t,n){var r=so(t),i=mn(t,r);null!=n||Xi(t)&&(i.length||!r.length)||(n=t,t=e,e=this,i=mn(t,so(t)));var o=!(Xi(n)&&"chain"in n&&!n.chain),a=Hi(e);return s(i,function(n){var r=t[n];e[n]=r,a&&(e.prototype[n]=function(){var t=this.__chain__;if(o||t){var n=e(this.__wrapped__);return(n.__actions__=yr(this.__actions__)).push({func:r,args:arguments,thisArg:e}),n.__chain__=t,n}return r.apply(e,d([this.value()],arguments))})}),e}function xo(){}function bo(e){return ai(e)?T(vi(e)):function(e){return function(t){return gn(t,e)}}(e)}function wo(){return[]}function _o(){return!1}var Eo=(t=null==t?Ft:Qt.defaults(Ft.Object(),t,Qt.pick(Ft,Ct))).Array,So=t.Date,To=t.Error,Ao=t.Function,Mo=t.Math,Co=t.Object,Do=t.RegExp,Lo=t.String,Po=t.TypeError,Ro=Eo.prototype,Oo=Ao.prototype,Io=Co.prototype,ko=t["__core-js_shared__"],No=Oo.toString,Fo=Io.hasOwnProperty,Bo=0,Uo=function(){var e=/[^.]+$/.exec(ko&&ko.keys&&ko.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}(),zo=Io.toString,jo=No.call(Co),Go=Ft._,Ho=Do("^"+No.call(Fo).replace(nt,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Vo=zt?t.Buffer:void 0,Wo=t.Symbol,Xo=t.Uint8Array,qo=Vo?Vo.allocUnsafe:void 0,Yo=U(Co.getPrototypeOf,Co),Jo=Co.create,Zo=Io.propertyIsEnumerable,Ko=Ro.splice,$o=Wo?Wo.isConcatSpreadable:void 0,Qo=Wo?Wo.iterator:void 0,ea=Wo?Wo.toStringTag:void 0,ta=function(){try{var e=ei(Co,"defineProperty");return e({},"",{}),e}catch(t){}}(),na=t.clearTimeout!==Ft.clearTimeout&&t.clearTimeout,ra=So&&So.now!==Ft.Date.now&&So.now,ia=t.setTimeout!==Ft.setTimeout&&t.setTimeout,oa=Mo.ceil,aa=Mo.floor,sa=Co.getOwnPropertySymbols,ua=Vo?Vo.isBuffer:void 0,ca=t.isFinite,la=Ro.join,ha=U(Co.keys,Co),pa=Mo.max,fa=Mo.min,da=So.now,ma=t.parseInt,ga=Mo.random,va=Ro.reverse,ya=ei(t,"DataView"),xa=ei(t,"Map"),ba=ei(t,"Promise"),wa=ei(t,"Set"),_a=ei(t,"WeakMap"),Ea=ei(Co,"create"),Sa=_a&&new _a,Ta={},Aa=yi(ya),Ma=yi(xa),Ca=yi(ba),Da=yi(wa),La=yi(_a),Pa=Wo?Wo.prototype:void 0,Ra=Pa?Pa.valueOf:void 0,Oa=Pa?Pa.toString:void 0,Ia=function(){function e(){}return function(t){if(!Xi(t))return{};if(Jo)return Jo(t);e.prototype=t;var n=new e;return e.prototype=void 0,n}}();n.templateSettings={escape:Ze,evaluate:Ke,interpolate:$e,variable:"",imports:{_:n}},n.prototype=r.prototype,n.prototype.constructor=n,i.prototype=Ia(r.prototype),i.prototype.constructor=i,A.prototype=Ia(r.prototype),A.prototype.constructor=A,lt.prototype.clear=function(){this.__data__=Ea?Ea(null):{},this.size=0},lt.prototype.delete=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t},lt.prototype.get=function(e){var t=this.__data__;if(Ea){var n=t[e];return n===q?void 0:n}return Fo.call(t,e)?t[e]:void 0},lt.prototype.has=function(e){var t=this.__data__;return Ea?void 0!==t[e]:Fo.call(t,e)},lt.prototype.set=function(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=Ea&&void 0===t?q:t,this},St.prototype.clear=function(){this.__data__=[],this.size=0},St.prototype.delete=function(e){var t=this.__data__,n=Gt(t,e);return!(0>n)&&(n==t.length-1?t.pop():Ko.call(t,n,1),--this.size,!0)},St.prototype.get=function(e){var t=this.__data__,n=Gt(t,e);return 0>n?void 0:t[n][1]},St.prototype.has=function(e){return-1<Gt(this.__data__,e)},St.prototype.set=function(e,t){var n=this.__data__,r=Gt(n,e);return 0>r?(++this.size,n.push([e,t])):n[r][1]=t,this},Tt.prototype.clear=function(){this.size=0,this.__data__={hash:new lt,map:new(xa||St),string:new lt}},Tt.prototype.delete=function(e){var t=$r(this,e).delete(e);return this.size-=t?1:0,t},Tt.prototype.get=function(e){return $r(this,e).get(e)},Tt.prototype.has=function(e){return $r(this,e).has(e)},Tt.prototype.set=function(e,t){var n=$r(this,e),r=n.size;return n.set(e,t),this.size+=n.size==r?0:1,this},At.prototype.add=At.prototype.push=function(e){return this.__data__.set(e,q),this},At.prototype.has=function(e){return this.__data__.has(e)},Mt.prototype.clear=function(){this.__data__=new St,this.size=0},Mt.prototype.delete=function(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n},Mt.prototype.get=function(e){return this.__data__.get(e)},Mt.prototype.has=function(e){return this.__data__.has(e)},Mt.prototype.set=function(e,t){var n=this.__data__;if(n instanceof St){var r=n.__data__;if(!xa||r.length<W-1)return r.push([e,t]),this.size=++n.size,this;n=this.__data__=new Tt(r)}return n.set(e,t),this.size=n.size,this};var ka=_r(fn),Na=_r(dn,!0),Fa=Er(),Ba=Er(!0),Ua=Sa?function(e,t){return Sa.set(e,t),e}:go,za=ta?function(e,t){return ta(e,"toString",{configurable:!0,enumerable:!1,value:mo(t),writable:!0})}:go,ja=na||function(e){return Ft.clearTimeout(e)},Ga=wa&&1/j(new wa([,-0]))[1]==he?function(e){return new wa(e)}:xo,Ha=Sa?function(e){return Sa.get(e)}:xo,Va=sa?function(e){return null==e?[]:(e=Co(e),l(sa(e),function(t){return Zo.call(e,t)}))}:wo,Wa=sa?function(e){for(var t=[];e;)d(t,Va(e)),e=Yo(e);return t}:wo,Xa=yn;(ya&&Xa(new ya(new ArrayBuffer(1)))!=Oe||xa&&Xa(new xa)!=Ee||ba&&Xa(ba.resolve())!=Ae||wa&&Xa(new wa)!=Ce||_a&&Xa(new _a)!=Pe)&&(Xa=function(e){var t=yn(e),n=t==Te?e.constructor:void 0,r=n?yi(n):"";if(r)switch(r){case Aa:return Oe;case Ma:return Ee;case Ca:return Ae;case Da:return Ce;case La:return Pe}return t});var qa=ko?Hi:_o,Ya=mi(Ua),Ja=ia||function(e,t){return Ft.setTimeout(e,t)},Za=mi(za),Ka=function(e){var t=Fi(e,function(e){return 500===n.size&&n.clear(),e}),n=t.cache;return t}(function(e){var t=[];return 46===e.charCodeAt(0)&&t.push(""),e.replace(tt,function(e,n,r,i){t.push(r?i.replace(ht,"$1"):n||e)}),t}),$a=Hn(function(e,t){return ji(e)?un(e,pn(t,1,ji,!0)):[]}),Qa=Hn(function(e,t){var n=Si(t);return ji(n)&&(n=void 0),ji(e)?un(e,pn(t,1,ji,!0),Kr(n,2)):[]}),es=Hn(function(e,t){var n=Si(t);return ji(n)&&(n=void 0),ji(e)?un(e,pn(t,1,ji,!0),void 0,n):[]}),ts=Hn(function(e){var t=f(e,ur);return t.length&&t[0]===e[0]?_n(t):[]}),ns=Hn(function(e){var t=Si(e),n=f(e,ur);return t===Si(n)?t=void 0:n.pop(),n.length&&n[0]===e[0]?_n(n,Kr(t,2)):[]}),rs=Hn(function(e){var t=Si(e),n=f(e,ur);return(t="function"==typeof t?t:void 0)&&n.pop(),n.length&&n[0]===e[0]?_n(n,void 0,t):[]}),is=Hn(Ti),os=Xr(function(e,t){var n=null==e?0:e.length,r=nn(e,t);return zn(e,f(t,function(e){return ii(e,n)?+e:e}).sort(mr)),r}),as=Hn(function(e){return tr(pn(e,1,ji,!0))}),ss=Hn(function(e){var t=Si(e);return ji(t)&&(t=void 0),tr(pn(e,1,ji,!0),Kr(t,2))}),us=Hn(function(e){var t=Si(e);return t="function"==typeof t?t:void 0,tr(pn(e,1,ji,!0),void 0,t)}),cs=Hn(function(e,t){return ji(e)?un(e,t):[]}),ls=Hn(function(e){return ar(l(e,ji))}),hs=Hn(function(e){var t=Si(e);return ji(t)&&(t=void 0),ar(l(e,ji),Kr(t,2))}),ps=Hn(function(e){var t=Si(e);return t="function"==typeof t?t:void 0,ar(l(e,ji),void 0,t)}),fs=Hn(Mi),ds=Hn(function(e){var t=e.length,n=1<t?e[t-1]:void 0;return n="function"==typeof n?(e.pop(),n):void 0,Ci(e,n)}),ms=Xr(function(e){var t=e.length,n=t?e[0]:0,r=this.__wrapped__,o=function(t){return nn(t,e)};return!(1<t||this.__actions__.length)&&r instanceof A&&ii(n)?((r=r.slice(n,+n+(t?1:0))).__actions__.push({func:Li,args:[o],thisArg:void 0}),new i(r,this.__chain__).thru(function(e){return t&&!e.length&&e.push(void 0),e})):this.thru(o)}),gs=br(function(e,t,n){Fo.call(e,n)?++e[n]:tn(e,n,1)}),vs=Cr(bi),ys=Cr(wi),xs=br(function(e,t,n){Fo.call(e,n)?e[n].push(t):tn(e,n,[t])}),bs=Hn(function(e,t,n){var r=-1,i=zi(e)?Eo(e.length):[];return ka(e,function(e){i[++r]="function"==typeof t?o(t,e,n):En(e,t,n)}),i}),ws=br(function(e,t,n){tn(e,n,t)}),_s=br(function(e,t,n){e[n?0:1].push(t)},function(){return[[],[]]}),Es=Hn(function(e,t){if(null==e)return[];var n=t.length;return 1<n&&oi(e,t[0],t[1])?t=[]:2<n&&oi(t[0],t[1],t[2])&&(t=[t[0]]),Fn(e,pn(t,1),[])}),Ss=ra||function(){return Ft.Date.now()},Ts=Hn(function(e,t,n){var r=ee;if(n.length){var i=z(n,Zr(Ts));r|=oe}return jr(e,r,t,n,i)}),As=Hn(function(e,t,n){var r=ee|te;if(n.length){var i=z(n,Zr(As));r|=oe}return jr(t,r,e,n,i)}),Ms=Hn(function(e,t){return sn(e,1,t)}),Cs=Hn(function(e,t,n){return sn(e,no(t)||0,n)});Fi.Cache=Tt;var Ds=Hn(function(e,t){var n=(t=1==t.length&&Ns(t[0])?f(t[0],L(Kr())):f(pn(t,1),L(Kr()))).length;return Hn(function(r){for(var i=-1,a=fa(r.length,n);++i<a;)r[i]=t[i].call(this,r[i]);return o(e,this,r)})}),Ls=Hn(function(e,t){var n=z(t,Zr(Ls));return jr(e,oe,void 0,t,n)}),Ps=Hn(function(e,t){var n=z(t,Zr(Ps));return jr(e,ae,void 0,t,n)}),Rs=Xr(function(e,t){return jr(e,ue,void 0,void 0,void 0,t)}),Os=Fr(xn),Is=Fr(function(e,t){return e>=t}),ks=Sn(function(){return arguments}())?Sn:function(e){return qi(e)&&Fo.call(e,"callee")&&!Zo.call(e,"callee")},Ns=Eo.isArray,Fs=Ht?L(Ht):function(e){return qi(e)&&yn(e)==Re},Bs=ua||_o,Us=Vt?L(Vt):function(e){return qi(e)&&yn(e)==xe},zs=Wt?L(Wt):function(e){return qi(e)&&Xa(e)==Ee},js=Xt?L(Xt):function(e){return qi(e)&&yn(e)==Me},Gs=qt?L(qt):function(e){return qi(e)&&Xa(e)==Ce},Hs=Yt?L(Yt):function(e){return qi(e)&&Wi(e.length)&&!!Lt[yn(e)]},Vs=Fr(Pn),Ws=Fr(function(e,t){return e<=t}),Xs=wr(function(e,t){if(ui(t)||zi(t))xr(t,so(t),e);else for(var n in t)Fo.call(t,n)&&jt(e,n,t[n])}),qs=wr(function(e,t){xr(t,uo(t),e)}),Ys=wr(function(e,t,n,r){xr(t,uo(t),e,r)}),Js=wr(function(e,t,n,r){xr(t,so(t),e,r)}),Zs=Xr(nn),Ks=Hn(function(e,t){e=Co(e);var n=-1,r=t.length,i=2<r?t[2]:void 0;for(i&&oi(t[0],t[1],i)&&(r=1);++n<r;)for(var o=t[n],a=uo(o),s=-1,u=a.length;++s<u;){var c=a[s],l=e[c];(void 0===l||Ui(l,Io[c])&&!Fo.call(e,c))&&(e[c]=o[c])}return e}),$s=Hn(function(e){return e.push(void 0,Hr),o(ru,void 0,e)}),Qs=Pr(function(e,t,n){null!=t&&"function"!=typeof t.toString&&(t=zo.call(t)),e[t]=n},mo(go)),eu=Pr(function(e,t,n){null!=t&&"function"!=typeof t.toString&&(t=zo.call(t)),Fo.call(e,t)?e[t].push(n):e[t]=[n]},Kr),tu=Hn(En),nu=wr(function(e,t,n){kn(e,t,n)}),ru=wr(function(e,t,n,r){kn(e,t,n,r)}),iu=Xr(function(e,t){var n={};if(null==e)return n;var r=!1;t=f(t,function(t){return t=lr(t,e),r||(r=1<t.length),t}),xr(e,Yr(e),n),r&&(n=on(n,J|Z|K,Vr));for(var i=t.length;i--;)nr(n,t[i]);return n}),ou=Xr(function(e,t){return null==e?{}:function(e,t){return Bn(e,t,function(t,n){return ao(e,n)})}(e,t)}),au=zr(so),su=zr(uo),uu=Tr(function(e,t,n){return t=t.toLowerCase(),e+(n?ho(t):t)}),cu=Tr(function(e,t,n){return e+(n?"-":"")+t.toLowerCase()}),lu=Tr(function(e,t,n){return e+(n?" ":"")+t.toLowerCase()}),hu=Sr("toLowerCase"),pu=Tr(function(e,t,n){return e+(n?"_":"")+t.toLowerCase()}),fu=Tr(function(e,t,n){return e+(n?" ":"")+mu(t)}),du=Tr(function(e,t,n){return e+(n?" ":"")+t.toUpperCase()}),mu=Sr("toUpperCase"),gu=Hn(function(e,t){try{return o(e,void 0,t)}catch(t){return Gi(t)?t:new To(t)}}),vu=Xr(function(e,t){return s(t,function(t){t=vi(t),tn(e,t,Ts(e[t],e))}),e}),yu=Dr(),xu=Dr(!0),bu=Hn(function(e,t){return function(n){return En(n,e,t)}}),wu=Hn(function(e,t){return function(n){return En(e,n,t)}}),_u=Or(f),Eu=Or(c),Su=Or(v),Tu=Nr(),Au=Nr(!0),Mu=Rr(function(e,t){return e+t},0),Cu=Ur("ceil"),Du=Rr(function(e,t){return e/t},1),Lu=Ur("floor"),Pu=Rr(function(e,t){return e*t},1),Ru=Ur("round"),Ou=Rr(function(e,t){return e-t},0);return n.after=function(e,t){if("function"!=typeof t)throw new Po(X);return e=eo(e),function(){if(1>--e)return t.apply(this,arguments)}},n.ary=Ii,n.assign=Xs,n.assignIn=qs,n.assignInWith=Ys,n.assignWith=Js,n.at=Zs,n.before=ki,n.bind=Ts,n.bindAll=vu,n.bindKey=As,n.castArray=function(){if(!arguments.length)return[];var e=arguments[0];return Ns(e)?e:[e]},n.chain=Di,n.chunk=function(e,t,n){t=(n?oi(e,t,n):void 0===t)?1:pa(eo(t),0);var r=null==e?0:e.length;if(!r||1>t)return[];for(var i=0,o=0,a=Eo(oa(r/t));i<r;)a[o++]=Yn(e,i,i+=t);return a},n.compact=function(e){for(var t,n=-1,r=null==e?0:e.length,i=0,o=[];++n<r;)(t=e[n])&&(o[i++]=t);return o},n.concat=function(){var e=arguments.length;if(!e)return[];for(var t=Eo(e-1),n=arguments[0],r=e;r--;)t[r-1]=arguments[r];return d(Ns(n)?yr(n):[n],pn(t,1))},n.cond=function(e){var t=null==e?0:e.length,n=Kr();return e=t?f(e,function(e){if("function"!=typeof e[1])throw new Po(X);return[n(e[0]),e[1]]}):[],Hn(function(n){for(var r,i=-1;++i<t;)if(o((r=e[i])[0],this,n))return o(r[1],this,n)})},n.conforms=function(e){return function(e){var t=so(e);return function(n){return an(n,e,t)}}(on(e,J))},n.constant=mo,n.countBy=gs,n.create=function(e,t){var n=Ia(e);return null==t?n:en(n,t)},n.curry=function e(t,n,r){var i=jr(t,re,void 0,void 0,void 0,void 0,void 0,n=r?void 0:n);return i.placeholder=e.placeholder,i},n.curryRight=function e(t,n,r){var i=jr(t,ie,void 0,void 0,void 0,void 0,void 0,n=r?void 0:n);return i.placeholder=e.placeholder,i},n.debounce=Ni,n.defaults=Ks,n.defaultsDeep=$s,n.defer=Ms,n.delay=Cs,n.difference=$a,n.differenceBy=Qa,n.differenceWith=es,n.drop=function(e,t,n){var r=null==e?0:e.length;return r?Yn(e,0>(t=n||void 0===t?1:eo(t))?0:t,r):[]},n.dropRight=function(e,t,n){var r=null==e?0:e.length;return r?Yn(e,0,0>(t=r-(t=n||void 0===t?1:eo(t)))?0:t):[]},n.dropRightWhile=function(e,t){return e&&e.length?ir(e,Kr(t,3),!0,!0):[]},n.dropWhile=function(e,t){return e&&e.length?ir(e,Kr(t,3),!0):[]},n.fill=function(e,t,n,r){var i=null==e?0:e.length;return i?(n&&"number"!=typeof n&&oi(e,t,n)&&(n=0,r=i),function(e,t,n,r){var i=e.length;for(0>(n=eo(n))&&(n=-n>i?0:i+n),0>(r=void 0===r||r>i?i:eo(r))&&(r+=i),r=n>r?0:to(r);n<r;)e[n++]=t;return e}(e,t,n,r)):[]},n.filter=function(e,t){return(Ns(e)?l:hn)(e,Kr(t,3))},n.flatMap=function(e,t){return pn(Oi(e,t),1)},n.flatMapDeep=function(e,t){return pn(Oi(e,t),he)},n.flatMapDepth=function(e,t,n){return n=void 0===n?1:eo(n),pn(Oi(e,t),n)},n.flatten=_i,n.flattenDeep=function(e){return(null==e?0:e.length)?pn(e,he):[]},n.flattenDepth=function(e,t){return(null==e?0:e.length)?pn(e,t=void 0===t?1:eo(t)):[]},n.flip=function(e){return jr(e,ce)},n.flow=yu,n.flowRight=xu,n.fromPairs=function(e){for(var t,n=-1,r=null==e?0:e.length,i={};++n<r;)i[(t=e[n])[0]]=t[1];return i},n.functions=function(e){return null==e?[]:mn(e,so(e))},n.functionsIn=function(e){return null==e?[]:mn(e,uo(e))},n.groupBy=xs,n.initial=function(e){return(null==e?0:e.length)?Yn(e,0,-1):[]},n.intersection=ts,n.intersectionBy=ns,n.intersectionWith=rs,n.invert=Qs,n.invertBy=eu,n.invokeMap=bs,n.iteratee=vo,n.keyBy=ws,n.keys=so,n.keysIn=uo,n.map=Oi,n.mapKeys=function(e,t){var n={};return t=Kr(t,3),fn(e,function(e,r,i){tn(n,t(e,r,i),e)}),n},n.mapValues=function(e,t){var n={};return t=Kr(t,3),fn(e,function(e,r,i){tn(n,r,t(e,r,i))}),n},n.matches=function(e){return On(on(e,J))},n.matchesProperty=function(e,t){return In(e,on(t,J))},n.memoize=Fi,n.merge=nu,n.mergeWith=ru,n.method=bu,n.methodOf=wu,n.mixin=yo,n.negate=Bi,n.nthArg=function(e){return e=eo(e),Hn(function(t){return Nn(t,e)})},n.omit=iu,n.omitBy=function(e,t){return co(e,Bi(Kr(t)))},n.once=function(e){return ki(2,e)},n.orderBy=function(e,t,n,r){return null==e?[]:(Ns(t)||(t=null==t?[]:[t]),Ns(n=r?void 0:n)||(n=null==n?[]:[n]),Fn(e,t,n))},n.over=_u,n.overArgs=Ds,n.overEvery=Eu,n.overSome=Su,n.partial=Ls,n.partialRight=Ps,n.partition=_s,n.pick=ou,n.pickBy=co,n.property=bo,n.propertyOf=function(e){return function(t){return null==e?void 0:gn(e,t)}},n.pull=is,n.pullAll=Ti,n.pullAllBy=function(e,t,n){return e&&e.length&&t&&t.length?Un(e,t,Kr(n,2)):e},n.pullAllWith=function(e,t,n){return e&&e.length&&t&&t.length?Un(e,t,void 0,n):e},n.pullAt=os,n.range=Tu,n.rangeRight=Au,n.rearg=Rs,n.reject=function(e,t){return(Ns(e)?l:hn)(e,Bi(Kr(t,3)))},n.remove=function(e,t){var n=[];if(!e||!e.length)return n;var r=-1,i=[],o=e.length;for(t=Kr(t,3);++r<o;){var a=e[r];t(a,r,e)&&(n.push(a),i.push(r))}return zn(e,i),n},n.rest=function(e,t){if("function"!=typeof e)throw new Po(X);return Hn(e,t=void 0===t?t:eo(t))},n.reverse=Ai,n.sampleSize=function(e,t,n){return t=(n?oi(e,t,n):void 0===t)?1:eo(t),(Ns(e)?Nt:Wn)(e,t)},n.set=function(e,t,n){return null==e?e:Xn(e,t,n)},n.setWith=function(e,t,n,r){return r="function"==typeof r?r:void 0,null==e?e:Xn(e,t,n,r)},n.shuffle=function(e){return(Ns(e)?Bt:qn)(e)},n.slice=function(e,t,n){var r=null==e?0:e.length;return r?(n&&"number"!=typeof n&&oi(e,t,n)?(t=0,n=r):(t=null==t?0:eo(t),n=void 0===n?r:eo(n)),Yn(e,t,n)):[]},n.sortBy=Es,n.sortedUniq=function(e){return e&&e.length?$n(e):[]},n.sortedUniqBy=function(e,t){return e&&e.length?$n(e,Kr(t,2)):[]},n.split=function(e,t,n){return n&&"number"!=typeof n&&oi(e,t,n)&&(t=n=void 0),(n=void 0===n?de:n>>>0)?(e=io(e))&&("string"==typeof t||null!=t&&!js(t))&&(!(t=er(t))&&N(e))?hr(H(e),0,n):e.split(t,n):[]},n.spread=function(e,t){if("function"!=typeof e)throw new Po(X);return t=null==t?0:pa(eo(t),0),Hn(function(n){var r=n[t],i=hr(n,0,t);return r&&d(i,r),o(e,this,i)})},n.tail=function(e){var t=null==e?0:e.length;return t?Yn(e,1,t):[]},n.take=function(e,t,n){return e&&e.length?Yn(e,0,0>(t=n||void 0===t?1:eo(t))?0:t):[]},n.takeRight=function(e,t,n){var r=null==e?0:e.length;return r?Yn(e,0>(t=r-(t=n||void 0===t?1:eo(t)))?0:t,r):[]},n.takeRightWhile=function(e,t){return e&&e.length?ir(e,Kr(t,3),!1,!0):[]},n.takeWhile=function(e,t){return e&&e.length?ir(e,Kr(t,3)):[]},n.tap=function(e,t){return t(e),e},n.throttle=function(e,t,n){var r=!0,i=!0;if("function"!=typeof e)throw new Po(X);return Xi(n)&&(r="leading"in n?!!n.leading:r,i="trailing"in n?!!n.trailing:i),Ni(e,t,{leading:r,maxWait:t,trailing:i})},n.thru=Li,n.toArray=$i,n.toPairs=au,n.toPairsIn=su,n.toPath=function(e){return Ns(e)?f(e,vi):Ki(e)?[e]:yr(Ka(io(e)))},n.toPlainObject=ro,n.transform=function(e,t,n){var r=Ns(e),i=r||Bs(e)||Hs(e);if(t=Kr(t,4),null==n){var o=e&&e.constructor;n=i?r?new o:[]:Xi(e)&&Hi(o)?Ia(Yo(e)):{}}return(i?s:fn)(e,function(e,r,i){return t(n,e,r,i)}),n},n.unary=function(e){return Ii(e,1)},n.union=as,n.unionBy=ss,n.unionWith=us,n.uniq=function(e){return e&&e.length?tr(e):[]},n.uniqBy=function(e,t){return e&&e.length?tr(e,Kr(t,2)):[]},n.uniqWith=function(e,t){return t="function"==typeof t?t:void 0,e&&e.length?tr(e,void 0,t):[]},n.unset=function(e,t){return null==e||nr(e,t)},n.unzip=Mi,n.unzipWith=Ci,n.update=function(e,t,n){return null==e?e:rr(e,t,cr(n))},n.updateWith=function(e,t,n,r){return r="function"==typeof r?r:void 0,null==e?e:rr(e,t,cr(n),r)},n.values=lo,n.valuesIn=function(e){return null==e?[]:P(e,uo(e))},n.without=cs,n.words=fo,n.wrap=function(e,t){return Ls(cr(t),e)},n.xor=ls,n.xorBy=hs,n.xorWith=ps,n.zip=fs,n.zipObject=function(e,t){return sr(e||[],t||[],jt)},n.zipObjectDeep=function(e,t){return sr(e||[],t||[],Xn)},n.zipWith=ds,n.entries=au,n.entriesIn=su,n.extend=qs,n.extendWith=Ys,yo(n,n),n.add=Mu,n.attempt=gu,n.camelCase=uu,n.capitalize=ho,n.ceil=Cu,n.clamp=function(e,t,n){return void 0===n&&(n=t,t=void 0),void 0!==n&&(n=(n=no(n))==n?n:0),void 0!==t&&(t=(t=no(t))==t?t:0),rn(no(e),t,n)},n.clone=function(e){return on(e,K)},n.cloneDeep=function(e){return on(e,J|K)},n.cloneDeepWith=function(e,t){return on(e,J|K,t="function"==typeof t?t:void 0)},n.cloneWith=function(e,t){return on(e,K,t="function"==typeof t?t:void 0)},n.conformsTo=function(e,t){return null==t||an(e,t,so(t))},n.deburr=po,n.defaultTo=function(e,t){return null==e||e!=e?t:e},n.divide=Du,n.endsWith=function(e,t,n){e=io(e),t=er(t);var r=e.length,i=n=void 0===n?r:rn(eo(n),0,r);return 0<=(n-=t.length)&&e.slice(n,i)==t},n.eq=Ui,n.escape=function(e){return(e=io(e))&&Je.test(e)?e.replace(qe,Kt):e},n.escapeRegExp=function(e){return(e=io(e))&&rt.test(e)?e.replace(nt,"\\$&"):e},n.every=function(e,t,n){var r=Ns(e)?c:cn;return n&&oi(e,t,n)&&(t=void 0),r(e,Kr(t,3))},n.find=vs,n.findIndex=bi,n.findKey=function(e,t){return x(e,Kr(t,3),fn)},n.findLast=ys,n.findLastIndex=wi,n.findLastKey=function(e,t){return x(e,Kr(t,3),dn)},n.floor=Lu,n.forEach=Pi,n.forEachRight=Ri,n.forIn=function(e,t){return null==e?e:Fa(e,Kr(t,3),uo)},n.forInRight=function(e,t){return null==e?e:Ba(e,Kr(t,3),uo)},n.forOwn=function(e,t){return e&&fn(e,Kr(t,3))},n.forOwnRight=function(e,t){return e&&dn(e,Kr(t,3))},n.get=oo,n.gt=Os,n.gte=Is,n.has=function(e,t){return null!=e&&ti(e,t,bn)},n.hasIn=ao,n.head=Ei,n.identity=go,n.includes=function(e,t,n,r){e=zi(e)?e:lo(e),n=n&&!r?eo(n):0;var i=e.length;return 0>n&&(n=pa(i+n,0)),Zi(e)?n<=i&&-1<e.indexOf(t,n):!!i&&-1<w(e,t,n)},n.indexOf=function(e,t,n){var r=null==e?0:e.length;if(!r)return-1;var i=null==n?0:eo(n);return 0>i&&(i=pa(r+i,0)),w(e,t,i)},n.inRange=function(e,t,n){return t=Qi(t),void 0===n?(n=t,t=0):n=Qi(n),function(e,t,n){return e>=fa(t,n)&&e<pa(t,n)}(e=no(e),t,n)},n.invoke=tu,n.isArguments=ks,n.isArray=Ns,n.isArrayBuffer=Fs,n.isArrayLike=zi,n.isArrayLikeObject=ji,n.isBoolean=function(e){return!0===e||!1===e||qi(e)&&yn(e)==ye},n.isBuffer=Bs,n.isDate=Us,n.isElement=function(e){return qi(e)&&1===e.nodeType&&!Ji(e)},n.isEmpty=function(e){if(null==e)return!0;if(zi(e)&&(Ns(e)||"string"==typeof e||"function"==typeof e.splice||Bs(e)||Hs(e)||ks(e)))return!e.length;var t=Xa(e);if(t==Ee||t==Ce)return!e.size;if(ui(e))return!Dn(e).length;for(var n in e)if(Fo.call(e,n))return!1;return!0},n.isEqual=function(e,t){return Tn(e,t)},n.isEqualWith=function(e,t,n){var r=(n="function"==typeof n?n:void 0)?n(e,t):void 0;return void 0===r?Tn(e,t,void 0,n):!!r},n.isError=Gi,n.isFinite=function(e){return"number"==typeof e&&ca(e)},n.isFunction=Hi,n.isInteger=Vi,n.isLength=Wi,n.isMap=zs,n.isMatch=function(e,t){return e===t||An(e,t,Qr(t))},n.isMatchWith=function(e,t,n){return n="function"==typeof n?n:void 0,An(e,t,Qr(t),n)},n.isNaN=function(e){return Yi(e)&&e!=+e},n.isNative=function(e){if(qa(e))throw new To("Unsupported core-js use. Try https://npms.io/search?q=ponyfill.");return Mn(e)},n.isNil=function(e){return null==e},n.isNull=function(e){return null===e},n.isNumber=Yi,n.isObject=Xi,n.isObjectLike=qi,n.isPlainObject=Ji,n.isRegExp=js,n.isSafeInteger=function(e){return Vi(e)&&e>=-pe&&e<=pe},n.isSet=Gs,n.isString=Zi,n.isSymbol=Ki,n.isTypedArray=Hs,n.isUndefined=function(e){return void 0===e},n.isWeakMap=function(e){return qi(e)&&Xa(e)==Pe},n.isWeakSet=function(e){return qi(e)&&"[object WeakSet]"==yn(e)},n.join=function(e,t){return null==e?"":la.call(e,t)},n.kebabCase=cu,n.last=Si,n.lastIndexOf=function(e,t,n){var r=null==e?0:e.length;if(!r)return-1;var i=r;return void 0!==n&&(i=0>(i=eo(n))?pa(r+i,0):fa(i,r-1)),t==t?function(e,t,n){for(var r=n+1;r--;)if(e[r]===t)return r;return r}(e,t,i):b(e,E,i,!0)},n.lowerCase=lu,n.lowerFirst=hu,n.lt=Vs,n.lte=Ws,n.max=function(e){return e&&e.length?ln(e,go,xn):void 0},n.maxBy=function(e,t){return e&&e.length?ln(e,Kr(t,2),xn):void 0},n.mean=function(e){return S(e,go)},n.meanBy=function(e,t){return S(e,Kr(t,2))},n.min=function(e){return e&&e.length?ln(e,go,Pn):void 0},n.minBy=function(e,t){return e&&e.length?ln(e,Kr(t,2),Pn):void 0},n.stubArray=wo,n.stubFalse=_o,n.stubObject=function(){return{}},n.stubString=function(){return""},n.stubTrue=function(){return!0},n.multiply=Pu,n.nth=function(e,t){return e&&e.length?Nn(e,eo(t)):void 0},n.noConflict=function(){return Ft._===this&&(Ft._=Go),this},n.noop=xo,n.now=Ss,n.pad=function(e,t,n){e=io(e);var r=(t=eo(t))?G(e):0;if(!t||r>=t)return e;var i=(t-r)/2;return Ir(aa(i),n)+e+Ir(oa(i),n)},n.padEnd=function(e,t,n){e=io(e);var r=(t=eo(t))?G(e):0;return t&&r<t?e+Ir(t-r,n):e},n.padStart=function(e,t,n){e=io(e);var r=(t=eo(t))?G(e):0;return t&&r<t?Ir(t-r,n)+e:e},n.parseInt=function(e,t,n){return n||null==t?t=0:t&&(t=+t),ma(io(e).replace(ot,""),t||0)},n.random=function(e,t,n){if(n&&"boolean"!=typeof n&&oi(e,t,n)&&(t=n=void 0),void 0===n&&("boolean"==typeof t?(n=t,t=void 0):"boolean"==typeof e&&(n=e,e=void 0)),void 0===e&&void 0===t?(e=0,t=1):(e=Qi(e),void 0===t?(t=e,e=0):t=Qi(t)),e>t){var r=e;e=t,t=r}if(n||e%1||t%1){var i=ga();return fa(e+i*(t-e+Ot("1e-"+((i+"").length-1))),t)}return jn(e,t)},n.reduce=function(e,t,n){var r=Ns(e)?m:M,i=3>arguments.length;return r(e,Kr(t,4),n,i,ka)},n.reduceRight=function(e,t,n){var r=Ns(e)?g:M,i=3>arguments.length;return r(e,Kr(t,4),n,i,Na)},n.repeat=function(e,t,n){return t=(n?oi(e,t,n):void 0===t)?1:eo(t),Gn(io(e),t)},n.replace=function(){var e=arguments,t=io(e[0]);return 3>e.length?t:t.replace(e[1],e[2])},n.result=function(e,t,n){var r=-1,i=(t=lr(t,e)).length;for(i||(i=1,e=void 0);++r<i;){var o=null==e?void 0:e[vi(t[r])];void 0===o&&(r=i,o=n),e=Hi(o)?o.call(e):o}return e},n.round=Ru,n.runInContext=e,n.sample=function(e){return(Ns(e)?kt:Vn)(e)},n.size=function(e){if(null==e)return 0;if(zi(e))return Zi(e)?G(e):e.length;var t=Xa(e);return t==Ee||t==Ce?e.size:Dn(e).length},n.snakeCase=pu,n.some=function(e,t,n){var r=Ns(e)?v:Jn;return n&&oi(e,t,n)&&(t=void 0),r(e,Kr(t,3))},n.sortedIndex=function(e,t){return Zn(e,t)},n.sortedIndexBy=function(e,t,n){return Kn(e,t,Kr(n,2))},n.sortedIndexOf=function(e,t){var n=null==e?0:e.length;if(n){var r=Zn(e,t);if(r<n&&Ui(e[r],t))return r}return-1},n.sortedLastIndex=function(e,t){return Zn(e,t,!0)},n.sortedLastIndexBy=function(e,t,n){return Kn(e,t,Kr(n,2),!0)},n.sortedLastIndexOf=function(e,t){if(null==e?0:e.length){var n=Zn(e,t,!0)-1;if(Ui(e[n],t))return n}return-1},n.startCase=fu,n.startsWith=function(e,t,n){return e=io(e),n=null==n?0:rn(eo(n),0,e.length),t=er(t),e.slice(n,n+t.length)==t},n.subtract=Ou,n.sum=function(e){return e&&e.length?C(e,go):0},n.sumBy=function(e,t){return e&&e.length?C(e,Kr(t,2)):0},n.template=function(e,t,r){var i=n.templateSettings;r&&oi(e,t,r)&&(t=void 0),e=io(e),t=Ys({},t,i,Gr);var o,a,s=Ys({},t.imports,i.imports,Gr),u=so(s),c=P(s,u),l=0,h=t.interpolate||bt,p="__p += '",f=Do((t.escape||bt).source+"|"+h.source+"|"+(h===$e?pt:bt).source+"|"+(t.evaluate||bt).source+"|$","g"),d="//# sourceURL="+(Fo.call(t,"sourceURL")?(t.sourceURL+"").replace(/[\r\n]/g," "):"lodash.templateSources["+ ++Dt+"]")+"\n";e.replace(f,function(t,n,r,i,s,u){return r||(r=i),p+=e.slice(l,u).replace(wt,k),n&&(o=!0,p+="' +\n__e("+n+") +\n'"),s&&(a=!0,p+="';\n"+s+";\n__p += '"),r&&(p+="' +\n((__t = ("+r+")) == null ? '' : __t) +\n'"),l=u+t.length,t}),p+="';\n";var m=Fo.call(t,"variable")&&t.variable;m||(p="with (obj) {\n"+p+"\n}\n"),p=(a?p.replace(He,""):p).replace(Ve,"$1").replace(We,"$1;"),p="function("+(m||"obj")+") {\n"+(m?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(o?", __e = _.escape":"")+(a?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+p+"return __p\n}";var g=gu(function(){return Ao(u,d+"return "+p).apply(void 0,c)});if(g.source=p,Gi(g))throw g;return g},n.times=function(e,t){if(1>(e=eo(e))||e>pe)return[];var n=de,r=fa(e,de);t=Kr(t),e-=de;for(var i=D(r,t);++n<e;)t(n);return i},n.toFinite=Qi,n.toInteger=eo,n.toLength=to,n.toLower=function(e){return io(e).toLowerCase()},n.toNumber=no,n.toSafeInteger=function(e){return e?rn(eo(e),-pe,pe):0===e?e:0},n.toString=io,n.toUpper=function(e){return io(e).toUpperCase()},n.trim=function(e,t,n){if((e=io(e))&&(n||void 0===t))return e.replace(it,"");if(!e||!(t=er(t)))return e;var r=H(e),i=H(t);return hr(r,O(r,i),I(r,i)+1).join("")},n.trimEnd=function(e,t,n){if((e=io(e))&&(n||void 0===t))return e.replace(at,"");if(!e||!(t=er(t)))return e;var r=H(e);return hr(r,0,I(r,H(t))+1).join("")},n.trimStart=function(e,t,n){if((e=io(e))&&(n||void 0===t))return e.replace(ot,"");if(!e||!(t=er(t)))return e;var r=H(e);return hr(r,O(r,H(t))).join("")},n.truncate=function(e,t){var n=30,r="...";if(Xi(t)){var i="separator"in t?t.separator:i;n="length"in t?eo(t.length):n,r="omission"in t?er(t.omission):r}var o=(e=io(e)).length;if(N(e)){var a=H(e);o=a.length}if(n>=o)return e;var s=n-G(r);if(1>s)return r;var u=a?hr(a,0,s).join(""):e.slice(0,s);if(void 0===i)return u+r;if(a&&(s+=u.length-s),js(i)){if(e.slice(s).search(i)){var c,l=u;for(i.global||(i=Do(i.source,io(ft.exec(i))+"g")),i.lastIndex=0;c=i.exec(l);)var h=c.index;u=u.slice(0,void 0===h?s:h)}}else if(e.indexOf(er(i),s)!=s){var p=u.lastIndexOf(i);-1<p&&(u=u.slice(0,p))}return u+r},n.unescape=function(e){return(e=io(e))&&Ye.test(e)?e.replace(Xe,$t):e},n.uniqueId=function(e){var t=++Bo;return io(e)+t},n.upperCase=du,n.upperFirst=mu,n.each=Pi,n.eachRight=Ri,n.first=Ei,yo(n,function(){var e={};return fn(n,function(t,r){Fo.call(n.prototype,r)||(e[r]=t)}),e}(),{chain:!1}),n.VERSION="4.17.15",s(["bind","bindKey","curry","curryRight","partial","partialRight"],function(e){n[e].placeholder=n}),s(["drop","take"],function(e,t){A.prototype[e]=function(n){n=void 0===n?1:pa(eo(n),0);var r=this.__filtered__&&!t?new A(this):this.clone();return r.__filtered__?r.__takeCount__=fa(n,r.__takeCount__):r.__views__.push({size:fa(n,de),type:e+(0>r.__dir__?"Right":"")}),r},A.prototype[e+"Right"]=function(t){return this.reverse()[e](t).reverse()}}),s(["filter","map","takeWhile"],function(e,t){var n=t+1;A.prototype[e]=function(e){var t=this.clone();return t.__iteratees__.push({iteratee:Kr(e,3),type:n}),t.__filtered__=t.__filtered__||n==le||3==n,t}}),s(["head","last"],function(e,t){var n="take"+(t?"Right":"");A.prototype[e]=function(){return this[n](1).value()[0]}}),s(["initial","tail"],function(e,t){var n="drop"+(t?"":"Right");A.prototype[e]=function(){return this.__filtered__?new A(this):this[n](1)}}),A.prototype.compact=function(){return this.filter(go)},A.prototype.find=function(e){return this.filter(e).head()},A.prototype.findLast=function(e){return this.reverse().find(e)},A.prototype.invokeMap=Hn(function(e,t){return"function"==typeof e?new A(this):this.map(function(n){return En(n,e,t)})}),A.prototype.reject=function(e){return this.filter(Bi(Kr(e)))},A.prototype.slice=function(e,t){e=eo(e);var n=this;return n.__filtered__&&(0<e||0>t)?new A(n):(0>e?n=n.takeRight(-e):e&&(n=n.drop(e)),void 0!==t&&(n=0>(t=eo(t))?n.dropRight(-t):n.take(t-e)),n)},A.prototype.takeRightWhile=function(e){return this.reverse().takeWhile(e).reverse()},A.prototype.toArray=function(){return this.take(de)},fn(A.prototype,function(e,t){var r=/^(?:filter|find|map|reject)|While$/.test(t),o=/^(?:head|last)$/.test(t),a=n[o?"take"+("last"==t?"Right":""):t],s=o||/^find/.test(t);a&&(n.prototype[t]=function(){var t=this.__wrapped__,u=o?[1]:arguments,c=t instanceof A,l=u[0],h=c||Ns(t),p=function(e){var t=a.apply(n,d([e],u));return o&&f?t[0]:t};h&&r&&"function"==typeof l&&1!=l.length&&(c=h=!1);var f=this.__chain__,m=!!this.__actions__.length,g=s&&!f,v=c&&!m;if(!s&&h){t=v?t:new A(this);var y=e.apply(t,u);return y.__actions__.push({func:Li,args:[p],thisArg:void 0}),new i(y,f)}return g&&v?e.apply(this,u):(y=this.thru(p),g?o?y.value()[0]:y.value():y)})}),s(["pop","push","shift","sort","splice","unshift"],function(e){var t=Ro[e],r=/^(?:push|sort|unshift)$/.test(e)?"tap":"thru",i=/^(?:pop|shift)$/.test(e);n.prototype[e]=function(){var e=arguments;if(i&&!this.__chain__){var n=this.value();return t.apply(Ns(n)?n:[],e)}return this[r](function(n){return t.apply(Ns(n)?n:[],e)})}}),fn(A.prototype,function(e,t){var r=n[t];if(r){var i=r.name+"";Fo.call(Ta,i)||(Ta[i]=[]),Ta[i].push({name:t,func:r})}}),Ta[Lr(void 0,te).name]=[{name:"wrapper",func:void 0}],A.prototype.clone=function(){var e=new A(this.__wrapped__);return e.__actions__=yr(this.__actions__),e.__dir__=this.__dir__,e.__filtered__=this.__filtered__,e.__iteratees__=yr(this.__iteratees__),e.__takeCount__=this.__takeCount__,e.__views__=yr(this.__views__),e},A.prototype.reverse=function(){if(this.__filtered__){var e=new A(this);e.__dir__=-1,e.__filtered__=!0}else(e=this.clone()).__dir__*=-1;return e},A.prototype.value=function(){var e=this.__wrapped__.value(),t=this.__dir__,n=Ns(e),r=0>t,i=n?e.length:0,o=function(e,t,n){for(var r=-1,i=n.length;++r<i;){var o=n[r],a=o.size;switch(o.type){case"drop":e+=a;break;case"dropRight":t-=a;break;case"take":t=fa(t,e+a);break;case"takeRight":e=pa(e,t-a)}}return{start:e,end:t}}(0,i,this.__views__),a=o.start,s=o.end,u=s-a,c=r?s:a-1,l=this.__iteratees__,h=l.length,p=0,f=fa(u,this.__takeCount__);if(!n||!r&&i==u&&f==u)return or(e,this.__actions__);var d=[];e:for(;u--&&p<f;){for(var m=-1,g=e[c+=t];++m<h;){var v=l[m],y=v.iteratee,x=v.type,b=y(g);if(2==x)g=b;else if(!b){if(x==le)continue e;break e}}d[p++]=g}return d},n.prototype.at=ms,n.prototype.chain=function(){return Di(this)},n.prototype.commit=function(){return new i(this.value(),this.__chain__)},n.prototype.next=function(){void 0===this.__values__&&(this.__values__=$i(this.value()));var e=this.__index__>=this.__values__.length;return{done:e,value:e?void 0:this.__values__[this.__index__++]}},n.prototype.plant=function(e){for(var t,n,i=this;i instanceof r;){(n=xi(i)).__index__=0,n.__values__=void 0,t?o.__wrapped__=n:t=n;var o=n;i=i.__wrapped__}return o.__wrapped__=e,t},n.prototype.reverse=function(){var e=this.__wrapped__;if(e instanceof A){var t=e;return this.__actions__.length&&(t=new A(this)),(t=t.reverse()).__actions__.push({func:Li,args:[Ai],thisArg:void 0}),new i(t,this.__chain__)}return this.thru(Ai)},n.prototype.toJSON=n.prototype.valueOf=n.prototype.value=function(){return or(this.__wrapped__,this.__actions__)},n.prototype.first=n.prototype.head,Qo&&(n.prototype[Qo]=function(){return this}),n}();Ft._=Qt,void 0===(i=function(){return Qt}.call(t,n,t,r))||(r.exports=i)}).call(this)}).call(this,n("yLpj"),n("YuTi")(e))},M1xp:function(e,t,n){var r=n("a0xu");e.exports=Object("z").propertyIsEnumerable(0)?Object:function(e){return"String"==r(e)?e.split(""):Object(e)}},MCSJ:function(e){e.exports=function(e,t,n){var r=void 0===n;switch(t.length){case 0:return r?e():e.call(n);case 1:return r?e(t[0]):e.call(n,t[0]);case 2:return r?e(t[0],t[1]):e.call(n,t[0],t[1]);case 3:return r?e(t[0],t[1],t[2]):e.call(n,t[0],t[1],t[2]);case 4:return r?e(t[0],t[1],t[2],t[3]):e.call(n,t[0],t[1],t[2],t[3])}return e.apply(n,t)}},ME5O:function(e,t){"use strict";t.a={animationIterationCount:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1}},MERt:function(e,t,n){"use strict";var r=n("hyoZ");e.exports=new r("tag:yaml.org,2002:js/undefined",{kind:"scalar",resolve:function(){return!0},construct:function(){},predicate:function(e){return void 0===e},represent:function(){return""}})},MI3g:function(e,t,n){"use strict";function r(e){return(r="function"==typeof c.a&&"symbol"==typeof s.a?function(e){return typeof e}:function(e){return e&&"function"==typeof c.a&&e.constructor===c.a&&e!==c.a.prototype?"symbol":typeof e})(e)}function i(e){return(i="function"==typeof c.a&&"symbol"===r(s.a)?function(e){return r(e)}:function(e){return e&&"function"==typeof c.a&&e.constructor===c.a&&e!==c.a.prototype?"symbol":r(e)})(e)}function o(e,t){return!t||"object"!==i(t)&&"function"!=typeof t?Object(l.a)(e):t}var a=n("XVgq"),s=n.n(a),u=n("Z7t5"),c=n.n(u),l=n("AT/M");n.d(t,"a",function(){return o})},MPFp:function(e,t,n){"use strict";var r=n("uOPS"),i=n("Y7ZC"),o=n("kTiW"),a=n("NegM"),s=n("SBuE"),u=n("j2DC"),c=n("RfKB"),l=n("U+KD"),h=n("UWiX")("iterator"),p=!([].keys&&"next"in[].keys()),f="keys",d="values",m=function(){return this};e.exports=function(e,t,n,g,v,y,x){u(n,t,g);var b,w,_,E=function(e){return!p&&e in M?M[e]:function(){return new n(this,e)}},S=t+" Iterator",T=v==d,A=!1,M=e.prototype,C=M[h]||M["@@iterator"]||v&&M[v],D=C||E(v),L=v?T?E("entries"):D:void 0,P="Array"==t&&M.entries||C;if(P&&((_=l(P.call(new e)))!==Object.prototype&&_.next&&(c(_,S,!0),!r&&"function"!=typeof _[h]&&a(_,h,m))),T&&C&&C.name!==d&&(A=!0,D=function(){return C.call(this)}),(!r||x)&&(p||A||!M[h])&&a(M,h,D),s[t]=D,s[S]=m,v)if(b={values:T?D:E(d),keys:y?D:E(f),entries:L},x)for(w in b)w in M||o(M,w,b[w]);else i(i.P+i.F*(p||A),t,b);return b}},MX0m:function(e,t,n){e.exports=n("3niX")},MZKq:function(e,t,n){var r=n("ZR4k"),i=/(^-{3}(?:\r\n|\r|\n)([\w\W]*?)-{3}(?:\r\n|\r|\n))?([\w\W]*)*/;e.exports=function(e,t){t=t||{};var n={data:null,content:""},o=e.match(i);if(void 0!==o[2]){var a=t.safeLoad?r.safeLoad:r.load;try{n.data=a(o[2])||{}}catch(e){throw e}}return void 0!==o[3]&&(n.content=o[3]),n}},MgzW:function(e){"use strict";var t=Object.getOwnPropertySymbols,n=Object.prototype.hasOwnProperty,r=Object.prototype.propertyIsEnumerable;e.exports=function(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return!1;for(var t={},n=0;10>n;n++)t["_"+String.fromCharCode(n)]=n;if("0123456789"!==Object.getOwnPropertyNames(t).map(function(e){return t[e]}).join(""))return!1;var r={};return["a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t"].forEach(function(e){r[e]=e}),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},r)).join("")}catch(e){return!1}}()?Object.assign:function(e){for(var i,o,a=function(e){if(null==e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}(e),s=1;s<arguments.length;s++){for(var u in i=Object(arguments[s]))n.call(i,u)&&(a[u]=i[u]);if(t){o=t(i);for(var c=0;c<o.length;c++)r.call(i,o[c])&&(a[o[c]]=i[o[c]])}}return a}},Mqbl:function(e,t,n){var r=n("JB68"),i=n("w6GO");n("zn7N")("keys",function(){return function(e){return i(r(e))}})},MvwC:function(e,t,n){var r=n("5T2Y").document;e.exports=r&&r.documentElement},N9n2:function(e,t,n){var r=n("SqZg"),i=n("vjea");e.exports=function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=r(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&i(e,t)}},NV0k:function(e,t){t.f={}.propertyIsEnumerable},NegM:function(e,t,n){var r=n("2faE"),i=n("rr1i");e.exports=n("jmDH")?function(e,t,n){return r.f(e,t,i(1,n))}:function(e,t,n){return e[t]=n,e}},Nehr:function(e){"use strict";e.exports={isString:function(e){return"string"==typeof e},isObject:function(e){return"object"==typeof e&&null!==e},isNull:function(e){return null===e},isNullOrUndefined:function(e){return null==e}}},Njqi:function(e,t,n){"use strict";var r;try{r=n("+U4B")}catch(e){"undefined"!=typeof window&&(r=window.esprima)}var i=n("hyoZ");e.exports=new i("tag:yaml.org,2002:js/function",{kind:"scalar",resolve:function(e){if(null===e)return!1;try{var t=r.parse("("+e+")",{range:!0});return"Program"===t.type&&1===t.body.length&&"ExpressionStatement"===t.body[0].type&&("ArrowFunctionExpression"===t.body[0].expression.type||"FunctionExpression"===t.body[0].expression.type)}catch(e){return!1}},construct:function(e){var t,n="("+e+")",i=r.parse(n,{range:!0}),o=[];if("Program"!==i.type||1!==i.body.length||"ExpressionStatement"!==i.body[0].type||"ArrowFunctionExpression"!==i.body[0].expression.type&&"FunctionExpression"!==i.body[0].expression.type)throw new Error("Failed to resolve function");return i.body[0].expression.params.forEach(function(e){o.push(e.name)}),t=i.body[0].expression.body.range,"BlockStatement"===i.body[0].expression.body.type?new Function(o,n.slice(t[0]+1,t[1]-1)):new Function(o,"return "+n.slice(t[0],t[1]))},predicate:function(e){return"[object Function]"===Object.prototype.toString.call(e)},represent:function(e){return e.toString()}})},"NsO/":function(e,t,n){var r=n("M1xp"),i=n("Jes0");e.exports=function(e){return r(i(e))}},NwJ3:function(e,t,n){var r=n("SBuE"),i=n("UWiX")("iterator"),o=Array.prototype;e.exports=function(e){return void 0!==e&&(r.Array===e||o[i]===e)}},O40h:function(e,t,n){"use strict";function r(e,t,n,r,i,o,s){try{var u=e[o](s),c=u.value}catch(e){return void n(e)}u.done?t(c):a.a.resolve(c).then(r,i)}function i(e){return function(){var t=this,n=arguments;return new a.a(function(i,o){function a(e){r(u,i,o,a,s,"next",e)}function s(e){r(u,i,o,a,s,"throw",e)}var u=e.apply(t,n);a(void 0)})}}n.d(t,"a",function(){return i});var o=n("eVuF"),a=n.n(o)},Ojgd:function(e){var t=Math.ceil,n=Math.floor;e.exports=function(e){return isNaN(e=+e)?0:(0<e?n:t)(e)}},PBE1:function(e,t,n){"use strict";var r=n("Y7ZC"),i=n("WEpk"),o=n("5T2Y"),a=n("8gHz"),s=n("zXhZ");r(r.P+r.R,"Promise",{finally:function(e){var t=a(this,i.Promise||o.Promise),n="function"==typeof e;return this.then(n?function(n){return s(t,e()).then(function(){return n})}:e,n?function(n){return s(t,e()).then(function(){throw n})}:e)}})},PTkm:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,n){var r=void 0,i=void 0,o=void 0,a=void 0,s=void 0,u=function u(){var c=+new Date-a;c<t&&0<=c?r=setTimeout(u,t-c):(r=null,!n&&(s=e.apply(o,i),!r&&(o=null,i=null)))};return function(){o=this,i=arguments,a=+new Date;var c=n&&!r;return r||(r=setTimeout(u,t)),c&&(s=e.apply(o,i),o=null,i=null),s}}},Pe6h:function(e,t,n){"use strict";var r=Number.NEGATIVE_INFINITY,i=Number.POSITIVE_INFINITY,o=n("Y2Yi"),a=n("hyoZ"),s=/^(?:[-+]?(?:0|[1-9][0-9_]*)(?:\.[0-9_]*)?(?:[eE][-+]?[0-9]+)?|\.[0-9_]+(?:[eE][-+]?[0-9]+)?|[-+]?[0-9][0-9_]*(?::[0-5]?[0-9])+\.[0-9_]*|[-+]?\.(?:inf|Inf|INF)|\.(?:nan|NaN|NAN))$/,u=/^[-+]?[0-9]+e/;e.exports=new a("tag:yaml.org,2002:float",{kind:"scalar",resolve:function(e){return null!==e&&!(!s.test(e)||"_"===e[e.length-1])},construct:function(e){var t,n,o,a;return n="-"===(t=e.replace(/_/g,"").toLowerCase())[0]?-1:1,a=[],0<="+-".indexOf(t[0])&&(t=t.slice(1)),".inf"===t?1===n?i:r:".nan"===t?NaN:0<=t.indexOf(":")?(t.split(":").forEach(function(e){a.unshift(parseFloat(e,10))}),t=0,o=1,a.forEach(function(e){t+=e*o,o*=60}),n*t):n*parseFloat(t,10)},predicate:function(e){return"[object Number]"===Object.prototype.toString.call(e)&&(0!=e%1||o.isNegativeZero(e))},represent:function(e,t){var n;if(isNaN(e))switch(t){case"lowercase":return".nan";case"uppercase":return".NAN";case"camelcase":return".NaN"}else if(i===e)switch(t){case"lowercase":return".inf";case"uppercase":return".INF";case"camelcase":return".Inf"}else if(r===e)switch(t){case"lowercase":return"-.inf";case"uppercase":return"-.INF";case"camelcase":return"-.Inf"}else if(o.isNegativeZero(e))return"-0.0";return n=e.toString(10),u.test(n)?n.replace("e",".e"):n},defaultStyle:"lowercase"})},"Q/yX":function(e,t,n){"use strict";var r=n("Y7ZC"),i=n("ZW5q"),o=n("RDmV");r(r.S,"Promise",{try:function(e){var t=i.f(this),n=o(e);return(n.e?t.reject:t.resolve)(n.v),t.promise}})},QCnb:function(e,t,n){"use strict";e.exports=n("+wdc")},QMMT:function(e,t,n){var r=n("a0xu"),i=n("UWiX")("toStringTag"),o="Arguments"==r(function(){return arguments}());e.exports=function(e){var t,n,a;return void 0===e?"Undefined":null===e?"Null":"string"==typeof(n=function(e,t){try{return e[t]}catch(t){}}(t=Object(e),i))?n:o?r(t):"Object"==(a=r(t))&&"function"==typeof t.callee?"Arguments":a}},QXhf:function(e,t,n){var r,i,o,a=n("2GTP"),s=n("MCSJ"),u=n("MvwC"),c=n("Hsns"),l=n("5T2Y"),h=l.process,p=l.setImmediate,f=l.clearImmediate,d=l.MessageChannel,m=l.Dispatch,g=0,v={},y="onreadystatechange",x=function(){var e=+this;if(v.hasOwnProperty(e)){var t=v[e];delete v[e],t()}},b=function(e){x.call(e.data)};p&&f||(p=function(e){for(var t=[],n=1;arguments.length>n;)t.push(arguments[n++]);return v[++g]=function(){s("function"==typeof e?e:Function(e),t)},r(g),g},f=function(e){delete v[e]},"process"==n("a0xu")(h)?r=function(e){h.nextTick(a(x,e,1))}:m&&m.now?r=function(e){m.now(a(x,e,1))}:d?(o=(i=new d).port2,i.port1.onmessage=b,r=a(o.postMessage,o,1)):l.addEventListener&&"function"==typeof postMessage&&!l.importScripts?(r=function(e){l.postMessage(e+"","*")},l.addEventListener("message",b,!1)):r=y in c("script")?function(e){u.appendChild(c("script"))[y]=function(){u.removeChild(this),x.call(e)}}:function(e){setTimeout(a(x,e,1),0)}),e.exports={set:p,clear:f}},"R+7+":function(e,t,n){var r=n("w6GO"),i=n("mqlF"),o=n("NV0k");e.exports=function(e){var t=r(e),n=i.f;if(n)for(var a,s=n(e),u=o.f,c=0;s.length>c;)u.call(e,a=s[c++])&&t.push(a);return t}},RDmV:function(e){e.exports=function(e){try{return{e:!1,v:e()}}catch(t){return{e:!0,v:t}}}},RSEU:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n("Womt");t.default=class{constructor(){this.isEnabled=!1,this.onstatechange=(e=>{e.inputs.forEach(e=>{e.onmidimessage=(e=>this.onmidimessage(e.data))})}),this.onmidimessage=(e=>{if(this.isEnabled){const t=e[0]+256*e[1];this.midiArray[t]=e[2],this.midiTexture.needsUpdate=!0,144<=e[0]&&160>e[0]&&(this.noteArray[e[1]]=2*e[2],this.noteTexture.needsUpdate=!0),128<=e[0]&&144>e[0]&&(this.noteArray[e[1]]=0,this.noteTexture.needsUpdate=!0)}}),this.midiArray=new Uint8Array(32768),this.noteArray=new Uint8Array(128),this.midiTexture=new r.DataTexture(this.midiArray,256,128,r.LuminanceFormat,r.UnsignedByteType),this.noteTexture=new r.DataTexture(this.noteArray,128,1,r.LuminanceFormat,r.UnsignedByteType)}enable(){return this.isEnabled=!0,navigator.requestMIDIAccess?void navigator.requestMIDIAccess({sysex:!1}).then(e=>{this.onstatechange(e),e.onstatechange=(()=>this.onstatechange(e))}).catch(e=>console.log("Failed to load MIDI API",e)):void console.error("[VEDA] This browser doesn't support Web MIDI API.")}disable(){this.isEnabled=!1}}},RSjF:function(e,t,n){"use strict";var r=n("3lC6");e.exports=new r({include:[n("+VNs")]})},"RU/L":function(e,t,n){n("Rqdy");var r=n("WEpk").Object;e.exports=function(e,t,n){return r.defineProperty(e,t,n)}},RfKB:function(e,t,n){var r=n("2faE").f,i=n("B+OT"),o=n("UWiX")("toStringTag");e.exports=function(e,t,n){e&&!i(e=n?e:e.prototype,o)&&r(e,o,{configurable:!0,value:t})}},Rqdy:function(e,t,n){var r=n("Y7ZC");r(r.S+r.F*!n("jmDH"),"Object",{defineProperty:n("2faE").f})},SBuE:function(e){e.exports={}},SLQU:function(e,t,n){"use strict";function r(){}function i(e,t){this.x=e||0,this.y=t||0}function o(e,t,n,r,a,s,u,c,l,h){Object.defineProperty(this,"id",{value:zs++}),this.uuid=Us.generateUUID(),this.name="",this.image=void 0===e?o.DEFAULT_IMAGE:e,this.mipmaps=[],this.mapping=void 0===t?o.DEFAULT_MAPPING:t,this.wrapS=void 0===n?Ia:n,this.wrapT=void 0===r?Ia:r,this.magFilter=void 0===a?Ua:a,this.minFilter=void 0===s?ja:s,this.anisotropy=void 0===l?1:l,this.format=void 0===u?ns:u,this.type=void 0===c?Ga:c,this.offset=new i(0,0),this.repeat=new i(1,1),this.generateMipmaps=!0,this.premultiplyAlpha=!1,this.flipY=!0,this.unpackAlignment=4,this.encoding=void 0===h?Ds:h,this.version=0,this.onUpdate=null}function a(e,t,n,r){this.x=e||0,this.y=t||0,this.z=n||0,this.w=void 0===r?1:r}function s(e,t,n){this.uuid=Us.generateUUID(),this.width=e,this.height=t,this.scissor=new a(0,0,e,t),this.scissorTest=!1,this.viewport=new a(0,0,e,t),void 0===(n=n||{}).minFilter&&(n.minFilter=Ua),this.texture=new o(void 0,void 0,n.wrapS,n.wrapT,n.magFilter,n.minFilter,n.format,n.type,n.anisotropy,n.encoding),this.depthBuffer=void 0===n.depthBuffer||n.depthBuffer,this.stencilBuffer=void 0===n.stencilBuffer||n.stencilBuffer,this.depthTexture=void 0===n.depthTexture?null:n.depthTexture}function u(e,t,n){s.call(this,e,t,n),this.activeCubeFace=0,this.activeMipMapLevel=0}function c(e,t,n,r){this._x=e||0,this._y=t||0,this._z=n||0,this._w=void 0===r?1:r}function l(e,t,n){this.x=e||0,this.y=t||0,this.z=n||0}function h(){this.elements=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],0<arguments.length&&console.error("THREE.Matrix4: the constructor no longer reads arguments. use .set() instead.")}function p(e,t,n,r,i,a,s,u,c,l,h,p){o.call(this,null,a,s,u,c,l,r,i,h,p),this.image={data:e,width:t,height:n},this.magFilter=void 0===c?Na:c,this.minFilter=void 0===l?Na:l,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}function f(e,t,n,r,i,a,s,u,c,l){e=void 0===e?[]:e,t=void 0===t?Aa:t,o.call(this,e,t,n,r,i,a,s,u,c,l),this.flipY=!1}function d(){this.seq=[],this.map={}}function m(e,t,n){var r=e[0];if(0>=r||0<r)return e;var i=t*n,o=Hs[i];if(void 0===o&&(o=new Float32Array(i),Hs[i]=o),0!==t){r.toArray(o,0);for(var a=1,s=0;a!==t;++a)s+=n,e[a].toArray(o,s)}return o}function g(e,t){var n=Vs[t];void 0===n&&(n=new Int32Array(t),Vs[t]=n);for(var r=0;r!==t;++r)n[r]=e.allocTextureUnit();return n}function v(e,t){e.uniform1f(this.addr,t)}function y(e,t){e.uniform1i(this.addr,t)}function x(e,t){void 0===t.x?e.uniform2fv(this.addr,t):e.uniform2f(this.addr,t.x,t.y)}function b(e,t){void 0===t.x?void 0===t.r?e.uniform3fv(this.addr,t):e.uniform3f(this.addr,t.r,t.g,t.b):e.uniform3f(this.addr,t.x,t.y,t.z)}function w(e,t){void 0===t.x?e.uniform4fv(this.addr,t):e.uniform4f(this.addr,t.x,t.y,t.z,t.w)}function _(e,t){e.uniformMatrix2fv(this.addr,!1,t.elements||t)}function E(e,t){void 0===t.elements?e.uniformMatrix3fv(this.addr,!1,t):(Xs.set(t.elements),e.uniformMatrix3fv(this.addr,!1,Xs))}function S(e,t){void 0===t.elements?e.uniformMatrix4fv(this.addr,!1,t):(Ws.set(t.elements),e.uniformMatrix4fv(this.addr,!1,Ws))}function T(e,t,n){var r=n.allocTextureUnit();e.uniform1i(this.addr,r),n.setTexture2D(t||js,r)}function A(e,t,n){var r=n.allocTextureUnit();e.uniform1i(this.addr,r),n.setTextureCube(t||Gs,r)}function M(e,t){e.uniform2iv(this.addr,t)}function C(e,t){e.uniform3iv(this.addr,t)}function D(e,t){e.uniform4iv(this.addr,t)}function L(e,t){e.uniform1fv(this.addr,t)}function P(e,t){e.uniform1iv(this.addr,t)}function R(e,t){e.uniform2fv(this.addr,m(t,this.size,2))}function O(e,t){e.uniform3fv(this.addr,m(t,this.size,3))}function I(e,t){e.uniform4fv(this.addr,m(t,this.size,4))}function k(e,t){e.uniformMatrix2fv(this.addr,!1,m(t,this.size,4))}function N(e,t){e.uniformMatrix3fv(this.addr,!1,m(t,this.size,9))}function F(e,t){e.uniformMatrix4fv(this.addr,!1,m(t,this.size,16))}function B(e,t,n){var r=t.length,i=g(n,r);e.uniform1iv(this.addr,i);for(var o=0;o!==r;++o)n.setTexture2D(t[o]||js,i[o])}function U(e,t,n){var r=t.length,i=g(n,r);e.uniform1iv(this.addr,i);for(var o=0;o!==r;++o)n.setTextureCube(t[o]||Gs,i[o])}function z(e,t,n){this.id=e,this.addr=n,this.setValue=function(e){return 5126===e?v:35664===e?x:35665===e?b:35666===e?w:35674===e?_:35675===e?E:35676===e?S:35678===e||36198===e?T:35680===e?A:5124===e||35670===e?y:35667===e||35671===e?M:35668===e||35672===e?C:35669===e||35673===e?D:void 0}(t.type)}function j(e,t,n){this.id=e,this.addr=n,this.size=t.size,this.setValue=function(e){return 5126===e?L:35664===e?R:35665===e?O:35666===e?I:35674===e?k:35675===e?N:35676===e?F:35678===e?B:35680===e?U:5124===e||35670===e?P:35667===e||35671===e?M:35668===e||35672===e?C:35669===e||35673===e?D:void 0}(t.type)}function G(e){this.id=e,d.call(this)}function H(e,t){e.seq.push(t),e.map[t.id]=t}function V(e,t,n){var r=e.name,i=r.length;for(qs.lastIndex=0;;){var o=qs.exec(r),a=qs.lastIndex,s=o[1],u="]"===o[2],c=o[3];if(u&&(s|=0),void 0===c||"["===c&&a+2===i){H(n,void 0===c?new z(s,e,t):new j(s,e,t));break}var l=n.map[s];void 0===l&&H(n,l=new G(s)),n=l}}function W(e,t,n){d.call(this),this.renderer=n;for(var r=e.getProgramParameter(t,e.ACTIVE_UNIFORMS),i=0;i<r;++i){var o=e.getActiveUniform(t,i),a=o.name;V(o,e.getUniformLocation(t,a),this)}}function X(e,t,n){return void 0===t&&void 0===n?this.set(e):this.setRGB(e,t,n)}function q(e,t){this.min=void 0===e?new i(1/0,1/0):e,this.max=void 0===t?new i(-1/0,-1/0):t}function Y(e,t,n,r,o){function a(){var e=new Float32Array([-1,-1,0,0,1,-1,1,0,1,1,1,1,-1,1,0,1]),r=new Uint16Array([0,1,2,0,2,3]);s=t.createBuffer(),u=t.createBuffer(),t.bindBuffer(t.ARRAY_BUFFER,s),t.bufferData(t.ARRAY_BUFFER,e,t.STATIC_DRAW),t.bindBuffer(t.ELEMENT_ARRAY_BUFFER,u),t.bufferData(t.ELEMENT_ARRAY_BUFFER,r,t.STATIC_DRAW),f=t.createTexture(),d=t.createTexture(),n.bindTexture(t.TEXTURE_2D,f),t.texImage2D(t.TEXTURE_2D,0,t.RGB,16,16,0,t.RGB,t.UNSIGNED_BYTE,null),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_S,t.CLAMP_TO_EDGE),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_T,t.CLAMP_TO_EDGE),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MAG_FILTER,t.NEAREST),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MIN_FILTER,t.NEAREST),n.bindTexture(t.TEXTURE_2D,d),t.texImage2D(t.TEXTURE_2D,0,t.RGBA,16,16,0,t.RGBA,t.UNSIGNED_BYTE,null),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_S,t.CLAMP_TO_EDGE),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_T,t.CLAMP_TO_EDGE),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MAG_FILTER,t.NEAREST),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MIN_FILTER,t.NEAREST),c=function(e){var n=t.createProgram(),r=t.createShader(t.FRAGMENT_SHADER),i=t.createShader(t.VERTEX_SHADER),a="precision "+o.precision+" float;\n";return t.shaderSource(r,a+e.fragmentShader),t.shaderSource(i,a+e.vertexShader),t.compileShader(r),t.compileShader(i),t.attachShader(n,r),t.attachShader(n,i),t.linkProgram(n),n}({vertexShader:"uniform lowp int renderType;\nuniform vec3 screenPosition;\nuniform vec2 scale;\nuniform float rotation;\nuniform sampler2D occlusionMap;\nattribute vec2 position;\nattribute vec2 uv;\nvarying vec2 vUV;\nvarying float vVisibility;\nvoid main() {\nvUV = uv;\nvec2 pos = position;\nif ( renderType == 2 ) {\nvec4 visibility = texture2D( occlusionMap, vec2( 0.1, 0.1 ) );\nvisibility += texture2D( occlusionMap, vec2( 0.5, 0.1 ) );\nvisibility += texture2D( occlusionMap, vec2( 0.9, 0.1 ) );\nvisibility += texture2D( occlusionMap, vec2( 0.9, 0.5 ) );\nvisibility += texture2D( occlusionMap, vec2( 0.9, 0.9 ) );\nvisibility += texture2D( occlusionMap, vec2( 0.5, 0.9 ) );\nvisibility += texture2D( occlusionMap, vec2( 0.1, 0.9 ) );\nvisibility += texture2D( occlusionMap, vec2( 0.1, 0.5 ) );\nvisibility += texture2D( occlusionMap, vec2( 0.5, 0.5 ) );\nvVisibility =        visibility.r / 9.0;\nvVisibility *= 1.0 - visibility.g / 9.0;\nvVisibility *=       visibility.b / 9.0;\nvVisibility *= 1.0 - visibility.a / 9.0;\npos.x = cos( rotation ) * position.x - sin( rotation ) * position.y;\npos.y = sin( rotation ) * position.x + cos( rotation ) * position.y;\n}\ngl_Position = vec4( ( pos * scale + screenPosition.xy ).xy, screenPosition.z, 1.0 );\n}",fragmentShader:"uniform lowp int renderType;\nuniform sampler2D map;\nuniform float opacity;\nuniform vec3 color;\nvarying vec2 vUV;\nvarying float vVisibility;\nvoid main() {\nif ( renderType == 0 ) {\ngl_FragColor = vec4( 1.0, 0.0, 1.0, 0.0 );\n} else if ( renderType == 1 ) {\ngl_FragColor = texture2D( map, vUV );\n} else {\nvec4 texture = texture2D( map, vUV );\ntexture.a *= opacity * vVisibility;\ngl_FragColor = texture;\ngl_FragColor.rgb *= color;\n}\n}"}),h={vertex:t.getAttribLocation(c,"position"),uv:t.getAttribLocation(c,"uv")},p={renderType:t.getUniformLocation(c,"renderType"),map:t.getUniformLocation(c,"map"),occlusionMap:t.getUniformLocation(c,"occlusionMap"),opacity:t.getUniformLocation(c,"opacity"),color:t.getUniformLocation(c,"color"),scale:t.getUniformLocation(c,"scale"),rotation:t.getUniformLocation(c,"rotation"),screenPosition:t.getUniformLocation(c,"screenPosition")}}var s,u,c,h,p,f,d;this.render=function(e,o,m,g){if(0!==e.length){var v=new l,y=g.w/g.z,x=.5*g.z,b=.5*g.w,w=16/g.w,_=new i(w*y,w),E=new l(1,1,0),S=new i(1,1),T=new q;T.min.set(g.x,g.y),T.max.set(g.x+(g.z-16),g.y+(g.w-16)),void 0===c&&a(),n.useProgram(c),n.initAttributes(),n.enableAttribute(h.vertex),n.enableAttribute(h.uv),n.disableUnusedAttributes(),t.uniform1i(p.occlusionMap,0),t.uniform1i(p.map,1),t.bindBuffer(t.ARRAY_BUFFER,s),t.vertexAttribPointer(h.vertex,2,t.FLOAT,!1,16,0),t.vertexAttribPointer(h.uv,2,t.FLOAT,!1,16,8),t.bindBuffer(t.ELEMENT_ARRAY_BUFFER,u),n.disable(t.CULL_FACE),n.buffers.depth.setMask(!1);for(var A=0,M=e.length;A<M;A++){w=16/g.w,_.set(w*y,w);var C=e[A];if(v.set(C.matrixWorld.elements[12],C.matrixWorld.elements[13],C.matrixWorld.elements[14]),v.applyMatrix4(m.matrixWorldInverse),v.applyMatrix4(m.projectionMatrix),E.copy(v),S.x=g.x+E.x*x+x-8,S.y=g.y+E.y*b+b-8,!0===T.containsPoint(S)){n.activeTexture(t.TEXTURE0),n.bindTexture(t.TEXTURE_2D,null),n.activeTexture(t.TEXTURE1),n.bindTexture(t.TEXTURE_2D,f),t.copyTexImage2D(t.TEXTURE_2D,0,t.RGB,S.x,S.y,16,16,0),t.uniform1i(p.renderType,0),t.uniform2f(p.scale,_.x,_.y),t.uniform3f(p.screenPosition,E.x,E.y,E.z),n.disable(t.BLEND),n.enable(t.DEPTH_TEST),t.drawElements(t.TRIANGLES,6,t.UNSIGNED_SHORT,0),n.activeTexture(t.TEXTURE0),n.bindTexture(t.TEXTURE_2D,d),t.copyTexImage2D(t.TEXTURE_2D,0,t.RGBA,S.x,S.y,16,16,0),t.uniform1i(p.renderType,1),n.disable(t.DEPTH_TEST),n.activeTexture(t.TEXTURE1),n.bindTexture(t.TEXTURE_2D,f),t.drawElements(t.TRIANGLES,6,t.UNSIGNED_SHORT,0),C.positionScreen.copy(E),C.customUpdateCallback?C.customUpdateCallback(C):C.updateLensFlares(),t.uniform1i(p.renderType,2),n.enable(t.BLEND);for(var D,L=0,P=C.lensFlares.length;L<P;L++).001<(D=C.lensFlares[L]).opacity&&.001<D.scale&&(E.x=D.x,E.y=D.y,E.z=D.z,w=D.size*D.scale/g.w,_.x=w*y,_.y=w,t.uniform3f(p.screenPosition,E.x,E.y,E.z),t.uniform2f(p.scale,_.x,_.y),t.uniform1f(p.rotation,D.rotation),t.uniform1f(p.opacity,D.opacity),t.uniform3f(p.color,D.color.r,D.color.g,D.color.b),n.setBlending(D.blending,D.blendEquation,D.blendSrc,D.blendDst),r.setTexture2D(D.texture,1),t.drawElements(t.TRIANGLES,6,t.UNSIGNED_SHORT,0))}}n.enable(t.CULL_FACE),n.enable(t.DEPTH_TEST),n.buffers.depth.setMask(!0),n.reset()}}}function J(e,t,n,r,i,a,s,u,c){o.call(this,e,t,n,r,i,a,s,u,c),this.needsUpdate=!0}function Z(e,t,n,r,i){function o(){var e=new Float32Array([-.5,-.5,0,0,.5,-.5,1,0,.5,.5,1,1,-.5,.5,0,1]),n=new Uint16Array([0,1,2,0,2,3]);u=t.createBuffer(),h=t.createBuffer(),t.bindBuffer(t.ARRAY_BUFFER,u),t.bufferData(t.ARRAY_BUFFER,e,t.STATIC_DRAW),t.bindBuffer(t.ELEMENT_ARRAY_BUFFER,h),t.bufferData(t.ELEMENT_ARRAY_BUFFER,n,t.STATIC_DRAW),p=a(),f={position:t.getAttribLocation(p,"position"),uv:t.getAttribLocation(p,"uv")},d={uvOffset:t.getUniformLocation(p,"uvOffset"),uvScale:t.getUniformLocation(p,"uvScale"),rotation:t.getUniformLocation(p,"rotation"),scale:t.getUniformLocation(p,"scale"),color:t.getUniformLocation(p,"color"),map:t.getUniformLocation(p,"map"),opacity:t.getUniformLocation(p,"opacity"),modelViewMatrix:t.getUniformLocation(p,"modelViewMatrix"),projectionMatrix:t.getUniformLocation(p,"projectionMatrix"),fogType:t.getUniformLocation(p,"fogType"),fogDensity:t.getUniformLocation(p,"fogDensity"),fogNear:t.getUniformLocation(p,"fogNear"),fogFar:t.getUniformLocation(p,"fogFar"),fogColor:t.getUniformLocation(p,"fogColor"),alphaTest:t.getUniformLocation(p,"alphaTest")};var r=document.createElementNS("http://www.w3.org/1999/xhtml","canvas");r.width=8,r.height=8;var i=r.getContext("2d");i.fillStyle="white",i.fillRect(0,0,8,8),m=new J(r)}function a(){var e=t.createProgram(),n=t.createShader(t.VERTEX_SHADER),r=t.createShader(t.FRAGMENT_SHADER);return t.shaderSource(n,["precision "+i.precision+" float;","#define SHADER_NAME SpriteMaterial","uniform mat4 modelViewMatrix;","uniform mat4 projectionMatrix;","uniform float rotation;","uniform vec2 scale;","uniform vec2 uvOffset;","uniform vec2 uvScale;","attribute vec2 position;","attribute vec2 uv;","varying vec2 vUV;","void main() {","vUV = uvOffset + uv * uvScale;","vec2 alignedPosition = position * scale;","vec2 rotatedPosition;","rotatedPosition.x = cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;","rotatedPosition.y = sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;","vec4 finalPosition;","finalPosition = modelViewMatrix * vec4( 0.0, 0.0, 0.0, 1.0 );","finalPosition.xy += rotatedPosition;","finalPosition = projectionMatrix * finalPosition;","gl_Position = finalPosition;","}"].join("\n")),t.shaderSource(r,["precision "+i.precision+" float;","#define SHADER_NAME SpriteMaterial","uniform vec3 color;","uniform sampler2D map;","uniform float opacity;","uniform int fogType;","uniform vec3 fogColor;","uniform float fogDensity;","uniform float fogNear;","uniform float fogFar;","uniform float alphaTest;","varying vec2 vUV;","void main() {","vec4 texture = texture2D( map, vUV );","if ( texture.a < alphaTest ) discard;","gl_FragColor = vec4( color * texture.xyz, texture.a * opacity );","if ( fogType > 0 ) {","float depth = gl_FragCoord.z / gl_FragCoord.w;","float fogFactor = 0.0;","if ( fogType == 1 ) {","fogFactor = smoothstep( fogNear, fogFar, depth );","} else {","const float LOG2 = 1.442695;","fogFactor = exp2( - fogDensity * fogDensity * depth * depth * LOG2 );","fogFactor = 1.0 - clamp( fogFactor, 0.0, 1.0 );","}","gl_FragColor = mix( gl_FragColor, vec4( fogColor, gl_FragColor.w ), fogFactor );","}","}"].join("\n")),t.compileShader(n),t.compileShader(r),t.attachShader(e,n),t.attachShader(e,r),t.linkProgram(e),e}function s(e,t){return e.renderOrder===t.renderOrder?e.z===t.z?t.id-e.id:t.z-e.z:e.renderOrder-t.renderOrder}var u,h,p,f,d,m,g=new l,v=new c,y=new l;this.render=function(i,a,c){if(0!==i.length){void 0===p&&o(),n.useProgram(p),n.initAttributes(),n.enableAttribute(f.position),n.enableAttribute(f.uv),n.disableUnusedAttributes(),n.disable(t.CULL_FACE),n.enable(t.BLEND),t.bindBuffer(t.ARRAY_BUFFER,u),t.vertexAttribPointer(f.position,2,t.FLOAT,!1,16,0),t.vertexAttribPointer(f.uv,2,t.FLOAT,!1,16,8),t.bindBuffer(t.ELEMENT_ARRAY_BUFFER,h),t.uniformMatrix4fv(d.projectionMatrix,!1,c.projectionMatrix.elements),n.activeTexture(t.TEXTURE0),t.uniform1i(d.map,0);var l=0,x=0,b=a.fog;b?(t.uniform3f(d.fogColor,b.color.r,b.color.g,b.color.b),b.isFog?(t.uniform1f(d.fogNear,b.near),t.uniform1f(d.fogFar,b.far),t.uniform1i(d.fogType,1),l=1,x=1):b.isFogExp2&&(t.uniform1f(d.fogDensity,b.density),t.uniform1i(d.fogType,2),l=2,x=2)):(t.uniform1i(d.fogType,0),l=0,x=0);for(var w=0,_=i.length;w<_;w++)(S=i[w]).modelViewMatrix.multiplyMatrices(c.matrixWorldInverse,S.matrixWorld),S.z=-S.modelViewMatrix.elements[14];i.sort(s);var E=[];for(w=0,_=i.length;w<_;w++){var S,T=(S=i[w]).material;if(!1!==T.visible){S.onBeforeRender(e,a,c,void 0,T,void 0),t.uniform1f(d.alphaTest,T.alphaTest),t.uniformMatrix4fv(d.modelViewMatrix,!1,S.modelViewMatrix.elements),S.matrixWorld.decompose(g,v,y),E[0]=y.x,E[1]=y.y;var A=0;a.fog&&T.fog&&(A=x),l!=A&&(t.uniform1i(d.fogType,A),l=A),null===T.map?(t.uniform2f(d.uvOffset,0,0),t.uniform2f(d.uvScale,1,1)):(t.uniform2f(d.uvOffset,T.map.offset.x,T.map.offset.y),t.uniform2f(d.uvScale,T.map.repeat.x,T.map.repeat.y)),t.uniform1f(d.opacity,T.opacity),t.uniform3f(d.color,T.color.r,T.color.g,T.color.b),t.uniform1f(d.rotation,T.rotation),t.uniform2fv(d.scale,E),n.setBlending(T.blending,T.blendEquation,T.blendSrc,T.blendDst,T.blendEquationAlpha,T.blendSrcAlpha,T.blendDstAlpha,T.premultipliedAlpha),n.buffers.depth.setTest(T.depthTest),n.buffers.depth.setMask(T.depthWrite),r.setTexture2D(T.map||m,0),t.drawElements(t.TRIANGLES,6,t.UNSIGNED_SHORT,0),S.onAfterRender(e,a,c,void 0,T,void 0)}}n.enable(t.CULL_FACE),n.reset()}}}function K(){Object.defineProperty(this,"id",{value:Qs++}),this.uuid=Us.generateUUID(),this.name="",this.type="Material",this.fog=!0,this.lights=!0,this.blending=Go,this.side=Oo,this.flatShading=!1,this.vertexColors=Bo,this.opacity=1,this.transparent=!1,this.blendSrc=na,this.blendDst=ra,this.blendEquation=qo,this.blendSrcAlpha=null,this.blendDstAlpha=null,this.blendEquationAlpha=null,this.depthFunc=pa,this.depthTest=!0,this.depthWrite=!0,this.clippingPlanes=null,this.clipIntersection=!1,this.clipShadows=!1,this.colorWrite=!0,this.precision=null,this.polygonOffset=!1,this.polygonOffsetFactor=0,this.polygonOffsetUnits=0,this.dithering=!1,this.alphaTest=0,this.premultipliedAlpha=!1,this.overdraw=0,this.visible=!0,this.userData={},this.needsUpdate=!0}function $(e){K.call(this),this.type="ShaderMaterial",this.defines={},this.uniforms={},this.vertexShader="void main() {\n\tgl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\n}",this.fragmentShader="void main() {\n\tgl_FragColor = vec4( 1.0, 0.0, 0.0, 1.0 );\n}",this.linewidth=1,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.lights=!1,this.clipping=!1,this.skinning=!1,this.morphTargets=!1,this.morphNormals=!1,this.extensions={derivatives:!1,fragDepth:!1,drawBuffers:!1,shaderTextureLOD:!1},this.defaultAttributeValues={color:[1,1,1],uv:[0,0],uv2:[0,0]},this.index0AttributeName=void 0,void 0!==e&&(void 0!==e.attributes&&console.error("THREE.ShaderMaterial: attributes should now be defined in THREE.BufferGeometry instead."),this.setValues(e))}function Q(e){K.call(this),this.type="MeshDepthMaterial",this.depthPacking=Fs,this.skinning=!1,this.morphTargets=!1,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.lights=!1,this.setValues(e)}function ee(e){K.call(this),this.type="MeshDistanceMaterial",this.referencePosition=new l,this.nearDistance=1,this.farDistance=1e3,this.skinning=!1,this.morphTargets=!1,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.fog=!1,this.lights=!1,this.setValues(e)}function te(e,t){this.min=void 0===e?new l(1/0,1/0,1/0):e,this.max=void 0===t?new l(-1/0,-1/0,-1/0):t}function ne(e,t){this.center=void 0===e?new l:e,this.radius=void 0===t?0:t}function re(){this.elements=[1,0,0,0,1,0,0,0,1],0<arguments.length&&console.error("THREE.Matrix3: the constructor no longer reads arguments. use .set() instead.")}function ie(e,t){this.normal=void 0===e?new l(1,0,0):e,this.constant=void 0===t?0:t}function oe(e,t,n,r,i,o){this.planes=[void 0===e?new ie:e,void 0===t?new ie:t,void 0===n?new ie:n,void 0===r?new ie:r,void 0===i?new ie:i,void 0===o?new ie:o]}function ae(e,t,n){function r(t,n,r,i,o,a){var s=t.geometry,u=null,c=y,l=t.customDepthMaterial;if(r&&(c=x,l=t.customDistanceMaterial),l)u=l;else{var h=!1;n.morphTargets&&(s&&s.isBufferGeometry?h=s.morphAttributes&&s.morphAttributes.position&&0<s.morphAttributes.position.length:s&&s.isGeometry&&(h=s.morphTargets&&0<s.morphTargets.length)),t.isSkinnedMesh&&!1===n.skinning&&console.warn("THREE.WebGLShadowMap: THREE.SkinnedMesh with material.skinning set to false:",t);var p=t.isSkinnedMesh&&n.skinning,f=0;h&&(f|=g),p&&(f|=v),u=c[f]}if(e.localClippingEnabled&&!0===n.clipShadows&&0!==n.clippingPlanes.length){var d=u.uuid,m=n.uuid,w=b[d];void 0===w&&(w={},b[d]=w);var _=w[m];void 0===_&&(_=u.clone(),w[m]=_),u=_}u.visible=n.visible,u.wireframe=n.wireframe;var E=n.side;return D.renderSingleSided&&E==ko&&(E=Oo),D.renderReverseSided&&(E===Oo?E=Io:E===Io&&(E=Oo)),u.side=E,u.clipShadows=n.clipShadows,u.clippingPlanes=n.clippingPlanes,u.clipIntersection=n.clipIntersection,u.wireframeLinewidth=n.wireframeLinewidth,u.linewidth=n.linewidth,r&&u.isMeshDistanceMaterial&&(u.referencePosition.copy(i),u.nearDistance=o,u.farDistance=a),u}function o(n,i,a,s){if(!1!==n.visible){if(n.layers.test(i.layers)&&(n.isMesh||n.isLine||n.isPoints)&&n.castShadow&&(!n.frustumCulled||u.intersectsObject(n))){n.modelViewMatrix.multiplyMatrices(a.matrixWorldInverse,n.matrixWorld);var c=t.update(n),l=n.material;if(Array.isArray(l))for(var h=c.groups,p=0,f=h.length;p<f;p++){var d=h[p],g=l[d.materialIndex];if(g&&g.visible){var v=r(n,g,s,m,a.near,a.far);e.renderBufferDirect(a,null,c,v,n,d)}}else if(l.visible){v=r(n,l,s,m,a.near,a.far);e.renderBufferDirect(a,null,c,v,n,null)}}for(var y=n.children,x=0,b=y.length;x<b;x++)o(y[x],i,a,s)}}for(var u=new oe,c=new h,p=new i,f=new i(n,n),d=new l,m=new l,g=1,v=2,y=[,,,,],x=[,,,,],b={},w=[new l(1,0,0),new l(-1,0,0),new l(0,0,1),new l(0,0,-1),new l(0,1,0),new l(0,-1,0)],_=[new l(0,1,0),new l(0,1,0),new l(0,1,0),new l(0,1,0),new l(0,0,1),new l(0,0,-1)],E=[new a,new a,new a,new a,new a,new a],S=0;S!==1+(g|v);++S){var T=0!=(S&g),A=0!=(S&v),M=new Q({depthPacking:Bs,morphTargets:T,skinning:A});y[S]=M;var C=new ee({morphTargets:T,skinning:A});x[S]=C}var D=this;this.enabled=!1,this.autoUpdate=!0,this.needsUpdate=!1,this.type=Po,this.renderReverseSided=!0,this.renderSingleSided=!0,this.render=function(t,n,r){if(!1!==D.enabled&&(!1!==D.autoUpdate||!1!==D.needsUpdate)&&0!==t.length){var i=e.context,a=e.state;a.disable(i.BLEND),a.buffers.color.setClear(1,1,1,1),a.buffers.depth.setTest(!0),a.setScissorTest(!1);for(var l,h=0,g=t.length;h<g;h++){var v=t[h],y=v.shadow,x=v&&v.isPointLight;if(void 0!==y){var b=y.camera;if(p.copy(y.mapSize),p.min(f),x){var S=p.x,T=p.y;E[0].set(2*S,T,S,T),E[1].set(0,T,S,T),E[2].set(3*S,T,S,T),E[3].set(S,T,S,T),E[4].set(3*S,0,S,T),E[5].set(S,0,S,T),p.x*=4,p.y*=2}null===y.map&&(y.map=new s(p.x,p.y,{minFilter:Na,magFilter:Na,format:ns}),y.map.texture.name=v.name+".shadowMap",b.updateProjectionMatrix()),y.isSpotLightShadow&&y.update(v);var A=y.map,M=y.matrix;m.setFromMatrixPosition(v.matrixWorld),b.position.copy(m),x?(l=6,M.makeTranslation(-m.x,-m.y,-m.z)):(l=1,d.setFromMatrixPosition(v.target.matrixWorld),b.lookAt(d),b.updateMatrixWorld(),M.set(.5,0,0,.5,0,.5,0,.5,0,0,.5,.5,0,0,0,1),M.multiply(b.projectionMatrix),M.multiply(b.matrixWorldInverse)),e.setRenderTarget(A),e.clear();for(var C=0;C<l;C++){if(x){d.copy(b.position),d.add(w[C]),b.up.copy(_[C]),b.lookAt(d),b.updateMatrixWorld();var L=E[C];a.viewport(L)}c.multiplyMatrices(b.projectionMatrix,b.matrixWorldInverse),u.setFromMatrix(c),o(n,r,b,x)}}else console.warn("THREE.WebGLShadowMap:",v,"has no shadow.")}D.needsUpdate=!1}}}function se(e){function t(t,n){var r=t.array,i=t.dynamic?e.DYNAMIC_DRAW:e.STATIC_DRAW,o=e.createBuffer();e.bindBuffer(n,o),e.bufferData(n,r,i),t.onUploadCallback();var a=e.FLOAT;return r instanceof Float32Array?a=e.FLOAT:r instanceof Float64Array?console.warn("THREE.WebGLAttributes: Unsupported data buffer format: Float64Array."):r instanceof Uint16Array?a=e.UNSIGNED_SHORT:r instanceof Int16Array?a=e.SHORT:r instanceof Uint32Array?a=e.UNSIGNED_INT:r instanceof Int32Array?a=e.INT:r instanceof Int8Array?a=e.BYTE:r instanceof Uint8Array&&(a=e.UNSIGNED_BYTE),{buffer:o,type:a,bytesPerElement:r.BYTES_PER_ELEMENT,version:t.version}}function n(t,n,r){var i=n.array,o=n.updateRange;e.bindBuffer(r,t),!1===n.dynamic?e.bufferData(r,i,e.STATIC_DRAW):-1===o.count?e.bufferSubData(r,0,i):0===o.count?console.error("THREE.WebGLObjects.updateBuffer: dynamic THREE.BufferAttribute marked as needsUpdate but updateRange.count is 0, ensure you are using set methods or updating manually."):(e.bufferSubData(r,o.offset*i.BYTES_PER_ELEMENT,i.subarray(o.offset,o.offset+o.count)),o.count=-1)}var r={};return{get:function(e){return e.isInterleavedBufferAttribute&&(e=e.data),r[e.uuid]},remove:function(t){t.isInterleavedBufferAttribute&&(t=t.data);var n=r[t.uuid];n&&(e.deleteBuffer(n.buffer),delete r[t.uuid])},update:function(e,i){e.isInterleavedBufferAttribute&&(e=e.data);var o=r[e.uuid];void 0===o?r[e.uuid]=t(e,i):o.version<e.version&&(n(o.buffer,e,i),o.version=e.version)}}}function ue(e,t,n,r){this._x=e||0,this._y=t||0,this._z=n||0,this._order=r||ue.DefaultOrder}function ce(){this.mask=1}function le(){Object.defineProperty(this,"id",{value:eu++}),this.uuid=Us.generateUUID(),this.name="",this.type="Object3D",this.parent=null,this.children=[],this.up=le.DefaultUp.clone();var e=new l,t=new ue,n=new c,r=new l(1,1,1);t.onChange(function(){n.setFromEuler(t,!1)}),n.onChange(function(){t.setFromQuaternion(n,void 0,!1)}),Object.defineProperties(this,{position:{enumerable:!0,value:e},rotation:{enumerable:!0,value:t},quaternion:{enumerable:!0,value:n},scale:{enumerable:!0,value:r},modelViewMatrix:{value:new h},normalMatrix:{value:new re}}),this.matrix=new h,this.matrixWorld=new h,this.matrixAutoUpdate=le.DefaultMatrixAutoUpdate,this.matrixWorldNeedsUpdate=!1,this.layers=new ce,this.visible=!0,this.castShadow=!1,this.receiveShadow=!1,this.frustumCulled=!0,this.renderOrder=0,this.userData={}}function he(){le.call(this),this.type="Camera",this.matrixWorldInverse=new h,this.projectionMatrix=new h}function pe(e,t,n,r,i,o){he.call(this),this.type="OrthographicCamera",this.zoom=1,this.view=null,this.left=e,this.right=t,this.top=n,this.bottom=r,this.near=void 0===i?.1:i,this.far=void 0===o?2e3:o,this.updateProjectionMatrix()}function fe(e,t,n,r){he.call(this),this.type="PerspectiveCamera",this.fov=void 0===e?50:e,this.zoom=1,this.near=void 0===n?.1:n,this.far=void 0===r?2e3:r,this.focus=10,this.aspect=void 0===t?1:t,this.view=null,this.filmGauge=35,this.filmOffset=0,this.updateProjectionMatrix()}function de(e,t,n,r,i,o){this.a=e,this.b=t,this.c=n,this.normal=r&&r.isVector3?r:new l,this.vertexNormals=Array.isArray(r)?r:[],this.color=i&&i.isColor?i:new X,this.vertexColors=Array.isArray(i)?i:[],this.materialIndex=void 0===o?0:o}function me(){return tu++}function ge(){Object.defineProperty(this,"id",{value:me()}),this.uuid=Us.generateUUID(),this.name="",this.type="Geometry",this.vertices=[],this.colors=[],this.faces=[],this.faceVertexUvs=[[]],this.morphTargets=[],this.morphNormals=[],this.skinWeights=[],this.skinIndices=[],this.lineDistances=[],this.boundingBox=null,this.boundingSphere=null,this.elementsNeedUpdate=!1,this.verticesNeedUpdate=!1,this.uvsNeedUpdate=!1,this.normalsNeedUpdate=!1,this.colorsNeedUpdate=!1,this.lineDistancesNeedUpdate=!1,this.groupsNeedUpdate=!1}function ve(e,t,n){if(Array.isArray(e))throw new TypeError("THREE.BufferAttribute: array should be a Typed Array.");this.uuid=Us.generateUUID(),this.name="",this.array=e,this.itemSize=t,this.count=void 0===e?0:e.length/t,this.normalized=!0===n,this.dynamic=!1,this.updateRange={offset:0,count:-1},this.onUploadCallback=function(){},this.version=0}function ye(e,t){ve.call(this,new Int8Array(e),t)}function xe(e,t){ve.call(this,new Uint8Array(e),t)}function be(e,t){ve.call(this,new Uint8ClampedArray(e),t)}function we(e,t){ve.call(this,new Int16Array(e),t)}function _e(e,t){ve.call(this,new Uint16Array(e),t)}function Ee(e,t){ve.call(this,new Int32Array(e),t)}function Se(e,t){ve.call(this,new Uint32Array(e),t)}function Te(e,t){ve.call(this,new Float32Array(e),t)}function Ae(e,t){ve.call(this,new Float64Array(e),t)}function Me(){this.indices=[],this.vertices=[],this.normals=[],this.colors=[],this.uvs=[],this.uvs2=[],this.groups=[],this.morphTargets={},this.skinWeights=[],this.skinIndices=[],this.boundingBox=null,this.boundingSphere=null,this.verticesNeedUpdate=!1,this.normalsNeedUpdate=!1,this.colorsNeedUpdate=!1,this.uvsNeedUpdate=!1,this.groupsNeedUpdate=!1}function Ce(e){if(0===e.length)return-1/0;for(var t=e[0],n=1,r=e.length;n<r;++n)e[n]>t&&(t=e[n]);return t}function De(){Object.defineProperty(this,"id",{value:me()}),this.uuid=Us.generateUUID(),this.name="",this.type="BufferGeometry",this.index=null,this.attributes={},this.morphAttributes={},this.groups=[],this.boundingBox=null,this.boundingSphere=null,this.drawRange={start:0,count:1/0}}function Le(e,t,n,r,i,o){ge.call(this),this.type="BoxGeometry",this.parameters={width:e,height:t,depth:n,widthSegments:r,heightSegments:i,depthSegments:o},this.fromBufferGeometry(new Pe(e,t,n,r,i,o)),this.mergeVertices()}function Pe(e,t,n,r,i,o){function a(e,t,n,r,i,o,a,m,g,v,y){var x,b,w=g+1,_=0,E=0,S=new l;for(b=0;b<v+1;b++){var T=b*(a/v)-a/2;for(x=0;x<w;x++){var A=x*(o/g)-o/2;S[e]=A*r,S[t]=T*i,S[n]=m/2,c.push(S.x,S.y,S.z),S[e]=0,S[t]=0,S[n]=0<m?1:-1,h.push(S.x,S.y,S.z),p.push(x/g),p.push(1-b/v),_+=1}}for(b=0;b<v;b++)for(x=0;x<g;x++){var M=f+x+w*b,C=f+x+w*(b+1),D=f+(x+1)+w*(b+1),L=f+(x+1)+w*b;u.push(M,C,L),u.push(C,D,L),E+=6}s.addGroup(d,E,y),d+=E,f+=_}De.call(this),this.type="BoxBufferGeometry",this.parameters={width:e,height:t,depth:n,widthSegments:r,heightSegments:i,depthSegments:o};var s=this;r=wo(r)||1,i=wo(i)||1,o=wo(o)||1;var u=[],c=[],h=[],p=[],f=0,d=0;a("z","y","x",-1,-1,n,t,e,o,i,0),a("z","y","x",1,-1,n,t,-e,o,i,1),a("x","z","y",1,1,e,n,t,r,o,2),a("x","z","y",1,-1,e,n,-t,r,o,3),a("x","y","z",1,-1,e,t,n,r,i,4),a("x","y","z",-1,-1,e,t,-n,r,i,5),this.setIndex(u),this.addAttribute("position",new Te(c,3)),this.addAttribute("normal",new Te(h,3)),this.addAttribute("uv",new Te(p,2))}function Re(e,t,n,r){ge.call(this),this.type="PlaneGeometry",this.parameters={width:e,height:t,widthSegments:n,heightSegments:r},this.fromBufferGeometry(new Oe(e,t,n,r)),this.mergeVertices()}function Oe(e,t,n,r){De.call(this),this.type="PlaneBufferGeometry",this.parameters={width:e,height:t,widthSegments:n,heightSegments:r};var i,o,a=wo(n)||1,s=wo(r)||1,u=a+1,c=[],l=[],h=[],p=[];for(o=0;o<s+1;o++){var f=o*(t/s)-t/2;for(i=0;i<u;i++){var d=i*(e/a)-e/2;l.push(d,-f,0),h.push(0,0,1),p.push(i/a),p.push(1-o/s)}}for(o=0;o<s;o++)for(i=0;i<a;i++){var m=i+u*o,g=i+u*(o+1),v=i+1+u*(o+1),y=i+1+u*o;c.push(m,g,y),c.push(g,v,y)}this.setIndex(c),this.addAttribute("position",new Te(l,3)),this.addAttribute("normal",new Te(h,3)),this.addAttribute("uv",new Te(p,2))}function Ie(e){K.call(this),this.type="MeshBasicMaterial",this.color=new X(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=va,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.skinning=!1,this.morphTargets=!1,this.lights=!1,this.setValues(e)}function ke(e,t){this.origin=void 0===e?new l:e,this.direction=void 0===t?new l:t}function Ne(e,t){this.start=void 0===e?new l:e,this.end=void 0===t?new l:t}function Fe(e,t,n){this.a=void 0===e?new l:e,this.b=void 0===t?new l:t,this.c=void 0===n?new l:n}function Be(e,t){le.call(this),this.type="Mesh",this.geometry=void 0===e?new De:e,this.material=void 0===t?new Ie({color:16777215*Math.random()}):t,this.drawMode=As,this.updateMorphTargets()}function Ue(e,t,n,r){function i(e,n){t.buffers.color.setClear(e.r,e.g,e.b,n,r)}var o,a,s,u=new X(0),c=0;return{getClearColor:function(){return u},setClearColor:function(e,t){u.set(e),i(u,c=void 0===t?1:t)},getClearAlpha:function(){return c},setClearAlpha:function(e){i(u,c=e)},render:function(t,r,l,h){var p=r.background;null===p?i(u,c):p&&p.isColor&&(i(p,1),h=!0),(e.autoClear||h)&&e.clear(e.autoClearColor,e.autoClearDepth,e.autoClearStencil),p&&p.isCubeTexture?(void 0===s&&((s=new Be(new Pe(1,1,1),new $({uniforms:$s.cube.uniforms,vertexShader:$s.cube.vertexShader,fragmentShader:$s.cube.fragmentShader,side:Io,depthTest:!0,depthWrite:!1,polygonOffset:!0,fog:!1}))).geometry.removeAttribute("normal"),s.geometry.removeAttribute("uv"),s.onBeforeRender=function(e,t,n){var r=n.far;this.matrixWorld.makeScale(r,r,r),this.matrixWorld.copyPosition(n.matrixWorld),this.material.polygonOffsetUnits=10*r},n.update(s.geometry)),s.material.uniforms.tCube.value=p,t.push(s,s.geometry,s.material,0,null)):p&&p.isTexture&&(void 0===o&&(o=new pe(-1,1,1,-1,0,1),a=new Be(new Oe(2,2),new Ie({depthTest:!1,depthWrite:!1,fog:!1})),n.update(a.geometry)),a.material.map=p,e.renderBufferDirect(o,null,a.geometry,a.material,a,null))}}}function ze(e,t){return e.renderOrder===t.renderOrder?e.program&&t.program&&e.program!==t.program?e.program.id-t.program.id:e.material.id===t.material.id?e.z===t.z?e.id-t.id:e.z-t.z:e.material.id-t.material.id:e.renderOrder-t.renderOrder}function je(e,t){return e.renderOrder===t.renderOrder?e.z===t.z?e.id-t.id:t.z-e.z:e.renderOrder-t.renderOrder}function Ge(){var e=[],t=0,n=[],r=[];return{opaque:n,transparent:r,init:function(){t=0,n.length=0,r.length=0},push:function(i,o,a,s,u){var c=e[t];void 0===c?(c={id:i.id,object:i,geometry:o,material:a,program:a.program,renderOrder:i.renderOrder,z:s,group:u},e[t]=c):(c.id=i.id,c.object=i,c.geometry=o,c.material=a,c.program=a.program,c.renderOrder=i.renderOrder,c.z=s,c.group=u),(!0===a.transparent?r:n).push(c),t++},sort:function(){1<n.length&&n.sort(ze),1<r.length&&r.sort(je)}}}function He(){var e={};return{get:function(t,n){var r=t.id+","+n.id,i=e[r];return void 0===i&&(i=new Ge,e[r]=i),i},dispose:function(){e={}}}}function Ve(e,t){return so(t[1])-so(e[1])}function We(e){var t={},n=new Float32Array(8);return{update:function(r,i,o,a){var s=r.morphTargetInfluences,u=s.length,c=t[i.id];if(void 0===c){c=[];for(var l=0;l<u;l++)c[l]=[l,0];t[i.id]=c}var h=o.morphTargets&&i.morphAttributes.position,p=o.morphNormals&&i.morphAttributes.normal;for(l=0;l<u;l++)0!==(f=c[l])[1]&&(h&&i.removeAttribute("morphTarget"+l),p&&i.removeAttribute("morphNormal"+l));for(l=0;l<u;l++)(f=c[l])[0]=l,f[1]=s[l];c.sort(Ve);var f;for(l=0;8>l;l++){if(f=c[l]){var d=f[0],m=f[1];if(m){h&&i.addAttribute("morphTarget"+l,h[d]),p&&i.addAttribute("morphNormal"+l,p[d]),n[l]=m;continue}}n[l]=0}a.getUniforms().setValue(e,"morphTargetInfluences",n)}}}function Xe(e,t,n){var r,i,o;this.setMode=function(e){r=e},this.setIndex=function(e){i=e.type,o=e.bytesPerElement},this.render=function(t,a){e.drawElements(r,a,i,t*o),n.calls++,n.vertices+=a,r===e.TRIANGLES?n.faces+=a/3:r===e.POINTS&&(n.points+=a)},this.renderInstances=function(a,s,u){var c=t.get("ANGLE_instanced_arrays");return null===c?void console.error("THREE.WebGLIndexedBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays."):(c.drawElementsInstancedANGLE(r,u,i,s*o,a.maxInstancedCount),n.calls++,n.vertices+=u*a.maxInstancedCount,void(r===e.TRIANGLES?n.faces+=a.maxInstancedCount*u/3:r===e.POINTS&&(n.points+=a.maxInstancedCount*u)))}}function qe(e,t,n){var r;this.setMode=function(e){r=e},this.render=function(t,i){e.drawArrays(r,t,i),n.calls++,n.vertices+=i,r===e.TRIANGLES?n.faces+=i/3:r===e.POINTS&&(n.points+=i)},this.renderInstances=function(i,o,a){var s=t.get("ANGLE_instanced_arrays");if(null!==s){var u=i.attributes.position;u.isInterleavedBufferAttribute?(a=u.data.count,s.drawArraysInstancedANGLE(r,0,a,i.maxInstancedCount)):s.drawArraysInstancedANGLE(r,o,a,i.maxInstancedCount),n.calls++,n.vertices+=a*i.maxInstancedCount,r===e.TRIANGLES?n.faces+=i.maxInstancedCount*a/3:r===e.POINTS&&(n.points+=i.maxInstancedCount*a)}else console.error("THREE.WebGLBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.")}}function Ye(e,t,n){function r(e){var a=e.target,s=i[a.id];for(var u in null!==s.index&&t.remove(s.index),s.attributes)t.remove(s.attributes[u]);a.removeEventListener("dispose",r),delete i[a.id];var c=o[a.id];c&&(t.remove(c),delete o[a.id]),(c=o[s.id])&&(t.remove(c),delete o[s.id]),n.geometries--}var i={},o={};return{get:function(e,t){var o=i[t.id];return o||(t.addEventListener("dispose",r),t.isBufferGeometry?o=t:t.isGeometry&&(void 0===t._bufferGeometry&&(t._bufferGeometry=(new De).setFromObject(e)),o=t._bufferGeometry),i[t.id]=o,n.geometries++,o)},update:function(n){var r=n.index,i=n.attributes;for(var o in null!==r&&t.update(r,e.ELEMENT_ARRAY_BUFFER),i)t.update(i[o],e.ARRAY_BUFFER);var a=n.morphAttributes;for(var o in a)for(var s=a[o],u=0,c=s.length;u<c;u++)t.update(s[u],e.ARRAY_BUFFER)},getWireframeAttribute:function(n){var r=o[n.id];if(r)return r;var i=[],a=n.index,s=n.attributes;if(null!==a)for(var u=0,c=(f=a.array).length;u<c;u+=3){var l=f[u+0],h=f[u+1],p=f[u+2];i.push(l,h,h,p,p,l)}else{var f;for(u=0,c=(f=s.position.array).length/3-1;u<c;u+=3){l=u+0,h=u+1,p=u+2;i.push(l,h,h,p,p,l)}}return r=new(65535<Ce(i)?Se:_e)(i,1),t.update(r,e.ELEMENT_ARRAY_BUFFER),o[n.id]=r,r}}}function Je(){var e={};return{get:function(t){if(void 0!==e[t.id])return e[t.id];var n;switch(t.type){case"DirectionalLight":n={direction:new l,color:new X,shadow:!1,shadowBias:0,shadowRadius:1,shadowMapSize:new i};break;case"SpotLight":n={position:new l,direction:new l,color:new X,distance:0,coneCos:0,penumbraCos:0,decay:0,shadow:!1,shadowBias:0,shadowRadius:1,shadowMapSize:new i};break;case"PointLight":n={position:new l,color:new X,distance:0,decay:0,shadow:!1,shadowBias:0,shadowRadius:1,shadowMapSize:new i,shadowCameraNear:1,shadowCameraFar:1e3};break;case"HemisphereLight":n={direction:new l,skyColor:new X,groundColor:new X};break;case"RectAreaLight":n={color:new X,position:new l,halfWidth:new l,halfHeight:new l}}return e[t.id]=n,n}}}function Ze(){var e=new Je,t={hash:"",ambient:[0,0,0],directional:[],directionalShadowMap:[],directionalShadowMatrix:[],spot:[],spotShadowMap:[],spotShadowMatrix:[],rectArea:[],point:[],pointShadowMap:[],pointShadowMatrix:[],hemi:[]},n=new l,r=new h,i=new h;return{setup:function(o,a,s){for(var u=0,c=0,l=0,h=0,p=0,f=0,d=0,m=0,g=s.matrixWorldInverse,v=0,y=o.length;v<y;v++){var x=o[v],b=x.color,w=x.intensity,_=x.distance,E=x.shadow&&x.shadow.map?x.shadow.map.texture:null;if(x.isAmbientLight)u+=b.r*w,c+=b.g*w,l+=b.b*w;else if(x.isDirectionalLight){if((T=e.get(x)).color.copy(x.color).multiplyScalar(x.intensity),T.direction.setFromMatrixPosition(x.matrixWorld),n.setFromMatrixPosition(x.target.matrixWorld),T.direction.sub(n),T.direction.transformDirection(g),T.shadow=x.castShadow,x.castShadow){var S=x.shadow;T.shadowBias=S.bias,T.shadowRadius=S.radius,T.shadowMapSize=S.mapSize}t.directionalShadowMap[h]=E,t.directionalShadowMatrix[h]=x.shadow.matrix,t.directional[h]=T,h++}else if(x.isSpotLight){if((T=e.get(x)).position.setFromMatrixPosition(x.matrixWorld),T.position.applyMatrix4(g),T.color.copy(b).multiplyScalar(w),T.distance=_,T.direction.setFromMatrixPosition(x.matrixWorld),n.setFromMatrixPosition(x.target.matrixWorld),T.direction.sub(n),T.direction.transformDirection(g),T.coneCos=oo(x.angle),T.penumbraCos=oo(x.angle*(1-x.penumbra)),T.decay=0===x.distance?0:x.decay,T.shadow=x.castShadow,x.castShadow){S=x.shadow;T.shadowBias=S.bias,T.shadowRadius=S.radius,T.shadowMapSize=S.mapSize}t.spotShadowMap[f]=E,t.spotShadowMatrix[f]=x.shadow.matrix,t.spot[f]=T,f++}else if(x.isRectAreaLight){(T=e.get(x)).color.copy(b).multiplyScalar(w/(x.width*x.height)),T.position.setFromMatrixPosition(x.matrixWorld),T.position.applyMatrix4(g),i.identity(),r.copy(x.matrixWorld),r.premultiply(g),i.extractRotation(r),T.halfWidth.set(.5*x.width,0,0),T.halfHeight.set(0,.5*x.height,0),T.halfWidth.applyMatrix4(i),T.halfHeight.applyMatrix4(i),t.rectArea[d]=T,d++}else if(x.isPointLight){if((T=e.get(x)).position.setFromMatrixPosition(x.matrixWorld),T.position.applyMatrix4(g),T.color.copy(x.color).multiplyScalar(x.intensity),T.distance=x.distance,T.decay=0===x.distance?0:x.decay,T.shadow=x.castShadow,x.castShadow){S=x.shadow;T.shadowBias=S.bias,T.shadowRadius=S.radius,T.shadowMapSize=S.mapSize,T.shadowCameraNear=S.camera.near,T.shadowCameraFar=S.camera.far}t.pointShadowMap[p]=E,t.pointShadowMatrix[p]=x.shadow.matrix,t.point[p]=T,p++}else if(x.isHemisphereLight){var T;(T=e.get(x)).direction.setFromMatrixPosition(x.matrixWorld),T.direction.transformDirection(g),T.direction.normalize(),T.skyColor.copy(x.color).multiplyScalar(w),T.groundColor.copy(x.groundColor).multiplyScalar(w),t.hemi[m]=T,m++}}t.ambient[0]=u,t.ambient[1]=c,t.ambient[2]=l,t.directional.length=h,t.spot.length=f,t.rectArea.length=d,t.point.length=p,t.hemi.length=m,t.hash=h+","+p+","+f+","+d+","+m+","+a.length},state:t}}function Ke(e,t){var n={};return{update:function(r){var i=t.frame,o=r.geometry,a=e.get(r,o);return n[a.id]!==i&&(o.isGeometry&&a.updateFromObject(r),e.update(a),n[a.id]=i),a},clear:function(){n={}}}}function $e(e,t,n){var r=e.createShader(t);return e.shaderSource(r,n),e.compileShader(r),!1===e.getShaderParameter(r,e.COMPILE_STATUS)&&console.error("THREE.WebGLShader: Shader couldn't compile."),""!==e.getShaderInfoLog(r)&&console.warn("THREE.WebGLShader: gl.getShaderInfoLog()",t===e.VERTEX_SHADER?"vertex":"fragment",e.getShaderInfoLog(r),function(e){for(var t=e.split("\n"),n=0;n<t.length;n++)t[n]=n+1+": "+t[n];return t.join("\n")}(n)),r}function Qe(e){switch(e){case Ds:return["Linear","( value )"];case Ls:return["sRGB","( value )"];case Rs:return["RGBE","( value )"];case Is:return["RGBM","( value, 7.0 )"];case ks:return["RGBM","( value, 16.0 )"];case Ns:return["RGBD","( value, 256.0 )"];case Ps:return["Gamma","( value, float( GAMMA_FACTOR ) )"];default:throw new Error("unsupported encoding: "+e)}}function et(e,t){var n=Qe(t);return"vec4 "+e+"( vec4 value ) { return "+n[0]+"ToLinear"+n[1]+"; }"}function tt(e,t){var n=Qe(t);return"vec4 "+e+"( vec4 value ) { return LinearTo"+n[0]+n[1]+"; }"}function nt(e,t){var n;switch(t){case wa:n="Linear";break;case _a:n="Reinhard";break;case Ea:n="Uncharted2";break;case Sa:n="OptimizedCineon";break;default:throw new Error("unsupported toneMapping: "+t)}return"vec3 "+e+"( vec3 color ) { return "+n+"ToneMapping( color ); }"}function rt(e){return""!==e}function it(e,t){return e.replace(/NUM_DIR_LIGHTS/g,t.numDirLights).replace(/NUM_SPOT_LIGHTS/g,t.numSpotLights).replace(/NUM_RECT_AREA_LIGHTS/g,t.numRectAreaLights).replace(/NUM_POINT_LIGHTS/g,t.numPointLights).replace(/NUM_HEMI_LIGHTS/g,t.numHemiLights)}function ot(e){return e.replace(/^[ \t]*#include +<([\w\d.]+)>/gm,function(e,t){var n=Ks[t];if(void 0===n)throw new Error("Can not resolve #include <"+t+">");return ot(n)})}function at(e){return e.replace(/for \( int i \= (\d+)\; i < (\d+)\; i \+\+ \) \{([\s\S]+?)(?=\})\}/g,function(e,t,n,r){for(var i="",o=parseInt(t);o<parseInt(n);o++)i+=r.replace(/\[ i \]/g,"[ "+o+" ]");return i})}function st(e,t,n,r,i,o){var a=e.context,s=r.defines,u=i.vertexShader,c=i.fragmentShader,l="SHADOWMAP_TYPE_BASIC";o.shadowMapType===Po?l="SHADOWMAP_TYPE_PCF":o.shadowMapType===Ro&&(l="SHADOWMAP_TYPE_PCF_SOFT");var h="ENVMAP_TYPE_CUBE",p="ENVMAP_MODE_REFLECTION",f="ENVMAP_BLENDING_MULTIPLY";if(o.envMap){switch(r.envMap.mapping){case Aa:case Ma:h="ENVMAP_TYPE_CUBE";break;case Pa:case Ra:h="ENVMAP_TYPE_CUBE_UV";break;case Ca:case Da:h="ENVMAP_TYPE_EQUIREC";break;case La:h="ENVMAP_TYPE_SPHERE"}switch(r.envMap.mapping){case Ma:case Da:p="ENVMAP_MODE_REFRACTION"}switch(r.combine){case va:f="ENVMAP_BLENDING_MULTIPLY";break;case ya:f="ENVMAP_BLENDING_MIX";break;case xa:f="ENVMAP_BLENDING_ADD"}}var d,m,g=0<e.gammaFactor?e.gammaFactor:1,v=function(e,t,n){return[(e=e||{}).derivatives||t.envMapCubeUV||t.bumpMap||t.normalMap||t.flatShading?"#extension GL_OES_standard_derivatives : enable":"",(e.fragDepth||t.logarithmicDepthBuffer)&&n.get("EXT_frag_depth")?"#extension GL_EXT_frag_depth : enable":"",e.drawBuffers&&n.get("WEBGL_draw_buffers")?"#extension GL_EXT_draw_buffers : require":"",(e.shaderTextureLOD||t.envMap)&&n.get("EXT_shader_texture_lod")?"#extension GL_EXT_shader_texture_lod : enable":""].filter(rt).join("\n")}(r.extensions,o,t),y=function(e){var t=[];for(var n in e){var r=e[n];!1===r||t.push("#define "+n+" "+r)}return t.join("\n")}(s),x=a.createProgram();r.isRawShaderMaterial?(d=[y,"\n"].filter(rt).join("\n"),m=[v,y,"\n"].filter(rt).join("\n")):(d=["precision "+o.precision+" float;","precision "+o.precision+" int;","#define SHADER_NAME "+i.name,y,o.supportsVertexTextures?"#define VERTEX_TEXTURES":"","#define GAMMA_FACTOR "+g,"#define MAX_BONES "+o.maxBones,o.useFog&&o.fog?"#define USE_FOG":"",o.useFog&&o.fogExp?"#define FOG_EXP2":"",o.map?"#define USE_MAP":"",o.envMap?"#define USE_ENVMAP":"",o.envMap?"#define "+p:"",o.lightMap?"#define USE_LIGHTMAP":"",o.aoMap?"#define USE_AOMAP":"",o.emissiveMap?"#define USE_EMISSIVEMAP":"",o.bumpMap?"#define USE_BUMPMAP":"",o.normalMap?"#define USE_NORMALMAP":"",o.displacementMap&&o.supportsVertexTextures?"#define USE_DISPLACEMENTMAP":"",o.specularMap?"#define USE_SPECULARMAP":"",o.roughnessMap?"#define USE_ROUGHNESSMAP":"",o.metalnessMap?"#define USE_METALNESSMAP":"",o.alphaMap?"#define USE_ALPHAMAP":"",o.vertexColors?"#define USE_COLOR":"",o.flatShading?"#define FLAT_SHADED":"",o.skinning?"#define USE_SKINNING":"",o.useVertexTexture?"#define BONE_TEXTURE":"",o.morphTargets?"#define USE_MORPHTARGETS":"",o.morphNormals&&!1===o.flatShading?"#define USE_MORPHNORMALS":"",o.doubleSided?"#define DOUBLE_SIDED":"",o.flipSided?"#define FLIP_SIDED":"","#define NUM_CLIPPING_PLANES "+o.numClippingPlanes,o.shadowMapEnabled?"#define USE_SHADOWMAP":"",o.shadowMapEnabled?"#define "+l:"",o.sizeAttenuation?"#define USE_SIZEATTENUATION":"",o.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",o.logarithmicDepthBuffer&&t.get("EXT_frag_depth")?"#define USE_LOGDEPTHBUF_EXT":"","uniform mat4 modelMatrix;","uniform mat4 modelViewMatrix;","uniform mat4 projectionMatrix;","uniform mat4 viewMatrix;","uniform mat3 normalMatrix;","uniform vec3 cameraPosition;","attribute vec3 position;","attribute vec3 normal;","attribute vec2 uv;","#ifdef USE_COLOR","\tattribute vec3 color;","#endif","#ifdef USE_MORPHTARGETS","\tattribute vec3 morphTarget0;","\tattribute vec3 morphTarget1;","\tattribute vec3 morphTarget2;","\tattribute vec3 morphTarget3;","\t#ifdef USE_MORPHNORMALS","\t\tattribute vec3 morphNormal0;","\t\tattribute vec3 morphNormal1;","\t\tattribute vec3 morphNormal2;","\t\tattribute vec3 morphNormal3;","\t#else","\t\tattribute vec3 morphTarget4;","\t\tattribute vec3 morphTarget5;","\t\tattribute vec3 morphTarget6;","\t\tattribute vec3 morphTarget7;","\t#endif","#endif","#ifdef USE_SKINNING","\tattribute vec4 skinIndex;","\tattribute vec4 skinWeight;","#endif","\n"].filter(rt).join("\n"),m=[v,"precision "+o.precision+" float;","precision "+o.precision+" int;","#define SHADER_NAME "+i.name,y,o.alphaTest?"#define ALPHATEST "+o.alphaTest:"","#define GAMMA_FACTOR "+g,o.useFog&&o.fog?"#define USE_FOG":"",o.useFog&&o.fogExp?"#define FOG_EXP2":"",o.map?"#define USE_MAP":"",o.envMap?"#define USE_ENVMAP":"",o.envMap?"#define "+h:"",o.envMap?"#define "+p:"",o.envMap?"#define "+f:"",o.lightMap?"#define USE_LIGHTMAP":"",o.aoMap?"#define USE_AOMAP":"",o.emissiveMap?"#define USE_EMISSIVEMAP":"",o.bumpMap?"#define USE_BUMPMAP":"",o.normalMap?"#define USE_NORMALMAP":"",o.specularMap?"#define USE_SPECULARMAP":"",o.roughnessMap?"#define USE_ROUGHNESSMAP":"",o.metalnessMap?"#define USE_METALNESSMAP":"",o.alphaMap?"#define USE_ALPHAMAP":"",o.vertexColors?"#define USE_COLOR":"",o.gradientMap?"#define USE_GRADIENTMAP":"",o.flatShading?"#define FLAT_SHADED":"",o.doubleSided?"#define DOUBLE_SIDED":"",o.flipSided?"#define FLIP_SIDED":"","#define NUM_CLIPPING_PLANES "+o.numClippingPlanes,"#define UNION_CLIPPING_PLANES "+(o.numClippingPlanes-o.numClipIntersection),o.shadowMapEnabled?"#define USE_SHADOWMAP":"",o.shadowMapEnabled?"#define "+l:"",o.premultipliedAlpha?"#define PREMULTIPLIED_ALPHA":"",o.physicallyCorrectLights?"#define PHYSICALLY_CORRECT_LIGHTS":"",o.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",o.logarithmicDepthBuffer&&t.get("EXT_frag_depth")?"#define USE_LOGDEPTHBUF_EXT":"",o.envMap&&t.get("EXT_shader_texture_lod")?"#define TEXTURE_LOD_EXT":"","uniform mat4 viewMatrix;","uniform vec3 cameraPosition;",o.toneMapping===ba?"":"#define TONE_MAPPING",o.toneMapping===ba?"":Ks.tonemapping_pars_fragment,o.toneMapping===ba?"":nt("toneMapping",o.toneMapping),o.dithering?"#define DITHERING":"",o.outputEncoding||o.mapEncoding||o.envMapEncoding||o.emissiveMapEncoding?Ks.encodings_pars_fragment:"",o.mapEncoding?et("mapTexelToLinear",o.mapEncoding):"",o.envMapEncoding?et("envMapTexelToLinear",o.envMapEncoding):"",o.emissiveMapEncoding?et("emissiveMapTexelToLinear",o.emissiveMapEncoding):"",o.outputEncoding?tt("linearToOutputTexel",o.outputEncoding):"",o.depthPacking?"#define DEPTH_PACKING "+r.depthPacking:"","\n"].filter(rt).join("\n")),u=it(u=ot(u),o),c=it(c=ot(c),o),r.isShaderMaterial||(u=at(u),c=at(c));var b=d+u,w=m+c,_=$e(a,a.VERTEX_SHADER,b),E=$e(a,a.FRAGMENT_SHADER,w);a.attachShader(x,_),a.attachShader(x,E),void 0===r.index0AttributeName?!0===o.morphTargets&&a.bindAttribLocation(x,0,"position"):a.bindAttribLocation(x,0,r.index0AttributeName),a.linkProgram(x);var S,T,A=a.getProgramInfoLog(x),M=a.getShaderInfoLog(_),C=a.getShaderInfoLog(E),D=!0,L=!0;return!1===a.getProgramParameter(x,a.LINK_STATUS)?(D=!1,console.error("THREE.WebGLProgram: shader error: ",a.getError(),"gl.VALIDATE_STATUS",a.getProgramParameter(x,a.VALIDATE_STATUS),"gl.getProgramInfoLog",A,M,C)):""===A?(""===M||""===C)&&(L=!1):console.warn("THREE.WebGLProgram: gl.getProgramInfoLog()",A),L&&(this.diagnostics={runnable:D,material:r,programLog:A,vertexShader:{log:M,prefix:d},fragmentShader:{log:C,prefix:m}}),a.deleteShader(_),a.deleteShader(E),this.getUniforms=function(){return null==S&&(S=new W(a,x,e)),S},this.getAttributes=function(){return void 0===T&&(T=function(e,t){for(var n={},r=e.getProgramParameter(t,e.ACTIVE_ATTRIBUTES),i=0;i<r;i++){var o=e.getActiveAttrib(t,i).name;n[o]=e.getAttribLocation(t,o)}return n}(a,x)),T},this.destroy=function(){a.deleteProgram(x),this.program=void 0},Object.defineProperties(this,{uniforms:{get:function(){return console.warn("THREE.WebGLProgram: .uniforms is now .getUniforms()."),this.getUniforms()}},attributes:{get:function(){return console.warn("THREE.WebGLProgram: .attributes is now .getAttributes()."),this.getAttributes()}}}),this.id=nu++,this.code=n,this.usedTimes=1,this.program=x,this.vertexShader=_,this.fragmentShader=E,this}function ut(e,t,n){function r(e,t){var n;return e?e.isTexture?n=e.encoding:e.isWebGLRenderTarget&&(console.warn("THREE.WebGLPrograms.getTextureEncodingFromMap: don't use render targets as textures. Use their .texture property instead."),n=e.texture.encoding):n=Ds,n===Ds&&t&&(n=Ps),n}var i=[],o={MeshDepthMaterial:"depth",MeshDistanceMaterial:"distanceRGBA",MeshNormalMaterial:"normal",MeshBasicMaterial:"basic",MeshLambertMaterial:"lambert",MeshPhongMaterial:"phong",MeshToonMaterial:"phong",MeshStandardMaterial:"physical",MeshPhysicalMaterial:"physical",LineBasicMaterial:"basic",LineDashedMaterial:"dashed",PointsMaterial:"points",ShadowMaterial:"shadow"},a=["precision","supportsVertexTextures","map","mapEncoding","envMap","envMapMode","envMapEncoding","lightMap","aoMap","emissiveMap","emissiveMapEncoding","bumpMap","normalMap","displacementMap","specularMap","roughnessMap","metalnessMap","gradientMap","alphaMap","combine","vertexColors","fog","useFog","fogExp","flatShading","sizeAttenuation","logarithmicDepthBuffer","skinning","maxBones","useVertexTexture","morphTargets","morphNormals","maxMorphTargets","maxMorphNormals","premultipliedAlpha","numDirLights","numPointLights","numSpotLights","numHemiLights","numRectAreaLights","shadowMapEnabled","shadowMapType","toneMapping","physicallyCorrectLights","alphaTest","doubleSided","flipSided","numClippingPlanes","numClipIntersection","depthPacking","dithering"];this.getParameters=function(t,i,a,s,u,c,l){var h=o[t.type],p=l.isSkinnedMesh?function(e){var t=e.skeleton.bones;if(n.floatVertexTextures)return 1024;var r=n.maxVertexUniforms,i=wo((r-20)/4),o=bo(i,t.length);return o<t.length?(console.warn("THREE.WebGLRenderer: Skeleton has "+t.length+" bones. This GPU supports "+o+"."),0):o}(l):0,f=n.precision;null!==t.precision&&((f=n.getMaxPrecision(t.precision))!==t.precision&&console.warn("THREE.WebGLProgram.getParameters:",t.precision,"not supported, using",f,"instead."));var d=e.getRenderTarget();return{shaderID:h,precision:f,supportsVertexTextures:n.vertexTextures,outputEncoding:r(d?d.texture:null,e.gammaOutput),map:!!t.map,mapEncoding:r(t.map,e.gammaInput),envMap:!!t.envMap,envMapMode:t.envMap&&t.envMap.mapping,envMapEncoding:r(t.envMap,e.gammaInput),envMapCubeUV:!!t.envMap&&(t.envMap.mapping===Pa||t.envMap.mapping===Ra),lightMap:!!t.lightMap,aoMap:!!t.aoMap,emissiveMap:!!t.emissiveMap,emissiveMapEncoding:r(t.emissiveMap,e.gammaInput),bumpMap:!!t.bumpMap,normalMap:!!t.normalMap,displacementMap:!!t.displacementMap,roughnessMap:!!t.roughnessMap,metalnessMap:!!t.metalnessMap,specularMap:!!t.specularMap,alphaMap:!!t.alphaMap,gradientMap:!!t.gradientMap,combine:t.combine,vertexColors:t.vertexColors,fog:!!s,useFog:t.fog,fogExp:s&&s.isFogExp2,flatShading:t.flatShading,sizeAttenuation:t.sizeAttenuation,logarithmicDepthBuffer:n.logarithmicDepthBuffer,skinning:t.skinning&&0<p,maxBones:p,useVertexTexture:n.floatVertexTextures,morphTargets:t.morphTargets,morphNormals:t.morphNormals,maxMorphTargets:e.maxMorphTargets,maxMorphNormals:e.maxMorphNormals,numDirLights:i.directional.length,numPointLights:i.point.length,numSpotLights:i.spot.length,numRectAreaLights:i.rectArea.length,numHemiLights:i.hemi.length,numClippingPlanes:u,numClipIntersection:c,dithering:t.dithering,shadowMapEnabled:e.shadowMap.enabled&&l.receiveShadow&&0<a.length,shadowMapType:e.shadowMap.type,toneMapping:e.toneMapping,physicallyCorrectLights:e.physicallyCorrectLights,premultipliedAlpha:t.premultipliedAlpha,alphaTest:t.alphaTest,doubleSided:t.side===ko,flipSided:t.side===Io,depthPacking:void 0!==t.depthPacking&&t.depthPacking}},this.getProgramCode=function(t,n){var r=[];if(n.shaderID?r.push(n.shaderID):(r.push(t.fragmentShader),r.push(t.vertexShader)),void 0!==t.defines)for(var i in t.defines)r.push(i),r.push(t.defines[i]);for(var o=0;o<a.length;o++)r.push(n[a[o]]);return r.push(t.onBeforeCompile.toString()),r.push(e.gammaOutput),r.join()},this.acquireProgram=function(n,r,o,a){for(var s,u,c=0,l=i.length;c<l;c++)if((u=i[c]).code===a){++(s=u).usedTimes;break}return void 0===s&&(s=new st(e,t,a,n,r,o),i.push(s)),s},this.releaseProgram=function(e){if(0==--e.usedTimes){var t=i.indexOf(e);i[t]=i[i.length-1],i.pop(),e.destroy()}},this.programs=i}function ct(e,t,n,r,i,o,a){function s(e,t){if(e.width>t||e.height>t){var n=t/xo(e.width,e.height),r=document.createElementNS("http://www.w3.org/1999/xhtml","canvas");return r.width=wo(e.width*n),r.height=wo(e.height*n),r.getContext("2d").drawImage(e,0,0,e.width,e.height,0,0,r.width,r.height),console.warn("THREE.WebGLRenderer: image is too big ("+e.width+"x"+e.height+"). Resized to "+r.width+"x"+r.height,e),r}return e}function u(e){return Us.isPowerOfTwo(e.width)&&Us.isPowerOfTwo(e.height)}function c(e,t){return e.generateMipmaps&&t&&e.minFilter!==Na&&e.minFilter!==Ua}function l(t){return t===Na||t===Fa||t===Ba?e.NEAREST:e.LINEAR}function h(e){var t=e.target;t.removeEventListener("dispose",h),f(t),a.textures--}function p(e){var t=e.target;t.removeEventListener("dispose",p),d(t),a.textures--}function f(t){var n=r.get(t);if(t.image&&n.__image__webglTextureCube)e.deleteTexture(n.__image__webglTextureCube);else{if(void 0===n.__webglInit)return;e.deleteTexture(n.__webglTexture)}r.remove(t)}function d(t){var n=r.get(t),i=r.get(t.texture);if(t){if(void 0!==i.__webglTexture&&e.deleteTexture(i.__webglTexture),t.depthTexture&&t.depthTexture.dispose(),t.isWebGLRenderTargetCube)for(var o=0;6>o;o++)e.deleteFramebuffer(n.__webglFramebuffer[o]),n.__webglDepthbuffer&&e.deleteRenderbuffer(n.__webglDepthbuffer[o]);else e.deleteFramebuffer(n.__webglFramebuffer),n.__webglDepthbuffer&&e.deleteRenderbuffer(n.__webglDepthbuffer);r.remove(t.texture),r.remove(t)}}function m(t,i){var o=r.get(t);if(0<t.version&&o.__version!==t.version){var a=t.image;if(void 0===a)console.warn("THREE.WebGLRenderer: Texture marked for update but image is undefined",t);else{if(!1!==a.complete)return void v(o,t,i);console.warn("THREE.WebGLRenderer: Texture marked for update but image is incomplete",t)}}n.activeTexture(e.TEXTURE0+i),n.bindTexture(e.TEXTURE_2D,o.__webglTexture)}function g(n,a,s){var u;if(s?(e.texParameteri(n,e.TEXTURE_WRAP_S,o.convert(a.wrapS)),e.texParameteri(n,e.TEXTURE_WRAP_T,o.convert(a.wrapT)),e.texParameteri(n,e.TEXTURE_MAG_FILTER,o.convert(a.magFilter)),e.texParameteri(n,e.TEXTURE_MIN_FILTER,o.convert(a.minFilter))):(e.texParameteri(n,e.TEXTURE_WRAP_S,e.CLAMP_TO_EDGE),e.texParameteri(n,e.TEXTURE_WRAP_T,e.CLAMP_TO_EDGE),(a.wrapS!==Ia||a.wrapT!==Ia)&&console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.wrapS and Texture.wrapT should be set to THREE.ClampToEdgeWrapping.",a),e.texParameteri(n,e.TEXTURE_MAG_FILTER,l(a.magFilter)),e.texParameteri(n,e.TEXTURE_MIN_FILTER,l(a.minFilter)),a.minFilter!==Na&&a.minFilter!==Ua&&console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.minFilter should be set to THREE.NearestFilter or THREE.LinearFilter.",a)),u=t.get("EXT_texture_filter_anisotropic")){if(a.type===Ya&&null===t.get("OES_texture_float_linear"))return;if(a.type===Ja&&null===t.get("OES_texture_half_float_linear"))return;(1<a.anisotropy||r.get(a).__currentAnisotropy)&&(e.texParameterf(n,u.TEXTURE_MAX_ANISOTROPY_EXT,bo(a.anisotropy,i.getMaxAnisotropy())),r.get(a).__currentAnisotropy=a.anisotropy)}}function v(t,r,l){void 0===t.__webglInit&&(t.__webglInit=!0,r.addEventListener("dispose",h),t.__webglTexture=e.createTexture(),a.textures++),n.activeTexture(e.TEXTURE0+l),n.bindTexture(e.TEXTURE_2D,t.__webglTexture),e.pixelStorei(e.UNPACK_FLIP_Y_WEBGL,r.flipY),e.pixelStorei(e.UNPACK_PREMULTIPLY_ALPHA_WEBGL,r.premultiplyAlpha),e.pixelStorei(e.UNPACK_ALIGNMENT,r.unpackAlignment);var p=s(r.image,i.maxTextureSize);(function(e){return e.wrapS!==Ia||e.wrapT!==Ia||e.minFilter!==Na&&e.minFilter!==Ua})(r)&&!1===u(p)&&(p=function(e){if(e instanceof HTMLImageElement||e instanceof HTMLCanvasElement){var t=document.createElementNS("http://www.w3.org/1999/xhtml","canvas");return t.width=Us.nearestPowerOfTwo(e.width),t.height=Us.nearestPowerOfTwo(e.height),t.getContext("2d").drawImage(e,0,0,t.width,t.height),console.warn("THREE.WebGLRenderer: image is not power of two ("+e.width+"x"+e.height+"). Resized to "+t.width+"x"+t.height,e),t}return e}(p));var f=u(p),d=o.convert(r.format),m=o.convert(r.type);g(e.TEXTURE_2D,r,f);var v,y=r.mipmaps;if(r.isDepthTexture){var x=e.DEPTH_COMPONENT;if(r.type===Ya){if(!w)throw new Error("Float Depth Texture only supported in WebGL2.0");x=e.DEPTH_COMPONENT32F}else w&&(x=e.DEPTH_COMPONENT16);r.format===as&&x===e.DEPTH_COMPONENT&&r.type!==Wa&&r.type!==qa&&(console.warn("THREE.WebGLRenderer: Use UnsignedShortType or UnsignedIntType for DepthFormat DepthTexture."),r.type=Wa,m=o.convert(r.type)),r.format===ss&&(x=e.DEPTH_STENCIL,r.type!==Qa&&(console.warn("THREE.WebGLRenderer: Use UnsignedInt248Type for DepthStencilFormat DepthTexture."),r.type=Qa,m=o.convert(r.type))),n.texImage2D(e.TEXTURE_2D,0,x,p.width,p.height,0,d,m,null)}else if(r.isDataTexture)if(0<y.length&&f){for(var b=0,_=y.length;b<_;b++)v=y[b],n.texImage2D(e.TEXTURE_2D,b,d,v.width,v.height,0,d,m,v.data);r.generateMipmaps=!1}else n.texImage2D(e.TEXTURE_2D,0,d,p.width,p.height,0,d,m,p.data);else if(r.isCompressedTexture)for(b=0,_=y.length;b<_;b++)v=y[b],r.format!==ns&&r.format!==ts?-1<n.getCompressedTextureFormats().indexOf(d)?n.compressedTexImage2D(e.TEXTURE_2D,b,d,v.width,v.height,0,v.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"):n.texImage2D(e.TEXTURE_2D,b,d,v.width,v.height,0,d,m,v.data);else if(0<y.length&&f){for(b=0,_=y.length;b<_;b++)v=y[b],n.texImage2D(e.TEXTURE_2D,b,d,d,m,v);r.generateMipmaps=!1}else n.texImage2D(e.TEXTURE_2D,0,d,d,m,p);c(r,f)&&e.generateMipmap(e.TEXTURE_2D),t.__version=r.version,r.onUpdate&&r.onUpdate(r)}function y(t,i,a,s){var u=o.convert(i.texture.format),c=o.convert(i.texture.type);n.texImage2D(s,0,u,i.width,i.height,0,u,c,null),e.bindFramebuffer(e.FRAMEBUFFER,t),e.framebufferTexture2D(e.FRAMEBUFFER,a,s,r.get(i.texture).__webglTexture,0),e.bindFramebuffer(e.FRAMEBUFFER,null)}function x(t,n){e.bindRenderbuffer(e.RENDERBUFFER,t),n.depthBuffer&&!n.stencilBuffer?(e.renderbufferStorage(e.RENDERBUFFER,e.DEPTH_COMPONENT16,n.width,n.height),e.framebufferRenderbuffer(e.FRAMEBUFFER,e.DEPTH_ATTACHMENT,e.RENDERBUFFER,t)):n.depthBuffer&&n.stencilBuffer?(e.renderbufferStorage(e.RENDERBUFFER,e.DEPTH_STENCIL,n.width,n.height),e.framebufferRenderbuffer(e.FRAMEBUFFER,e.DEPTH_STENCIL_ATTACHMENT,e.RENDERBUFFER,t)):e.renderbufferStorage(e.RENDERBUFFER,e.RGBA4,n.width,n.height),e.bindRenderbuffer(e.RENDERBUFFER,null)}function b(t){var n=r.get(t),i=!0===t.isWebGLRenderTargetCube;if(t.depthTexture){if(i)throw new Error("target.depthTexture not supported in Cube render targets");!function(t,n){if(n&&n.isWebGLRenderTargetCube)throw new Error("Depth Texture with cube render targets is not supported");if(e.bindFramebuffer(e.FRAMEBUFFER,t),!n.depthTexture||!n.depthTexture.isDepthTexture)throw new Error("renderTarget.depthTexture must be an instance of THREE.DepthTexture");r.get(n.depthTexture).__webglTexture&&n.depthTexture.image.width===n.width&&n.depthTexture.image.height===n.height||(n.depthTexture.image.width=n.width,n.depthTexture.image.height=n.height,n.depthTexture.needsUpdate=!0),m(n.depthTexture,0);var i=r.get(n.depthTexture).__webglTexture;if(n.depthTexture.format===as)e.framebufferTexture2D(e.FRAMEBUFFER,e.DEPTH_ATTACHMENT,e.TEXTURE_2D,i,0);else{if(n.depthTexture.format!==ss)throw new Error("Unknown depthTexture format");e.framebufferTexture2D(e.FRAMEBUFFER,e.DEPTH_STENCIL_ATTACHMENT,e.TEXTURE_2D,i,0)}}(n.__webglFramebuffer,t)}else if(i){n.__webglDepthbuffer=[];for(var o=0;6>o;o++)e.bindFramebuffer(e.FRAMEBUFFER,n.__webglFramebuffer[o]),n.__webglDepthbuffer[o]=e.createRenderbuffer(),x(n.__webglDepthbuffer[o],t)}else e.bindFramebuffer(e.FRAMEBUFFER,n.__webglFramebuffer),n.__webglDepthbuffer=e.createRenderbuffer(),x(n.__webglDepthbuffer,t);e.bindFramebuffer(e.FRAMEBUFFER,null)}var w="undefined"!=typeof WebGL2RenderingContext&&e instanceof WebGL2RenderingContext;this.setTexture2D=m,this.setTextureCube=function(t,l){var p=r.get(t);if(6===t.image.length)if(0<t.version&&p.__version!==t.version){p.__image__webglTextureCube||(t.addEventListener("dispose",h),p.__image__webglTextureCube=e.createTexture(),a.textures++),n.activeTexture(e.TEXTURE0+l),n.bindTexture(e.TEXTURE_CUBE_MAP,p.__image__webglTextureCube),e.pixelStorei(e.UNPACK_FLIP_Y_WEBGL,t.flipY);for(var f=t&&t.isCompressedTexture,d=t.image[0]&&t.image[0].isDataTexture,m=[],v=0;6>v;v++)m[v]=f||d?d?t.image[v].image:t.image[v]:s(t.image[v],i.maxCubemapSize);var y=u(m[0]),x=o.convert(t.format),b=o.convert(t.type);g(e.TEXTURE_CUBE_MAP,t,y);for(v=0;6>v;v++)if(f)for(var w,_=m[v].mipmaps,E=0,S=_.length;E<S;E++)w=_[E],t.format!==ns&&t.format!==ts?-1<n.getCompressedTextureFormats().indexOf(x)?n.compressedTexImage2D(e.TEXTURE_CUBE_MAP_POSITIVE_X+v,E,x,w.width,w.height,0,w.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .setTextureCube()"):n.texImage2D(e.TEXTURE_CUBE_MAP_POSITIVE_X+v,E,x,w.width,w.height,0,x,b,w.data);else d?n.texImage2D(e.TEXTURE_CUBE_MAP_POSITIVE_X+v,0,x,m[v].width,m[v].height,0,x,b,m[v].data):n.texImage2D(e.TEXTURE_CUBE_MAP_POSITIVE_X+v,0,x,x,b,m[v]);c(t,y)&&e.generateMipmap(e.TEXTURE_CUBE_MAP),p.__version=t.version,t.onUpdate&&t.onUpdate(t)}else n.activeTexture(e.TEXTURE0+l),n.bindTexture(e.TEXTURE_CUBE_MAP,p.__image__webglTextureCube)},this.setTextureCubeDynamic=function(t,i){n.activeTexture(e.TEXTURE0+i),n.bindTexture(e.TEXTURE_CUBE_MAP,r.get(t).__webglTexture)},this.setupRenderTarget=function(t){var i=r.get(t),o=r.get(t.texture);t.addEventListener("dispose",p),o.__webglTexture=e.createTexture(),a.textures++;var s=!0===t.isWebGLRenderTargetCube,l=u(t);if(s){i.__webglFramebuffer=[];for(var h=0;6>h;h++)i.__webglFramebuffer[h]=e.createFramebuffer()}else i.__webglFramebuffer=e.createFramebuffer();if(s){n.bindTexture(e.TEXTURE_CUBE_MAP,o.__webglTexture),g(e.TEXTURE_CUBE_MAP,t.texture,l);for(h=0;6>h;h++)y(i.__webglFramebuffer[h],t,e.COLOR_ATTACHMENT0,e.TEXTURE_CUBE_MAP_POSITIVE_X+h);c(t.texture,l)&&e.generateMipmap(e.TEXTURE_CUBE_MAP),n.bindTexture(e.TEXTURE_CUBE_MAP,null)}else n.bindTexture(e.TEXTURE_2D,o.__webglTexture),g(e.TEXTURE_2D,t.texture,l),y(i.__webglFramebuffer,t,e.COLOR_ATTACHMENT0,e.TEXTURE_2D),c(t.texture,l)&&e.generateMipmap(e.TEXTURE_2D),n.bindTexture(e.TEXTURE_2D,null);t.depthBuffer&&b(t)},this.updateRenderTargetMipmap=function(t){var i=t.texture;if(c(i,u(t))){var o=t.isWebGLRenderTargetCube?e.TEXTURE_CUBE_MAP:e.TEXTURE_2D,a=r.get(i).__webglTexture;n.bindTexture(o,a),e.generateMipmap(o),n.bindTexture(o,null)}}}function lt(){var e={};return{get:function(t){var n=t.uuid,r=e[n];return void 0===r&&(r={},e[n]=r),r},remove:function(t){delete e[t.uuid]},clear:function(){e={}}}}function ht(e,t,n){function r(t,n,r){var i=new Uint8Array(4),o=e.createTexture();e.bindTexture(t,o),e.texParameteri(t,e.TEXTURE_MIN_FILTER,e.NEAREST),e.texParameteri(t,e.TEXTURE_MAG_FILTER,e.NEAREST);for(var a=0;a<r;a++)e.texImage2D(n+a,0,e.RGBA,1,1,0,e.RGBA,e.UNSIGNED_BYTE,i);return o}function i(t){!0!==x[t]&&(e.enable(t),x[t]=!0)}function o(t){!1!==x[t]&&(e.disable(t),x[t]=!1)}function s(t,r,a,s,u,c,l,h){t===jo?o(e.BLEND):i(e.BLEND),t===Xo?(u=u||r,c=c||a,l=l||s,(r!==E||u!==A)&&(e.blendEquationSeparate(n.convert(r),n.convert(u)),E=r,A=u),(a!==S||s!==T||c!==M||l!==C)&&(e.blendFuncSeparate(n.convert(a),n.convert(s),n.convert(c),n.convert(l)),S=a,T=s,M=c,C=l)):((t!==_||h!==D)&&(t===Ho?h?(e.blendEquationSeparate(e.FUNC_ADD,e.FUNC_ADD),e.blendFuncSeparate(e.ONE,e.ONE,e.ONE,e.ONE)):(e.blendEquation(e.FUNC_ADD),e.blendFunc(e.SRC_ALPHA,e.ONE)):t===Vo?h?(e.blendEquationSeparate(e.FUNC_ADD,e.FUNC_ADD),e.blendFuncSeparate(e.ZERO,e.ZERO,e.ONE_MINUS_SRC_COLOR,e.ONE_MINUS_SRC_ALPHA)):(e.blendEquation(e.FUNC_ADD),e.blendFunc(e.ZERO,e.ONE_MINUS_SRC_COLOR)):t===Wo?h?(e.blendEquationSeparate(e.FUNC_ADD,e.FUNC_ADD),e.blendFuncSeparate(e.ZERO,e.SRC_COLOR,e.ZERO,e.SRC_ALPHA)):(e.blendEquation(e.FUNC_ADD),e.blendFunc(e.ZERO,e.SRC_COLOR)):h?(e.blendEquationSeparate(e.FUNC_ADD,e.FUNC_ADD),e.blendFuncSeparate(e.ONE,e.ONE_MINUS_SRC_ALPHA,e.ONE,e.ONE_MINUS_SRC_ALPHA)):(e.blendEquationSeparate(e.FUNC_ADD,e.FUNC_ADD),e.blendFuncSeparate(e.SRC_ALPHA,e.ONE_MINUS_SRC_ALPHA,e.ONE,e.ONE_MINUS_SRC_ALPHA))),E=null,S=null,T=null,A=null,M=null,C=null),_=t,D=h}function u(t){L!==t&&(t?e.frontFace(e.CW):e.frontFace(e.CCW),L=t)}function c(t){t===So?o(e.CULL_FACE):(i(e.CULL_FACE),t!==P&&(t===To?e.cullFace(e.BACK):t===Ao?e.cullFace(e.FRONT):e.cullFace(e.FRONT_AND_BACK))),P=t}function l(t,n,r){t?(i(e.POLYGON_OFFSET_FILL),(O!==n||I!==r)&&(e.polygonOffset(n,r),O=n,I=r)):o(e.POLYGON_OFFSET_FILL)}function h(t){void 0===t&&(t=e.TEXTURE0+k-1),B!==t&&(e.activeTexture(t),B=t)}var p=new function(){var t=!1,n=new a,r=null,i=new a(0,0,0,0);return{setMask:function(n){r===n||t||(e.colorMask(n,n,n,n),r=n)},setLocked:function(e){t=e},setClear:function(t,r,o,a,s){!0===s&&(t*=a,r*=a,o*=a),n.set(t,r,o,a),!1===i.equals(n)&&(e.clearColor(t,r,o,a),i.copy(n))},reset:function(){t=!1,r=null,i.set(-1,0,0,0)}}},f=new function(){var t=!1,n=null,r=null,a=null;return{setTest:function(t){t?i(e.DEPTH_TEST):o(e.DEPTH_TEST)},setMask:function(r){n===r||t||(e.depthMask(r),n=r)},setFunc:function(t){r!==t&&(t?t===ca?e.depthFunc(e.NEVER):t===la?e.depthFunc(e.ALWAYS):t===ha?e.depthFunc(e.LESS):t===pa?e.depthFunc(e.LEQUAL):t===fa?e.depthFunc(e.EQUAL):t===da?e.depthFunc(e.GEQUAL):t===ma?e.depthFunc(e.GREATER):t===ga?e.depthFunc(e.NOTEQUAL):e.depthFunc(e.LEQUAL):e.depthFunc(e.LEQUAL),r=t)},setLocked:function(e){t=e},setClear:function(t){a!==t&&(e.clearDepth(t),a=t)},reset:function(){t=!1,n=null,r=null,a=null}}},d=new function(){var t=!1,n=null,r=null,a=null,s=null,u=null,c=null,l=null,h=null;return{setTest:function(t){t?i(e.STENCIL_TEST):o(e.STENCIL_TEST)},setMask:function(r){n===r||t||(e.stencilMask(r),n=r)},setFunc:function(t,n,i){(r!==t||a!==n||s!==i)&&(e.stencilFunc(t,n,i),r=t,a=n,s=i)},setOp:function(t,n,r){(u!==t||c!==n||l!==r)&&(e.stencilOp(t,n,r),u=t,c=n,l=r)},setLocked:function(e){t=e},setClear:function(t){h!==t&&(e.clearStencil(t),h=t)},reset:function(){t=!1,n=null,r=null,a=null,s=null,u=null,c=null,l=null,h=null}}},m=e.getParameter(e.MAX_VERTEX_ATTRIBS),g=new Uint8Array(m),v=new Uint8Array(m),y=new Uint8Array(m),x={},b=null,w=null,_=null,E=null,S=null,T=null,A=null,M=null,C=null,D=!1,L=null,P=null,R=null,O=null,I=null,k=e.getParameter(e.MAX_COMBINED_TEXTURE_IMAGE_UNITS),N=parseFloat(/^WebGL\ ([0-9])/.exec(e.getParameter(e.VERSION))[1]),F=1<=parseFloat(N),B=null,U={},z=new a,j=new a,G={};return G[e.TEXTURE_2D]=r(e.TEXTURE_2D,e.TEXTURE_2D,1),G[e.TEXTURE_CUBE_MAP]=r(e.TEXTURE_CUBE_MAP,e.TEXTURE_CUBE_MAP_POSITIVE_X,6),p.setClear(0,0,0,1),f.setClear(1),d.setClear(0),i(e.DEPTH_TEST),f.setFunc(pa),u(!1),c(To),i(e.CULL_FACE),i(e.BLEND),s(Go),{buffers:{color:p,depth:f,stencil:d},initAttributes:function(){for(var e=0,t=g.length;e<t;e++)g[e]=0},enableAttribute:function(n){(g[n]=1,0===v[n]&&(e.enableVertexAttribArray(n),v[n]=1),0!==y[n])&&(t.get("ANGLE_instanced_arrays").vertexAttribDivisorANGLE(n,0),y[n]=0)},enableAttributeAndDivisor:function(n,r){(g[n]=1,0===v[n]&&(e.enableVertexAttribArray(n),v[n]=1),y[n]!==r)&&(t.get("ANGLE_instanced_arrays").vertexAttribDivisorANGLE(n,r),y[n]=r)},disableUnusedAttributes:function(){for(var t=0,n=v.length;t!==n;++t)v[t]!==g[t]&&(e.disableVertexAttribArray(t),v[t]=0)},enable:i,disable:o,getCompressedTextureFormats:function(){if(null===b&&(b=[],t.get("WEBGL_compressed_texture_pvrtc")||t.get("WEBGL_compressed_texture_s3tc")||t.get("WEBGL_compressed_texture_etc1")))for(var n=e.getParameter(e.COMPRESSED_TEXTURE_FORMATS),r=0;r<n.length;r++)b.push(n[r]);return b},useProgram:function(t){return w!==t&&(e.useProgram(t),w=t,!0)},setBlending:s,setMaterial:function(t){t.side===ko?o(e.CULL_FACE):i(e.CULL_FACE),u(t.side===Io),!0===t.transparent?s(t.blending,t.blendEquation,t.blendSrc,t.blendDst,t.blendEquationAlpha,t.blendSrcAlpha,t.blendDstAlpha,t.premultipliedAlpha):s(jo),f.setFunc(t.depthFunc),f.setTest(t.depthTest),f.setMask(t.depthWrite),p.setMask(t.colorWrite),l(t.polygonOffset,t.polygonOffsetFactor,t.polygonOffsetUnits)},setFlipSided:u,setCullFace:c,setLineWidth:function(t){t!==R&&(F&&e.lineWidth(t),R=t)},setPolygonOffset:l,setScissorTest:function(t){t?i(e.SCISSOR_TEST):o(e.SCISSOR_TEST)},activeTexture:h,bindTexture:function(t,n){null===B&&h();var r=U[B];void 0===r&&(r={type:void 0,texture:void 0},U[B]=r),(r.type!==t||r.texture!==n)&&(e.bindTexture(t,n||G[t]),r.type=t,r.texture=n)},compressedTexImage2D:function(){try{e.compressedTexImage2D.apply(e,arguments)}catch(e){console.error("THREE.WebGLState:",e)}},texImage2D:function(){try{e.texImage2D.apply(e,arguments)}catch(e){console.error("THREE.WebGLState:",e)}},scissor:function(t){!1===z.equals(t)&&(e.scissor(t.x,t.y,t.z,t.w),z.copy(t))},viewport:function(t){!1===j.equals(t)&&(e.viewport(t.x,t.y,t.z,t.w),j.copy(t))},reset:function(){for(var t=0;t<v.length;t++)1===v[t]&&(e.disableVertexAttribArray(t),v[t]=0);x={},b=null,B=null,U={},w=null,_=null,L=null,P=null,p.reset(),f.reset(),d.reset()}}}function pt(e,t,n){function r(t){if("highp"===t){if(0<e.getShaderPrecisionFormat(e.VERTEX_SHADER,e.HIGH_FLOAT).precision&&0<e.getShaderPrecisionFormat(e.FRAGMENT_SHADER,e.HIGH_FLOAT).precision)return"highp";t="mediump"}return"mediump"===t&&0<e.getShaderPrecisionFormat(e.VERTEX_SHADER,e.MEDIUM_FLOAT).precision&&0<e.getShaderPrecisionFormat(e.FRAGMENT_SHADER,e.MEDIUM_FLOAT).precision?"mediump":"lowp"}var i,o=void 0===n.precision?"highp":n.precision,a=r(o);a!==o&&(console.warn("THREE.WebGLRenderer:",o,"not supported, using",a,"instead."),o=a);var s=!0===n.logarithmicDepthBuffer&&!!t.get("EXT_frag_depth"),u=e.getParameter(e.MAX_TEXTURE_IMAGE_UNITS),c=e.getParameter(e.MAX_VERTEX_TEXTURE_IMAGE_UNITS),l=e.getParameter(e.MAX_TEXTURE_SIZE),h=e.getParameter(e.MAX_CUBE_MAP_TEXTURE_SIZE),p=e.getParameter(e.MAX_VERTEX_ATTRIBS),f=e.getParameter(e.MAX_VERTEX_UNIFORM_VECTORS),d=e.getParameter(e.MAX_VARYING_VECTORS),m=e.getParameter(e.MAX_FRAGMENT_UNIFORM_VECTORS),g=0<c,v=!!t.get("OES_texture_float");return{getMaxAnisotropy:function(){if(void 0!==i)return i;var n=t.get("EXT_texture_filter_anisotropic");return i=null===n?0:e.getParameter(n.MAX_TEXTURE_MAX_ANISOTROPY_EXT)},getMaxPrecision:r,precision:o,logarithmicDepthBuffer:s,maxTextures:u,maxVertexTextures:c,maxTextureSize:l,maxCubemapSize:h,maxAttributes:p,maxVertexUniforms:f,maxVaryings:d,maxFragmentUniforms:m,vertexTextures:g,floatFragmentTextures:v,floatVertexTextures:g&&v}}function ft(e){fe.call(this),this.cameras=e||[]}function dt(e){function t(){if(null!==r&&r.isPresenting){var t=r.getEyeParameters("left"),i=t.renderWidth,o=t.renderHeight;f=e.getPixelRatio(),p=e.getSize(),e.setDrawingBufferSize(2*i,o,1)}else n.enabled&&e.setDrawingBufferSize(p.width,p.height,f)}var n=this,r=null,i=null;"VRFrameData"in window&&(i=new window.VRFrameData);var o=new h,s=new h,u=new h,c=new fe;c.bounds=new a(0,0,.5,1),c.layers.enable(1);var l=new fe;l.bounds=new a(.5,0,.5,1),l.layers.enable(2);var p,f,d=new ft([c,l]);d.layers.enable(1),d.layers.enable(2),window.addEventListener("vrdisplaypresentchange",t,!1),this.enabled=!1,this.standing=!1,this.getDevice=function(){return r},this.setDevice=function(e){void 0!==e&&(r=e)},this.getCamera=function(e){if(null===r)return e;r.depthNear=e.near,r.depthFar=e.far,r.getFrameData(i);var t=i.pose;null===t.position?e.position.set(0,0,0):e.position.fromArray(t.position),null!==t.orientation&&e.quaternion.fromArray(t.orientation),e.updateMatrixWorld();var n=r.stageParameters;if(this.standing&&n&&(s.fromArray(n.sittingToStandingTransform),u.getInverse(s),e.matrixWorld.multiply(s),e.matrixWorldInverse.multiply(u)),!1===r.isPresenting)return e;c.near=e.near,l.near=e.near,c.far=e.far,l.far=e.far,d.matrixWorld.copy(e.matrixWorld),d.matrixWorldInverse.copy(e.matrixWorldInverse),c.matrixWorldInverse.fromArray(i.leftViewMatrix),l.matrixWorldInverse.fromArray(i.rightViewMatrix),this.standing&&n&&(c.matrixWorldInverse.multiply(u),l.matrixWorldInverse.multiply(u));var a=e.parent;null!==a&&(o.getInverse(a.matrixWorld),c.matrixWorldInverse.multiply(o),l.matrixWorldInverse.multiply(o)),c.matrixWorld.getInverse(c.matrixWorldInverse),l.matrixWorld.getInverse(l.matrixWorldInverse),c.projectionMatrix.fromArray(i.leftProjectionMatrix),l.projectionMatrix.fromArray(i.rightProjectionMatrix),d.projectionMatrix.copy(c.projectionMatrix);var h=r.getLayers();if(h.length){var p=h[0];null!==p.leftBounds&&4===p.leftBounds.length&&c.bounds.fromArray(p.leftBounds),null!==p.rightBounds&&4===p.rightBounds.length&&l.bounds.fromArray(p.rightBounds)}return d},this.getStandingMatrix=function(){return s},this.submitFrame=function(){r&&r.isPresenting&&r.submitFrame()},this.dispose=function(){window.removeEventListener("vrdisplaypresentchange",t)}}function mt(e){var t={};return{get:function(n){return void 0!==t[n]?t[n]:(null===(r="WEBGL_depth_texture"===n?e.getExtension("WEBGL_depth_texture")||e.getExtension("MOZ_WEBGL_depth_texture")||e.getExtension("WEBKIT_WEBGL_depth_texture"):"EXT_texture_filter_anisotropic"===n?e.getExtension("EXT_texture_filter_anisotropic")||e.getExtension("MOZ_EXT_texture_filter_anisotropic")||e.getExtension("WEBKIT_EXT_texture_filter_anisotropic"):"WEBGL_compressed_texture_s3tc"===n?e.getExtension("WEBGL_compressed_texture_s3tc")||e.getExtension("MOZ_WEBGL_compressed_texture_s3tc")||e.getExtension("WEBKIT_WEBGL_compressed_texture_s3tc"):"WEBGL_compressed_texture_pvrtc"===n?e.getExtension("WEBGL_compressed_texture_pvrtc")||e.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc"):"WEBGL_compressed_texture_etc1"===n?e.getExtension("WEBGL_compressed_texture_etc1"):e.getExtension(n))&&console.warn("THREE.WebGLRenderer: "+n+" extension not supported."),t[n]=r,r);var r}}}function gt(){function e(){c.value!==r&&(c.value=r,c.needsUpdate=0<i),n.numPlanes=i,n.numIntersection=0}function t(e,t,r,i){var o=null===e?0:e.length,a=null;if(0!==o){if(a=c.value,!0!==i||null===a){var l=r+4*o,h=t.matrixWorldInverse;u.getNormalMatrix(h),(null===a||a.length<l)&&(a=new Float32Array(l));for(var p=0,f=r;p!==o;++p,f+=4)s.copy(e[p]).applyMatrix4(h,u),s.normal.toArray(a,f),a[f+3]=s.constant}c.value=a,c.needsUpdate=!0}return n.numPlanes=o,a}var n=this,r=null,i=0,o=!1,a=!1,s=new ie,u=new re,c={value:null,needsUpdate:!1};this.uniform=c,this.numPlanes=0,this.numIntersection=0,this.init=function(e,n,a){var s=0!==e.length||n||0!==i||o;return o=n,r=t(e,a,0),i=e.length,s},this.beginShadows=function(){a=!0,t(null)},this.endShadows=function(){a=!1,e()},this.setState=function(n,s,u,l,h,p){if(!o||null===n||0===n.length||a&&!u)a?t(null):e();else{var f=a?0:i,d=4*f,m=h.clippingState||null;c.value=m,m=t(n,l,d,p);for(var g=0;g!==d;++g)m[g]=r[g];h.clippingState=m,this.numIntersection=s?this.numPlanes:0,this.numPlanes+=f}}}function vt(e,t){return{convert:function(n){var r;if(n===Oa)return e.REPEAT;if(n===Ia)return e.CLAMP_TO_EDGE;if(n===ka)return e.MIRRORED_REPEAT;if(n===Na)return e.NEAREST;if(n===Fa)return e.NEAREST_MIPMAP_NEAREST;if(n===Ba)return e.NEAREST_MIPMAP_LINEAR;if(n===Ua)return e.LINEAR;if(n===za)return e.LINEAR_MIPMAP_NEAREST;if(n===ja)return e.LINEAR_MIPMAP_LINEAR;if(n===Ga)return e.UNSIGNED_BYTE;if(n===Za)return e.UNSIGNED_SHORT_4_4_4_4;if(n===Ka)return e.UNSIGNED_SHORT_5_5_5_1;if(n===$a)return e.UNSIGNED_SHORT_5_6_5;if(n===Ha)return e.BYTE;if(n===Va)return e.SHORT;if(n===Wa)return e.UNSIGNED_SHORT;if(n===Xa)return e.INT;if(n===qa)return e.UNSIGNED_INT;if(n===Ya)return e.FLOAT;if(n===Ja&&null!==(r=t.get("OES_texture_half_float")))return r.HALF_FLOAT_OES;if(n===es)return e.ALPHA;if(n===ts)return e.RGB;if(n===ns)return e.RGBA;if(n===rs)return e.LUMINANCE;if(n===is)return e.LUMINANCE_ALPHA;if(n===as)return e.DEPTH_COMPONENT;if(n===ss)return e.DEPTH_STENCIL;if(n===qo)return e.FUNC_ADD;if(n===Yo)return e.FUNC_SUBTRACT;if(n===Jo)return e.FUNC_REVERSE_SUBTRACT;if(n===$o)return e.ZERO;if(n===Qo)return e.ONE;if(n===ea)return e.SRC_COLOR;if(n===ta)return e.ONE_MINUS_SRC_COLOR;if(n===na)return e.SRC_ALPHA;if(n===ra)return e.ONE_MINUS_SRC_ALPHA;if(n===ia)return e.DST_ALPHA;if(n===oa)return e.ONE_MINUS_DST_ALPHA;if(n===aa)return e.DST_COLOR;if(n===sa)return e.ONE_MINUS_DST_COLOR;if(n===ua)return e.SRC_ALPHA_SATURATE;if((n===us||n===cs||n===ls||n===hs)&&null!==(r=t.get("WEBGL_compressed_texture_s3tc"))){if(n===us)return r.COMPRESSED_RGB_S3TC_DXT1_EXT;if(n===cs)return r.COMPRESSED_RGBA_S3TC_DXT1_EXT;if(n===ls)return r.COMPRESSED_RGBA_S3TC_DXT3_EXT;if(n===hs)return r.COMPRESSED_RGBA_S3TC_DXT5_EXT}if((n===ps||n===fs||n===ds||n===ms)&&null!==(r=t.get("WEBGL_compressed_texture_pvrtc"))){if(n===ps)return r.COMPRESSED_RGB_PVRTC_4BPPV1_IMG;if(n===fs)return r.COMPRESSED_RGB_PVRTC_2BPPV1_IMG;if(n===ds)return r.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG;if(n===ms)return r.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG}if(n===gs&&null!==(r=t.get("WEBGL_compressed_texture_etc1")))return r.COMPRESSED_RGB_ETC1_WEBGL;if((n===Zo||n===Ko)&&null!==(r=t.get("EXT_blend_minmax"))){if(n===Zo)return r.MIN_EXT;if(n===Ko)return r.MAX_EXT}return n===Qa&&null!==(r=t.get("WEBGL_depth_texture"))?r.UNSIGNED_INT_24_8_WEBGL:0}}}function yt(e){function t(){return null===ne?ve:1}function n(){(O=new mt(R)).get("WEBGL_depth_texture"),O.get("OES_texture_float"),O.get("OES_texture_float_linear"),O.get("OES_texture_half_float"),O.get("OES_texture_half_float_linear"),O.get("OES_standard_derivatives"),O.get("ANGLE_instanced_arrays"),O.get("OES_element_index_uint")&&(De.MaxIndex=4294967296),Q=new vt(R,O),I=new pt(R,O,e),(k=new ht(R,O,Q)).scissor(pe.copy(xe).multiplyScalar(ve)),k.viewport(he.copy(ye).multiplyScalar(ve)),N=new lt,F=new ct(R,O,k,N,I,Q,Me),B=new se(R),U=new Ye(R,B,Me),z=new Ke(U,Ce),X=new We(R),G=new ut(ee,O,I),j=new Ze,H=new He,V=new Ue(ee,k,U,T),q=new qe(R,O,Ce),J=new Xe(R,O,Ce),K=new Y(ee,R,k,F,I),$=new Z(ee,R,k,F,I),ee.info.programs=G.programs,ee.context=R,ee.capabilities=I,ee.extensions=O,ee.properties=N,ee.renderLists=H,ee.state=k}function r(e){e.preventDefault(),console.log("THREE.WebGLRenderer: Context Lost."),te=!0}function i(){console.log("THREE.WebGLRenderer: Context Restored."),te=!1,n()}function o(e){var t=e.target;t.removeEventListener("dispose",o),function(e){s(e),N.remove(e)}(t)}function s(e){var t=N.get(e).program;e.program=void 0,void 0!==t&&G.releaseProgram(t)}function u(e){null!==Ie&&Ie(e),(Pe.getDevice()||window).requestAnimationFrame(u)}function c(e,t,n,r){for(var i=0,o=e.length;i<o;i++){var a=e[i],s=a.object,u=a.geometry,c=void 0===r?a.material:r,l=a.group;if(n.isArrayCamera){le=n;for(var h,p=n.cameras,d=0,m=p.length;d<m;d++)if(h=p[d],s.layers.test(h.layers)){var g=h.bounds,v=g.x*me,y=g.y*ge,x=g.z*me,b=g.w*ge;k.viewport(he.set(v,y,x,b).multiplyScalar(ve)),f(s,t,h,u,c,l)}}else le=null,f(s,t,n,u,c,l)}}function f(e,t,n,r,i,o){if(e.onBeforeRender(ee,t,n,r,i,o),e.modelViewMatrix.multiplyMatrices(n.matrixWorldInverse,e.matrixWorld),e.normalMatrix.getNormalMatrix(e.modelViewMatrix),e.isImmediateRenderObject){k.setMaterial(i);var a=m(n,t.fog,i,e);ue="",function(e,t,n){e.render(function(e){ee.renderBufferImmediate(e,t,n)})}(e,a,i)}else ee.renderBufferDirect(n,t.fog,r,i,e,o);e.onAfterRender(ee,t,n,r,i,o)}function d(e,t,n){var r=N.get(e),i=G.getParameters(e,j.state,C,t,_e.numPlanes,_e.numIntersection,n),a=G.getProgramCode(e,i),u=r.program,c=!0;if(void 0===u)e.addEventListener("dispose",o);else if(u.code!==a)s(e);else{if(void 0!==i.shaderID)return;c=!1}if(c){if(i.shaderID){var l=$s[i.shaderID];r.shader={name:e.type,uniforms:Zs.clone(l.uniforms),vertexShader:l.vertexShader,fragmentShader:l.fragmentShader}}else r.shader={name:e.type,uniforms:e.uniforms,vertexShader:e.vertexShader,fragmentShader:e.fragmentShader};e.onBeforeCompile(r.shader),u=G.acquireProgram(e,r.shader,i,a),r.program=u,e.program=u}var h=u.getAttributes();if(e.morphTargets){e.numSupportedMorphTargets=0;for(var p=0;p<ee.maxMorphTargets;p++)0<=h["morphTarget"+p]&&e.numSupportedMorphTargets++}if(e.morphNormals){e.numSupportedMorphNormals=0;for(p=0;p<ee.maxMorphNormals;p++)0<=h["morphNormal"+p]&&e.numSupportedMorphNormals++}var f=r.shader.uniforms;(e.isShaderMaterial||e.isRawShaderMaterial)&&!0!==e.clipping||(r.numClippingPlanes=_e.numPlanes,r.numIntersection=_e.numIntersection,f.clippingPlanes=_e.uniform),r.fog=t,r.lightsHash=j.state.hash,e.lights&&(f.ambientLightColor.value=j.state.ambient,f.directionalLights.value=j.state.directional,f.spotLights.value=j.state.spot,f.rectAreaLights.value=j.state.rectArea,f.pointLights.value=j.state.point,f.hemisphereLights.value=j.state.hemi,f.directionalShadowMap.value=j.state.directionalShadowMap,f.directionalShadowMatrix.value=j.state.directionalShadowMatrix,f.spotShadowMap.value=j.state.spotShadowMap,f.spotShadowMatrix.value=j.state.spotShadowMatrix,f.pointShadowMap.value=j.state.pointShadowMap,f.pointShadowMatrix.value=j.state.pointShadowMatrix);var d=r.program.getUniforms(),m=W.seqWithValue(d.seq,f);r.uniformsList=m}function m(e,t,n,r){de=0;var i=N.get(n);if(Ee&&(Se||e!==ce)){var o=e===ce&&n.id===ie;_e.setState(n.clippingPlanes,n.clipIntersection,n.clipShadows,e,i,o)}!1===n.needsUpdate&&(void 0===i.program?n.needsUpdate=!0:n.fog&&i.fog!==t?n.needsUpdate=!0:n.lights&&i.lightsHash!==j.state.hash?n.needsUpdate=!0:void 0!==i.numClippingPlanes&&(i.numClippingPlanes!==_e.numPlanes||i.numIntersection!==_e.numIntersection)&&(n.needsUpdate=!0)),n.needsUpdate&&(d(n,t,r),n.needsUpdate=!1);var a=!1,s=!1,u=!1,c=i.program,l=c.getUniforms(),h=i.shader.uniforms;if(k.useProgram(c.program)&&(a=!0,s=!0,u=!0),n.id!==ie&&(ie=n.id,s=!0),a||e!==ce){if(l.setValue(R,"projectionMatrix",e.projectionMatrix),I.logarithmicDepthBuffer&&l.setValue(R,"logDepthBufFC",2/(po(e.far+1)/ho)),ce!==(le||e)&&(ce=le||e,s=!0,u=!0),n.isShaderMaterial||n.isMeshPhongMaterial||n.isMeshStandardMaterial||n.envMap){var f=l.map.cameraPosition;void 0!==f&&f.setValue(R,Ae.setFromMatrixPosition(e.matrixWorld))}(n.isMeshPhongMaterial||n.isMeshLambertMaterial||n.isMeshBasicMaterial||n.isMeshStandardMaterial||n.isShaderMaterial||n.skinning)&&l.setValue(R,"viewMatrix",e.matrixWorldInverse)}if(n.skinning){l.setOptional(R,r,"bindMatrix"),l.setOptional(R,r,"bindMatrixInverse");var m=r.skeleton;if(m){var x=m.bones;if(I.floatVertexTextures){if(void 0===m.boneTexture){var b=uo(4*x.length);b=Us.nextPowerOfTwo(yo(b)),b=xo(b,4);var w=new Float32Array(b*b*4);w.set(m.boneMatrices);var _=new p(w,b,b,ns,Ya);m.boneMatrices=w,m.boneTexture=_,m.boneTextureSize=b}l.setValue(R,"boneTexture",m.boneTexture),l.setValue(R,"boneTextureSize",m.boneTextureSize)}else l.setOptional(R,m,"boneMatrices")}}return s&&(l.setValue(R,"toneMappingExposure",ee.toneMappingExposure),l.setValue(R,"toneMappingWhitePoint",ee.toneMappingWhitePoint),n.lights&&function(e,t){e.ambientLightColor.needsUpdate=t,e.directionalLights.needsUpdate=t,e.pointLights.needsUpdate=t,e.spotLights.needsUpdate=t,e.rectAreaLights.needsUpdate=t,e.hemisphereLights.needsUpdate=t}(h,u),t&&n.fog&&function(e,t){e.fogColor.value=t.color,t.isFog?(e.fogNear.value=t.near,e.fogFar.value=t.far):t.isFogExp2&&(e.fogDensity.value=t.density)}(h,t),n.isMeshBasicMaterial?g(h,n):n.isMeshLambertMaterial?(g(h,n),function(e,t){t.emissiveMap&&(e.emissiveMap.value=t.emissiveMap)}(h,n)):n.isMeshPhongMaterial?(g(h,n),n.isMeshToonMaterial?function(e,t){v(e,t),t.gradientMap&&(e.gradientMap.value=t.gradientMap)}(h,n):v(h,n)):n.isMeshStandardMaterial?(g(h,n),n.isMeshPhysicalMaterial?function(e,t){e.clearCoat.value=t.clearCoat,e.clearCoatRoughness.value=t.clearCoatRoughness,y(e,t)}(h,n):y(h,n)):n.isMeshDepthMaterial?(g(h,n),function(e,t){t.displacementMap&&(e.displacementMap.value=t.displacementMap,e.displacementScale.value=t.displacementScale,e.displacementBias.value=t.displacementBias)}(h,n)):n.isMeshDistanceMaterial?(g(h,n),function(e,t){t.displacementMap&&(e.displacementMap.value=t.displacementMap,e.displacementScale.value=t.displacementScale,e.displacementBias.value=t.displacementBias),e.referencePosition.value.copy(t.referencePosition),e.nearDistance.value=t.nearDistance,e.farDistance.value=t.farDistance}(h,n)):n.isMeshNormalMaterial?(g(h,n),function(e,t){t.bumpMap&&(e.bumpMap.value=t.bumpMap,e.bumpScale.value=t.bumpScale),t.normalMap&&(e.normalMap.value=t.normalMap,e.normalScale.value.copy(t.normalScale)),t.displacementMap&&(e.displacementMap.value=t.displacementMap,e.displacementScale.value=t.displacementScale,e.displacementBias.value=t.displacementBias)}(h,n)):n.isLineBasicMaterial?(function(e,t){e.diffuse.value=t.color,e.opacity.value=t.opacity}(h,n),n.isLineDashedMaterial&&function(e,t){e.dashSize.value=t.dashSize,e.totalSize.value=t.dashSize+t.gapSize,e.scale.value=t.scale}(h,n)):n.isPointsMaterial?function(e,t){if(e.diffuse.value=t.color,e.opacity.value=t.opacity,e.size.value=t.size*ve,e.scale.value=.5*ge,e.map.value=t.map,null!==t.map){var n=t.map.offset,r=t.map.repeat;e.offsetRepeat.value.set(n.x,n.y,r.x,r.y)}}(h,n):n.isShadowMaterial&&(h.color.value=n.color,h.opacity.value=n.opacity),void 0!==h.ltcMat&&(h.ltcMat.value=Js.LTC_MAT_TEXTURE),void 0!==h.ltcMag&&(h.ltcMag.value=Js.LTC_MAG_TEXTURE),W.upload(R,i.uniformsList,h,ee)),l.setValue(R,"modelViewMatrix",r.modelViewMatrix),l.setValue(R,"normalMatrix",r.normalMatrix),l.setValue(R,"modelMatrix",r.matrixWorld),c}function g(e,t){var n;if(e.opacity.value=t.opacity,t.color&&(e.diffuse.value=t.color),t.emissive&&e.emissive.value.copy(t.emissive).multiplyScalar(t.emissiveIntensity),t.map&&(e.map.value=t.map),t.alphaMap&&(e.alphaMap.value=t.alphaMap),t.specularMap&&(e.specularMap.value=t.specularMap),t.envMap&&(e.envMap.value=t.envMap,e.flipEnvMap.value=t.envMap&&t.envMap.isCubeTexture?-1:1,e.reflectivity.value=t.reflectivity,e.refractionRatio.value=t.refractionRatio),t.lightMap&&(e.lightMap.value=t.lightMap,e.lightMapIntensity.value=t.lightMapIntensity),t.aoMap&&(e.aoMap.value=t.aoMap,e.aoMapIntensity.value=t.aoMapIntensity),t.map?n=t.map:t.specularMap?n=t.specularMap:t.displacementMap?n=t.displacementMap:t.normalMap?n=t.normalMap:t.bumpMap?n=t.bumpMap:t.roughnessMap?n=t.roughnessMap:t.metalnessMap?n=t.metalnessMap:t.alphaMap?n=t.alphaMap:t.emissiveMap&&(n=t.emissiveMap),void 0!==n){n.isWebGLRenderTarget&&(n=n.texture);var r=n.offset,i=n.repeat;e.offsetRepeat.value.set(r.x,r.y,i.x,i.y)}}function v(e,t){e.specular.value=t.specular,e.shininess.value=xo(t.shininess,1e-4),t.emissiveMap&&(e.emissiveMap.value=t.emissiveMap),t.bumpMap&&(e.bumpMap.value=t.bumpMap,e.bumpScale.value=t.bumpScale),t.normalMap&&(e.normalMap.value=t.normalMap,e.normalScale.value.copy(t.normalScale)),t.displacementMap&&(e.displacementMap.value=t.displacementMap,e.displacementScale.value=t.displacementScale,e.displacementBias.value=t.displacementBias)}function y(e,t){e.roughness.value=t.roughness,e.metalness.value=t.metalness,t.roughnessMap&&(e.roughnessMap.value=t.roughnessMap),t.metalnessMap&&(e.metalnessMap.value=t.metalnessMap),t.emissiveMap&&(e.emissiveMap.value=t.emissiveMap),t.bumpMap&&(e.bumpMap.value=t.bumpMap,e.bumpScale.value=t.bumpScale),t.normalMap&&(e.normalMap.value=t.normalMap,e.normalScale.value.copy(t.normalScale)),t.displacementMap&&(e.displacementMap.value=t.displacementMap,e.displacementScale.value=t.displacementScale,e.displacementBias.value=t.displacementBias),t.envMap&&(e.envMapIntensity.value=t.envMapIntensity)}console.log("THREE.WebGLRenderer",_o);var x=void 0===(e=e||{}).canvas?document.createElementNS("http://www.w3.org/1999/xhtml","canvas"):e.canvas,b=void 0===e.context?null:e.context,w=void 0!==e.alpha&&e.alpha,_=void 0===e.depth||e.depth,E=void 0===e.stencil||e.stencil,S=void 0!==e.antialias&&e.antialias,T=void 0===e.premultipliedAlpha||e.premultipliedAlpha,A=void 0!==e.preserveDrawingBuffer&&e.preserveDrawingBuffer,M=[],C=[],D=null,L=[],P=[];this.domElement=x,this.context=null,this.autoClear=!0,this.autoClearColor=!0,this.autoClearDepth=!0,this.autoClearStencil=!0,this.sortObjects=!0,this.clippingPlanes=[],this.localClippingEnabled=!1,this.gammaFactor=2,this.gammaInput=!1,this.gammaOutput=!1,this.physicallyCorrectLights=!1,this.toneMapping=wa,this.toneMappingExposure=1,this.toneMappingWhitePoint=1,this.maxMorphTargets=8,this.maxMorphNormals=4;var R,O,I,k,N,F,B,U,z,j,G,H,V,X,q,J,K,$,Q,ee=this,te=!1,ne=null,re=null,ie=-1,ue="",ce=null,le=null,he=new a,pe=new a,fe=null,de=0,me=x.width,ge=x.height,ve=1,ye=new a(0,0,me,ge),xe=new a(0,0,me,ge),be=!1,we=new oe,_e=new gt,Ee=!1,Se=!1,Te=new h,Ae=new l,Me={geometries:0,textures:0},Ce={frame:0,calls:0,vertices:0,faces:0,points:0};this.info={render:Ce,memory:Me,programs:null};try{var Le={alpha:w,depth:_,stencil:E,antialias:S,premultipliedAlpha:T,preserveDrawingBuffer:A};if(null===(R=b||x.getContext("webgl",Le)||x.getContext("experimental-webgl",Le)))throw null!==x.getContext("webgl")?"Error creating WebGL context with your selected attributes.":"Error creating WebGL context.";void 0===R.getShaderPrecisionFormat&&(R.getShaderPrecisionFormat=function(){return{rangeMin:1,rangeMax:1,precision:1}}),x.addEventListener("webglcontextlost",r,!1),x.addEventListener("webglcontextrestored",i,!1)}catch(e){console.error("THREE.WebGLRenderer: "+e)}n();var Pe=new dt(ee);this.vr=Pe;var Re=new ae(ee,z,I.maxTextureSize);this.shadowMap=Re,this.getContext=function(){return R},this.getContextAttributes=function(){return R.getContextAttributes()},this.forceContextLoss=function(){var e=O.get("WEBGL_lose_context");e&&e.loseContext()},this.forceContextRestore=function(){var e=O.get("WEBGL_lose_context");e&&e.restoreContext()},this.getPixelRatio=function(){return ve},this.setPixelRatio=function(e){void 0===e||(ve=e,this.setSize(me,ge,!1))},this.getSize=function(){return{width:me,height:ge}},this.setSize=function(e,t,n){var r=Pe.getDevice();return r&&r.isPresenting?void console.warn("THREE.WebGLRenderer: Can't change size while VR device is presenting."):(me=e,ge=t,x.width=e*ve,x.height=t*ve,!1!==n&&(x.style.width=e+"px",x.style.height=t+"px"),void this.setViewport(0,0,e,t))},this.getDrawingBufferSize=function(){return{width:me*ve,height:ge*ve}},this.setDrawingBufferSize=function(e,t,n){me=e,ge=t,ve=n,x.width=e*n,x.height=t*n,this.setViewport(0,0,e,t)},this.setViewport=function(e,t,n,r){ye.set(e,ge-t-r,n,r),k.viewport(he.copy(ye).multiplyScalar(ve))},this.setScissor=function(e,t,n,r){xe.set(e,ge-t-r,n,r),k.scissor(pe.copy(xe).multiplyScalar(ve))},this.setScissorTest=function(e){k.setScissorTest(be=e)},this.getClearColor=V.getClearColor,this.setClearColor=V.setClearColor,this.getClearAlpha=V.getClearAlpha,this.setClearAlpha=V.setClearAlpha,this.clear=function(e,t,n){var r=0;(void 0===e||e)&&(r|=R.COLOR_BUFFER_BIT),(void 0===t||t)&&(r|=R.DEPTH_BUFFER_BIT),(void 0===n||n)&&(r|=R.STENCIL_BUFFER_BIT),R.clear(r)},this.clearColor=function(){this.clear(!0,!1,!1)},this.clearDepth=function(){this.clear(!1,!0,!1)},this.clearStencil=function(){this.clear(!1,!1,!0)},this.clearTarget=function(e,t,n,r){this.setRenderTarget(e),this.clear(t,n,r)},this.dispose=function(){x.removeEventListener("webglcontextlost",r,!1),x.removeEventListener("webglcontextrestored",i,!1),H.dispose(),Pe.dispose()},this.renderBufferImmediate=function(e,t,n){k.initAttributes();var r=N.get(e);e.hasPositions&&!r.position&&(r.position=R.createBuffer()),e.hasNormals&&!r.normal&&(r.normal=R.createBuffer()),e.hasUvs&&!r.uv&&(r.uv=R.createBuffer()),e.hasColors&&!r.color&&(r.color=R.createBuffer());var i=t.getAttributes();if(e.hasPositions&&(R.bindBuffer(R.ARRAY_BUFFER,r.position),R.bufferData(R.ARRAY_BUFFER,e.positionArray,R.DYNAMIC_DRAW),k.enableAttribute(i.position),R.vertexAttribPointer(i.position,3,R.FLOAT,!1,0,0)),e.hasNormals){if(R.bindBuffer(R.ARRAY_BUFFER,r.normal),!n.isMeshPhongMaterial&&!n.isMeshStandardMaterial&&!n.isMeshNormalMaterial&&!0===n.flatShading)for(var o=0,a=3*e.count;o<a;o+=9){var s=e.normalArray,u=(s[o+0]+s[o+3]+s[o+6])/3,c=(s[o+1]+s[o+4]+s[o+7])/3,l=(s[o+2]+s[o+5]+s[o+8])/3;s[o+0]=u,s[o+1]=c,s[o+2]=l,s[o+3]=u,s[o+4]=c,s[o+5]=l,s[o+6]=u,s[o+7]=c,s[o+8]=l}R.bufferData(R.ARRAY_BUFFER,e.normalArray,R.DYNAMIC_DRAW),k.enableAttribute(i.normal),R.vertexAttribPointer(i.normal,3,R.FLOAT,!1,0,0)}e.hasUvs&&n.map&&(R.bindBuffer(R.ARRAY_BUFFER,r.uv),R.bufferData(R.ARRAY_BUFFER,e.uvArray,R.DYNAMIC_DRAW),k.enableAttribute(i.uv),R.vertexAttribPointer(i.uv,2,R.FLOAT,!1,0,0)),e.hasColors&&n.vertexColors!==Bo&&(R.bindBuffer(R.ARRAY_BUFFER,r.color),R.bufferData(R.ARRAY_BUFFER,e.colorArray,R.DYNAMIC_DRAW),k.enableAttribute(i.color),R.vertexAttribPointer(i.color,3,R.FLOAT,!1,0,0)),k.disableUnusedAttributes(),R.drawArrays(R.TRIANGLES,0,e.count),e.count=0},this.renderBufferDirect=function(e,n,r,i,o,a){k.setMaterial(i);var s=m(e,n,i,o),u=r.id+"_"+s.id+"_"+(!0===i.wireframe),c=!1;u!=ue&&(ue=u,c=!0),o.morphTargetInfluences&&(X.update(o,r,i,s),c=!0);var l=r.index,h=r.attributes.position,p=1;!0===i.wireframe&&(l=U.getWireframeAttribute(r),p=2);var f,d=q;null!==l&&(f=B.get(l),(d=J).setIndex(f)),c&&(function(e,t,n,r){if(n&&n.isInstancedBufferGeometry&&null===O.get("ANGLE_instanced_arrays"))console.error("THREE.WebGLRenderer.setupVertexAttributes: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");else{void 0===r&&(r=0),k.initAttributes();var i=n.attributes,o=t.getAttributes(),a=e.defaultAttributeValues;for(var s in o){var u=o[s];if(0<=u){var c=i[s];if(void 0!==c){var l=c.normalized,h=c.itemSize,p=B.get(c);if(void 0===p)continue;var f=p.buffer,d=p.type,m=p.bytesPerElement;if(c.isInterleavedBufferAttribute){var g=c.data,v=g.stride,y=c.offset;g&&g.isInstancedInterleavedBuffer?(k.enableAttributeAndDivisor(u,g.meshPerAttribute),void 0===n.maxInstancedCount&&(n.maxInstancedCount=g.meshPerAttribute*g.count)):k.enableAttribute(u),R.bindBuffer(R.ARRAY_BUFFER,f),R.vertexAttribPointer(u,h,d,l,v*m,(r*v+y)*m)}else c.isInstancedBufferAttribute?(k.enableAttributeAndDivisor(u,c.meshPerAttribute),void 0===n.maxInstancedCount&&(n.maxInstancedCount=c.meshPerAttribute*c.count)):k.enableAttribute(u),R.bindBuffer(R.ARRAY_BUFFER,f),R.vertexAttribPointer(u,h,d,l,0,r*h*m)}else if(void 0!==a){var x=a[s];if(void 0!==x)switch(x.length){case 2:R.vertexAttrib2fv(u,x);break;case 3:R.vertexAttrib3fv(u,x);break;case 4:R.vertexAttrib4fv(u,x);break;default:R.vertexAttrib1fv(u,x)}}}}k.disableUnusedAttributes()}}(i,s,r),null!==l&&R.bindBuffer(R.ELEMENT_ARRAY_BUFFER,f.buffer));var g=0;null===l?void 0!==h&&(g=h.count):g=l.count;var v=r.drawRange.start*p,y=r.drawRange.count*p,x=null===a?0:a.start*p,b=null===a?1/0:a.count*p,w=xo(v,x),_=bo(g,v+y,x+b)-1,E=xo(0,_-w+1);if(0!==E){if(o.isMesh)if(!0===i.wireframe)k.setLineWidth(i.wireframeLinewidth*t()),d.setMode(R.LINES);else switch(o.drawMode){case As:d.setMode(R.TRIANGLES);break;case Ms:d.setMode(R.TRIANGLE_STRIP);break;case Cs:d.setMode(R.TRIANGLE_FAN)}else if(o.isLine){var S=i.linewidth;void 0===S&&(S=1),k.setLineWidth(S*t()),o.isLineSegments?d.setMode(R.LINES):o.isLineLoop?d.setMode(R.LINE_LOOP):d.setMode(R.LINE_STRIP)}else o.isPoints&&d.setMode(R.POINTS);r&&r.isInstancedBufferGeometry?0<r.maxInstancedCount&&d.renderInstances(r,w,E):d.render(w,E)}},this.compile=function(e,t){M.length=0,C.length=0,e.traverse(function(e){e.isLight&&(M.push(e),e.castShadow&&C.push(e))}),j.setup(M,C,t),e.traverse(function(t){if(t.material)if(Array.isArray(t.material))for(var n=0;n<t.material.length;n++)d(t.material[n],e.fog,t);else d(t.material,e.fog,t)})};var Oe=!1,Ie=null;this.animate=function(e){Ie=e,Oe||((Pe.getDevice()||window).requestAnimationFrame(u),Oe=!0)},this.render=function(e,t,n,r){if(t&&t.isCamera){if(!te){ue="",ie=-1,ce=null,!0===e.autoUpdate&&e.updateMatrixWorld(),null===t.parent&&t.updateMatrixWorld(),Pe.enabled&&(t=Pe.getCamera(t)),Te.multiplyMatrices(t.projectionMatrix,t.matrixWorldInverse),we.setFromMatrix(Te),M.length=0,C.length=0,L.length=0,P.length=0,Se=this.localClippingEnabled,Ee=_e.init(this.clippingPlanes,Se,t),(D=H.get(e,t)).init(),function e(t,n,r){if(t.visible){if(t.layers.test(n.layers))if(t.isLight)M.push(t),t.castShadow&&C.push(t);else if(t.isSprite)(!t.frustumCulled||we.intersectsSprite(t))&&L.push(t);else if(t.isLensFlare)P.push(t);else if(t.isImmediateRenderObject)r&&Ae.setFromMatrixPosition(t.matrixWorld).applyMatrix4(Te),D.push(t,null,t.material,Ae.z,null);else if((t.isMesh||t.isLine||t.isPoints)&&(t.isSkinnedMesh&&t.skeleton.update(),!t.frustumCulled||we.intersectsObject(t))){r&&Ae.setFromMatrixPosition(t.matrixWorld).applyMatrix4(Te);var i=z.update(t),o=t.material;if(Array.isArray(o))for(var a=i.groups,s=0,u=a.length;s<u;s++){var c=a[s],l=o[c.materialIndex];l&&l.visible&&D.push(t,i,l,Ae.z,c)}else o.visible&&D.push(t,i,o,Ae.z,null)}var h=t.children;for(s=0,u=h.length;s<u;s++)e(h[s],n,r)}}(e,t,ee.sortObjects),!0===ee.sortObjects&&D.sort(),Ee&&_e.beginShadows(),Re.render(C,e,t),j.setup(M,C,t),Ee&&_e.endShadows(),Ce.frame++,Ce.calls=0,Ce.vertices=0,Ce.faces=0,Ce.points=0,void 0===n&&(n=null),this.setRenderTarget(n),V.render(D,e,t,r);var i=D.opaque,o=D.transparent;if(e.overrideMaterial){var a=e.overrideMaterial;i.length&&c(i,e,t,a),o.length&&c(o,e,t,a)}else i.length&&c(i,e,t),o.length&&c(o,e,t);$.render(L,e,t),K.render(P,e,t,he),n&&F.updateRenderTargetMipmap(n),k.buffers.depth.setTest(!0),k.buffers.depth.setMask(!0),k.buffers.color.setMask(!0),k.setPolygonOffset(!1),Pe.enabled&&Pe.submitFrame()}}else console.error("THREE.WebGLRenderer.render: camera is not an instance of THREE.Camera.")},this.setFaceCulling=function(e,t){k.setCullFace(e),k.setFlipSided(t===Co)},this.allocTextureUnit=function(){var e=de;return e>=I.maxTextures&&console.warn("THREE.WebGLRenderer: Trying to use "+e+" texture units while this GPU supports only "+I.maxTextures),de+=1,e},this.setTexture2D=function(){var e=!1;return function(t,n){t&&t.isWebGLRenderTarget&&(!e&&(console.warn("THREE.WebGLRenderer.setTexture2D: don't use render targets as textures. Use their .texture property instead."),e=!0),t=t.texture),F.setTexture2D(t,n)}}(),this.setTexture=function(){var e=!1;return function(t,n){e||(console.warn("THREE.WebGLRenderer: .setTexture is deprecated, use setTexture2D instead."),e=!0),F.setTexture2D(t,n)}}(),this.setTextureCube=function(){var e=!1;return function(t,n){t&&t.isWebGLRenderTargetCube&&(!e&&(console.warn("THREE.WebGLRenderer.setTextureCube: don't use cube render targets as textures. Use their .texture property instead."),e=!0),t=t.texture),t&&t.isCubeTexture||Array.isArray(t.image)&&6===t.image.length?F.setTextureCube(t,n):F.setTextureCubeDynamic(t,n)}}(),this.getRenderTarget=function(){return ne},this.setRenderTarget=function(e){ne=e,e&&void 0===N.get(e).__webglFramebuffer&&F.setupRenderTarget(e);var t=null,n=!1;if(e){var r=N.get(e).__webglFramebuffer;e.isWebGLRenderTargetCube?(t=r[e.activeCubeFace],n=!0):t=r,he.copy(e.viewport),pe.copy(e.scissor),fe=e.scissorTest}else he.copy(ye).multiplyScalar(ve),pe.copy(xe).multiplyScalar(ve),fe=be;if(re!==t&&(R.bindFramebuffer(R.FRAMEBUFFER,t),re=t),k.viewport(he),k.scissor(pe),k.setScissorTest(fe),n){var i=N.get(e.texture);R.framebufferTexture2D(R.FRAMEBUFFER,R.COLOR_ATTACHMENT0,R.TEXTURE_CUBE_MAP_POSITIVE_X+e.activeCubeFace,i.__webglTexture,e.activeMipMapLevel)}},this.readRenderTargetPixels=function(e,t,n,r,i,o){if(e&&e.isWebGLRenderTarget){var a=N.get(e).__webglFramebuffer;if(a){var s=!1;a!==re&&(R.bindFramebuffer(R.FRAMEBUFFER,a),s=!0);try{var u=e.texture,c=u.format,l=u.type;if(c!==ns&&Q.convert(c)!==R.getParameter(R.IMPLEMENTATION_COLOR_READ_FORMAT))return void console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in RGBA or implementation defined format.");if(!(l===Ga||Q.convert(l)===R.getParameter(R.IMPLEMENTATION_COLOR_READ_TYPE)||l===Ya&&(O.get("OES_texture_float")||O.get("WEBGL_color_buffer_float"))||l===Ja&&O.get("EXT_color_buffer_half_float")))return void console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in UnsignedByteType or implementation defined type.");R.checkFramebufferStatus(R.FRAMEBUFFER)===R.FRAMEBUFFER_COMPLETE?0<=t&&t<=e.width-r&&0<=n&&n<=e.height-i&&R.readPixels(t,n,r,i,Q.convert(c),Q.convert(l),o):console.error("THREE.WebGLRenderer.readRenderTargetPixels: readPixels from renderTarget failed. Framebuffer not complete.")}finally{s&&R.bindFramebuffer(R.FRAMEBUFFER,re)}}}else console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.")}}function xt(e,t){this.name="",this.color=new X(e),this.density=void 0===t?25e-5:t}function bt(e,t,n){this.name="",this.color=new X(e),this.near=void 0===t?1:t,this.far=void 0===n?1e3:n}function wt(){le.call(this),this.type="Scene",this.background=null,this.fog=null,this.overrideMaterial=null,this.autoUpdate=!0}function _t(e,t,n,r,i){le.call(this),this.lensFlares=[],this.positionScreen=new l,this.customUpdateCallback=void 0,void 0!==e&&this.add(e,t,n,r,i)}function Et(e){K.call(this),this.type="SpriteMaterial",this.color=new X(16777215),this.map=null,this.rotation=0,this.fog=!1,this.lights=!1,this.setValues(e)}function St(e){le.call(this),this.type="Sprite",this.material=void 0===e?new Et:e}function Tt(){le.call(this),this.type="LOD",Object.defineProperties(this,{levels:{enumerable:!0,value:[]}})}function At(e,t){if(e=e||[],this.bones=e.slice(0),this.boneMatrices=new Float32Array(16*this.bones.length),void 0===t)this.calculateInverses();else if(this.bones.length===t.length)this.boneInverses=t.slice(0);else{console.warn("THREE.Skeleton boneInverses is the wrong length."),this.boneInverses=[];for(var n=0,r=this.bones.length;n<r;n++)this.boneInverses.push(new h)}}function Mt(){le.call(this),this.type="Bone"}function Ct(e,t){Be.call(this,e,t),this.type="SkinnedMesh",this.bindMode="attached",this.bindMatrix=new h,this.bindMatrixInverse=new h;var n=new At(this.initBones());this.bind(n,this.matrixWorld),this.normalizeSkinWeights()}function Dt(e){K.call(this),this.type="LineBasicMaterial",this.color=new X(16777215),this.linewidth=1,this.linecap="round",this.linejoin="round",this.lights=!1,this.setValues(e)}function Lt(e,t,n){return 1===n?(console.warn("THREE.Line: parameter THREE.LinePieces no longer supported. Created THREE.LineSegments instead."),new Pt(e,t)):(le.call(this),this.type="Line",this.geometry=void 0===e?new De:e,void(this.material=void 0===t?new Dt({color:16777215*Math.random()}):t))}function Pt(e,t){Lt.call(this,e,t),this.type="LineSegments"}function Rt(e,t){Lt.call(this,e,t),this.type="LineLoop"}function Ot(e){K.call(this),this.type="PointsMaterial",this.color=new X(16777215),this.map=null,this.size=1,this.sizeAttenuation=!0,this.lights=!1,this.setValues(e)}function It(e,t){le.call(this),this.type="Points",this.geometry=void 0===e?new De:e,this.material=void 0===t?new Ot({color:16777215*Math.random()}):t}function kt(){le.call(this),this.type="Group"}function Nt(e,t,n,r,i,a,s,u,c){o.call(this,e,t,n,r,i,a,s,u,c),this.generateMipmaps=!1;var l=this;!function t(){requestAnimationFrame(t),e.readyState>=e.HAVE_CURRENT_DATA&&(l.needsUpdate=!0)}()}function Ft(e,t,n,r,i,a,s,u,c,l,h,p){o.call(this,null,a,s,u,c,l,r,i,h,p),this.image={width:t,height:n},this.mipmaps=e,this.flipY=!1,this.generateMipmaps=!1}function Bt(e,t,n,r,i,a,s,u,c,l){if((l=void 0===l?as:l)!==as&&l!==ss)throw new Error("DepthTexture format must be either THREE.DepthFormat or THREE.DepthStencilFormat");void 0===n&&l===as&&(n=Wa),void 0===n&&l===ss&&(n=Qa),o.call(this,null,r,i,a,s,u,l,n,c),this.image={width:e,height:t},this.magFilter=void 0===s?Na:s,this.minFilter=void 0===u?Na:u,this.flipY=!1,this.generateMipmaps=!1}function Ut(e){De.call(this),this.type="WireframeGeometry";var t,n,r,i,o,a,s,u,c,h,p=[],f=[0,0],d={},m=["a","b","c"];if(e&&e.isGeometry){var g=e.faces;for(t=0,r=g.length;t<r;t++){var v=g[t];for(n=0;3>n;n++)s=v[m[n]],u=v[m[(n+1)%3]],f[0]=bo(s,u),f[1]=xo(s,u),void 0===d[c=f[0]+","+f[1]]&&(d[c]={index1:f[0],index2:f[1]})}for(c in d)a=d[c],h=e.vertices[a.index1],p.push(h.x,h.y,h.z),h=e.vertices[a.index2],p.push(h.x,h.y,h.z)}else if(e&&e.isBufferGeometry){var y,x,b,w,_,E,S;if(h=new l,null!==e.index){for(y=e.attributes.position,x=e.index,0===(b=e.groups).length&&(b=[{start:0,count:x.count,materialIndex:0}]),i=0,o=b.length;i<o;++i)for(t=_=(w=b[i]).start,r=_+w.count;t<r;t+=3)for(n=0;3>n;n++)s=x.getX(t+n),u=x.getX(t+(n+1)%3),f[0]=bo(s,u),f[1]=xo(s,u),void 0===d[c=f[0]+","+f[1]]&&(d[c]={index1:f[0],index2:f[1]});for(c in d)a=d[c],h.fromBufferAttribute(y,a.index1),p.push(h.x,h.y,h.z),h.fromBufferAttribute(y,a.index2),p.push(h.x,h.y,h.z)}else for(t=0,r=(y=e.attributes.position).count/3;t<r;t++)for(n=0;3>n;n++)E=3*t+n,h.fromBufferAttribute(y,E),p.push(h.x,h.y,h.z),S=3*t+(n+1)%3,h.fromBufferAttribute(y,S),p.push(h.x,h.y,h.z)}this.addAttribute("position",new Te(p,3))}function zt(e,t,n){ge.call(this),this.type="ParametricGeometry",this.parameters={func:e,slices:t,stacks:n},this.fromBufferGeometry(new jt(e,t,n)),this.mergeVertices()}function jt(e,t,n){De.call(this),this.type="ParametricBufferGeometry",this.parameters={func:e,slices:t,stacks:n};var r,i,o=[],a=[],s=[],u=[],c=1e-5,h=new l,p=new l,f=new l,d=new l,m=new l,g=t+1;for(r=0;r<=n;r++){var v=r/n;for(i=0;i<=t;i++){var y=i/t;p=e(y,v,p),a.push(p.x,p.y,p.z),0<=y-c?(f=e(y-c,v,f),d.subVectors(p,f)):(f=e(y+c,v,f),d.subVectors(f,p)),0<=v-c?(f=e(y,v-c,f),m.subVectors(p,f)):(f=e(y,v+c,f),m.subVectors(f,p)),h.crossVectors(d,m).normalize(),s.push(h.x,h.y,h.z),u.push(y,v)}}for(r=0;r<n;r++)for(i=0;i<t;i++){var x=r*g+i,b=r*g+i+1,w=(r+1)*g+i+1,_=(r+1)*g+i;o.push(x,b,_),o.push(b,w,_)}this.setIndex(o),this.addAttribute("position",new Te(a,3)),this.addAttribute("normal",new Te(s,3)),this.addAttribute("uv",new Te(u,2))}function Gt(e,t,n,r){ge.call(this),this.type="PolyhedronGeometry",this.parameters={vertices:e,indices:t,radius:n,detail:r},this.fromBufferGeometry(new Ht(e,t,n,r)),this.mergeVertices()}function Ht(e,t,n,r){function o(e,t,n,r){var i,o,s=co(2,r),u=[];for(i=0;i<=s;i++){u[i]=[];var c=e.clone().lerp(n,i/s),l=t.clone().lerp(n,i/s),h=s-i;for(o=0;o<=h;o++)u[i][o]=0===o&&i===s?c:c.clone().lerp(l,o/h)}for(i=0;i<s;i++)for(o=0;o<2*(s-i)-1;o++){var p=wo(o/2);0==o%2?(a(u[i][p+1]),a(u[i+1][p]),a(u[i][p])):(a(u[i][p+1]),a(u[i+1][p+1]),a(u[i+1][p]))}}function a(e){p.push(e.x,e.y,e.z)}function s(t,n){var r=3*t;n.x=e[r+0],n.y=e[r+1],n.z=e[r+2]}function u(e,t,n,r){0>r&&1===e.x&&(f[t]=e.x-1),0===n.x&&0===n.z&&(f[t]=r/2/fo+.5)}function c(e){return ao(e.z,-e.x)}function h(e){return ao(-e.y,uo(e.x*e.x+e.z*e.z))}De.call(this),this.type="PolyhedronBufferGeometry",this.parameters={vertices:e,indices:t,radius:n,detail:r},n=n||1;var p=[],f=[];(function(e){for(var n=new l,r=new l,i=new l,a=0;a<t.length;a+=3)s(t[a+0],n),s(t[a+1],r),s(t[a+2],i),o(n,r,i,e)})(r=r||0),function(e){for(var t=new l,n=0;n<p.length;n+=3)t.x=p[n+0],t.y=p[n+1],t.z=p[n+2],t.normalize().multiplyScalar(e),p[n+0]=t.x,p[n+1]=t.y,p[n+2]=t.z}(n),function(){for(var e=new l,t=0;t<p.length;t+=3){e.x=p[t+0],e.y=p[t+1],e.z=p[t+2];var n=c(e)/2/fo+.5,r=h(e)/fo+.5;f.push(n,1-r)}(function(){for(var e=new l,t=new l,n=new l,r=new l,o=new i,a=new i,s=new i,h=0,d=0;h<p.length;h+=9,d+=6){e.set(p[h+0],p[h+1],p[h+2]),t.set(p[h+3],p[h+4],p[h+5]),n.set(p[h+6],p[h+7],p[h+8]),o.set(f[d+0],f[d+1]),a.set(f[d+2],f[d+3]),s.set(f[d+4],f[d+5]),r.copy(e).add(t).add(n).divideScalar(3);var m=c(r);u(o,d+0,e,m),u(a,d+2,t,m),u(s,d+4,n,m)}})(),function(){for(var e=0;e<f.length;e+=6){var t=f[e+0],n=f[e+2],r=f[e+4],i=xo(t,n,r),o=bo(t,n,r);.9<i&&.1>o&&(.2>t&&(f[e+0]+=1),.2>n&&(f[e+2]+=1),.2>r&&(f[e+4]+=1))}}()}(),this.addAttribute("position",new Te(p,3)),this.addAttribute("normal",new Te(p.slice(),3)),this.addAttribute("uv",new Te(f,2)),0===r?this.computeVertexNormals():this.normalizeNormals()}function Vt(e,t){ge.call(this),this.type="TetrahedronGeometry",this.parameters={radius:e,detail:t},this.fromBufferGeometry(new Wt(e,t)),this.mergeVertices()}function Wt(e,t){Ht.call(this,[1,1,1,-1,-1,1,-1,1,-1,1,-1,-1],[2,1,0,0,3,2,1,3,0,2,3,1],e,t),this.type="TetrahedronBufferGeometry",this.parameters={radius:e,detail:t}}function Xt(e,t){ge.call(this),this.type="OctahedronGeometry",this.parameters={radius:e,detail:t},this.fromBufferGeometry(new qt(e,t)),this.mergeVertices()}function qt(e,t){Ht.call(this,[1,0,0,-1,0,0,0,1,0,0,-1,0,0,0,1,0,0,-1],[0,2,4,0,4,3,0,3,5,0,5,2,1,2,5,1,5,3,1,3,4,1,4,2],e,t),this.type="OctahedronBufferGeometry",this.parameters={radius:e,detail:t}}function Yt(e,t){ge.call(this),this.type="IcosahedronGeometry",this.parameters={radius:e,detail:t},this.fromBufferGeometry(new Jt(e,t)),this.mergeVertices()}function Jt(e,t){var n=1.618033988749895;Ht.call(this,[-1,n,0,1,n,0,-1,-n,0,1,-n,0,0,-1,n,0,1,n,0,-1,-n,0,1,-n,n,0,-1,n,0,1,-n,0,-1,-n,0,1],[0,11,5,0,5,1,0,1,7,0,7,10,0,10,11,1,5,9,5,11,4,11,10,2,10,7,6,7,1,8,3,9,4,3,4,2,3,2,6,3,6,8,3,8,9,4,9,5,2,4,11,6,2,10,8,6,7,9,8,1],e,t),this.type="IcosahedronBufferGeometry",this.parameters={radius:e,detail:t}}function Zt(e,t){ge.call(this),this.type="DodecahedronGeometry",this.parameters={radius:e,detail:t},this.fromBufferGeometry(new Kt(e,t)),this.mergeVertices()}function Kt(e,t){var n=1.618033988749895,r=1/n;Ht.call(this,[-1,-1,-1,-1,-1,1,-1,1,-1,-1,1,1,1,-1,-1,1,-1,1,1,1,-1,1,1,1,0,-r,-n,0,-r,n,0,r,-n,0,r,n,-r,-n,0,-r,n,0,r,-n,0,r,n,0,-n,0,-r,n,0,-r,-n,0,r,n,0,r],[3,11,7,3,7,15,3,15,13,7,19,17,7,17,6,7,6,15,17,4,8,17,8,10,17,10,6,8,0,16,8,16,2,8,2,10,0,12,1,0,1,18,0,18,16,6,10,2,6,2,13,6,13,15,2,16,18,2,18,3,2,3,13,18,1,9,18,9,11,18,11,3,4,14,12,4,12,0,4,0,8,11,9,5,11,5,19,11,19,7,19,5,14,19,14,4,19,4,17,1,12,14,1,14,5,1,5,9],e,t),this.type="DodecahedronBufferGeometry",this.parameters={radius:e,detail:t}}function $t(e,t,n,r,i,o){ge.call(this),this.type="TubeGeometry",this.parameters={path:e,tubularSegments:t,radius:n,radialSegments:r,closed:i},void 0!==o&&console.warn("THREE.TubeGeometry: taper has been removed.");var a=new Qt(e,t,n,r,i);this.tangents=a.tangents,this.normals=a.normals,this.binormals=a.binormals,this.fromBufferGeometry(a),this.mergeVertices()}function Qt(e,t,n,r,o){function a(i){var o=e.getPointAt(i/t),a=s.normals[i],u=s.binormals[i];for(c=0;c<=r;c++){var l=c/r*fo*2,f=io(l),g=-oo(l);p.x=g*a.x+f*u.x,p.y=g*a.y+f*u.y,p.z=g*a.z+f*u.z,p.normalize(),m.push(p.x,p.y,p.z),h.x=o.x+n*p.x,h.y=o.y+n*p.y,h.z=o.z+n*p.z,d.push(h.x,h.y,h.z)}}De.call(this),this.type="TubeBufferGeometry",this.parameters={path:e,tubularSegments:t,radius:n,radialSegments:r,closed:o},t=t||64,n=n||1,r=r||8,o=o||!1;var s=e.computeFrenetFrames(t,o);this.tangents=s.tangents,this.normals=s.normals,this.binormals=s.binormals;var u,c,h=new l,p=new l,f=new i,d=[],m=[],g=[],v=[];(function(){for(u=0;u<t;u++)a(u);a(!1===o?t:0),function(){for(u=0;u<=t;u++)for(c=0;c<=r;c++)f.x=u/t,f.y=c/r,g.push(f.x,f.y)}(),function(){for(c=1;c<=t;c++)for(u=1;u<=r;u++){var e=(r+1)*(c-1)+(u-1),n=(r+1)*c+(u-1),i=(r+1)*c+u,o=(r+1)*(c-1)+u;v.push(e,n,o),v.push(n,i,o)}}()})(),this.setIndex(v),this.addAttribute("position",new Te(d,3)),this.addAttribute("normal",new Te(m,3)),this.addAttribute("uv",new Te(g,2))}function en(e,t,n,r,i,o,a){ge.call(this),this.type="TorusKnotGeometry",this.parameters={radius:e,tube:t,tubularSegments:n,radialSegments:r,p:i,q:o},void 0!==a&&console.warn("THREE.TorusKnotGeometry: heightScale has been deprecated. Use .scale( x, y, z ) instead."),this.fromBufferGeometry(new tn(e,t,n,r,i,o)),this.mergeVertices()}function tn(e,t,n,r,i,o){function a(e,t,n,r,i){var o=oo(e),a=io(e),s=n/t*e,u=oo(s);i.x=r*(2+u)*.5*o,i.y=r*(2+u)*a*.5,i.z=r*io(s)*.5}De.call(this),this.type="TorusKnotBufferGeometry",this.parameters={radius:e,tube:t,tubularSegments:n,radialSegments:r,p:i,q:o},e=e||100,t=t||40,n=wo(n)||64,r=wo(r)||8,i=i||2,o=o||3;var s,u,c=[],h=[],p=[],f=[],d=new l,m=new l,g=new l,v=new l,y=new l,x=new l,b=new l;for(s=0;s<=n;++s){var w=s/n*i*fo*2;for(a(w,i,o,e,g),a(w+.01,i,o,e,v),x.subVectors(v,g),b.addVectors(v,g),y.crossVectors(x,b),b.crossVectors(y,x),y.normalize(),b.normalize(),u=0;u<=r;++u){var _=u/r*fo*2,E=-t*oo(_),S=t*io(_);d.x=g.x+(E*b.x+S*y.x),d.y=g.y+(E*b.y+S*y.y),d.z=g.z+(E*b.z+S*y.z),h.push(d.x,d.y,d.z),m.subVectors(d,g).normalize(),p.push(m.x,m.y,m.z),f.push(s/n),f.push(u/r)}}for(u=1;u<=n;u++)for(s=1;s<=r;s++){var T=(r+1)*(u-1)+(s-1),A=(r+1)*u+(s-1),M=(r+1)*u+s,C=(r+1)*(u-1)+s;c.push(T,A,C),c.push(A,M,C)}this.setIndex(c),this.addAttribute("position",new Te(h,3)),this.addAttribute("normal",new Te(p,3)),this.addAttribute("uv",new Te(f,2))}function nn(e,t,n,r,i){ge.call(this),this.type="TorusGeometry",this.parameters={radius:e,tube:t,radialSegments:n,tubularSegments:r,arc:i},this.fromBufferGeometry(new rn(e,t,n,r,i)),this.mergeVertices()}function rn(e,t,n,r,i){De.call(this),this.type="TorusBufferGeometry",this.parameters={radius:e,tube:t,radialSegments:n,tubularSegments:r,arc:i},e=e||100,t=t||40,n=wo(n)||8,r=wo(r)||6,i=i||2*fo;var o,a,s=[],u=[],c=[],h=[],p=new l,f=new l,d=new l;for(o=0;o<=n;o++)for(a=0;a<=r;a++){var m=a/r*i,g=o/n*fo*2;f.x=(e+t*oo(g))*oo(m),f.y=(e+t*oo(g))*io(m),f.z=t*io(g),u.push(f.x,f.y,f.z),p.x=e*oo(m),p.y=e*io(m),d.subVectors(f,p).normalize(),c.push(d.x,d.y,d.z),h.push(a/r),h.push(o/n)}for(o=1;o<=n;o++)for(a=1;a<=r;a++){var v=(r+1)*o+a-1,y=(r+1)*(o-1)+a-1,x=(r+1)*(o-1)+a,b=(r+1)*o+a;s.push(v,y,b),s.push(y,x,b)}this.setIndex(s),this.addAttribute("position",new Te(u,3)),this.addAttribute("normal",new Te(c,3)),this.addAttribute("uv",new Te(h,2))}function on(e,t){ge.call(this),this.type="ExtrudeGeometry",this.parameters={shapes:e,options:t},this.fromBufferGeometry(new an(e,t)),this.mergeVertices()}function an(e,t){void 0===e||(De.call(this),this.type="ExtrudeBufferGeometry",e=Array.isArray(e)?e:[e],this.addShapeList(e,t),this.computeVertexNormals())}function sn(e,t){ge.call(this),this.type="TextGeometry",this.parameters={text:e,parameters:t},this.fromBufferGeometry(new un(e,t)),this.mergeVertices()}function un(e,t){var n=(t=t||{}).font;if(!n||!n.isFont)return console.error("THREE.TextGeometry: font parameter is not an instance of THREE.Font."),new ge;var r=n.generateShapes(e,t.size,t.curveSegments);t.amount=void 0===t.height?50:t.height,void 0===t.bevelThickness&&(t.bevelThickness=10),void 0===t.bevelSize&&(t.bevelSize=8),void 0===t.bevelEnabled&&(t.bevelEnabled=!1),an.call(this,r,t),this.type="TextBufferGeometry"}function cn(e,t,n,r,i,o,a){ge.call(this),this.type="SphereGeometry",this.parameters={radius:e,widthSegments:t,heightSegments:n,phiStart:r,phiLength:i,thetaStart:o,thetaLength:a},this.fromBufferGeometry(new ln(e,t,n,r,i,o,a)),this.mergeVertices()}function ln(e,t,n,r,i,o,a){De.call(this),this.type="SphereBufferGeometry",this.parameters={radius:e,widthSegments:t,heightSegments:n,phiStart:r,phiLength:i,thetaStart:o,thetaLength:a},e=e||50,t=xo(3,wo(t)||8),n=xo(2,wo(n)||6),r=void 0===r?0:r,i=void 0===i?2*fo:i;var s,u,c=(o=void 0===o?0:o)+(a=void 0===a?fo:a),h=0,p=[],f=new l,d=new l,m=[],g=[],v=[],y=[];for(u=0;u<=n;u++){var x=[],b=u/n;for(s=0;s<=t;s++){var w=s/t;f.x=-e*oo(r+w*i)*io(o+b*a),f.y=e*oo(o+b*a),f.z=e*io(r+w*i)*io(o+b*a),g.push(f.x,f.y,f.z),d.set(f.x,f.y,f.z).normalize(),v.push(d.x,d.y,d.z),y.push(w,1-b),x.push(h++)}p.push(x)}for(u=0;u<n;u++)for(s=0;s<t;s++){var _=p[u][s+1],E=p[u][s],S=p[u+1][s],T=p[u+1][s+1];(0!==u||0<o)&&m.push(_,E,T),(u!==n-1||c<fo)&&m.push(E,S,T)}this.setIndex(m),this.addAttribute("position",new Te(g,3)),this.addAttribute("normal",new Te(v,3)),this.addAttribute("uv",new Te(y,2))}function hn(e,t,n,r,i,o){ge.call(this),this.type="RingGeometry",this.parameters={innerRadius:e,outerRadius:t,thetaSegments:n,phiSegments:r,thetaStart:i,thetaLength:o},this.fromBufferGeometry(new pn(e,t,n,r,i,o)),this.mergeVertices()}function pn(e,t,n,r,o,a){De.call(this),this.type="RingBufferGeometry",this.parameters={innerRadius:e,outerRadius:t,thetaSegments:n,phiSegments:r,thetaStart:o,thetaLength:a},e=e||20,t=t||50,o=void 0===o?0:o,a=void 0===a?2*fo:a,n=void 0===n?8:xo(3,n);var s,u,c,h=[],p=[],f=[],d=[],m=e,g=(t-e)/(r=void 0===r?1:xo(1,r)),v=new l,y=new i;for(u=0;u<=r;u++){for(c=0;c<=n;c++)s=o+c/n*a,v.x=m*oo(s),v.y=m*io(s),p.push(v.x,v.y,v.z),f.push(0,0,1),y.x=(v.x/t+1)/2,y.y=(v.y/t+1)/2,d.push(y.x,y.y);m+=g}for(u=0;u<r;u++){var x=u*(n+1);for(c=0;c<n;c++){var b=s=c+x,w=s+n+1,_=s+n+2,E=s+1;h.push(b,w,E),h.push(w,_,E)}}this.setIndex(h),this.addAttribute("position",new Te(p,3)),this.addAttribute("normal",new Te(f,3)),this.addAttribute("uv",new Te(d,2))}function fn(e,t,n,r){ge.call(this),this.type="LatheGeometry",this.parameters={points:e,segments:t,phiStart:n,phiLength:r},this.fromBufferGeometry(new dn(e,t,n,r)),this.mergeVertices()}function dn(e,t,n,r){De.call(this),this.type="LatheBufferGeometry",this.parameters={points:e,segments:t,phiStart:n,phiLength:r},t=wo(t)||12,n=n||0,r=r||2*fo,r=Us.clamp(r,0,2*fo);var o,a,s,u=[],c=[],h=[],p=1/t,f=new l,d=new i;for(a=0;a<=t;a++){var m=n+a*p*r,g=io(m),v=oo(m);for(s=0;s<=e.length-1;s++)f.x=e[s].x*g,f.y=e[s].y,f.z=e[s].x*v,c.push(f.x,f.y,f.z),d.x=a/t,d.y=s/(e.length-1),h.push(d.x,d.y)}for(a=0;a<t;a++)for(s=0;s<e.length-1;s++){var y=o=s+a*e.length,x=o+e.length,b=o+e.length+1,w=o+1;u.push(y,x,w),u.push(x,b,w)}if(this.setIndex(u),this.addAttribute("position",new Te(c,3)),this.addAttribute("uv",new Te(h,2)),this.computeVertexNormals(),r===2*fo){var _=this.attributes.normal.array,E=new l,S=new l,T=new l;for(o=t*e.length*3,a=0,s=0;a<e.length;a++,s+=3)E.x=_[s+0],E.y=_[s+1],E.z=_[s+2],S.x=_[o+s+0],S.y=_[o+s+1],S.z=_[o+s+2],T.addVectors(E,S).normalize(),_[s+0]=_[o+s+0]=T.x,_[s+1]=_[o+s+1]=T.y,_[s+2]=_[o+s+2]=T.z}}function mn(e,t){ge.call(this),this.type="ShapeGeometry","object"==typeof t&&(console.warn("THREE.ShapeGeometry: Options parameter has been removed."),t=t.curveSegments),this.parameters={shapes:e,curveSegments:t},this.fromBufferGeometry(new gn(e,t)),this.mergeVertices()}function gn(e,t){function n(e){var n,s,c,l=i.length/3,h=e.extractPoints(t),p=h.shape,f=h.holes;if(!1===ru.isClockWise(p))for(p=p.reverse(),n=0,s=f.length;n<s;n++)c=f[n],!0===ru.isClockWise(c)&&(f[n]=c.reverse());var d=ru.triangulateShape(p,f);for(n=0,s=f.length;n<s;n++)c=f[n],p=p.concat(c);for(n=0,s=p.length;n<s;n++){var m=p[n];i.push(m.x,m.y,0),o.push(0,0,1),a.push(m.x,m.y)}for(n=0,s=d.length;n<s;n++){var g=d[n],v=g[0]+l,y=g[1]+l,x=g[2]+l;r.push(v,y,x),u+=3}}De.call(this),this.type="ShapeBufferGeometry",this.parameters={shapes:e,curveSegments:t},t=t||12;var r=[],i=[],o=[],a=[],s=0,u=0;if(!1===Array.isArray(e))n(e);else for(var c=0;c<e.length;c++)n(e[c]),this.addGroup(s,u,c),s+=u,u=0;this.setIndex(r),this.addAttribute("position",new Te(i,3)),this.addAttribute("normal",new Te(o,3)),this.addAttribute("uv",new Te(a,2))}function vn(e,t){De.call(this),this.type="EdgesGeometry",this.parameters={thresholdAngle:t},t=void 0===t?1:t;var n,r,i,o,a=[],s=oo(Us.DEG2RAD*t),u=[0,0],c={},l=["a","b","c"];e.isBufferGeometry?(o=new ge).fromBufferGeometry(e):o=e.clone(),o.mergeVertices(),o.computeFaceNormals();for(var h,p=o.vertices,f=o.faces,d=0,m=f.length;d<m;d++){h=f[d];for(var g=0;3>g;g++)n=h[l[g]],r=h[l[(g+1)%3]],u[0]=bo(n,r),u[1]=xo(n,r),void 0===c[i=u[0]+","+u[1]]?c[i]={index1:u[0],index2:u[1],face1:d,face2:void 0}:c[i].face2=d}for(i in c){var v=c[i];if(void 0===v.face2||f[v.face1].normal.dot(f[v.face2].normal)<=s){var y=p[v.index1];a.push(y.x,y.y,y.z),y=p[v.index2],a.push(y.x,y.y,y.z)}}this.addAttribute("position",new Te(a,3))}function yn(e,t,n,r,i,o,a,s){ge.call(this),this.type="CylinderGeometry",this.parameters={radiusTop:e,radiusBottom:t,height:n,radialSegments:r,heightSegments:i,openEnded:o,thetaStart:a,thetaLength:s},this.fromBufferGeometry(new xn(e,t,n,r,i,o,a,s)),this.mergeVertices()}function xn(e,t,n,r,o,a,s,u){function c(n){var o,a,c,v=new i,b=new l,w=0,_=!0===n?e:t,E=!0===n?1:-1;for(a=g,o=1;o<=r;o++)f.push(0,y*E,0),d.push(0,E,0),m.push(.5,.5),g++;for(c=g,o=0;o<=r;o++){var S=o/r*u+s,T=oo(S),A=io(S);b.x=_*A,b.y=y*E,b.z=_*T,f.push(b.x,b.y,b.z),d.push(0,E,0),v.x=.5*T+.5,v.y=.5*A*E+.5,m.push(v.x,v.y),g++}for(o=0;o<r;o++){var M=a+o,C=c+o;!0===n?p.push(C,C+1,M):p.push(C+1,C,M),w+=3}h.addGroup(x,w,!0===n?1:2),x+=w}De.call(this),this.type="CylinderBufferGeometry",this.parameters={radiusTop:e,radiusBottom:t,height:n,radialSegments:r,heightSegments:o,openEnded:a,thetaStart:s,thetaLength:u};var h=this;e=void 0===e?20:e,t=void 0===t?20:t,n=void 0===n?100:n,r=wo(r)||8,o=wo(o)||1,a=void 0!==a&&a,s=void 0===s?0:s,u=void 0===u?2*fo:u;var p=[],f=[],d=[],m=[],g=0,v=[],y=n/2,x=0;(function(){var i,a,c=new l,b=new l,w=0,_=(t-e)/n;for(a=0;a<=o;a++){var E=[],S=a/o,T=S*(t-e)+e;for(i=0;i<=r;i++){var A=i/r,M=A*u+s,C=io(M),D=oo(M);b.x=T*C,b.y=-S*n+y,b.z=T*D,f.push(b.x,b.y,b.z),c.set(C,_,D).normalize(),d.push(c.x,c.y,c.z),m.push(A,1-S),E.push(g++)}v.push(E)}for(i=0;i<r;i++)for(a=0;a<o;a++){var L=v[a][i],P=v[a+1][i],R=v[a+1][i+1],O=v[a][i+1];p.push(L,P,O),p.push(P,R,O),w+=6}h.addGroup(x,w,0),x+=w})(),!1===a&&(0<e&&c(!0),0<t&&c(!1)),this.setIndex(p),this.addAttribute("position",new Te(f,3)),this.addAttribute("normal",new Te(d,3)),this.addAttribute("uv",new Te(m,2))}function bn(e,t,n,r,i,o,a){yn.call(this,0,e,t,n,r,i,o,a),this.type="ConeGeometry",this.parameters={radius:e,height:t,radialSegments:n,heightSegments:r,openEnded:i,thetaStart:o,thetaLength:a}}function wn(e,t,n,r,i,o,a){xn.call(this,0,e,t,n,r,i,o,a),this.type="ConeBufferGeometry",this.parameters={radius:e,height:t,radialSegments:n,heightSegments:r,openEnded:i,thetaStart:o,thetaLength:a}}function _n(e,t,n,r){ge.call(this),this.type="CircleGeometry",this.parameters={radius:e,segments:t,thetaStart:n,thetaLength:r},this.fromBufferGeometry(new En(e,t,n,r)),this.mergeVertices()}function En(e,t,n,r){De.call(this),this.type="CircleBufferGeometry",this.parameters={radius:e,segments:t,thetaStart:n,thetaLength:r},e=e||50,t=void 0===t?8:xo(3,t),n=void 0===n?0:n,r=void 0===r?2*fo:r;var o,a,s=[],u=[],c=[],h=[],p=new l,f=new i;for(u.push(0,0,0),c.push(0,0,1),h.push(.5,.5),a=0,o=3;a<=t;a++,o+=3){var d=n+a/t*r;p.x=e*oo(d),p.y=e*io(d),u.push(p.x,p.y,p.z),c.push(0,0,1),f.x=(u[o]/e+1)/2,f.y=(u[o+1]/e+1)/2,h.push(f.x,f.y)}for(o=1;o<=t;o++)s.push(o,o+1,0);this.setIndex(s),this.addAttribute("position",new Te(u,3)),this.addAttribute("normal",new Te(c,3)),this.addAttribute("uv",new Te(h,2))}function Sn(e){K.call(this),this.type="ShadowMaterial",this.color=new X(0),this.opacity=1,this.lights=!0,this.transparent=!0,this.setValues(e)}function Tn(e){$.call(this,e),this.type="RawShaderMaterial"}function An(e){K.call(this),this.defines={STANDARD:""},this.type="MeshStandardMaterial",this.color=new X(16777215),this.roughness=.5,this.metalness=.5,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new X(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalScale=new i(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.roughnessMap=null,this.metalnessMap=null,this.alphaMap=null,this.envMap=null,this.envMapIntensity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.skinning=!1,this.morphTargets=!1,this.morphNormals=!1,this.setValues(e)}function Mn(e){An.call(this),this.defines={PHYSICAL:""},this.type="MeshPhysicalMaterial",this.reflectivity=.5,this.clearCoat=0,this.clearCoatRoughness=0,this.setValues(e)}function Cn(e){K.call(this),this.type="MeshPhongMaterial",this.color=new X(16777215),this.specular=new X(1118481),this.shininess=30,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new X(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalScale=new i(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=va,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.skinning=!1,this.morphTargets=!1,this.morphNormals=!1,this.setValues(e)}function Dn(e){Cn.call(this),this.defines={TOON:""},this.type="MeshToonMaterial",this.gradientMap=null,this.setValues(e)}function Ln(e){K.call(this),this.type="MeshNormalMaterial",this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalScale=new i(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.lights=!1,this.skinning=!1,this.morphTargets=!1,this.morphNormals=!1,this.setValues(e)}function Pn(e){K.call(this),this.type="MeshLambertMaterial",this.color=new X(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new X(0),this.emissiveIntensity=1,this.emissiveMap=null,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=va,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.skinning=!1,this.morphTargets=!1,this.morphNormals=!1,this.setValues(e)}function Rn(e){Dt.call(this),this.type="LineDashedMaterial",this.scale=1,this.dashSize=3,this.gapSize=1,this.setValues(e)}function On(e,t,n){var r=this,i=!1,o=0,a=0;this.onStart=void 0,this.onLoad=e,this.onProgress=t,this.onError=n,this.itemStart=function(e){a++,0==i&&void 0!==r.onStart&&r.onStart(e,o,a),i=!0},this.itemEnd=function(e){o++,void 0!==r.onProgress&&r.onProgress(e,o,a),o==a&&(i=!1,void 0!==r.onLoad&&r.onLoad())},this.itemError=function(e){void 0!==r.onError&&r.onError(e)}}function In(e){this.manager=void 0===e?su:e}function kn(e){this.manager=void 0===e?su:e,this._parser=null}function Nn(e){this.manager=void 0===e?su:e,this._parser=null}function Fn(e){this.manager=void 0===e?su:e}function Bn(e){this.manager=void 0===e?su:e}function Un(e){this.manager=void 0===e?su:e}function zn(e,t){le.call(this),this.type="Light",this.color=new X(e),this.intensity=void 0===t?1:t,this.receiveShadow=void 0}function jn(e,t,n){zn.call(this,e,n),this.type="HemisphereLight",this.castShadow=void 0,this.position.copy(le.DefaultUp),this.updateMatrix(),this.groundColor=new X(t)}function Gn(e){this.camera=e,this.bias=0,this.radius=1,this.mapSize=new i(512,512),this.map=null,this.matrix=new h}function Hn(){Gn.call(this,new fe(50,1,.5,500))}function Vn(e,t,n,r,i,o){zn.call(this,e,t),this.type="SpotLight",this.position.copy(le.DefaultUp),this.updateMatrix(),this.target=new le,Object.defineProperty(this,"power",{get:function(){return this.intensity*fo},set:function(e){this.intensity=e/fo}}),this.distance=void 0===n?0:n,this.angle=void 0===r?fo/3:r,this.penumbra=void 0===i?0:i,this.decay=void 0===o?1:o,this.shadow=new Hn}function Wn(e,t,n,r){zn.call(this,e,t),this.type="PointLight",Object.defineProperty(this,"power",{get:function(){return 4*this.intensity*fo},set:function(e){this.intensity=e/(4*fo)}}),this.distance=void 0===n?0:n,this.decay=void 0===r?1:r,this.shadow=new Gn(new fe(90,1,.5,500))}function Xn(){Gn.call(this,new pe(-5,5,5,-5,.5,500))}function qn(e,t){zn.call(this,e,t),this.type="DirectionalLight",this.position.copy(le.DefaultUp),this.updateMatrix(),this.target=new le,this.shadow=new Xn}function Yn(e,t){zn.call(this,e,t),this.type="AmbientLight",this.castShadow=void 0}function Jn(e,t,n,r){zn.call(this,e,t),this.type="RectAreaLight",this.position.set(0,1,0),this.updateMatrix(),this.width=void 0===n?10:n,this.height=void 0===r?10:r}function Zn(e,t,n,r){this.parameterPositions=e,this._cachedIndex=0,this.resultBuffer=void 0===r?new t.constructor(n):r,this.sampleValues=t,this.valueSize=n}function Kn(e,t,n,r){Zn.call(this,e,t,n,r),this._weightPrev=-0,this._offsetPrev=-0,this._weightNext=-0,this._offsetNext=-0}function $n(e,t,n,r){Zn.call(this,e,t,n,r)}function Qn(e,t,n,r){Zn.call(this,e,t,n,r)}function er(e,t,n,r){if(void 0===e)throw new Error("track name is undefined");if(void 0===t||0===t.length)throw new Error("no keyframes in track named "+e);this.name=e,this.times=cu.convertArray(t,this.TimeBufferType),this.values=cu.convertArray(n,this.ValueBufferType),this.setInterpolation(r||this.DefaultInterpolation),this.validate(),this.optimize()}function tr(e,t,n,r){er.call(this,e,t,n,r)}function nr(e,t,n,r){Zn.call(this,e,t,n,r)}function rr(e,t,n,r){er.call(this,e,t,n,r)}function ir(e,t,n,r){er.call(this,e,t,n,r)}function or(e,t,n,r){er.call(this,e,t,n,r)}function ar(e,t,n){er.call(this,e,t,n)}function sr(e,t,n,r){er.call(this,e,t,n,r)}function ur(){er.apply(this,arguments)}function cr(e,t,n){this.name=e,this.tracks=n,this.duration=void 0===t?-1:t,this.uuid=Us.generateUUID(),0>this.duration&&this.resetDuration(),this.optimize()}function lr(e){this.manager=void 0===e?su:e,this.textures={}}function hr(e){this.manager=void 0===e?su:e}function pr(){this.onLoadStart=function(){},this.onLoadProgress=function(){},this.onLoadComplete=function(){}}function fr(e){"boolean"==typeof e&&(console.warn("THREE.JSONLoader: showStatus parameter has been removed from constructor."),e=void 0),this.manager=void 0===e?su:e,this.withCredentials=!1}function dr(e){this.manager=void 0===e?su:e,this.texturePath=""}function mr(e,t,n,r,i){var o=.5*(r-t),a=.5*(i-n),s=e*e;return(2*n-2*r+o+a)*(e*s)+(-3*n+3*r-2*o-a)*s+o*e+n}function gr(e,t,n,r){return function(e,t){var n=1-e;return n*n*t}(e,t)+function(e,t){return 2*(1-e)*e*t}(e,n)+function(e,t){return e*e*t}(e,r)}function vr(e,t,n,r,i){return function(e,t){var n=1-e;return n*n*n*t}(e,t)+function(e,t){var n=1-e;return 3*n*n*e*t}(e,n)+function(e,t){return 3*(1-e)*e*e*t}(e,r)+function(e,t){return e*e*e*t}(e,i)}function yr(){this.arcLengthDivisions=200}function xr(e,t){yr.call(this),this.v1=e,this.v2=t}function br(){yr.call(this),this.curves=[],this.autoClose=!1}function wr(e,t,n,r,i,o,a,s){yr.call(this),this.aX=e,this.aY=t,this.xRadius=n,this.yRadius=r,this.aStartAngle=i,this.aEndAngle=o,this.aClockwise=a,this.aRotation=s||0}function _r(e){yr.call(this),this.points=void 0===e?[]:e}function Er(e,t,n,r){yr.call(this),this.v0=e,this.v1=t,this.v2=n,this.v3=r}function Sr(e,t,n){yr.call(this),this.v0=e,this.v1=t,this.v2=n}function Tr(e){br.call(this),this.currentPoint=new i,e&&this.fromPoints(e)}function Ar(){Tr.apply(this,arguments),this.holes=[]}function Mr(){this.subPaths=[],this.currentPath=null}function Cr(e){this.data=e}function Dr(e){this.manager=void 0===e?su:e}function Lr(e){this.manager=void 0===e?su:e}function Pr(){this.type="StereoCamera",this.aspect=1,this.eyeSep=.064,this.cameraL=new fe,this.cameraL.layers.enable(1),this.cameraL.matrixAutoUpdate=!1,this.cameraR=new fe,this.cameraR.layers.enable(2),this.cameraR.matrixAutoUpdate=!1}function Rr(e,t,n){le.call(this),this.type="CubeCamera";var r=90,i=new fe(r,1,e,t);i.up.set(0,-1,0),i.lookAt(new l(1,0,0)),this.add(i);var o=new fe(r,1,e,t);o.up.set(0,-1,0),o.lookAt(new l(-1,0,0)),this.add(o);var a=new fe(r,1,e,t);a.up.set(0,0,1),a.lookAt(new l(0,1,0)),this.add(a);var s=new fe(r,1,e,t);s.up.set(0,0,-1),s.lookAt(new l(0,-1,0)),this.add(s);var c=new fe(r,1,e,t);c.up.set(0,-1,0),c.lookAt(new l(0,0,1)),this.add(c);var h=new fe(r,1,e,t);h.up.set(0,-1,0),h.lookAt(new l(0,0,-1)),this.add(h),this.renderTarget=new u(n,n,{format:ts,magFilter:Ua,minFilter:Ua}),this.renderTarget.texture.name="CubeCamera",this.update=function(e,t){null===this.parent&&this.updateMatrixWorld();var n=this.renderTarget,r=n.texture.generateMipmaps;n.texture.generateMipmaps=!1,n.activeCubeFace=0,e.render(t,i,n),n.activeCubeFace=1,e.render(t,o,n),n.activeCubeFace=2,e.render(t,a,n),n.activeCubeFace=3,e.render(t,s,n),n.activeCubeFace=4,e.render(t,c,n),n.texture.generateMipmaps=r,n.activeCubeFace=5,e.render(t,h,n),e.setRenderTarget(null)},this.clear=function(e,t,n,r){for(var i=this.renderTarget,o=0;6>o;o++)i.activeCubeFace=o,e.setRenderTarget(i),e.clear(t,n,r);e.setRenderTarget(null)}}function Or(){le.call(this),this.type="AudioListener",this.context=yu.getContext(),this.gain=this.context.createGain(),this.gain.connect(this.context.destination),this.filter=null}function Ir(e){le.call(this),this.type="Audio",this.context=e.context,this.gain=this.context.createGain(),this.gain.connect(e.getInput()),this.autoplay=!1,this.buffer=null,this.loop=!1,this.startTime=0,this.playbackRate=1,this.isPlaying=!1,this.hasPlaybackControl=!0,this.sourceType="empty",this.filters=[]}function kr(e){Ir.call(this,e),this.panner=this.context.createPanner(),this.panner.connect(this.gain)}function Nr(e,t){this.analyser=e.context.createAnalyser(),this.analyser.fftSize=void 0===t?2048:t,this.data=new Uint8Array(this.analyser.frequencyBinCount),e.getOutput().connect(this.analyser)}function Fr(e,t,n){this.binding=e,this.valueSize=n;var r,i=Float64Array;"quaternion"===t?r=this._slerp:"string"===t||"bool"===t?(i=Array,r=this._select):r=this._lerp,this.buffer=new i(4*n),this._mixBufferRegion=r,this.cumulativeWeight=0,this.useCount=0,this.referenceCount=0}function Br(e,t,n){var r=n||Ur.parseTrackName(t);this._targetGroup=e,this._bindings=e.subscribe_(t,r)}function Ur(e,t,n){this.path=t,this.parsedPath=n||Ur.parseTrackName(t),this.node=Ur.findNode(e,this.parsedPath.nodeName)||e,this.rootNode=e}function zr(){this.uuid=Us.generateUUID(),this._objects=Array.prototype.slice.call(arguments),this.nCachedObjects_=0;var e={};this._indicesByUUID=e;for(var t=0,n=arguments.length;t!==n;++t)e[arguments[t].uuid]=t;this._paths=[],this._parsedPaths=[],this._bindings=[],this._bindingsIndicesByPath={};var r=this;this.stats={objects:{get total(){return r._objects.length},get inUse(){return this.total-r.nCachedObjects_}},get bindingsPerObject(){return r._bindings.length}}}function jr(e,t,n){this._mixer=e,this._clip=t,this._localRoot=n||null;for(var r,i=t.tracks,o=i.length,a=Array(o),s={endingStart:Es,endingEnd:Es},u=0;u!==o;++u)r=i[u].createInterpolant(null),a[u]=r,r.settings=s;this._interpolantSettings=s,this._interpolants=a,this._propertyBindings=Array(o),this._cacheIndex=null,this._byClipCacheIndex=null,this._timeScaleInterpolant=null,this._weightInterpolant=null,this.loop=ys,this._loopCount=-1,this._startTime=null,this.time=0,this.timeScale=1,this._effectiveTimeScale=1,this.weight=1,this._effectiveWeight=1,this.repetitions=1/0,this.paused=!1,this.enabled=!0,this.clampWhenFinished=!1,this.zeroSlopeAtStart=!0,this.zeroSlopeAtEnd=!0}function Gr(e){this._root=e,this._initMemoryManager(),this._accuIndex=0,this.time=0,this.timeScale=1}function Hr(e){"string"==typeof e&&(console.warn("THREE.Uniform: Type parameter is no longer needed."),e=arguments[1]),this.value=e}function Vr(){De.call(this),this.type="InstancedBufferGeometry",this.maxInstancedCount=void 0}function Wr(e,t,n,r){this.uuid=Us.generateUUID(),this.data=e,this.itemSize=t,this.offset=n,this.normalized=!0===r}function Xr(e,t){this.uuid=Us.generateUUID(),this.array=e,this.stride=t,this.count=void 0===e?0:e.length/t,this.dynamic=!1,this.updateRange={offset:0,count:-1},this.onUploadCallback=function(){},this.version=0}function qr(e,t,n){Xr.call(this,e,t),this.meshPerAttribute=n||1}function Yr(e,t,n){ve.call(this,e,t),this.meshPerAttribute=n||1}function Jr(e,t,n,r){this.ray=new ke(e,t),this.near=n||0,this.far=r||1/0,this.params={Mesh:{},Line:{},LOD:{},Points:{threshold:1},Sprite:{}},Object.defineProperties(this.params,{PointCloud:{get:function(){return console.warn("THREE.Raycaster: params.PointCloud has been renamed to params.Points."),this.Points}}})}function Zr(e,t){return e.distance-t.distance}function Kr(e,t,n,r){if(!1!==e.visible&&(e.raycast(t,n),!0===r))for(var i=e.children,o=0,a=i.length;o<a;o++)Kr(i[o],t,n,!0)}function $r(e){this.autoStart=void 0===e||e,this.startTime=0,this.oldTime=0,this.elapsedTime=0,this.running=!1}function Qr(e,t,n){return this.radius=void 0===e?1:e,this.phi=void 0===t?0:t,this.theta=void 0===n?0:n,this}function ei(e,t,n){return this.radius=void 0===e?1:e,this.theta=void 0===t?0:t,this.y=void 0===n?0:n,this}function ti(e){le.call(this),this.material=e,this.render=function(){}}function ni(e,t,n,r){this.object=e,this.size=void 0===t?1:t;var i=void 0===n?16711680:n,o=void 0===r?1:r,a=0,s=this.object.geometry;s&&s.isGeometry?a=3*s.faces.length:s&&s.isBufferGeometry&&(a=s.attributes.normal.count);var u=new De,c=new Te(2*a*3,3);u.addAttribute("position",c),Pt.call(this,u,new Dt({color:i,linewidth:o})),this.matrixAutoUpdate=!1,this.update()}function ri(e,t){le.call(this),this.light=e,this.light.updateMatrixWorld(),this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=t;for(var n=new De,r=[0,0,0,0,0,1,0,0,0,1,0,1,0,0,0,-1,0,1,0,0,0,0,1,1,0,0,0,0,-1,1],i=0,o=1;i<32;i++,o++){var a=i/32*fo*2,s=o/32*fo*2;r.push(oo(a),io(a),1,oo(s),io(s),1)}n.addAttribute("position",new Te(r,3));var u=new Dt({fog:!1});this.cone=new Pt(n,u),this.add(this.cone),this.update()}function ii(e){for(var t,n=function e(t){var n=[];t&&t.isBone&&n.push(t);for(var r=0;r<t.children.length;r++)n.push.apply(n,e(t.children[r]));return n}(e),r=new De,i=[],o=[],a=new X(0,0,1),s=new X(0,1,0),u=0;u<n.length;u++)(t=n[u]).parent&&t.parent.isBone&&(i.push(0,0,0),i.push(0,0,0),o.push(a.r,a.g,a.b),o.push(s.r,s.g,s.b));r.addAttribute("position",new Te(i,3)),r.addAttribute("color",new Te(o,3));var c=new Dt({vertexColors:zo,depthTest:!1,depthWrite:!1,transparent:!0});Pt.call(this,r,c),this.root=e,this.bones=n,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.onBeforeRender()}function oi(e,t,n){this.light=e,this.light.updateMatrixWorld(),this.color=n;var r=new ln(t,4,2),i=new Ie({wireframe:!0,fog:!1});Be.call(this,r,i),this.matrix=this.light.matrixWorld,this.matrixAutoUpdate=!1,this.update()}function ai(e,t){le.call(this),this.light=e,this.light.updateMatrixWorld(),this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=t;var n=new Dt({fog:!1}),r=new De;r.addAttribute("position",new ve(new Float32Array(15),3)),this.line=new Lt(r,n),this.add(this.line),this.update()}function si(e,t,n){le.call(this),this.light=e,this.light.updateMatrixWorld(),this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=n;var r=new qt(t);r.rotateY(.5*fo),this.material=new Ie({wireframe:!0,fog:!1}),void 0===this.color&&(this.material.vertexColors=zo);var i=r.getAttribute("position"),o=new Float32Array(3*i.count);r.addAttribute("color",new ve(o,3)),this.add(new Be(r,this.material)),this.update()}function ui(e,t,n,r){e=e||10,t=t||10,n=new X(void 0===n?4473924:n),r=new X(void 0===r?8947848:r);for(var i=t/2,o=e/t,a=e/2,s=[],u=[],c=0,l=0,h=-a;c<=t;c++,h+=o){s.push(-a,0,h,a,0,h),s.push(h,0,-a,h,0,a);var p=c===i?n:r;p.toArray(u,l),l+=3,p.toArray(u,l),l+=3,p.toArray(u,l),l+=3,p.toArray(u,l),l+=3}var f=new De;f.addAttribute("position",new Te(s,3)),f.addAttribute("color",new Te(u,3));var d=new Dt({vertexColors:zo});Pt.call(this,f,d)}function ci(e,t,n,r,i,o){e=e||10,t=t||16,n=n||8,r=r||64,i=new X(void 0===i?4473924:i),o=new X(void 0===o?8947848:o);var a,s,u,c,l,h,p,f=[],d=[];for(c=0;c<=t;c++)a=io(u=c/t*(2*fo))*e,s=oo(u)*e,f.push(0,0,0),f.push(a,0,s),p=1&c?i:o,d.push(p.r,p.g,p.b),d.push(p.r,p.g,p.b);for(c=0;c<=n;c++)for(p=1&c?i:o,h=e-e/n*c,l=0;l<r;l++)a=io(u=l/r*(2*fo))*h,s=oo(u)*h,f.push(a,0,s),d.push(p.r,p.g,p.b),a=io(u=(l+1)/r*(2*fo))*h,s=oo(u)*h,f.push(a,0,s),d.push(p.r,p.g,p.b);var m=new De;m.addAttribute("position",new Te(f,3)),m.addAttribute("color",new Te(d,3));var g=new Dt({vertexColors:zo});Pt.call(this,m,g)}function li(e,t,n,r){this.object=e,this.size=void 0===t?1:t;var i=void 0===n?16776960:n,o=void 0===r?1:r,a=0,s=this.object.geometry;s&&s.isGeometry?a=s.faces.length:console.warn("THREE.FaceNormalsHelper: only THREE.Geometry is supported. Use THREE.VertexNormalsHelper, instead.");var u=new De,c=new Te(2*a*3,3);u.addAttribute("position",c),Pt.call(this,u,new Dt({color:i,linewidth:o})),this.matrixAutoUpdate=!1,this.update()}function hi(e,t,n){le.call(this),this.light=e,this.light.updateMatrixWorld(),this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=n,void 0===t&&(t=1);var r=new De;r.addAttribute("position",new Te([-t,t,0,t,t,0,t,-t,0,-t,-t,0,-t,t,0],3));var i=new Dt({fog:!1});this.lightPlane=new Lt(r,i),this.add(this.lightPlane),(r=new De).addAttribute("position",new Te([0,0,0,0,0,1],3)),this.targetLine=new Lt(r,i),this.add(this.targetLine),this.update()}function pi(e){function t(e,t,r){n(e,r),n(t,r)}function n(e,t){o.push(0,0,0),a.push(t.r,t.g,t.b),void 0===s[e]&&(s[e]=[]),s[e].push(o.length/3-1)}var r=new De,i=new Dt({color:16777215,vertexColors:Uo}),o=[],a=[],s={},u=new X(16755200),c=new X(16711680),l=new X(43775),h=new X(16777215),p=new X(3355443);t("n1","n2",u),t("n2","n4",u),t("n4","n3",u),t("n3","n1",u),t("f1","f2",u),t("f2","f4",u),t("f4","f3",u),t("f3","f1",u),t("n1","f1",u),t("n2","f2",u),t("n3","f3",u),t("n4","f4",u),t("p","n1",c),t("p","n2",c),t("p","n3",c),t("p","n4",c),t("u1","u2",l),t("u2","u3",l),t("u3","u1",l),t("c","t",h),t("p","c",p),t("cn1","cn2",p),t("cn3","cn4",p),t("cf1","cf2",p),t("cf3","cf4",p),r.addAttribute("position",new Te(o,3)),r.addAttribute("color",new Te(a,3)),Pt.call(this,r,i),this.camera=e,this.camera.updateProjectionMatrix&&this.camera.updateProjectionMatrix(),this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.pointMap=s,this.update()}function fi(e,t){this.object=e,void 0===t&&(t=16776960);var n=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),r=new Float32Array(24),i=new De;i.setIndex(new ve(n,1)),i.addAttribute("position",new ve(r,3)),Pt.call(this,i,new Dt({color:t})),this.matrixAutoUpdate=!1,this.update()}function di(e,t){this.type="Box3Helper",this.box=e;var n=void 0===t?16776960:t,r=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),i=new De;i.setIndex(new ve(r,1)),i.addAttribute("position",new Te([1,1,1,-1,1,1,-1,-1,1,1,-1,1,1,1,-1,-1,1,-1,-1,-1,-1,1,-1,-1],3)),Pt.call(this,i,new Dt({color:n})),this.geometry.computeBoundingSphere(),this.onBeforeRender()}function mi(e,t,n){this.type="PlaneHelper",this.plane=e,this.size=void 0===t?1:t;var r=void 0===n?16776960:n,i=new De;i.addAttribute("position",new Te([1,-1,1,-1,1,1,-1,-1,1,1,1,1,-1,1,1,-1,-1,1,1,-1,1,1,1,1,0,0,1,0,0,0],3)),i.computeBoundingSphere(),Lt.call(this,i,new Dt({color:r}));var o=new De;o.addAttribute("position",new Te([1,1,1,-1,1,1,-1,-1,1,1,1,1,-1,-1,1,1,-1,1],3)),o.computeBoundingSphere(),this.add(new Be(o,new Ie({color:r,opacity:.2,transparent:!0,depthWrite:!1}))),this.onBeforeRender()}function gi(e,t,n,r,i,o){le.call(this),void 0===r&&(r=16776960),void 0===n&&(n=1),void 0===i&&(i=.2*n),void 0===o&&(o=.2*i),void 0===gu&&((gu=new De).addAttribute("position",new Te([0,0,0,0,1,0],3)),(vu=new xn(0,.5,1,5,1)).translate(0,-.5,0)),this.position.copy(t),this.line=new Lt(gu,new Dt({color:r})),this.line.matrixAutoUpdate=!1,this.add(this.line),this.cone=new Be(vu,new Ie({color:r})),this.cone.matrixAutoUpdate=!1,this.add(this.cone),this.setDirection(e),this.setLength(n,i,o)}function vi(e){var t=[0,0,0,e=e||1,0,0,0,0,0,0,e,0,0,0,0,0,0,e],n=new De;n.addAttribute("position",new Te(t,3)),n.addAttribute("color",new Te([1,0,0,1,.6,0,0,1,0,.6,1,0,0,0,1,0,.6,1],3));var r=new Dt({vertexColors:zo});Pt.call(this,n,r)}function yi(){function e(e,o,a,s){t=e,n=a,r=-3*e+3*o-2*a-s,i=2*e-2*o+a+s}var t=0,n=0,r=0,i=0;return{initCatmullRom:function(t,n,r,i,o){e(n,r,o*(r-t),o*(i-n))},initNonuniformCatmullRom:function(t,n,r,i,o,a,s){var u=(n-t)/o-(r-t)/(o+a)+(r-n)/a,c=(r-n)/a-(i-n)/(a+s)+(i-r)/s;e(n,r,u*=a,c*=a)},calc:function(e){var o=e*e;return t+n*e+r*o+i*(o*e)}}}function xi(e){yr.call(this),2>e.length&&console.warn("THREE.CatmullRomCurve3: Points array needs at least two entries."),this.points=e||[],this.closed=!1}function bi(e,t,n,r){yr.call(this),this.v0=e,this.v1=t,this.v2=n,this.v3=r}function wi(e,t,n){yr.call(this),this.v0=e,this.v1=t,this.v2=n}function _i(e,t){yr.call(this),this.v1=e,this.v2=t}function Ei(e,t,n,r,i,o){wr.call(this,e,t,n,n,r,i,o)}function Si(e,t,n,r,i,o,a){return console.warn("THREE.Face4 has been removed. A THREE.Face3 will be created instead."),new de(e,t,n,i,o,a)}function Ti(e){return console.warn("THREE.MeshFaceMaterial has been removed. Use an Array instead."),e}function Ai(e){return void 0===e&&(e=[]),console.warn("THREE.MultiMaterial has been removed. Use an Array instead."),e.isMultiMaterial=!0,e.materials=e,e.clone=function(){return e.slice()},e}function Mi(e,t){return console.warn("THREE.PointCloud has been renamed to THREE.Points."),new It(e,t)}function Ci(e){return console.warn("THREE.Particle has been renamed to THREE.Sprite."),new St(e)}function Di(e,t){return console.warn("THREE.ParticleSystem has been renamed to THREE.Points."),new It(e,t)}function Li(e){return console.warn("THREE.PointCloudMaterial has been renamed to THREE.PointsMaterial."),new Ot(e)}function Pi(e){return console.warn("THREE.ParticleBasicMaterial has been renamed to THREE.PointsMaterial."),new Ot(e)}function Ri(e){return console.warn("THREE.ParticleSystemMaterial has been renamed to THREE.PointsMaterial."),new Ot(e)}function Oi(e,t,n){return console.warn("THREE.Vertex has been removed. Use THREE.Vector3 instead."),new l(e,t,n)}function Ii(e,t){return console.warn("THREE.DynamicBufferAttribute has been removed. Use new THREE.BufferAttribute().setDynamic( true ) instead."),new ve(e,t).setDynamic(!0)}function ki(e,t){return console.warn("THREE.Int8Attribute has been removed. Use new THREE.Int8BufferAttribute() instead."),new ye(e,t)}function Ni(e,t){return console.warn("THREE.Uint8Attribute has been removed. Use new THREE.Uint8BufferAttribute() instead."),new xe(e,t)}function Fi(e,t){return console.warn("THREE.Uint8ClampedAttribute has been removed. Use new THREE.Uint8ClampedBufferAttribute() instead."),new be(e,t)}function Bi(e,t){return console.warn("THREE.Int16Attribute has been removed. Use new THREE.Int16BufferAttribute() instead."),new we(e,t)}function Ui(e,t){return console.warn("THREE.Uint16Attribute has been removed. Use new THREE.Uint16BufferAttribute() instead."),new _e(e,t)}function zi(e,t){return console.warn("THREE.Int32Attribute has been removed. Use new THREE.Int32BufferAttribute() instead."),new Ee(e,t)}function ji(e,t){return console.warn("THREE.Uint32Attribute has been removed. Use new THREE.Uint32BufferAttribute() instead."),new Se(e,t)}function Gi(e,t){return console.warn("THREE.Float32Attribute has been removed. Use new THREE.Float32BufferAttribute() instead."),new Te(e,t)}function Hi(e,t){return console.warn("THREE.Float64Attribute has been removed. Use new THREE.Float64BufferAttribute() instead."),new Ae(e,t)}function Vi(e){console.warn("THREE.ClosedSplineCurve3 has been deprecated. Use THREE.CatmullRomCurve3 instead."),xi.call(this,e),this.type="catmullrom",this.closed=!0}function Wi(e){console.warn("THREE.SplineCurve3 has been deprecated. Use THREE.CatmullRomCurve3 instead."),xi.call(this,e),this.type="catmullrom"}function Xi(e){console.warn("THREE.Spline has been removed. Use THREE.CatmullRomCurve3 instead."),xi.call(this,e),this.type="catmullrom"}function qi(e,t){return console.warn("THREE.BoundingBoxHelper has been deprecated. Creating a THREE.BoxHelper instead."),new fi(e,t)}function Yi(e,t){return console.warn("THREE.EdgesHelper has been removed. Use THREE.EdgesGeometry instead."),new Pt(new vn(e.geometry),new Dt({color:void 0===t?16777215:t}))}function Ji(e,t){return console.warn("THREE.WireframeHelper has been removed. Use THREE.WireframeGeometry instead."),new Pt(new Ut(e.geometry),new Dt({color:void 0===t?16777215:t}))}function Zi(e){return console.warn("THREE.XHRLoader has been renamed to THREE.FileLoader."),new In(e)}function Ki(e){return console.warn("THREE.BinaryTextureLoader has been renamed to THREE.DataTextureLoader."),new Nn(e)}function $i(){console.error("THREE.Projector has been moved to /examples/js/renderers/Projector.js."),this.projectVector=function(e,t){console.warn("THREE.Projector: .projectVector() is now vector.project()."),e.project(t)},this.unprojectVector=function(e,t){console.warn("THREE.Projector: .unprojectVector() is now vector.unproject()."),e.unproject(t)},this.pickingRay=function(){console.error("THREE.Projector: .pickingRay() is now raycaster.setFromCamera().")}}function Qi(){console.error("THREE.CanvasRenderer has been moved to /examples/js/renderers/CanvasRenderer.js"),this.domElement=document.createElementNS("http://www.w3.org/1999/xhtml","canvas"),this.clear=function(){},this.render=function(){},this.setClearColor=function(){},this.setSize=function(){}}var eo=Math.tan,to=Math.atan,no=Math.asin,ro=Math.acos,io=Math.sin,oo=Math.cos,ao=Math.atan2,so=Math.abs,uo=Math.sqrt,co=Math.pow,lo=Math.round,ho=Math.LN2,po=Math.log,fo=Math.PI,mo=Math.sign,go=Number.isInteger,vo=Number.EPSILON,yo=Math.ceil,xo=Math.max,bo=Math.min,wo=Math.floor;n.r(t),n.d(t,"WebGLRenderTargetCube",function(){return u}),n.d(t,"WebGLRenderTarget",function(){return s}),n.d(t,"WebGLRenderer",function(){return yt}),n.d(t,"ShaderLib",function(){return $s}),n.d(t,"UniformsLib",function(){return Js}),n.d(t,"UniformsUtils",function(){return Zs}),n.d(t,"ShaderChunk",function(){return Ks}),n.d(t,"FogExp2",function(){return xt}),n.d(t,"Fog",function(){return bt}),n.d(t,"Scene",function(){return wt}),n.d(t,"LensFlare",function(){return _t}),n.d(t,"Sprite",function(){return St}),n.d(t,"LOD",function(){return Tt}),n.d(t,"SkinnedMesh",function(){return Ct}),n.d(t,"Skeleton",function(){return At}),n.d(t,"Bone",function(){return Mt}),n.d(t,"Mesh",function(){return Be}),n.d(t,"LineSegments",function(){return Pt}),n.d(t,"LineLoop",function(){return Rt}),n.d(t,"Line",function(){return Lt}),n.d(t,"Points",function(){return It}),n.d(t,"Group",function(){return kt}),n.d(t,"VideoTexture",function(){return Nt}),n.d(t,"DataTexture",function(){return p}),n.d(t,"CompressedTexture",function(){return Ft}),n.d(t,"CubeTexture",function(){return f}),n.d(t,"CanvasTexture",function(){return J}),n.d(t,"DepthTexture",function(){return Bt}),n.d(t,"Texture",function(){return o}),n.d(t,"CompressedTextureLoader",function(){return kn}),n.d(t,"DataTextureLoader",function(){return Nn}),n.d(t,"CubeTextureLoader",function(){return Bn}),n.d(t,"TextureLoader",function(){return Un}),n.d(t,"ObjectLoader",function(){return dr}),n.d(t,"MaterialLoader",function(){return lr}),n.d(t,"BufferGeometryLoader",function(){return hr}),n.d(t,"DefaultLoadingManager",function(){return su}),n.d(t,"LoadingManager",function(){return On}),n.d(t,"JSONLoader",function(){return fr}),n.d(t,"ImageLoader",function(){return Fn}),n.d(t,"FontLoader",function(){return Dr}),n.d(t,"FileLoader",function(){return In}),n.d(t,"Loader",function(){return pr}),n.d(t,"Cache",function(){return au}),n.d(t,"AudioLoader",function(){return Lr}),n.d(t,"SpotLightShadow",function(){return Hn}),n.d(t,"SpotLight",function(){return Vn}),n.d(t,"PointLight",function(){return Wn}),n.d(t,"RectAreaLight",function(){return Jn}),n.d(t,"HemisphereLight",function(){return jn}),n.d(t,"DirectionalLightShadow",function(){return Xn}),n.d(t,"DirectionalLight",function(){return qn}),n.d(t,"AmbientLight",function(){return Yn}),n.d(t,"LightShadow",function(){return Gn}),n.d(t,"Light",function(){return zn}),n.d(t,"StereoCamera",function(){return Pr}),n.d(t,"PerspectiveCamera",function(){return fe}),n.d(t,"OrthographicCamera",function(){return pe}),n.d(t,"CubeCamera",function(){return Rr}),n.d(t,"ArrayCamera",function(){return ft}),n.d(t,"Camera",function(){return he}),n.d(t,"AudioListener",function(){return Or}),n.d(t,"PositionalAudio",function(){return kr}),n.d(t,"AudioContext",function(){return yu}),n.d(t,"AudioAnalyser",function(){return Nr}),n.d(t,"Audio",function(){return Ir}),n.d(t,"VectorKeyframeTrack",function(){return tr}),n.d(t,"StringKeyframeTrack",function(){return or}),n.d(t,"QuaternionKeyframeTrack",function(){return rr}),n.d(t,"NumberKeyframeTrack",function(){return ir}),n.d(t,"ColorKeyframeTrack",function(){return sr}),n.d(t,"BooleanKeyframeTrack",function(){return ar}),n.d(t,"PropertyMixer",function(){return Fr}),n.d(t,"PropertyBinding",function(){return Ur}),n.d(t,"KeyframeTrack",function(){return ur}),n.d(t,"AnimationUtils",function(){return cu}),n.d(t,"AnimationObjectGroup",function(){return zr}),n.d(t,"AnimationMixer",function(){return Gr}),n.d(t,"AnimationClip",function(){return cr}),n.d(t,"Uniform",function(){return Hr}),n.d(t,"InstancedBufferGeometry",function(){return Vr}),n.d(t,"BufferGeometry",function(){return De}),n.d(t,"GeometryIdCount",function(){return me}),n.d(t,"Geometry",function(){return ge}),n.d(t,"InterleavedBufferAttribute",function(){return Wr}),n.d(t,"InstancedInterleavedBuffer",function(){return qr}),n.d(t,"InterleavedBuffer",function(){return Xr}),n.d(t,"InstancedBufferAttribute",function(){return Yr}),n.d(t,"Face3",function(){return de}),n.d(t,"Object3D",function(){return le}),n.d(t,"Raycaster",function(){return Jr}),n.d(t,"Layers",function(){return ce}),n.d(t,"EventDispatcher",function(){return r}),n.d(t,"Clock",function(){return $r}),n.d(t,"QuaternionLinearInterpolant",function(){return nr}),n.d(t,"LinearInterpolant",function(){return $n}),n.d(t,"DiscreteInterpolant",function(){return Qn}),n.d(t,"CubicInterpolant",function(){return Kn}),n.d(t,"Interpolant",function(){return Zn}),n.d(t,"Triangle",function(){return Fe}),n.d(t,"Math",function(){return Us}),n.d(t,"Spherical",function(){return Qr}),n.d(t,"Cylindrical",function(){return ei}),n.d(t,"Plane",function(){return ie}),n.d(t,"Frustum",function(){return oe}),n.d(t,"Sphere",function(){return ne}),n.d(t,"Ray",function(){return ke}),n.d(t,"Matrix4",function(){return h}),n.d(t,"Matrix3",function(){return re}),n.d(t,"Box3",function(){return te}),n.d(t,"Box2",function(){return q}),n.d(t,"Line3",function(){return Ne}),n.d(t,"Euler",function(){return ue}),n.d(t,"Vector4",function(){return a}),n.d(t,"Vector3",function(){return l}),n.d(t,"Vector2",function(){return i}),n.d(t,"Quaternion",function(){return c}),n.d(t,"Color",function(){return X}),n.d(t,"ImmediateRenderObject",function(){return ti}),n.d(t,"VertexNormalsHelper",function(){return ni}),n.d(t,"SpotLightHelper",function(){return ri}),n.d(t,"SkeletonHelper",function(){return ii}),n.d(t,"PointLightHelper",function(){return oi}),n.d(t,"RectAreaLightHelper",function(){return ai}),n.d(t,"HemisphereLightHelper",function(){return si}),n.d(t,"GridHelper",function(){return ui}),n.d(t,"PolarGridHelper",function(){return ci}),n.d(t,"FaceNormalsHelper",function(){return li}),n.d(t,"DirectionalLightHelper",function(){return hi}),n.d(t,"CameraHelper",function(){return pi}),n.d(t,"BoxHelper",function(){return fi}),n.d(t,"Box3Helper",function(){return di}),n.d(t,"PlaneHelper",function(){return mi}),n.d(t,"ArrowHelper",function(){return gi}),n.d(t,"AxisHelper",function(){return vi}),n.d(t,"CatmullRomCurve3",function(){return xi}),n.d(t,"CubicBezierCurve3",function(){return bi}),n.d(t,"QuadraticBezierCurve3",function(){return wi}),n.d(t,"LineCurve3",function(){return _i}),n.d(t,"ArcCurve",function(){return Ei}),n.d(t,"EllipseCurve",function(){return wr}),n.d(t,"SplineCurve",function(){return _r}),n.d(t,"CubicBezierCurve",function(){return Er}),n.d(t,"QuadraticBezierCurve",function(){return Sr}),n.d(t,"LineCurve",function(){return xr}),n.d(t,"Shape",function(){return Ar}),n.d(t,"Path",function(){return Tr}),n.d(t,"ShapePath",function(){return Mr}),n.d(t,"Font",function(){return Cr}),n.d(t,"CurvePath",function(){return br}),n.d(t,"Curve",function(){return yr}),n.d(t,"ShapeUtils",function(){return ru}),n.d(t,"SceneUtils",function(){return Eu}),n.d(t,"WebGLUtils",function(){return vt}),n.d(t,"WireframeGeometry",function(){return Ut}),n.d(t,"ParametricGeometry",function(){return zt}),n.d(t,"ParametricBufferGeometry",function(){return jt}),n.d(t,"TetrahedronGeometry",function(){return Vt}),n.d(t,"TetrahedronBufferGeometry",function(){return Wt}),n.d(t,"OctahedronGeometry",function(){return Xt}),n.d(t,"OctahedronBufferGeometry",function(){return qt}),n.d(t,"IcosahedronGeometry",function(){return Yt}),n.d(t,"IcosahedronBufferGeometry",function(){return Jt}),n.d(t,"DodecahedronGeometry",function(){return Zt}),n.d(t,"DodecahedronBufferGeometry",function(){return Kt}),n.d(t,"PolyhedronGeometry",function(){return Gt}),n.d(t,"PolyhedronBufferGeometry",function(){return Ht}),n.d(t,"TubeGeometry",function(){return $t}),n.d(t,"TubeBufferGeometry",function(){return Qt}),n.d(t,"TorusKnotGeometry",function(){return en}),n.d(t,"TorusKnotBufferGeometry",function(){return tn}),n.d(t,"TorusGeometry",function(){return nn}),n.d(t,"TorusBufferGeometry",function(){return rn}),n.d(t,"TextGeometry",function(){return sn}),n.d(t,"TextBufferGeometry",function(){return un}),n.d(t,"SphereGeometry",function(){return cn}),n.d(t,"SphereBufferGeometry",function(){return ln}),n.d(t,"RingGeometry",function(){return hn}),n.d(t,"RingBufferGeometry",function(){return pn}),n.d(t,"PlaneGeometry",function(){return Re}),n.d(t,"PlaneBufferGeometry",function(){return Oe}),n.d(t,"LatheGeometry",function(){return fn}),n.d(t,"LatheBufferGeometry",function(){return dn}),n.d(t,"ShapeGeometry",function(){return mn}),n.d(t,"ShapeBufferGeometry",function(){return gn}),n.d(t,"ExtrudeGeometry",function(){return on}),n.d(t,"ExtrudeBufferGeometry",function(){return an}),n.d(t,"EdgesGeometry",function(){return vn}),n.d(t,"ConeGeometry",function(){return bn}),n.d(t,"ConeBufferGeometry",function(){return wn}),n.d(t,"CylinderGeometry",function(){return yn}),n.d(t,"CylinderBufferGeometry",function(){return xn}),n.d(t,"CircleGeometry",function(){return _n}),n.d(t,"CircleBufferGeometry",function(){return En}),n.d(t,"BoxGeometry",function(){return Le}),n.d(t,"BoxBufferGeometry",function(){return Pe}),n.d(t,"ShadowMaterial",function(){return Sn}),n.d(t,"SpriteMaterial",function(){return Et}),n.d(t,"RawShaderMaterial",function(){return Tn}),n.d(t,"ShaderMaterial",function(){return $}),n.d(t,"PointsMaterial",function(){return Ot}),n.d(t,"MeshPhysicalMaterial",function(){return Mn}),n.d(t,"MeshStandardMaterial",function(){return An}),n.d(t,"MeshPhongMaterial",function(){return Cn}),n.d(t,"MeshToonMaterial",function(){return Dn}),n.d(t,"MeshNormalMaterial",function(){return Ln}),n.d(t,"MeshLambertMaterial",function(){return Pn}),n.d(t,"MeshDepthMaterial",function(){return Q}),n.d(t,"MeshDistanceMaterial",function(){return ee}),n.d(t,"MeshBasicMaterial",function(){return Ie}),n.d(t,"LineDashedMaterial",function(){return Rn}),n.d(t,"LineBasicMaterial",function(){return Dt}),n.d(t,"Material",function(){return K}),n.d(t,"Float64BufferAttribute",function(){return Ae}),n.d(t,"Float32BufferAttribute",function(){return Te}),n.d(t,"Uint32BufferAttribute",function(){return Se}),n.d(t,"Int32BufferAttribute",function(){return Ee}),n.d(t,"Uint16BufferAttribute",function(){return _e}),n.d(t,"Int16BufferAttribute",function(){return we}),n.d(t,"Uint8ClampedBufferAttribute",function(){return be}),n.d(t,"Uint8BufferAttribute",function(){return xe}),n.d(t,"Int8BufferAttribute",function(){return ye}),n.d(t,"BufferAttribute",function(){return ve}),n.d(t,"REVISION",function(){return _o}),n.d(t,"MOUSE",function(){return Eo}),n.d(t,"CullFaceNone",function(){return So}),n.d(t,"CullFaceBack",function(){return To}),n.d(t,"CullFaceFront",function(){return Ao}),n.d(t,"CullFaceFrontBack",function(){return Mo}),n.d(t,"FrontFaceDirectionCW",function(){return Co}),n.d(t,"FrontFaceDirectionCCW",function(){return Do}),n.d(t,"BasicShadowMap",function(){return Lo}),n.d(t,"PCFShadowMap",function(){return Po}),n.d(t,"PCFSoftShadowMap",function(){return Ro}),n.d(t,"FrontSide",function(){return Oo}),n.d(t,"BackSide",function(){return Io}),n.d(t,"DoubleSide",function(){return ko}),n.d(t,"FlatShading",function(){return No}),n.d(t,"SmoothShading",function(){return Fo}),n.d(t,"NoColors",function(){return Bo}),n.d(t,"FaceColors",function(){return Uo}),n.d(t,"VertexColors",function(){return zo}),n.d(t,"NoBlending",function(){return jo}),n.d(t,"NormalBlending",function(){return Go}),n.d(t,"AdditiveBlending",function(){return Ho}),n.d(t,"SubtractiveBlending",function(){return Vo}),n.d(t,"MultiplyBlending",function(){return Wo}),n.d(t,"CustomBlending",function(){return Xo}),n.d(t,"AddEquation",function(){return qo}),n.d(t,"SubtractEquation",function(){return Yo}),n.d(t,"ReverseSubtractEquation",function(){return Jo}),n.d(t,"MinEquation",function(){return Zo}),n.d(t,"MaxEquation",function(){return Ko}),n.d(t,"ZeroFactor",function(){return $o}),n.d(t,"OneFactor",function(){return Qo}),n.d(t,"SrcColorFactor",function(){return ea}),n.d(t,"OneMinusSrcColorFactor",function(){return ta}),n.d(t,"SrcAlphaFactor",function(){return na}),n.d(t,"OneMinusSrcAlphaFactor",function(){return ra}),n.d(t,"DstAlphaFactor",function(){return ia}),n.d(t,"OneMinusDstAlphaFactor",function(){return oa}),n.d(t,"DstColorFactor",function(){return aa}),n.d(t,"OneMinusDstColorFactor",function(){return sa}),n.d(t,"SrcAlphaSaturateFactor",function(){return ua}),n.d(t,"NeverDepth",function(){return ca}),n.d(t,"AlwaysDepth",function(){return la}),n.d(t,"LessDepth",function(){return ha}),n.d(t,"LessEqualDepth",function(){return pa}),n.d(t,"EqualDepth",function(){return fa}),n.d(t,"GreaterEqualDepth",function(){return da}),n.d(t,"GreaterDepth",function(){return ma}),n.d(t,"NotEqualDepth",function(){return ga}),n.d(t,"MultiplyOperation",function(){return va}),n.d(t,"MixOperation",function(){return ya}),n.d(t,"AddOperation",function(){return xa}),n.d(t,"NoToneMapping",function(){return ba}),n.d(t,"LinearToneMapping",function(){return wa}),n.d(t,"ReinhardToneMapping",function(){return _a}),n.d(t,"Uncharted2ToneMapping",function(){return Ea}),n.d(t,"CineonToneMapping",function(){return Sa}),n.d(t,"UVMapping",function(){return Ta}),n.d(t,"CubeReflectionMapping",function(){return Aa}),n.d(t,"CubeRefractionMapping",function(){return Ma}),n.d(t,"EquirectangularReflectionMapping",function(){return Ca}),n.d(t,"EquirectangularRefractionMapping",function(){return Da}),n.d(t,"SphericalReflectionMapping",function(){return La}),n.d(t,"CubeUVReflectionMapping",function(){return Pa}),n.d(t,"CubeUVRefractionMapping",function(){return Ra}),n.d(t,"RepeatWrapping",function(){return Oa}),n.d(t,"ClampToEdgeWrapping",function(){return Ia}),n.d(t,"MirroredRepeatWrapping",function(){return ka}),n.d(t,"NearestFilter",function(){return Na}),n.d(t,"NearestMipMapNearestFilter",function(){return Fa}),n.d(t,"NearestMipMapLinearFilter",function(){return Ba}),n.d(t,"LinearFilter",function(){return Ua}),n.d(t,"LinearMipMapNearestFilter",function(){return za}),n.d(t,"LinearMipMapLinearFilter",function(){return ja}),n.d(t,"UnsignedByteType",function(){return Ga}),n.d(t,"ByteType",function(){return Ha}),n.d(t,"ShortType",function(){return Va}),n.d(t,"UnsignedShortType",function(){return Wa}),n.d(t,"IntType",function(){return Xa}),n.d(t,"UnsignedIntType",function(){return qa}),n.d(t,"FloatType",function(){return Ya}),n.d(t,"HalfFloatType",function(){return Ja}),n.d(t,"UnsignedShort4444Type",function(){return Za}),n.d(t,"UnsignedShort5551Type",function(){return Ka}),n.d(t,"UnsignedShort565Type",function(){return $a}),n.d(t,"UnsignedInt248Type",function(){return Qa}),n.d(t,"AlphaFormat",function(){return es}),n.d(t,"RGBFormat",function(){return ts}),n.d(t,"RGBAFormat",function(){return ns}),n.d(t,"LuminanceFormat",function(){return rs}),n.d(t,"LuminanceAlphaFormat",function(){return is}),n.d(t,"RGBEFormat",function(){return os}),n.d(t,"DepthFormat",function(){return as}),n.d(t,"DepthStencilFormat",function(){return ss}),n.d(t,"RGB_S3TC_DXT1_Format",function(){return us}),n.d(t,"RGBA_S3TC_DXT1_Format",function(){return cs}),n.d(t,"RGBA_S3TC_DXT3_Format",function(){return ls}),n.d(t,"RGBA_S3TC_DXT5_Format",function(){return hs}),n.d(t,"RGB_PVRTC_4BPPV1_Format",function(){return ps}),n.d(t,"RGB_PVRTC_2BPPV1_Format",function(){return fs}),n.d(t,"RGBA_PVRTC_4BPPV1_Format",function(){return ds}),n.d(t,"RGBA_PVRTC_2BPPV1_Format",function(){return ms}),n.d(t,"RGB_ETC1_Format",function(){return gs}),n.d(t,"LoopOnce",function(){return vs}),n.d(t,"LoopRepeat",function(){return ys}),n.d(t,"LoopPingPong",function(){return xs}),n.d(t,"InterpolateDiscrete",function(){return bs}),n.d(t,"InterpolateLinear",function(){return ws}),n.d(t,"InterpolateSmooth",function(){return _s}),n.d(t,"ZeroCurvatureEnding",function(){return Es}),n.d(t,"ZeroSlopeEnding",function(){return Ss}),n.d(t,"WrapAroundEnding",function(){return Ts}),n.d(t,"TrianglesDrawMode",function(){return As}),n.d(t,"TriangleStripDrawMode",function(){return Ms}),n.d(t,"TriangleFanDrawMode",function(){return Cs}),n.d(t,"LinearEncoding",function(){return Ds}),n.d(t,"sRGBEncoding",function(){return Ls}),n.d(t,"GammaEncoding",function(){return Ps}),n.d(t,"RGBEEncoding",function(){return Rs}),n.d(t,"LogLuvEncoding",function(){return Os}),n.d(t,"RGBM7Encoding",function(){return Is}),n.d(t,"RGBM16Encoding",function(){return ks}),n.d(t,"RGBDEncoding",function(){return Ns}),n.d(t,"BasicDepthPacking",function(){return Fs}),n.d(t,"RGBADepthPacking",function(){return Bs}),n.d(t,"CubeGeometry",function(){return Le}),n.d(t,"Face4",function(){return Si}),n.d(t,"LineStrip",function(){return Su}),n.d(t,"LinePieces",function(){return Tu}),n.d(t,"MeshFaceMaterial",function(){return Ti}),n.d(t,"MultiMaterial",function(){return Ai}),n.d(t,"PointCloud",function(){return Mi}),n.d(t,"Particle",function(){return Ci}),n.d(t,"ParticleSystem",function(){return Di}),n.d(t,"PointCloudMaterial",function(){return Li}),n.d(t,"ParticleBasicMaterial",function(){return Pi}),n.d(t,"ParticleSystemMaterial",function(){return Ri}),n.d(t,"Vertex",function(){return Oi}),n.d(t,"DynamicBufferAttribute",function(){return Ii}),n.d(t,"Int8Attribute",function(){return ki}),n.d(t,"Uint8Attribute",function(){return Ni}),n.d(t,"Uint8ClampedAttribute",function(){return Fi}),n.d(t,"Int16Attribute",function(){return Bi}),n.d(t,"Uint16Attribute",function(){return Ui}),n.d(t,"Int32Attribute",function(){return zi}),n.d(t,"Uint32Attribute",function(){return ji}),n.d(t,"Float32Attribute",function(){return Gi}),n.d(t,"Float64Attribute",function(){return Hi}),n.d(t,"ClosedSplineCurve3",function(){return Vi}),n.d(t,"SplineCurve3",function(){return Wi}),n.d(t,"Spline",function(){return Xi}),n.d(t,"BoundingBoxHelper",function(){return qi}),n.d(t,"EdgesHelper",function(){return Yi}),n.d(t,"WireframeHelper",function(){return Ji}),n.d(t,"XHRLoader",function(){return Zi}),n.d(t,"BinaryTextureLoader",function(){return Ki}),n.d(t,"GeometryUtils",function(){return Au}),n.d(t,"ImageUtils",function(){return Mu}),n.d(t,"Projector",function(){return $i}),n.d(t,"CanvasRenderer",function(){return Qi}),void 0===vo&&(vo=2.220446049250313e-16),void 0===go&&(go=function(e){return"number"==typeof e&&isFinite(e)&&wo(e)===e}),void 0===mo&&(mo=function(e){return 0>e?-1:0<e?1:+e}),void 0===Function.prototype.name&&Object.defineProperty(Function.prototype,"name",{get:function(){return this.toString().match(/^\s*function\s*([^\(\s]*)/)[1]}}),void 0===Object.assign&&(Object.assign=function(e){if(null==e)throw new TypeError("Cannot convert undefined or null to object");for(var t,n=Object(e),r=1;r<arguments.length;r++)if(null!=(t=arguments[r]))for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i]);return n}),Object.assign(r.prototype,{addEventListener:function(e,t){void 0===this._listeners&&(this._listeners={});var n=this._listeners;void 0===n[e]&&(n[e]=[]),-1===n[e].indexOf(t)&&n[e].push(t)},hasEventListener:function(e,t){if(void 0===this._listeners)return!1;var n=this._listeners;return void 0!==n[e]&&-1!==n[e].indexOf(t)},removeEventListener:function(e,t){if(void 0!==this._listeners){var n=this._listeners[e];if(void 0!==n){var r=n.indexOf(t);-1!==r&&n.splice(r,1)}}},dispatchEvent:function(e){if(void 0!==this._listeners){var t=this._listeners[e.type];if(void 0!==t){e.target=this;for(var n=t.slice(0),r=0,i=n.length;r<i;r++)n[r].call(this,e)}}}});var _o="87",Eo={LEFT:0,MIDDLE:1,RIGHT:2},So=0,To=1,Ao=2,Mo=3,Co=0,Do=1,Lo=0,Po=1,Ro=2,Oo=0,Io=1,ko=2,No=1,Fo=2,Bo=0,Uo=1,zo=2,jo=0,Go=1,Ho=2,Vo=3,Wo=4,Xo=5,qo=100,Yo=101,Jo=102,Zo=103,Ko=104,$o=200,Qo=201,ea=202,ta=203,na=204,ra=205,ia=206,oa=207,aa=208,sa=209,ua=210,ca=0,la=1,ha=2,pa=3,fa=4,da=5,ma=6,ga=7,va=0,ya=1,xa=2,ba=0,wa=1,_a=2,Ea=3,Sa=4,Ta=300,Aa=301,Ma=302,Ca=303,Da=304,La=305,Pa=306,Ra=307,Oa=1e3,Ia=1001,ka=1002,Na=1003,Fa=1004,Ba=1005,Ua=1006,za=1007,ja=1008,Ga=1009,Ha=1010,Va=1011,Wa=1012,Xa=1013,qa=1014,Ya=1015,Ja=1016,Za=1017,Ka=1018,$a=1019,Qa=1020,es=1021,ts=1022,ns=1023,rs=1024,is=1025,os=ns,as=1026,ss=1027,us=2001,cs=2002,ls=2003,hs=2004,ps=2100,fs=2101,ds=2102,ms=2103,gs=2151,vs=2200,ys=2201,xs=2202,bs=2300,ws=2301,_s=2302,Es=2400,Ss=2401,Ts=2402,As=0,Ms=1,Cs=2,Ds=3e3,Ls=3001,Ps=3007,Rs=3002,Os=3003,Is=3004,ks=3005,Ns=3006,Fs=3200,Bs=3201,Us={DEG2RAD:fo/180,RAD2DEG:180/fo,generateUUID:function(){var e,t=["0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z"],n=Array(36),r=0;return function(){for(var i=0;36>i;i++)8===i||13===i||18===i||23===i?n[i]="-":14===i?n[i]="4":(2>=r&&(r=0|33554432+16777216*Math.random()),e=15&r,r>>=4,n[i]=t[19===i?8|3&e:e]);return n.join("")}}(),clamp:function(e,t,n){return xo(t,bo(n,e))},euclideanModulo:function(e,t){return(e%t+t)%t},mapLinear:function(e,t,n,r,i){return r+(e-t)*(i-r)/(n-t)},lerp:function(e,t,n){return(1-n)*e+n*t},smoothstep:function(e,t,n){return e<=t?0:e>=n?1:(e=(e-t)/(n-t))*e*(3-2*e)},smootherstep:function(e,t,n){return e<=t?0:e>=n?1:(e=(e-t)/(n-t))*e*e*(e*(6*e-15)+10)},randInt:function(e,t){return e+wo(Math.random()*(t-e+1))},randFloat:function(e,t){return e+Math.random()*(t-e)},randFloatSpread:function(e){return e*(.5-Math.random())},degToRad:function(e){return e*Us.DEG2RAD},radToDeg:function(e){return e*Us.RAD2DEG},isPowerOfTwo:function(e){return 0==(e&e-1)&&0!==e},nearestPowerOfTwo:function(e){return co(2,lo(po(e)/ho))},nextPowerOfTwo:function(e){return e--,e|=e>>1,e|=e>>2,e|=e>>4,e|=e>>8,e|=e>>16,++e}};Object.defineProperties(i.prototype,{width:{get:function(){return this.x},set:function(e){this.x=e}},height:{get:function(){return this.y},set:function(e){this.y=e}}}),Object.assign(i.prototype,{isVector2:!0,set:function(e,t){return this.x=e,this.y=t,this},setScalar:function(e){return this.x=e,this.y=e,this},setX:function(e){return this.x=e,this},setY:function(e){return this.y=e,this},setComponent:function(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;default:throw new Error("index is out of range: "+e)}return this},getComponent:function(e){switch(e){case 0:return this.x;case 1:return this.y;default:throw new Error("index is out of range: "+e)}},clone:function(){return new this.constructor(this.x,this.y)},copy:function(e){return this.x=e.x,this.y=e.y,this},add:function(e,t){return void 0===t?(this.x+=e.x,this.y+=e.y,this):(console.warn("THREE.Vector2: .add() now only accepts one argument. Use .addVectors( a, b ) instead."),this.addVectors(e,t))},addScalar:function(e){return this.x+=e,this.y+=e,this},addVectors:function(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this},addScaledVector:function(e,t){return this.x+=e.x*t,this.y+=e.y*t,this},sub:function(e,t){return void 0===t?(this.x-=e.x,this.y-=e.y,this):(console.warn("THREE.Vector2: .sub() now only accepts one argument. Use .subVectors( a, b ) instead."),this.subVectors(e,t))},subScalar:function(e){return this.x-=e,this.y-=e,this},subVectors:function(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this},multiply:function(e){return this.x*=e.x,this.y*=e.y,this},multiplyScalar:function(e){return this.x*=e,this.y*=e,this},divide:function(e){return this.x/=e.x,this.y/=e.y,this},divideScalar:function(e){return this.multiplyScalar(1/e)},min:function(e){return this.x=bo(this.x,e.x),this.y=bo(this.y,e.y),this},max:function(e){return this.x=xo(this.x,e.x),this.y=xo(this.y,e.y),this},clamp:function(e,t){return this.x=xo(e.x,bo(t.x,this.x)),this.y=xo(e.y,bo(t.y,this.y)),this},clampScalar:function(){var e=new i,t=new i;return function(n,r){return e.set(n,n),t.set(r,r),this.clamp(e,t)}}(),clampLength:function(e,t){var n=this.length();return this.divideScalar(n||1).multiplyScalar(xo(e,bo(t,n)))},floor:function(){return this.x=wo(this.x),this.y=wo(this.y),this},ceil:function(){return this.x=yo(this.x),this.y=yo(this.y),this},round:function(){return this.x=lo(this.x),this.y=lo(this.y),this},roundToZero:function(){return this.x=0>this.x?yo(this.x):wo(this.x),this.y=0>this.y?yo(this.y):wo(this.y),this},negate:function(){return this.x=-this.x,this.y=-this.y,this},dot:function(e){return this.x*e.x+this.y*e.y},lengthSq:function(){return this.x*this.x+this.y*this.y},length:function(){return uo(this.x*this.x+this.y*this.y)},lengthManhattan:function(){return so(this.x)+so(this.y)},normalize:function(){return this.divideScalar(this.length()||1)},angle:function(){var e=ao(this.y,this.x);return 0>e&&(e+=2*fo),e},distanceTo:function(e){return uo(this.distanceToSquared(e))},distanceToSquared:function(e){var t=this.x-e.x,n=this.y-e.y;return t*t+n*n},distanceToManhattan:function(e){return so(this.x-e.x)+so(this.y-e.y)},setLength:function(e){return this.normalize().multiplyScalar(e)},lerp:function(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this},lerpVectors:function(e,t,n){return this.subVectors(t,e).multiplyScalar(n).add(e)},equals:function(e){return e.x===this.x&&e.y===this.y},fromArray:function(e,t){return void 0===t&&(t=0),this.x=e[t],this.y=e[t+1],this},toArray:function(e,t){return void 0===e&&(e=[]),void 0===t&&(t=0),e[t]=this.x,e[t+1]=this.y,e},fromBufferAttribute:function(e,t,n){return void 0!==n&&console.warn("THREE.Vector2: offset has been removed from .fromBufferAttribute()."),this.x=e.getX(t),this.y=e.getY(t),this},rotateAround:function(e,t){var n=oo(t),r=io(t),i=this.x-e.x,o=this.y-e.y;return this.x=i*n-o*r+e.x,this.y=i*r+o*n+e.y,this}});var zs=0;o.DEFAULT_IMAGE=void 0,o.DEFAULT_MAPPING=Ta,Object.defineProperty(o.prototype,"needsUpdate",{set:function(e){!0===e&&this.version++}}),Object.assign(o.prototype,r.prototype,{constructor:o,isTexture:!0,clone:function(){return(new this.constructor).copy(this)},copy:function(e){return this.name=e.name,this.image=e.image,this.mipmaps=e.mipmaps.slice(0),this.mapping=e.mapping,this.wrapS=e.wrapS,this.wrapT=e.wrapT,this.magFilter=e.magFilter,this.minFilter=e.minFilter,this.anisotropy=e.anisotropy,this.format=e.format,this.type=e.type,this.offset.copy(e.offset),this.repeat.copy(e.repeat),this.generateMipmaps=e.generateMipmaps,this.premultiplyAlpha=e.premultiplyAlpha,this.flipY=e.flipY,this.unpackAlignment=e.unpackAlignment,this.encoding=e.encoding,this},toJSON:function(e){if(void 0!==e.textures[this.uuid])return e.textures[this.uuid];var t={metadata:{version:4.5,type:"Texture",generator:"Texture.toJSON"},uuid:this.uuid,name:this.name,mapping:this.mapping,repeat:[this.repeat.x,this.repeat.y],offset:[this.offset.x,this.offset.y],wrap:[this.wrapS,this.wrapT],minFilter:this.minFilter,magFilter:this.magFilter,anisotropy:this.anisotropy,flipY:this.flipY};if(void 0!==this.image){var n=this.image;void 0===n.uuid&&(n.uuid=Us.generateUUID()),void 0===e.images[n.uuid]&&(e.images[n.uuid]={uuid:n.uuid,url:function(e){var t;if(e instanceof HTMLCanvasElement)t=e;else{(t=document.createElementNS("http://www.w3.org/1999/xhtml","canvas")).width=e.width,t.height=e.height;var n=t.getContext("2d");e instanceof ImageData?n.putImageData(e,0,0):n.drawImage(e,0,0,e.width,e.height)}return 2048<t.width||2048<t.height?t.toDataURL("image/jpeg",.6):t.toDataURL("image/png")}(n)}),t.image=n.uuid}return e.textures[this.uuid]=t,t},dispose:function(){this.dispatchEvent({type:"dispose"})},transformUv:function(e){if(this.mapping===Ta){if(e.multiply(this.repeat),e.add(this.offset),0>e.x||1<e.x)switch(this.wrapS){case Oa:e.x-=wo(e.x);break;case Ia:e.x=0>e.x?0:1;break;case ka:1===so(wo(e.x)%2)?e.x=yo(e.x)-e.x:e.x-=wo(e.x)}if(0>e.y||1<e.y)switch(this.wrapT){case Oa:e.y-=wo(e.y);break;case Ia:e.y=0>e.y?0:1;break;case ka:1===so(wo(e.y)%2)?e.y=yo(e.y)-e.y:e.y-=wo(e.y)}this.flipY&&(e.y=1-e.y)}}}),Object.assign(a.prototype,{isVector4:!0,set:function(e,t,n,r){return this.x=e,this.y=t,this.z=n,this.w=r,this},setScalar:function(e){return this.x=e,this.y=e,this.z=e,this.w=e,this},setX:function(e){return this.x=e,this},setY:function(e){return this.y=e,this},setZ:function(e){return this.z=e,this},setW:function(e){return this.w=e,this},setComponent:function(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;case 2:this.z=t;break;case 3:this.w=t;break;default:throw new Error("index is out of range: "+e)}return this},getComponent:function(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;case 3:return this.w;default:throw new Error("index is out of range: "+e)}},clone:function(){return new this.constructor(this.x,this.y,this.z,this.w)},copy:function(e){return this.x=e.x,this.y=e.y,this.z=e.z,this.w=void 0===e.w?1:e.w,this},add:function(e,t){return void 0===t?(this.x+=e.x,this.y+=e.y,this.z+=e.z,this.w+=e.w,this):(console.warn("THREE.Vector4: .add() now only accepts one argument. Use .addVectors( a, b ) instead."),this.addVectors(e,t))},addScalar:function(e){return this.x+=e,this.y+=e,this.z+=e,this.w+=e,this},addVectors:function(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this.z=e.z+t.z,this.w=e.w+t.w,this},addScaledVector:function(e,t){return this.x+=e.x*t,this.y+=e.y*t,this.z+=e.z*t,this.w+=e.w*t,this},sub:function(e,t){return void 0===t?(this.x-=e.x,this.y-=e.y,this.z-=e.z,this.w-=e.w,this):(console.warn("THREE.Vector4: .sub() now only accepts one argument. Use .subVectors( a, b ) instead."),this.subVectors(e,t))},subScalar:function(e){return this.x-=e,this.y-=e,this.z-=e,this.w-=e,this},subVectors:function(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this.z=e.z-t.z,this.w=e.w-t.w,this},multiplyScalar:function(e){return this.x*=e,this.y*=e,this.z*=e,this.w*=e,this},applyMatrix4:function(e){var t=this.x,n=this.y,r=this.z,i=this.w,o=e.elements;return this.x=o[0]*t+o[4]*n+o[8]*r+o[12]*i,this.y=o[1]*t+o[5]*n+o[9]*r+o[13]*i,this.z=o[2]*t+o[6]*n+o[10]*r+o[14]*i,this.w=o[3]*t+o[7]*n+o[11]*r+o[15]*i,this},divideScalar:function(e){return this.multiplyScalar(1/e)},setAxisAngleFromQuaternion:function(e){this.w=2*ro(e.w);var t=uo(1-e.w*e.w);return 1e-4>t?(this.x=1,this.y=0,this.z=0):(this.x=e.x/t,this.y=e.y/t,this.z=e.z/t),this},setAxisAngleFromRotationMatrix:function(e){var t,n,r,i,o=.01,a=e.elements,s=a[0],u=a[4],c=a[8],l=a[1],h=a[5],p=a[9],f=a[2],d=a[6],m=a[10];if(so(u-l)<o&&so(c-f)<o&&so(p-d)<o){if(so(u+l)<.1&&so(c+f)<.1&&so(p+d)<.1&&so(s+h+m-3)<.1)return this.set(1,0,0,0),this;t=fo;var g=(s+1)/2,v=(h+1)/2,y=(m+1)/2,x=(u+l)/4,b=(c+f)/4,w=(p+d)/4;return g>v&&g>y?g<o?(n=0,r=.707106781,i=.707106781):(r=x/(n=uo(g)),i=b/n):v>y?v<o?(n=.707106781,r=0,i=.707106781):(n=x/(r=uo(v)),i=w/r):y<o?(n=.707106781,r=.707106781,i=0):(n=b/(i=uo(y)),r=w/i),this.set(n,r,i,t),this}var _=uo((d-p)*(d-p)+(c-f)*(c-f)+(l-u)*(l-u));return.001>so(_)&&(_=1),this.x=(d-p)/_,this.y=(c-f)/_,this.z=(l-u)/_,this.w=ro((s+h+m-1)/2),this},min:function(e){return this.x=bo(this.x,e.x),this.y=bo(this.y,e.y),this.z=bo(this.z,e.z),this.w=bo(this.w,e.w),this},max:function(e){return this.x=xo(this.x,e.x),this.y=xo(this.y,e.y),this.z=xo(this.z,e.z),this.w=xo(this.w,e.w),this},clamp:function(e,t){return this.x=xo(e.x,bo(t.x,this.x)),this.y=xo(e.y,bo(t.y,this.y)),this.z=xo(e.z,bo(t.z,this.z)),this.w=xo(e.w,bo(t.w,this.w)),this},clampScalar:function(){var e,t;return function(n,r){return null==e&&(e=new a,t=new a),e.set(n,n,n,n),t.set(r,r,r,r),this.clamp(e,t)}}(),clampLength:function(e,t){var n=this.length();return this.divideScalar(n||1).multiplyScalar(xo(e,bo(t,n)))},floor:function(){return this.x=wo(this.x),this.y=wo(this.y),this.z=wo(this.z),this.w=wo(this.w),this},ceil:function(){return this.x=yo(this.x),this.y=yo(this.y),this.z=yo(this.z),this.w=yo(this.w),this},round:function(){return this.x=lo(this.x),this.y=lo(this.y),this.z=lo(this.z),this.w=lo(this.w),this},roundToZero:function(){return this.x=0>this.x?yo(this.x):wo(this.x),this.y=0>this.y?yo(this.y):wo(this.y),this.z=0>this.z?yo(this.z):wo(this.z),this.w=0>this.w?yo(this.w):wo(this.w),this},negate:function(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this.w=-this.w,this},dot:function(e){return this.x*e.x+this.y*e.y+this.z*e.z+this.w*e.w},lengthSq:function(){return this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w},length:function(){return uo(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w)},lengthManhattan:function(){return so(this.x)+so(this.y)+so(this.z)+so(this.w)},normalize:function(){return this.divideScalar(this.length()||1)},setLength:function(e){return this.normalize().multiplyScalar(e)},lerp:function(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this.z+=(e.z-this.z)*t,this.w+=(e.w-this.w)*t,this},lerpVectors:function(e,t,n){return this.subVectors(t,e).multiplyScalar(n).add(e)},equals:function(e){return e.x===this.x&&e.y===this.y&&e.z===this.z&&e.w===this.w},fromArray:function(e,t){return void 0===t&&(t=0),this.x=e[t],this.y=e[t+1],this.z=e[t+2],this.w=e[t+3],this},toArray:function(e,t){return void 0===e&&(e=[]),void 0===t&&(t=0),e[t]=this.x,e[t+1]=this.y,e[t+2]=this.z,e[t+3]=this.w,e},fromBufferAttribute:function(e,t,n){return void 0!==n&&console.warn("THREE.Vector4: offset has been removed from .fromBufferAttribute()."),this.x=e.getX(t),this.y=e.getY(t),this.z=e.getZ(t),this.w=e.getW(t),this}}),Object.assign(s.prototype,r.prototype,{isWebGLRenderTarget:!0,setSize:function(e,t){(this.width!==e||this.height!==t)&&(this.width=e,this.height=t,this.dispose()),this.viewport.set(0,0,e,t),this.scissor.set(0,0,e,t)},clone:function(){return(new this.constructor).copy(this)},copy:function(e){return this.width=e.width,this.height=e.height,this.viewport.copy(e.viewport),this.texture=e.texture.clone(),this.depthBuffer=e.depthBuffer,this.stencilBuffer=e.stencilBuffer,this.depthTexture=e.depthTexture,this},dispose:function(){this.dispatchEvent({type:"dispose"})}}),u.prototype=Object.create(s.prototype),u.prototype.constructor=u,u.prototype.isWebGLRenderTargetCube=!0,Object.assign(c,{slerp:function(e,t,n,r){return n.copy(e).slerp(t,r)},slerpFlat:function(e,t,n,r,i,o,a){var s=n[r+0],u=n[r+1],c=n[r+2],l=n[r+3],h=i[o+0],p=i[o+1],f=i[o+2],d=i[o+3];if(l!==d||s!==h||u!==p||c!==f){var m=1-a,g=s*h+u*p+c*f+l*d,v=0<=g?1:-1,y=1-g*g;if(y>vo){var x=uo(y),b=ao(x,g*v);m=io(m*b)/x,a=io(a*b)/x}var w=a*v;if(s=s*m+h*w,u=u*m+p*w,c=c*m+f*w,l=l*m+d*w,m==1-a){var _=1/uo(s*s+u*u+c*c+l*l);s*=_,u*=_,c*=_,l*=_}}e[t]=s,e[t+1]=u,e[t+2]=c,e[t+3]=l}}),Object.defineProperties(c.prototype,{x:{get:function(){return this._x},set:function(e){this._x=e,this.onChangeCallback()}},y:{get:function(){return this._y},set:function(e){this._y=e,this.onChangeCallback()}},z:{get:function(){return this._z},set:function(e){this._z=e,this.onChangeCallback()}},w:{get:function(){return this._w},set:function(e){this._w=e,this.onChangeCallback()}}}),Object.assign(c.prototype,{set:function(e,t,n,r){return this._x=e,this._y=t,this._z=n,this._w=r,this.onChangeCallback(),this},clone:function(){return new this.constructor(this._x,this._y,this._z,this._w)},copy:function(e){return this._x=e.x,this._y=e.y,this._z=e.z,this._w=e.w,this.onChangeCallback(),this},setFromEuler:function(e,t){if(!e||!e.isEuler)throw new Error("THREE.Quaternion: .setFromEuler() now expects an Euler rotation rather than a Vector3 and order.");var n=e._x,r=e._y,i=e._z,o=e.order,a=oo,s=io,u=a(n/2),c=a(r/2),l=a(i/2),h=s(n/2),p=s(r/2),f=s(i/2);return"XYZ"===o?(this._x=h*c*l+u*p*f,this._y=u*p*l-h*c*f,this._z=u*c*f+h*p*l,this._w=u*c*l-h*p*f):"YXZ"===o?(this._x=h*c*l+u*p*f,this._y=u*p*l-h*c*f,this._z=u*c*f-h*p*l,this._w=u*c*l+h*p*f):"ZXY"===o?(this._x=h*c*l-u*p*f,this._y=u*p*l+h*c*f,this._z=u*c*f+h*p*l,this._w=u*c*l-h*p*f):"ZYX"===o?(this._x=h*c*l-u*p*f,this._y=u*p*l+h*c*f,this._z=u*c*f-h*p*l,this._w=u*c*l+h*p*f):"YZX"===o?(this._x=h*c*l+u*p*f,this._y=u*p*l+h*c*f,this._z=u*c*f-h*p*l,this._w=u*c*l-h*p*f):"XZY"===o&&(this._x=h*c*l-u*p*f,this._y=u*p*l-h*c*f,this._z=u*c*f+h*p*l,this._w=u*c*l+h*p*f),!1!==t&&this.onChangeCallback(),this},setFromAxisAngle:function(e,t){var n=t/2,r=io(n);return this._x=e.x*r,this._y=e.y*r,this._z=e.z*r,this._w=oo(n),this.onChangeCallback(),this},setFromRotationMatrix:function(e){var t,n=e.elements,r=n[0],i=n[4],o=n[8],a=n[1],s=n[5],u=n[9],c=n[2],l=n[6],h=n[10],p=r+s+h;return 0<p?(t=.5/uo(p+1),this._w=.25/t,this._x=(l-u)*t,this._y=(o-c)*t,this._z=(a-i)*t):r>s&&r>h?(t=2*uo(1+r-s-h),this._w=(l-u)/t,this._x=.25*t,this._y=(i+a)/t,this._z=(o+c)/t):s>h?(t=2*uo(1+s-r-h),this._w=(o-c)/t,this._x=(i+a)/t,this._y=.25*t,this._z=(u+l)/t):(t=2*uo(1+h-r-s),this._w=(a-i)/t,this._x=(o+c)/t,this._y=(u+l)/t,this._z=.25*t),this.onChangeCallback(),this},setFromUnitVectors:function(){var e,t=new l;return function(n,r){return void 0===t&&(t=new l),(e=n.dot(r)+1)<1e-6?(e=0,so(n.x)>so(n.z)?t.set(-n.y,n.x,0):t.set(0,-n.z,n.y)):t.crossVectors(n,r),this._x=t.x,this._y=t.y,this._z=t.z,this._w=e,this.normalize()}}(),inverse:function(){return this.conjugate().normalize()},conjugate:function(){return this._x*=-1,this._y*=-1,this._z*=-1,this.onChangeCallback(),this},dot:function(e){return this._x*e._x+this._y*e._y+this._z*e._z+this._w*e._w},lengthSq:function(){return this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w},length:function(){return uo(this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w)},normalize:function(){var e=this.length();return 0===e?(this._x=0,this._y=0,this._z=0,this._w=1):(e=1/e,this._x*=e,this._y*=e,this._z*=e,this._w*=e),this.onChangeCallback(),this},multiply:function(e,t){return void 0===t?this.multiplyQuaternions(this,e):(console.warn("THREE.Quaternion: .multiply() now only accepts one argument. Use .multiplyQuaternions( a, b ) instead."),this.multiplyQuaternions(e,t))},premultiply:function(e){return this.multiplyQuaternions(e,this)},multiplyQuaternions:function(e,t){var n=e._x,r=e._y,i=e._z,o=e._w,a=t._x,s=t._y,u=t._z,c=t._w;return this._x=n*c+o*a+r*u-i*s,this._y=r*c+o*s+i*a-n*u,this._z=i*c+o*u+n*s-r*a,this._w=o*c-n*a-r*s-i*u,this.onChangeCallback(),this},slerp:function(e,t){if(0===t)return this;if(1===t)return this.copy(e);var n=this._x,r=this._y,i=this._z,o=this._w,a=o*e._w+n*e._x+r*e._y+i*e._z;if(0>a?(this._w=-e._w,this._x=-e._x,this._y=-e._y,this._z=-e._z,a=-a):this.copy(e),1<=a)return this._w=o,this._x=n,this._y=r,this._z=i,this;var s=uo(1-a*a);if(.001>so(s))return this._w=.5*(o+this._w),this._x=.5*(n+this._x),this._y=.5*(r+this._y),this._z=.5*(i+this._z),this;var u=ao(s,a),c=io((1-t)*u)/s,l=io(t*u)/s;return this._w=o*c+this._w*l,this._x=n*c+this._x*l,this._y=r*c+this._y*l,this._z=i*c+this._z*l,this.onChangeCallback(),this},equals:function(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._w===this._w},fromArray:function(e,t){return void 0===t&&(t=0),this._x=e[t],this._y=e[t+1],this._z=e[t+2],this._w=e[t+3],this.onChangeCallback(),this},toArray:function(e,t){return void 0===e&&(e=[]),void 0===t&&(t=0),e[t]=this._x,e[t+1]=this._y,e[t+2]=this._z,e[t+3]=this._w,e},onChange:function(e){return this.onChangeCallback=e,this},onChangeCallback:function(){}}),Object.assign(l.prototype,{isVector3:!0,set:function(e,t,n){return this.x=e,this.y=t,this.z=n,this},setScalar:function(e){return this.x=e,this.y=e,this.z=e,this},setX:function(e){return this.x=e,this},setY:function(e){return this.y=e,this},setZ:function(e){return this.z=e,this},setComponent:function(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;case 2:this.z=t;break;default:throw new Error("index is out of range: "+e)}return this},getComponent:function(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;default:throw new Error("index is out of range: "+e)}},clone:function(){return new this.constructor(this.x,this.y,this.z)},copy:function(e){return this.x=e.x,this.y=e.y,this.z=e.z,this},add:function(e,t){return void 0===t?(this.x+=e.x,this.y+=e.y,this.z+=e.z,this):(console.warn("THREE.Vector3: .add() now only accepts one argument. Use .addVectors( a, b ) instead."),this.addVectors(e,t))},addScalar:function(e){return this.x+=e,this.y+=e,this.z+=e,this},addVectors:function(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this.z=e.z+t.z,this},addScaledVector:function(e,t){return this.x+=e.x*t,this.y+=e.y*t,this.z+=e.z*t,this},sub:function(e,t){return void 0===t?(this.x-=e.x,this.y-=e.y,this.z-=e.z,this):(console.warn("THREE.Vector3: .sub() now only accepts one argument. Use .subVectors( a, b ) instead."),this.subVectors(e,t))},subScalar:function(e){return this.x-=e,this.y-=e,this.z-=e,this},subVectors:function(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this.z=e.z-t.z,this},multiply:function(e,t){return void 0===t?(this.x*=e.x,this.y*=e.y,this.z*=e.z,this):(console.warn("THREE.Vector3: .multiply() now only accepts one argument. Use .multiplyVectors( a, b ) instead."),this.multiplyVectors(e,t))},multiplyScalar:function(e){return this.x*=e,this.y*=e,this.z*=e,this},multiplyVectors:function(e,t){return this.x=e.x*t.x,this.y=e.y*t.y,this.z=e.z*t.z,this},applyEuler:function(){var e=new c;return function(t){return t&&t.isEuler||console.error("THREE.Vector3: .applyEuler() now expects an Euler rotation rather than a Vector3 and order."),this.applyQuaternion(e.setFromEuler(t))}}(),applyAxisAngle:function(){var e=new c;return function(t,n){return this.applyQuaternion(e.setFromAxisAngle(t,n))}}(),applyMatrix3:function(e){var t=this.x,n=this.y,r=this.z,i=e.elements;return this.x=i[0]*t+i[3]*n+i[6]*r,this.y=i[1]*t+i[4]*n+i[7]*r,this.z=i[2]*t+i[5]*n+i[8]*r,this},applyMatrix4:function(e){var t=this.x,n=this.y,r=this.z,i=e.elements,o=1/(i[3]*t+i[7]*n+i[11]*r+i[15]);return this.x=(i[0]*t+i[4]*n+i[8]*r+i[12])*o,this.y=(i[1]*t+i[5]*n+i[9]*r+i[13])*o,this.z=(i[2]*t+i[6]*n+i[10]*r+i[14])*o,this},applyQuaternion:function(e){var t=this.x,n=this.y,r=this.z,i=e.x,o=e.y,a=e.z,s=e.w,u=s*t+o*r-a*n,c=s*n+a*t-i*r,l=s*r+i*n-o*t,h=-i*t-o*n-a*r;return this.x=u*s+h*-i+c*-a-l*-o,this.y=c*s+h*-o+l*-i-u*-a,this.z=l*s+h*-a+u*-o-c*-i,this},project:function(){var e=new h;return function(t){return e.multiplyMatrices(t.projectionMatrix,e.getInverse(t.matrixWorld)),this.applyMatrix4(e)}}(),unproject:function(){var e=new h;return function(t){return e.multiplyMatrices(t.matrixWorld,e.getInverse(t.projectionMatrix)),this.applyMatrix4(e)}}(),transformDirection:function(e){var t=this.x,n=this.y,r=this.z,i=e.elements;return this.x=i[0]*t+i[4]*n+i[8]*r,this.y=i[1]*t+i[5]*n+i[9]*r,this.z=i[2]*t+i[6]*n+i[10]*r,this.normalize()},divide:function(e){return this.x/=e.x,this.y/=e.y,this.z/=e.z,this},divideScalar:function(e){return this.multiplyScalar(1/e)},min:function(e){return this.x=bo(this.x,e.x),this.y=bo(this.y,e.y),this.z=bo(this.z,e.z),this},max:function(e){return this.x=xo(this.x,e.x),this.y=xo(this.y,e.y),this.z=xo(this.z,e.z),this},clamp:function(e,t){return this.x=xo(e.x,bo(t.x,this.x)),this.y=xo(e.y,bo(t.y,this.y)),this.z=xo(e.z,bo(t.z,this.z)),this},clampScalar:function(){var e=new l,t=new l;return function(n,r){return e.set(n,n,n),t.set(r,r,r),this.clamp(e,t)}}(),clampLength:function(e,t){var n=this.length();return this.divideScalar(n||1).multiplyScalar(xo(e,bo(t,n)))},floor:function(){return this.x=wo(this.x),this.y=wo(this.y),this.z=wo(this.z),this},ceil:function(){return this.x=yo(this.x),this.y=yo(this.y),this.z=yo(this.z),this},round:function(){return this.x=lo(this.x),this.y=lo(this.y),this.z=lo(this.z),this},roundToZero:function(){return this.x=0>this.x?yo(this.x):wo(this.x),this.y=0>this.y?yo(this.y):wo(this.y),this.z=0>this.z?yo(this.z):wo(this.z),this},negate:function(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this},dot:function(e){return this.x*e.x+this.y*e.y+this.z*e.z},lengthSq:function(){return this.x*this.x+this.y*this.y+this.z*this.z},length:function(){return uo(this.x*this.x+this.y*this.y+this.z*this.z)},lengthManhattan:function(){return so(this.x)+so(this.y)+so(this.z)},normalize:function(){return this.divideScalar(this.length()||1)},setLength:function(e){return this.normalize().multiplyScalar(e)},lerp:function(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this.z+=(e.z-this.z)*t,this},lerpVectors:function(e,t,n){return this.subVectors(t,e).multiplyScalar(n).add(e)},cross:function(e,t){if(void 0!==t)return console.warn("THREE.Vector3: .cross() now only accepts one argument. Use .crossVectors( a, b ) instead."),this.crossVectors(e,t);var n=this.x,r=this.y,i=this.z;return this.x=r*e.z-i*e.y,this.y=i*e.x-n*e.z,this.z=n*e.y-r*e.x,this},crossVectors:function(e,t){var n=e.x,r=e.y,i=e.z,o=t.x,a=t.y,s=t.z;return this.x=r*s-i*a,this.y=i*o-n*s,this.z=n*a-r*o,this},projectOnVector:function(e){var t=e.dot(this)/e.lengthSq();return this.copy(e).multiplyScalar(t)},projectOnPlane:function(){var e=new l;return function(t){return e.copy(this).projectOnVector(t),this.sub(e)}}(),reflect:function(){var e=new l;return function(t){return this.sub(e.copy(t).multiplyScalar(2*this.dot(t)))}}(),angleTo:function(e){var t=this.dot(e)/uo(this.lengthSq()*e.lengthSq());return ro(Us.clamp(t,-1,1))},distanceTo:function(e){return uo(this.distanceToSquared(e))},distanceToSquared:function(e){var t=this.x-e.x,n=this.y-e.y,r=this.z-e.z;return t*t+n*n+r*r},distanceToManhattan:function(e){return so(this.x-e.x)+so(this.y-e.y)+so(this.z-e.z)},setFromSpherical:function(e){var t=io(e.phi)*e.radius;return this.x=t*io(e.theta),this.y=oo(e.phi)*e.radius,this.z=t*oo(e.theta),this},setFromCylindrical:function(e){return this.x=e.radius*io(e.theta),this.y=e.y,this.z=e.radius*oo(e.theta),this},setFromMatrixPosition:function(e){var t=e.elements;return this.x=t[12],this.y=t[13],this.z=t[14],this},setFromMatrixScale:function(e){var t=this.setFromMatrixColumn(e,0).length(),n=this.setFromMatrixColumn(e,1).length(),r=this.setFromMatrixColumn(e,2).length();return this.x=t,this.y=n,this.z=r,this},setFromMatrixColumn:function(e,t){return this.fromArray(e.elements,4*t)},equals:function(e){return e.x===this.x&&e.y===this.y&&e.z===this.z},fromArray:function(e,t){return void 0===t&&(t=0),this.x=e[t],this.y=e[t+1],this.z=e[t+2],this},toArray:function(e,t){return void 0===e&&(e=[]),void 0===t&&(t=0),e[t]=this.x,e[t+1]=this.y,e[t+2]=this.z,e},fromBufferAttribute:function(e,t,n){return void 0!==n&&console.warn("THREE.Vector3: offset has been removed from .fromBufferAttribute()."),this.x=e.getX(t),this.y=e.getY(t),this.z=e.getZ(t),this}}),Object.assign(h.prototype,{isMatrix4:!0,set:function(e,t,n,r,i,o,a,s,u,c,l,h,p,f,d,m){var g=this.elements;return g[0]=e,g[4]=t,g[8]=n,g[12]=r,g[1]=i,g[5]=o,g[9]=a,g[13]=s,g[2]=u,g[6]=c,g[10]=l,g[14]=h,g[3]=p,g[7]=f,g[11]=d,g[15]=m,this},identity:function(){return this.set(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1),this},clone:function(){return(new h).fromArray(this.elements)},copy:function(e){var t=this.elements,n=e.elements;return t[0]=n[0],t[1]=n[1],t[2]=n[2],t[3]=n[3],t[4]=n[4],t[5]=n[5],t[6]=n[6],t[7]=n[7],t[8]=n[8],t[9]=n[9],t[10]=n[10],t[11]=n[11],t[12]=n[12],t[13]=n[13],t[14]=n[14],t[15]=n[15],this},copyPosition:function(e){var t=this.elements,n=e.elements;return t[12]=n[12],t[13]=n[13],t[14]=n[14],this},extractBasis:function(e,t,n){return e.setFromMatrixColumn(this,0),t.setFromMatrixColumn(this,1),n.setFromMatrixColumn(this,2),this},makeBasis:function(e,t,n){return this.set(e.x,t.x,n.x,0,e.y,t.y,n.y,0,e.z,t.z,n.z,0,0,0,0,1),this},extractRotation:function(){var e=new l;return function(t){var n=this.elements,r=t.elements,i=1/e.setFromMatrixColumn(t,0).length(),o=1/e.setFromMatrixColumn(t,1).length(),a=1/e.setFromMatrixColumn(t,2).length();return n[0]=r[0]*i,n[1]=r[1]*i,n[2]=r[2]*i,n[4]=r[4]*o,n[5]=r[5]*o,n[6]=r[6]*o,n[8]=r[8]*a,n[9]=r[9]*a,n[10]=r[10]*a,this}}(),makeRotationFromEuler:function(e){e&&e.isEuler||console.error("THREE.Matrix4: .makeRotationFromEuler() now expects a Euler rotation rather than a Vector3 and order.");var t=this.elements,n=e.x,r=e.y,i=e.z,o=oo(n),a=io(n),s=oo(r),u=io(r),c=oo(i),l=io(i);if("XYZ"===e.order){var h=o*c,p=o*l,f=a*c,d=a*l;t[0]=s*c,t[4]=-s*l,t[8]=u,t[1]=p+f*u,t[5]=h-d*u,t[9]=-a*s,t[2]=d-h*u,t[6]=f+p*u,t[10]=o*s}else if("YXZ"===e.order){var m=s*c,g=s*l,v=u*c,y=u*l;t[0]=m+y*a,t[4]=v*a-g,t[8]=o*u,t[1]=o*l,t[5]=o*c,t[9]=-a,t[2]=g*a-v,t[6]=y+m*a,t[10]=o*s}else if("ZXY"===e.order){m=s*c,g=s*l,v=u*c,y=u*l;t[0]=m-y*a,t[4]=-o*l,t[8]=v+g*a,t[1]=g+v*a,t[5]=o*c,t[9]=y-m*a,t[2]=-o*u,t[6]=a,t[10]=o*s}else if("ZYX"===e.order){h=o*c,p=o*l,f=a*c,d=a*l;t[0]=s*c,t[4]=f*u-p,t[8]=h*u+d,t[1]=s*l,t[5]=d*u+h,t[9]=p*u-f,t[2]=-u,t[6]=a*s,t[10]=o*s}else if("YZX"===e.order){var x=o*s,b=o*u,w=a*s,_=a*u;t[0]=s*c,t[4]=_-x*l,t[8]=w*l+b,t[1]=l,t[5]=o*c,t[9]=-a*c,t[2]=-u*c,t[6]=b*l+w,t[10]=x-_*l}else if("XZY"===e.order){x=o*s,b=o*u,w=a*s,_=a*u;t[0]=s*c,t[4]=-l,t[8]=u*c,t[1]=x*l+_,t[5]=o*c,t[9]=b*l-w,t[2]=w*l-b,t[6]=a*c,t[10]=_*l+x}return t[3]=0,t[7]=0,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,this},makeRotationFromQuaternion:function(e){var t=this.elements,n=e._x,r=e._y,i=e._z,o=e._w,a=n+n,s=r+r,u=i+i,c=n*a,l=n*s,h=n*u,p=r*s,f=r*u,d=i*u,m=o*a,g=o*s,v=o*u;return t[0]=1-(p+d),t[4]=l-v,t[8]=h+g,t[1]=l+v,t[5]=1-(c+d),t[9]=f-m,t[2]=h-g,t[6]=f+m,t[10]=1-(c+p),t[3]=0,t[7]=0,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,this},lookAt:function(){var e=new l,t=new l,n=new l;return function(r,i,o){var a=this.elements;return n.subVectors(r,i),0===n.lengthSq()&&(n.z=1),n.normalize(),e.crossVectors(o,n),0===e.lengthSq()&&(1===so(o.z)?n.x+=1e-4:n.z+=1e-4,n.normalize(),e.crossVectors(o,n)),e.normalize(),t.crossVectors(n,e),a[0]=e.x,a[4]=t.x,a[8]=n.x,a[1]=e.y,a[5]=t.y,a[9]=n.y,a[2]=e.z,a[6]=t.z,a[10]=n.z,this}}(),multiply:function(e,t){return void 0===t?this.multiplyMatrices(this,e):(console.warn("THREE.Matrix4: .multiply() now only accepts one argument. Use .multiplyMatrices( a, b ) instead."),this.multiplyMatrices(e,t))},premultiply:function(e){return this.multiplyMatrices(e,this)},multiplyMatrices:function(e,t){var n=e.elements,r=t.elements,i=this.elements,o=n[0],a=n[4],s=n[8],u=n[12],c=n[1],l=n[5],h=n[9],p=n[13],f=n[2],d=n[6],m=n[10],g=n[14],v=n[3],y=n[7],x=n[11],b=n[15],w=r[0],_=r[4],E=r[8],S=r[12],T=r[1],A=r[5],M=r[9],C=r[13],D=r[2],L=r[6],P=r[10],R=r[14],O=r[3],I=r[7],k=r[11],N=r[15];return i[0]=o*w+a*T+s*D+u*O,i[4]=o*_+a*A+s*L+u*I,i[8]=o*E+a*M+s*P+u*k,i[12]=o*S+a*C+s*R+u*N,i[1]=c*w+l*T+h*D+p*O,i[5]=c*_+l*A+h*L+p*I,i[9]=c*E+l*M+h*P+p*k,i[13]=c*S+l*C+h*R+p*N,i[2]=f*w+d*T+m*D+g*O,i[6]=f*_+d*A+m*L+g*I,i[10]=f*E+d*M+m*P+g*k,i[14]=f*S+d*C+m*R+g*N,i[3]=v*w+y*T+x*D+b*O,i[7]=v*_+y*A+x*L+b*I,i[11]=v*E+y*M+x*P+b*k,i[15]=v*S+y*C+x*R+b*N,this},multiplyScalar:function(e){var t=this.elements;return t[0]*=e,t[4]*=e,t[8]*=e,t[12]*=e,t[1]*=e,t[5]*=e,t[9]*=e,t[13]*=e,t[2]*=e,t[6]*=e,t[10]*=e,t[14]*=e,t[3]*=e,t[7]*=e,t[11]*=e,t[15]*=e,this},applyToBufferAttribute:function(){var e=new l;return function(t){for(var n=0,r=t.count;n<r;n++)e.x=t.getX(n),e.y=t.getY(n),e.z=t.getZ(n),e.applyMatrix4(this),t.setXYZ(n,e.x,e.y,e.z);return t}}(),determinant:function(){var e=this.elements,t=e[0],n=e[4],r=e[8],i=e[12],o=e[1],a=e[5],s=e[9],u=e[13],c=e[2],l=e[6],h=e[10],p=e[14];return e[3]*(+i*s*l-r*u*l-i*a*h+n*u*h+r*a*p-n*s*p)+e[7]*(+t*s*p-t*u*h+i*o*h-r*o*p+r*u*c-i*s*c)+e[11]*(+t*u*l-t*a*p-i*o*l+n*o*p+i*a*c-n*u*c)+e[15]*(-r*a*c-t*s*l+t*a*h+r*o*l-n*o*h+n*s*c)},transpose:function(){var e,t=this.elements;return e=t[1],t[1]=t[4],t[4]=e,e=t[2],t[2]=t[8],t[8]=e,e=t[6],t[6]=t[9],t[9]=e,e=t[3],t[3]=t[12],t[12]=e,e=t[7],t[7]=t[13],t[13]=e,e=t[11],t[11]=t[14],t[14]=e,this},setPosition:function(e){var t=this.elements;return t[12]=e.x,t[13]=e.y,t[14]=e.z,this},getInverse:function(e,t){var n=this.elements,r=e.elements,i=r[0],o=r[1],a=r[2],s=r[3],u=r[4],c=r[5],l=r[6],h=r[7],p=r[8],f=r[9],d=r[10],m=r[11],g=r[12],v=r[13],y=r[14],x=r[15],b=f*y*h-v*d*h+v*l*m-c*y*m-f*l*x+c*d*x,w=g*d*h-p*y*h-g*l*m+u*y*m+p*l*x-u*d*x,_=p*v*h-g*f*h+g*c*m-u*v*m-p*c*x+u*f*x,E=g*f*l-p*v*l-g*c*d+u*v*d+p*c*y-u*f*y,S=i*b+o*w+a*_+s*E;if(0==S){var T="THREE.Matrix4: .getInverse() can't invert matrix, determinant is 0";if(!0===t)throw new Error(T);return console.warn(T),this.identity()}var A=1/S;return n[0]=b*A,n[1]=(v*d*s-f*y*s-v*a*m+o*y*m+f*a*x-o*d*x)*A,n[2]=(c*y*s-v*l*s+v*a*h-o*y*h-c*a*x+o*l*x)*A,n[3]=(f*l*s-c*d*s-f*a*h+o*d*h+c*a*m-o*l*m)*A,n[4]=w*A,n[5]=(p*y*s-g*d*s+g*a*m-i*y*m-p*a*x+i*d*x)*A,n[6]=(g*l*s-u*y*s-g*a*h+i*y*h+u*a*x-i*l*x)*A,n[7]=(u*d*s-p*l*s+p*a*h-i*d*h-u*a*m+i*l*m)*A,n[8]=_*A,n[9]=(g*f*s-p*v*s-g*o*m+i*v*m+p*o*x-i*f*x)*A,n[10]=(u*v*s-g*c*s+g*o*h-i*v*h-u*o*x+i*c*x)*A,n[11]=(p*c*s-u*f*s-p*o*h+i*f*h+u*o*m-i*c*m)*A,n[12]=E*A,n[13]=(p*v*a-g*f*a+g*o*d-i*v*d-p*o*y+i*f*y)*A,n[14]=(g*c*a-u*v*a-g*o*l+i*v*l+u*o*y-i*c*y)*A,n[15]=(u*f*a-p*c*a+p*o*l-i*f*l-u*o*d+i*c*d)*A,this},scale:function(e){var t=this.elements,n=e.x,r=e.y,i=e.z;return t[0]*=n,t[4]*=r,t[8]*=i,t[1]*=n,t[5]*=r,t[9]*=i,t[2]*=n,t[6]*=r,t[10]*=i,t[3]*=n,t[7]*=r,t[11]*=i,this},getMaxScaleOnAxis:function(){var e=this.elements,t=e[0]*e[0]+e[1]*e[1]+e[2]*e[2],n=e[4]*e[4]+e[5]*e[5]+e[6]*e[6],r=e[8]*e[8]+e[9]*e[9]+e[10]*e[10];return uo(xo(t,n,r))},makeTranslation:function(e,t,n){return this.set(1,0,0,e,0,1,0,t,0,0,1,n,0,0,0,1),this},makeRotationX:function(e){var t=oo(e),n=io(e);return this.set(1,0,0,0,0,t,-n,0,0,n,t,0,0,0,0,1),this},makeRotationY:function(e){var t=oo(e),n=io(e);return this.set(t,0,n,0,0,1,0,0,-n,0,t,0,0,0,0,1),this},makeRotationZ:function(e){var t=oo(e),n=io(e);return this.set(t,-n,0,0,n,t,0,0,0,0,1,0,0,0,0,1),this},makeRotationAxis:function(e,t){var n=oo(t),r=io(t),i=1-n,o=e.x,a=e.y,s=e.z,u=i*o,c=i*a;return this.set(u*o+n,u*a-r*s,u*s+r*a,0,u*a+r*s,c*a+n,c*s-r*o,0,u*s-r*a,c*s+r*o,i*s*s+n,0,0,0,0,1),this},makeScale:function(e,t,n){return this.set(e,0,0,0,0,t,0,0,0,0,n,0,0,0,0,1),this},makeShear:function(e,t,n){return this.set(1,t,n,0,e,1,n,0,e,t,1,0,0,0,0,1),this},compose:function(e,t,n){return this.makeRotationFromQuaternion(t),this.scale(n),this.setPosition(e),this},decompose:function(){var e=new l,t=new h;return function(n,r,i){var o=this.elements,a=e.set(o[0],o[1],o[2]).length(),s=e.set(o[4],o[5],o[6]).length(),u=e.set(o[8],o[9],o[10]).length();0>this.determinant()&&(a=-a),n.x=o[12],n.y=o[13],n.z=o[14],t.copy(this);var c=1/a,l=1/s,h=1/u;return t.elements[0]*=c,t.elements[1]*=c,t.elements[2]*=c,t.elements[4]*=l,t.elements[5]*=l,t.elements[6]*=l,t.elements[8]*=h,t.elements[9]*=h,t.elements[10]*=h,r.setFromRotationMatrix(t),i.x=a,i.y=s,i.z=u,this}}(),makePerspective:function(e,t,n,r,i,o){void 0===o&&console.warn("THREE.Matrix4: .makePerspective() has been redefined and has a new signature. Please check the docs.");var a=this.elements;return a[0]=2*i/(t-e),a[4]=0,a[8]=(t+e)/(t-e),a[12]=0,a[1]=0,a[5]=2*i/(n-r),a[9]=(n+r)/(n-r),a[13]=0,a[2]=0,a[6]=0,a[10]=-(o+i)/(o-i),a[14]=-2*o*i/(o-i),a[3]=0,a[7]=0,a[11]=-1,a[15]=0,this},makeOrthographic:function(e,t,n,r,i,o){var a=this.elements,s=1/(t-e),u=1/(n-r),c=1/(o-i);return a[0]=2*s,a[4]=0,a[8]=0,a[12]=-(t+e)*s,a[1]=0,a[5]=2*u,a[9]=0,a[13]=-(n+r)*u,a[2]=0,a[6]=0,a[10]=-2*c,a[14]=-(o+i)*c,a[3]=0,a[7]=0,a[11]=0,a[15]=1,this},equals:function(e){for(var t=this.elements,n=e.elements,r=0;16>r;r++)if(t[r]!==n[r])return!1;return!0},fromArray:function(e,t){void 0===t&&(t=0);for(var n=0;16>n;n++)this.elements[n]=e[n+t];return this},toArray:function(e,t){void 0===e&&(e=[]),void 0===t&&(t=0);var n=this.elements;return e[t]=n[0],e[t+1]=n[1],e[t+2]=n[2],e[t+3]=n[3],e[t+4]=n[4],e[t+5]=n[5],e[t+6]=n[6],e[t+7]=n[7],e[t+8]=n[8],e[t+9]=n[9],e[t+10]=n[10],e[t+11]=n[11],e[t+12]=n[12],e[t+13]=n[13],e[t+14]=n[14],e[t+15]=n[15],e}}),p.prototype=Object.create(o.prototype),p.prototype.constructor=p,p.prototype.isDataTexture=!0,f.prototype=Object.create(o.prototype),f.prototype.constructor=f,f.prototype.isCubeTexture=!0,Object.defineProperty(f.prototype,"images",{get:function(){return this.image},set:function(e){this.image=e}});var js=new o,Gs=new f,Hs=[],Vs=[],Ws=new Float32Array(16),Xs=new Float32Array(9);G.prototype.setValue=function(e,t){for(var n,r=this.seq,i=0,o=r.length;i!==o;++i)(n=r[i]).setValue(e,t[n.id])};var qs=/([\w\d_]+)(\])?(\[|\.)?/g;W.prototype.setValue=function(e,t,n){var r=this.map[t];void 0!==r&&r.setValue(e,n,this.renderer)},W.prototype.setOptional=function(e,t,n){var r=t[n];void 0!==r&&this.setValue(e,n,r)},W.upload=function(e,t,n,r){for(var i=0,o=t.length;i!==o;++i){var a=t[i],s=n[a.id];!1!==s.needsUpdate&&a.setValue(e,s.value,r)}},W.seqWithValue=function(e,t){for(var n,r=[],i=0,o=e.length;i!==o;++i)(n=e[i]).id in t&&r.push(n);return r};var Ys={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};Object.assign(X.prototype,{isColor:!0,r:1,g:1,b:1,set:function(e){return e&&e.isColor?this.copy(e):"number"==typeof e?this.setHex(e):"string"==typeof e&&this.setStyle(e),this},setScalar:function(e){return this.r=e,this.g=e,this.b=e,this},setHex:function(e){return e=wo(e),this.r=(255&e>>16)/255,this.g=(255&e>>8)/255,this.b=(255&e)/255,this},setRGB:function(e,t,n){return this.r=e,this.g=t,this.b=n,this},setHSL:function(){function e(e,t,n){return 0>n&&(n+=1),1<n&&(n-=1),n<1/6?e+6*(t-e)*n:n<.5?t:n<2/3?e+6*(t-e)*(2/3-n):e}return function(t,n,r){if(t=Us.euclideanModulo(t,1),n=Us.clamp(n,0,1),r=Us.clamp(r,0,1),0===n)this.r=this.g=this.b=r;else{var i=.5>=r?r*(1+n):r+n-r*n,o=2*r-i;this.r=e(o,i,t+1/3),this.g=e(o,i,t),this.b=e(o,i,t-1/3)}return this}}(),setStyle:function(e){function t(t){void 0===t||1>parseFloat(t)&&console.warn("THREE.Color: Alpha component of "+e+" will be ignored.")}var n;if(n=/^((?:rgb|hsl)a?)\(\s*([^\)]*)\)/.exec(e)){var r,i=n[1],o=n[2];switch(i){case"rgb":case"rgba":if(r=/^(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(,\s*([0-9]*\.?[0-9]+)\s*)?$/.exec(o))return this.r=bo(255,parseInt(r[1],10))/255,this.g=bo(255,parseInt(r[2],10))/255,this.b=bo(255,parseInt(r[3],10))/255,t(r[5]),this;if(r=/^(\d+)\%\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(,\s*([0-9]*\.?[0-9]+)\s*)?$/.exec(o))return this.r=bo(100,parseInt(r[1],10))/100,this.g=bo(100,parseInt(r[2],10))/100,this.b=bo(100,parseInt(r[3],10))/100,t(r[5]),this;break;case"hsl":case"hsla":if(r=/^([0-9]*\.?[0-9]+)\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(,\s*([0-9]*\.?[0-9]+)\s*)?$/.exec(o)){var a=parseFloat(r[1])/360,s=parseInt(r[2],10)/100,u=parseInt(r[3],10)/100;return t(r[5]),this.setHSL(a,s,u)}}}else if(n=/^\#([A-Fa-f0-9]+)$/.exec(e)){var c,l=(c=n[1]).length;if(3===l)return this.r=parseInt(c.charAt(0)+c.charAt(0),16)/255,this.g=parseInt(c.charAt(1)+c.charAt(1),16)/255,this.b=parseInt(c.charAt(2)+c.charAt(2),16)/255,this;if(6===l)return this.r=parseInt(c.charAt(0)+c.charAt(1),16)/255,this.g=parseInt(c.charAt(2)+c.charAt(3),16)/255,this.b=parseInt(c.charAt(4)+c.charAt(5),16)/255,this}e&&0<e.length&&(void 0===(c=Ys[e])?console.warn("THREE.Color: Unknown color "+e):this.setHex(c));return this},clone:function(){return new this.constructor(this.r,this.g,this.b)},copy:function(e){return this.r=e.r,this.g=e.g,this.b=e.b,this},copyGammaToLinear:function(e,t){return void 0===t&&(t=2),this.r=co(e.r,t),this.g=co(e.g,t),this.b=co(e.b,t),this},copyLinearToGamma:function(e,t){void 0===t&&(t=2);var n=0<t?1/t:1;return this.r=co(e.r,n),this.g=co(e.g,n),this.b=co(e.b,n),this},convertGammaToLinear:function(){var e=this.r,t=this.g,n=this.b;return this.r=e*e,this.g=t*t,this.b=n*n,this},convertLinearToGamma:function(){return this.r=uo(this.r),this.g=uo(this.g),this.b=uo(this.b),this},getHex:function(){return 255*this.r<<16^255*this.g<<8^255*this.b<<0},getHexString:function(){return("000000"+this.getHex().toString(16)).slice(-6)},getHSL:function(e){var t,n,r=e||{h:0,s:0,l:0},i=this.r,o=this.g,a=this.b,s=xo(i,o,a),u=bo(i,o,a),c=(u+s)/2;if(u===s)t=0,n=0;else{var l=s-u;n=.5>=c?l/(s+u):l/(2-s-u),s===i?t=(o-a)/l+(o<a?6:0):s===o?t=(a-i)/l+2:s===a&&(t=(i-o)/l+4),t/=6}return r.h=t,r.s=n,r.l=c,r},getStyle:function(){return"rgb("+(0|255*this.r)+","+(0|255*this.g)+","+(0|255*this.b)+")"},offsetHSL:function(e,t,n){var r=this.getHSL();return r.h+=e,r.s+=t,r.l+=n,this.setHSL(r.h,r.s,r.l),this},add:function(e){return this.r+=e.r,this.g+=e.g,this.b+=e.b,this},addColors:function(e,t){return this.r=e.r+t.r,this.g=e.g+t.g,this.b=e.b+t.b,this},addScalar:function(e){return this.r+=e,this.g+=e,this.b+=e,this},sub:function(e){return this.r=xo(0,this.r-e.r),this.g=xo(0,this.g-e.g),this.b=xo(0,this.b-e.b),this},multiply:function(e){return this.r*=e.r,this.g*=e.g,this.b*=e.b,this},multiplyScalar:function(e){return this.r*=e,this.g*=e,this.b*=e,this},lerp:function(e,t){return this.r+=(e.r-this.r)*t,this.g+=(e.g-this.g)*t,this.b+=(e.b-this.b)*t,this},equals:function(e){return e.r===this.r&&e.g===this.g&&e.b===this.b},fromArray:function(e,t){return void 0===t&&(t=0),this.r=e[t],this.g=e[t+1],this.b=e[t+2],this},toArray:function(e,t){return void 0===e&&(e=[]),void 0===t&&(t=0),e[t]=this.r,e[t+1]=this.g,e[t+2]=this.b,e},toJSON:function(){return this.getHex()}});var Js={common:{diffuse:{value:new X(15658734)},opacity:{value:1},map:{value:null},offsetRepeat:{value:new a(0,0,1,1)},alphaMap:{value:null}},specularmap:{specularMap:{value:null}},envmap:{envMap:{value:null},flipEnvMap:{value:-1},reflectivity:{value:1},refractionRatio:{value:.98}},aomap:{aoMap:{value:null},aoMapIntensity:{value:1}},lightmap:{lightMap:{value:null},lightMapIntensity:{value:1}},emissivemap:{emissiveMap:{value:null}},bumpmap:{bumpMap:{value:null},bumpScale:{value:1}},normalmap:{normalMap:{value:null},normalScale:{value:new i(1,1)}},displacementmap:{displacementMap:{value:null},displacementScale:{value:1},displacementBias:{value:0}},roughnessmap:{roughnessMap:{value:null}},metalnessmap:{metalnessMap:{value:null}},gradientmap:{gradientMap:{value:null}},fog:{fogDensity:{value:25e-5},fogNear:{value:1},fogFar:{value:2e3},fogColor:{value:new X(16777215)}},lights:{ambientLightColor:{value:[]},directionalLights:{value:[],properties:{direction:{},color:{},shadow:{},shadowBias:{},shadowRadius:{},shadowMapSize:{}}},directionalShadowMap:{value:[]},directionalShadowMatrix:{value:[]},spotLights:{value:[],properties:{color:{},position:{},direction:{},distance:{},coneCos:{},penumbraCos:{},decay:{},shadow:{},shadowBias:{},shadowRadius:{},shadowMapSize:{}}},spotShadowMap:{value:[]},spotShadowMatrix:{value:[]},pointLights:{value:[],properties:{color:{},position:{},decay:{},distance:{},shadow:{},shadowBias:{},shadowRadius:{},shadowMapSize:{},shadowCameraNear:{},shadowCameraFar:{}}},pointShadowMap:{value:[]},pointShadowMatrix:{value:[]},hemisphereLights:{value:[],properties:{direction:{},skyColor:{},groundColor:{}}},rectAreaLights:{value:[],properties:{color:{},position:{},width:{},height:{}}}},points:{diffuse:{value:new X(15658734)},opacity:{value:1},size:{value:1},scale:{value:1},map:{value:null},offsetRepeat:{value:new a(0,0,1,1)}}},Zs={merge:function(e){for(var t,n={},r=0;r<e.length;r++)for(var i in t=this.clone(e[r]))n[i]=t[i];return n},clone:function(e){var t={};for(var n in e)for(var r in t[n]={},e[n]){var i=e[n][r];t[n][r]=i&&(i.isColor||i.isMatrix3||i.isMatrix4||i.isVector2||i.isVector3||i.isVector4||i.isTexture)?i.clone():Array.isArray(i)?i.slice():i}return t}},Ks={alphamap_fragment:"#ifdef USE_ALPHAMAP\n\tdiffuseColor.a *= texture2D( alphaMap, vUv ).g;\n#endif\n",alphamap_pars_fragment:"#ifdef USE_ALPHAMAP\n\tuniform sampler2D alphaMap;\n#endif\n",alphatest_fragment:"#ifdef ALPHATEST\n\tif ( diffuseColor.a < ALPHATEST ) discard;\n#endif\n",aomap_fragment:"#ifdef USE_AOMAP\n\tfloat ambientOcclusion = ( texture2D( aoMap, vUv2 ).r - 1.0 ) * aoMapIntensity + 1.0;\n\treflectedLight.indirectDiffuse *= ambientOcclusion;\n\t#if defined( USE_ENVMAP ) && defined( PHYSICAL )\n\t\tfloat dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );\n\t\treflectedLight.indirectSpecular *= computeSpecularOcclusion( dotNV, ambientOcclusion, material.specularRoughness );\n\t#endif\n#endif\n",aomap_pars_fragment:"#ifdef USE_AOMAP\n\tuniform sampler2D aoMap;\n\tuniform float aoMapIntensity;\n#endif",begin_vertex:"\nvec3 transformed = vec3( position );\n",beginnormal_vertex:"\nvec3 objectNormal = vec3( normal );\n",bsdfs:"float punctualLightIntensityToIrradianceFactor( const in float lightDistance, const in float cutoffDistance, const in float decayExponent ) {\n\tif( decayExponent > 0.0 ) {\n#if defined ( PHYSICALLY_CORRECT_LIGHTS )\n\t\tfloat distanceFalloff = 1.0 / max( pow( lightDistance, decayExponent ), 0.01 );\n\t\tfloat maxDistanceCutoffFactor = pow2( saturate( 1.0 - pow4( lightDistance / cutoffDistance ) ) );\n\t\treturn distanceFalloff * maxDistanceCutoffFactor;\n#else\n\t\treturn pow( saturate( -lightDistance / cutoffDistance + 1.0 ), decayExponent );\n#endif\n\t}\n\treturn 1.0;\n}\nvec3 BRDF_Diffuse_Lambert( const in vec3 diffuseColor ) {\n\treturn RECIPROCAL_PI * diffuseColor;\n}\nvec3 F_Schlick( const in vec3 specularColor, const in float dotLH ) {\n\tfloat fresnel = exp2( ( -5.55473 * dotLH - 6.98316 ) * dotLH );\n\treturn ( 1.0 - specularColor ) * fresnel + specularColor;\n}\nfloat G_GGX_Smith( const in float alpha, const in float dotNL, const in float dotNV ) {\n\tfloat a2 = pow2( alpha );\n\tfloat gl = dotNL + sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );\n\tfloat gv = dotNV + sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );\n\treturn 1.0 / ( gl * gv );\n}\nfloat G_GGX_SmithCorrelated( const in float alpha, const in float dotNL, const in float dotNV ) {\n\tfloat a2 = pow2( alpha );\n\tfloat gv = dotNL * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );\n\tfloat gl = dotNV * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );\n\treturn 0.5 / max( gv + gl, EPSILON );\n}\nfloat D_GGX( const in float alpha, const in float dotNH ) {\n\tfloat a2 = pow2( alpha );\n\tfloat denom = pow2( dotNH ) * ( a2 - 1.0 ) + 1.0;\n\treturn RECIPROCAL_PI * a2 / pow2( denom );\n}\nvec3 BRDF_Specular_GGX( const in IncidentLight incidentLight, const in GeometricContext geometry, const in vec3 specularColor, const in float roughness ) {\n\tfloat alpha = pow2( roughness );\n\tvec3 halfDir = normalize( incidentLight.direction + geometry.viewDir );\n\tfloat dotNL = saturate( dot( geometry.normal, incidentLight.direction ) );\n\tfloat dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );\n\tfloat dotNH = saturate( dot( geometry.normal, halfDir ) );\n\tfloat dotLH = saturate( dot( incidentLight.direction, halfDir ) );\n\tvec3 F = F_Schlick( specularColor, dotLH );\n\tfloat G = G_GGX_SmithCorrelated( alpha, dotNL, dotNV );\n\tfloat D = D_GGX( alpha, dotNH );\n\treturn F * ( G * D );\n}\nvec2 LTC_Uv( const in vec3 N, const in vec3 V, const in float roughness ) {\n\tconst float LUT_SIZE  = 64.0;\n\tconst float LUT_SCALE = ( LUT_SIZE - 1.0 ) / LUT_SIZE;\n\tconst float LUT_BIAS  = 0.5 / LUT_SIZE;\n\tfloat theta = acos( dot( N, V ) );\n\tvec2 uv = vec2(\n\t\tsqrt( saturate( roughness ) ),\n\t\tsaturate( theta / ( 0.5 * PI ) ) );\n\tuv = uv * LUT_SCALE + LUT_BIAS;\n\treturn uv;\n}\nfloat LTC_ClippedSphereFormFactor( const in vec3 f ) {\n\tfloat l = length( f );\n\treturn max( ( l * l + f.z ) / ( l + 1.0 ), 0.0 );\n}\nvec3 LTC_EdgeVectorFormFactor( const in vec3 v1, const in vec3 v2 ) {\n\tfloat x = dot( v1, v2 );\n\tfloat y = abs( x );\n\tfloat a = 0.86267 + (0.49788 + 0.01436 * y ) * y;\n\tfloat b = 3.45068 + (4.18814 + y) * y;\n\tfloat v = a / b;\n\tfloat theta_sintheta = (x > 0.0) ? v : 0.5 * inversesqrt( 1.0 - x * x ) - v;\n\treturn cross( v1, v2 ) * theta_sintheta;\n}\nvec3 LTC_Evaluate( const in vec3 N, const in vec3 V, const in vec3 P, const in mat3 mInv, const in vec3 rectCoords[ 4 ] ) {\n\tvec3 v1 = rectCoords[ 1 ] - rectCoords[ 0 ];\n\tvec3 v2 = rectCoords[ 3 ] - rectCoords[ 0 ];\n\tvec3 lightNormal = cross( v1, v2 );\n\tif( dot( lightNormal, P - rectCoords[ 0 ] ) < 0.0 ) return vec3( 0.0 );\n\tvec3 T1, T2;\n\tT1 = normalize( V - N * dot( V, N ) );\n\tT2 = - cross( N, T1 );\n\tmat3 mat = mInv * transpose( mat3( T1, T2, N ) );\n\tvec3 coords[ 4 ];\n\tcoords[ 0 ] = mat * ( rectCoords[ 0 ] - P );\n\tcoords[ 1 ] = mat * ( rectCoords[ 1 ] - P );\n\tcoords[ 2 ] = mat * ( rectCoords[ 2 ] - P );\n\tcoords[ 3 ] = mat * ( rectCoords[ 3 ] - P );\n\tcoords[ 0 ] = normalize( coords[ 0 ] );\n\tcoords[ 1 ] = normalize( coords[ 1 ] );\n\tcoords[ 2 ] = normalize( coords[ 2 ] );\n\tcoords[ 3 ] = normalize( coords[ 3 ] );\n\tvec3 vectorFormFactor = vec3( 0.0 );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 0 ], coords[ 1 ] );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 1 ], coords[ 2 ] );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 2 ], coords[ 3 ] );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 3 ], coords[ 0 ] );\n\tvec3 result = vec3( LTC_ClippedSphereFormFactor( vectorFormFactor ) );\n\treturn result;\n}\nvec3 BRDF_Specular_GGX_Environment( const in GeometricContext geometry, const in vec3 specularColor, const in float roughness ) {\n\tfloat dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );\n\tconst vec4 c0 = vec4( - 1, - 0.0275, - 0.572, 0.022 );\n\tconst vec4 c1 = vec4( 1, 0.0425, 1.04, - 0.04 );\n\tvec4 r = roughness * c0 + c1;\n\tfloat a004 = min( r.x * r.x, exp2( - 9.28 * dotNV ) ) * r.x + r.y;\n\tvec2 AB = vec2( -1.04, 1.04 ) * a004 + r.zw;\n\treturn specularColor * AB.x + AB.y;\n}\nfloat G_BlinnPhong_Implicit( ) {\n\treturn 0.25;\n}\nfloat D_BlinnPhong( const in float shininess, const in float dotNH ) {\n\treturn RECIPROCAL_PI * ( shininess * 0.5 + 1.0 ) * pow( dotNH, shininess );\n}\nvec3 BRDF_Specular_BlinnPhong( const in IncidentLight incidentLight, const in GeometricContext geometry, const in vec3 specularColor, const in float shininess ) {\n\tvec3 halfDir = normalize( incidentLight.direction + geometry.viewDir );\n\tfloat dotNH = saturate( dot( geometry.normal, halfDir ) );\n\tfloat dotLH = saturate( dot( incidentLight.direction, halfDir ) );\n\tvec3 F = F_Schlick( specularColor, dotLH );\n\tfloat G = G_BlinnPhong_Implicit( );\n\tfloat D = D_BlinnPhong( shininess, dotNH );\n\treturn F * ( G * D );\n}\nfloat GGXRoughnessToBlinnExponent( const in float ggxRoughness ) {\n\treturn ( 2.0 / pow2( ggxRoughness + 0.0001 ) - 2.0 );\n}\nfloat BlinnExponentToGGXRoughness( const in float blinnExponent ) {\n\treturn sqrt( 2.0 / ( blinnExponent + 2.0 ) );\n}\n",bumpmap_pars_fragment:"#ifdef USE_BUMPMAP\n\tuniform sampler2D bumpMap;\n\tuniform float bumpScale;\n\tvec2 dHdxy_fwd() {\n\t\tvec2 dSTdx = dFdx( vUv );\n\t\tvec2 dSTdy = dFdy( vUv );\n\t\tfloat Hll = bumpScale * texture2D( bumpMap, vUv ).x;\n\t\tfloat dBx = bumpScale * texture2D( bumpMap, vUv + dSTdx ).x - Hll;\n\t\tfloat dBy = bumpScale * texture2D( bumpMap, vUv + dSTdy ).x - Hll;\n\t\treturn vec2( dBx, dBy );\n\t}\n\tvec3 perturbNormalArb( vec3 surf_pos, vec3 surf_norm, vec2 dHdxy ) {\n\t\tvec3 vSigmaX = vec3( dFdx( surf_pos.x ), dFdx( surf_pos.y ), dFdx( surf_pos.z ) );\n\t\tvec3 vSigmaY = vec3( dFdy( surf_pos.x ), dFdy( surf_pos.y ), dFdy( surf_pos.z ) );\n\t\tvec3 vN = surf_norm;\n\t\tvec3 R1 = cross( vSigmaY, vN );\n\t\tvec3 R2 = cross( vN, vSigmaX );\n\t\tfloat fDet = dot( vSigmaX, R1 );\n\t\tvec3 vGrad = sign( fDet ) * ( dHdxy.x * R1 + dHdxy.y * R2 );\n\t\treturn normalize( abs( fDet ) * surf_norm - vGrad );\n\t}\n#endif\n",clipping_planes_fragment:"#if NUM_CLIPPING_PLANES > 0\n\tfor ( int i = 0; i < UNION_CLIPPING_PLANES; ++ i ) {\n\t\tvec4 plane = clippingPlanes[ i ];\n\t\tif ( dot( vViewPosition, plane.xyz ) > plane.w ) discard;\n\t}\n\t\t\n\t#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES\n\t\tbool clipped = true;\n\t\tfor ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; ++ i ) {\n\t\t\tvec4 plane = clippingPlanes[ i ];\n\t\t\tclipped = ( dot( vViewPosition, plane.xyz ) > plane.w ) && clipped;\n\t\t}\n\t\tif ( clipped ) discard;\n\t\n\t#endif\n#endif\n",clipping_planes_pars_fragment:"#if NUM_CLIPPING_PLANES > 0\n\t#if ! defined( PHYSICAL ) && ! defined( PHONG )\n\t\tvarying vec3 vViewPosition;\n\t#endif\n\tuniform vec4 clippingPlanes[ NUM_CLIPPING_PLANES ];\n#endif\n",clipping_planes_pars_vertex:"#if NUM_CLIPPING_PLANES > 0 && ! defined( PHYSICAL ) && ! defined( PHONG )\n\tvarying vec3 vViewPosition;\n#endif\n",clipping_planes_vertex:"#if NUM_CLIPPING_PLANES > 0 && ! defined( PHYSICAL ) && ! defined( PHONG )\n\tvViewPosition = - mvPosition.xyz;\n#endif\n",color_fragment:"#ifdef USE_COLOR\n\tdiffuseColor.rgb *= vColor;\n#endif",color_pars_fragment:"#ifdef USE_COLOR\n\tvarying vec3 vColor;\n#endif\n",color_pars_vertex:"#ifdef USE_COLOR\n\tvarying vec3 vColor;\n#endif",color_vertex:"#ifdef USE_COLOR\n\tvColor.xyz = color.xyz;\n#endif",common:"#define PI 3.14159265359\n#define PI2 6.28318530718\n#define PI_HALF 1.5707963267949\n#define RECIPROCAL_PI 0.31830988618\n#define RECIPROCAL_PI2 0.15915494\n#define LOG2 1.442695\n#define EPSILON 1e-6\n#define saturate(a) clamp( a, 0.0, 1.0 )\n#define whiteCompliment(a) ( 1.0 - saturate( a ) )\nfloat pow2( const in float x ) { return x*x; }\nfloat pow3( const in float x ) { return x*x*x; }\nfloat pow4( const in float x ) { float x2 = x*x; return x2*x2; }\nfloat average( const in vec3 color ) { return dot( color, vec3( 0.3333 ) ); }\nhighp float rand( const in vec2 uv ) {\n\tconst highp float a = 12.9898, b = 78.233, c = 43758.5453;\n\thighp float dt = dot( uv.xy, vec2( a,b ) ), sn = mod( dt, PI );\n\treturn fract(sin(sn) * c);\n}\nstruct IncidentLight {\n\tvec3 color;\n\tvec3 direction;\n\tbool visible;\n};\nstruct ReflectedLight {\n\tvec3 directDiffuse;\n\tvec3 directSpecular;\n\tvec3 indirectDiffuse;\n\tvec3 indirectSpecular;\n};\nstruct GeometricContext {\n\tvec3 position;\n\tvec3 normal;\n\tvec3 viewDir;\n};\nvec3 transformDirection( in vec3 dir, in mat4 matrix ) {\n\treturn normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );\n}\nvec3 inverseTransformDirection( in vec3 dir, in mat4 matrix ) {\n\treturn normalize( ( vec4( dir, 0.0 ) * matrix ).xyz );\n}\nvec3 projectOnPlane(in vec3 point, in vec3 pointOnPlane, in vec3 planeNormal ) {\n\tfloat distance = dot( planeNormal, point - pointOnPlane );\n\treturn - distance * planeNormal + point;\n}\nfloat sideOfPlane( in vec3 point, in vec3 pointOnPlane, in vec3 planeNormal ) {\n\treturn sign( dot( point - pointOnPlane, planeNormal ) );\n}\nvec3 linePlaneIntersect( in vec3 pointOnLine, in vec3 lineDirection, in vec3 pointOnPlane, in vec3 planeNormal ) {\n\treturn lineDirection * ( dot( planeNormal, pointOnPlane - pointOnLine ) / dot( planeNormal, lineDirection ) ) + pointOnLine;\n}\nmat3 transpose( const in mat3 v ) {\n\tmat3 tmp;\n\ttmp[0] = vec3(v[0].x, v[1].x, v[2].x);\n\ttmp[1] = vec3(v[0].y, v[1].y, v[2].y);\n\ttmp[2] = vec3(v[0].z, v[1].z, v[2].z);\n\treturn tmp;\n}\n",cube_uv_reflection_fragment:"#ifdef ENVMAP_TYPE_CUBE_UV\n#define cubeUV_textureSize (1024.0)\nint getFaceFromDirection(vec3 direction) {\n\tvec3 absDirection = abs(direction);\n\tint face = -1;\n\tif( absDirection.x > absDirection.z ) {\n\t\tif(absDirection.x > absDirection.y )\n\t\t\tface = direction.x > 0.0 ? 0 : 3;\n\t\telse\n\t\t\tface = direction.y > 0.0 ? 1 : 4;\n\t}\n\telse {\n\t\tif(absDirection.z > absDirection.y )\n\t\t\tface = direction.z > 0.0 ? 2 : 5;\n\t\telse\n\t\t\tface = direction.y > 0.0 ? 1 : 4;\n\t}\n\treturn face;\n}\n#define cubeUV_maxLods1  (log2(cubeUV_textureSize*0.25) - 1.0)\n#define cubeUV_rangeClamp (exp2((6.0 - 1.0) * 2.0))\nvec2 MipLevelInfo( vec3 vec, float roughnessLevel, float roughness ) {\n\tfloat scale = exp2(cubeUV_maxLods1 - roughnessLevel);\n\tfloat dxRoughness = dFdx(roughness);\n\tfloat dyRoughness = dFdy(roughness);\n\tvec3 dx = dFdx( vec * scale * dxRoughness );\n\tvec3 dy = dFdy( vec * scale * dyRoughness );\n\tfloat d = max( dot( dx, dx ), dot( dy, dy ) );\n\td = clamp(d, 1.0, cubeUV_rangeClamp);\n\tfloat mipLevel = 0.5 * log2(d);\n\treturn vec2(floor(mipLevel), fract(mipLevel));\n}\n#define cubeUV_maxLods2 (log2(cubeUV_textureSize*0.25) - 2.0)\n#define cubeUV_rcpTextureSize (1.0 / cubeUV_textureSize)\nvec2 getCubeUV(vec3 direction, float roughnessLevel, float mipLevel) {\n\tmipLevel = roughnessLevel > cubeUV_maxLods2 - 3.0 ? 0.0 : mipLevel;\n\tfloat a = 16.0 * cubeUV_rcpTextureSize;\n\tvec2 exp2_packed = exp2( vec2( roughnessLevel, mipLevel ) );\n\tvec2 rcp_exp2_packed = vec2( 1.0 ) / exp2_packed;\n\tfloat powScale = exp2_packed.x * exp2_packed.y;\n\tfloat scale = rcp_exp2_packed.x * rcp_exp2_packed.y * 0.25;\n\tfloat mipOffset = 0.75*(1.0 - rcp_exp2_packed.y) * rcp_exp2_packed.x;\n\tbool bRes = mipLevel == 0.0;\n\tscale =  bRes && (scale < a) ? a : scale;\n\tvec3 r;\n\tvec2 offset;\n\tint face = getFaceFromDirection(direction);\n\tfloat rcpPowScale = 1.0 / powScale;\n\tif( face == 0) {\n\t\tr = vec3(direction.x, -direction.z, direction.y);\n\t\toffset = vec2(0.0+mipOffset,0.75 * rcpPowScale);\n\t\toffset.y = bRes && (offset.y < 2.0*a) ? a : offset.y;\n\t}\n\telse if( face == 1) {\n\t\tr = vec3(direction.y, direction.x, direction.z);\n\t\toffset = vec2(scale+mipOffset, 0.75 * rcpPowScale);\n\t\toffset.y = bRes && (offset.y < 2.0*a) ? a : offset.y;\n\t}\n\telse if( face == 2) {\n\t\tr = vec3(direction.z, direction.x, direction.y);\n\t\toffset = vec2(2.0*scale+mipOffset, 0.75 * rcpPowScale);\n\t\toffset.y = bRes && (offset.y < 2.0*a) ? a : offset.y;\n\t}\n\telse if( face == 3) {\n\t\tr = vec3(direction.x, direction.z, direction.y);\n\t\toffset = vec2(0.0+mipOffset,0.5 * rcpPowScale);\n\t\toffset.y = bRes && (offset.y < 2.0*a) ? 0.0 : offset.y;\n\t}\n\telse if( face == 4) {\n\t\tr = vec3(direction.y, direction.x, -direction.z);\n\t\toffset = vec2(scale+mipOffset, 0.5 * rcpPowScale);\n\t\toffset.y = bRes && (offset.y < 2.0*a) ? 0.0 : offset.y;\n\t}\n\telse {\n\t\tr = vec3(direction.z, -direction.x, direction.y);\n\t\toffset = vec2(2.0*scale+mipOffset, 0.5 * rcpPowScale);\n\t\toffset.y = bRes && (offset.y < 2.0*a) ? 0.0 : offset.y;\n\t}\n\tr = normalize(r);\n\tfloat texelOffset = 0.5 * cubeUV_rcpTextureSize;\n\tvec2 s = ( r.yz / abs( r.x ) + vec2( 1.0 ) ) * 0.5;\n\tvec2 base = offset + vec2( texelOffset );\n\treturn base + s * ( scale - 2.0 * texelOffset );\n}\n#define cubeUV_maxLods3 (log2(cubeUV_textureSize*0.25) - 3.0)\nvec4 textureCubeUV(vec3 reflectedDirection, float roughness ) {\n\tfloat roughnessVal = roughness* cubeUV_maxLods3;\n\tfloat r1 = floor(roughnessVal);\n\tfloat r2 = r1 + 1.0;\n\tfloat t = fract(roughnessVal);\n\tvec2 mipInfo = MipLevelInfo(reflectedDirection, r1, roughness);\n\tfloat s = mipInfo.y;\n\tfloat level0 = mipInfo.x;\n\tfloat level1 = level0 + 1.0;\n\tlevel1 = level1 > 5.0 ? 5.0 : level1;\n\tlevel0 += min( floor( s + 0.5 ), 5.0 );\n\tvec2 uv_10 = getCubeUV(reflectedDirection, r1, level0);\n\tvec4 color10 = envMapTexelToLinear(texture2D(envMap, uv_10));\n\tvec2 uv_20 = getCubeUV(reflectedDirection, r2, level0);\n\tvec4 color20 = envMapTexelToLinear(texture2D(envMap, uv_20));\n\tvec4 result = mix(color10, color20, t);\n\treturn vec4(result.rgb, 1.0);\n}\n#endif\n",defaultnormal_vertex:"vec3 transformedNormal = normalMatrix * objectNormal;\n#ifdef FLIP_SIDED\n\ttransformedNormal = - transformedNormal;\n#endif\n",displacementmap_pars_vertex:"#ifdef USE_DISPLACEMENTMAP\n\tuniform sampler2D displacementMap;\n\tuniform float displacementScale;\n\tuniform float displacementBias;\n#endif\n",displacementmap_vertex:"#ifdef USE_DISPLACEMENTMAP\n\ttransformed += normalize( objectNormal ) * ( texture2D( displacementMap, uv ).x * displacementScale + displacementBias );\n#endif\n",emissivemap_fragment:"#ifdef USE_EMISSIVEMAP\n\tvec4 emissiveColor = texture2D( emissiveMap, vUv );\n\temissiveColor.rgb = emissiveMapTexelToLinear( emissiveColor ).rgb;\n\ttotalEmissiveRadiance *= emissiveColor.rgb;\n#endif\n",emissivemap_pars_fragment:"#ifdef USE_EMISSIVEMAP\n\tuniform sampler2D emissiveMap;\n#endif\n",encodings_fragment:"  gl_FragColor = linearToOutputTexel( gl_FragColor );\n",encodings_pars_fragment:"\nvec4 LinearToLinear( in vec4 value ) {\n\treturn value;\n}\nvec4 GammaToLinear( in vec4 value, in float gammaFactor ) {\n\treturn vec4( pow( value.xyz, vec3( gammaFactor ) ), value.w );\n}\nvec4 LinearToGamma( in vec4 value, in float gammaFactor ) {\n\treturn vec4( pow( value.xyz, vec3( 1.0 / gammaFactor ) ), value.w );\n}\nvec4 sRGBToLinear( in vec4 value ) {\n\treturn vec4( mix( pow( value.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), value.rgb * 0.0773993808, vec3( lessThanEqual( value.rgb, vec3( 0.04045 ) ) ) ), value.w );\n}\nvec4 LinearTosRGB( in vec4 value ) {\n\treturn vec4( mix( pow( value.rgb, vec3( 0.41666 ) ) * 1.055 - vec3( 0.055 ), value.rgb * 12.92, vec3( lessThanEqual( value.rgb, vec3( 0.0031308 ) ) ) ), value.w );\n}\nvec4 RGBEToLinear( in vec4 value ) {\n\treturn vec4( value.rgb * exp2( value.a * 255.0 - 128.0 ), 1.0 );\n}\nvec4 LinearToRGBE( in vec4 value ) {\n\tfloat maxComponent = max( max( value.r, value.g ), value.b );\n\tfloat fExp = clamp( ceil( log2( maxComponent ) ), -128.0, 127.0 );\n\treturn vec4( value.rgb / exp2( fExp ), ( fExp + 128.0 ) / 255.0 );\n}\nvec4 RGBMToLinear( in vec4 value, in float maxRange ) {\n\treturn vec4( value.xyz * value.w * maxRange, 1.0 );\n}\nvec4 LinearToRGBM( in vec4 value, in float maxRange ) {\n\tfloat maxRGB = max( value.x, max( value.g, value.b ) );\n\tfloat M      = clamp( maxRGB / maxRange, 0.0, 1.0 );\n\tM            = ceil( M * 255.0 ) / 255.0;\n\treturn vec4( value.rgb / ( M * maxRange ), M );\n}\nvec4 RGBDToLinear( in vec4 value, in float maxRange ) {\n\treturn vec4( value.rgb * ( ( maxRange / 255.0 ) / value.a ), 1.0 );\n}\nvec4 LinearToRGBD( in vec4 value, in float maxRange ) {\n\tfloat maxRGB = max( value.x, max( value.g, value.b ) );\n\tfloat D      = max( maxRange / maxRGB, 1.0 );\n\tD            = min( floor( D ) / 255.0, 1.0 );\n\treturn vec4( value.rgb * ( D * ( 255.0 / maxRange ) ), D );\n}\nconst mat3 cLogLuvM = mat3( 0.2209, 0.3390, 0.4184, 0.1138, 0.6780, 0.7319, 0.0102, 0.1130, 0.2969 );\nvec4 LinearToLogLuv( in vec4 value )  {\n\tvec3 Xp_Y_XYZp = value.rgb * cLogLuvM;\n\tXp_Y_XYZp = max(Xp_Y_XYZp, vec3(1e-6, 1e-6, 1e-6));\n\tvec4 vResult;\n\tvResult.xy = Xp_Y_XYZp.xy / Xp_Y_XYZp.z;\n\tfloat Le = 2.0 * log2(Xp_Y_XYZp.y) + 127.0;\n\tvResult.w = fract(Le);\n\tvResult.z = (Le - (floor(vResult.w*255.0))/255.0)/255.0;\n\treturn vResult;\n}\nconst mat3 cLogLuvInverseM = mat3( 6.0014, -2.7008, -1.7996, -1.3320, 3.1029, -5.7721, 0.3008, -1.0882, 5.6268 );\nvec4 LogLuvToLinear( in vec4 value ) {\n\tfloat Le = value.z * 255.0 + value.w;\n\tvec3 Xp_Y_XYZp;\n\tXp_Y_XYZp.y = exp2((Le - 127.0) / 2.0);\n\tXp_Y_XYZp.z = Xp_Y_XYZp.y / value.y;\n\tXp_Y_XYZp.x = value.x * Xp_Y_XYZp.z;\n\tvec3 vRGB = Xp_Y_XYZp.rgb * cLogLuvInverseM;\n\treturn vec4( max(vRGB, 0.0), 1.0 );\n}\n",envmap_fragment:"#ifdef USE_ENVMAP\n\t#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG )\n\t\tvec3 cameraToVertex = normalize( vWorldPosition - cameraPosition );\n\t\tvec3 worldNormal = inverseTransformDirection( normal, viewMatrix );\n\t\t#ifdef ENVMAP_MODE_REFLECTION\n\t\t\tvec3 reflectVec = reflect( cameraToVertex, worldNormal );\n\t\t#else\n\t\t\tvec3 reflectVec = refract( cameraToVertex, worldNormal, refractionRatio );\n\t\t#endif\n\t#else\n\t\tvec3 reflectVec = vReflect;\n\t#endif\n\t#ifdef ENVMAP_TYPE_CUBE\n\t\tvec4 envColor = textureCube( envMap, vec3( flipEnvMap * reflectVec.x, reflectVec.yz ) );\n\t#elif defined( ENVMAP_TYPE_EQUIREC )\n\t\tvec2 sampleUV;\n\t\treflectVec = normalize( reflectVec );\n\t\tsampleUV.y = asin( clamp( reflectVec.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;\n\t\tsampleUV.x = atan( reflectVec.z, reflectVec.x ) * RECIPROCAL_PI2 + 0.5;\n\t\tvec4 envColor = texture2D( envMap, sampleUV );\n\t#elif defined( ENVMAP_TYPE_SPHERE )\n\t\treflectVec = normalize( reflectVec );\n\t\tvec3 reflectView = normalize( ( viewMatrix * vec4( reflectVec, 0.0 ) ).xyz + vec3( 0.0, 0.0, 1.0 ) );\n\t\tvec4 envColor = texture2D( envMap, reflectView.xy * 0.5 + 0.5 );\n\t#else\n\t\tvec4 envColor = vec4( 0.0 );\n\t#endif\n\tenvColor = envMapTexelToLinear( envColor );\n\t#ifdef ENVMAP_BLENDING_MULTIPLY\n\t\toutgoingLight = mix( outgoingLight, outgoingLight * envColor.xyz, specularStrength * reflectivity );\n\t#elif defined( ENVMAP_BLENDING_MIX )\n\t\toutgoingLight = mix( outgoingLight, envColor.xyz, specularStrength * reflectivity );\n\t#elif defined( ENVMAP_BLENDING_ADD )\n\t\toutgoingLight += envColor.xyz * specularStrength * reflectivity;\n\t#endif\n#endif\n",envmap_pars_fragment:"#if defined( USE_ENVMAP ) || defined( PHYSICAL )\n\tuniform float reflectivity;\n\tuniform float envMapIntensity;\n#endif\n#ifdef USE_ENVMAP\n\t#if ! defined( PHYSICAL ) && ( defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) )\n\t\tvarying vec3 vWorldPosition;\n\t#endif\n\t#ifdef ENVMAP_TYPE_CUBE\n\t\tuniform samplerCube envMap;\n\t#else\n\t\tuniform sampler2D envMap;\n\t#endif\n\tuniform float flipEnvMap;\n\t#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( PHYSICAL )\n\t\tuniform float refractionRatio;\n\t#else\n\t\tvarying vec3 vReflect;\n\t#endif\n#endif\n",envmap_pars_vertex:"#ifdef USE_ENVMAP\n\t#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG )\n\t\tvarying vec3 vWorldPosition;\n\t#else\n\t\tvarying vec3 vReflect;\n\t\tuniform float refractionRatio;\n\t#endif\n#endif\n",envmap_vertex:"#ifdef USE_ENVMAP\n\t#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG )\n\t\tvWorldPosition = worldPosition.xyz;\n\t#else\n\t\tvec3 cameraToVertex = normalize( worldPosition.xyz - cameraPosition );\n\t\tvec3 worldNormal = inverseTransformDirection( transformedNormal, viewMatrix );\n\t\t#ifdef ENVMAP_MODE_REFLECTION\n\t\t\tvReflect = reflect( cameraToVertex, worldNormal );\n\t\t#else\n\t\t\tvReflect = refract( cameraToVertex, worldNormal, refractionRatio );\n\t\t#endif\n\t#endif\n#endif\n",fog_vertex:"\n#ifdef USE_FOG\nfogDepth = -mvPosition.z;\n#endif",fog_pars_vertex:"#ifdef USE_FOG\n  varying float fogDepth;\n#endif\n",fog_fragment:"#ifdef USE_FOG\n\t#ifdef FOG_EXP2\n\t\tfloat fogFactor = whiteCompliment( exp2( - fogDensity * fogDensity * fogDepth * fogDepth * LOG2 ) );\n\t#else\n\t\tfloat fogFactor = smoothstep( fogNear, fogFar, fogDepth );\n\t#endif\n\tgl_FragColor.rgb = mix( gl_FragColor.rgb, fogColor, fogFactor );\n#endif\n",fog_pars_fragment:"#ifdef USE_FOG\n\tuniform vec3 fogColor;\n\tvarying float fogDepth;\n\t#ifdef FOG_EXP2\n\t\tuniform float fogDensity;\n\t#else\n\t\tuniform float fogNear;\n\t\tuniform float fogFar;\n\t#endif\n#endif\n",gradientmap_pars_fragment:"#ifdef TOON\n\tuniform sampler2D gradientMap;\n\tvec3 getGradientIrradiance( vec3 normal, vec3 lightDirection ) {\n\t\tfloat dotNL = dot( normal, lightDirection );\n\t\tvec2 coord = vec2( dotNL * 0.5 + 0.5, 0.0 );\n\t\t#ifdef USE_GRADIENTMAP\n\t\t\treturn texture2D( gradientMap, coord ).rgb;\n\t\t#else\n\t\t\treturn ( coord.x < 0.7 ) ? vec3( 0.7 ) : vec3( 1.0 );\n\t\t#endif\n\t}\n#endif\n",lightmap_fragment:"#ifdef USE_LIGHTMAP\n\treflectedLight.indirectDiffuse += PI * texture2D( lightMap, vUv2 ).xyz * lightMapIntensity;\n#endif\n",lightmap_pars_fragment:"#ifdef USE_LIGHTMAP\n\tuniform sampler2D lightMap;\n\tuniform float lightMapIntensity;\n#endif",lights_lambert_vertex:"vec3 diffuse = vec3( 1.0 );\nGeometricContext geometry;\ngeometry.position = mvPosition.xyz;\ngeometry.normal = normalize( transformedNormal );\ngeometry.viewDir = normalize( -mvPosition.xyz );\nGeometricContext backGeometry;\nbackGeometry.position = geometry.position;\nbackGeometry.normal = -geometry.normal;\nbackGeometry.viewDir = geometry.viewDir;\nvLightFront = vec3( 0.0 );\n#ifdef DOUBLE_SIDED\n\tvLightBack = vec3( 0.0 );\n#endif\nIncidentLight directLight;\nfloat dotNL;\nvec3 directLightColor_Diffuse;\n#if NUM_POINT_LIGHTS > 0\n\tfor ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {\n\t\tgetPointDirectLightIrradiance( pointLights[ i ], geometry, directLight );\n\t\tdotNL = dot( geometry.normal, directLight.direction );\n\t\tdirectLightColor_Diffuse = PI * directLight.color;\n\t\tvLightFront += saturate( dotNL ) * directLightColor_Diffuse;\n\t\t#ifdef DOUBLE_SIDED\n\t\t\tvLightBack += saturate( -dotNL ) * directLightColor_Diffuse;\n\t\t#endif\n\t}\n#endif\n#if NUM_SPOT_LIGHTS > 0\n\tfor ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {\n\t\tgetSpotDirectLightIrradiance( spotLights[ i ], geometry, directLight );\n\t\tdotNL = dot( geometry.normal, directLight.direction );\n\t\tdirectLightColor_Diffuse = PI * directLight.color;\n\t\tvLightFront += saturate( dotNL ) * directLightColor_Diffuse;\n\t\t#ifdef DOUBLE_SIDED\n\t\t\tvLightBack += saturate( -dotNL ) * directLightColor_Diffuse;\n\t\t#endif\n\t}\n#endif\n#if NUM_DIR_LIGHTS > 0\n\tfor ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {\n\t\tgetDirectionalDirectLightIrradiance( directionalLights[ i ], geometry, directLight );\n\t\tdotNL = dot( geometry.normal, directLight.direction );\n\t\tdirectLightColor_Diffuse = PI * directLight.color;\n\t\tvLightFront += saturate( dotNL ) * directLightColor_Diffuse;\n\t\t#ifdef DOUBLE_SIDED\n\t\t\tvLightBack += saturate( -dotNL ) * directLightColor_Diffuse;\n\t\t#endif\n\t}\n#endif\n#if NUM_HEMI_LIGHTS > 0\n\tfor ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {\n\t\tvLightFront += getHemisphereLightIrradiance( hemisphereLights[ i ], geometry );\n\t\t#ifdef DOUBLE_SIDED\n\t\t\tvLightBack += getHemisphereLightIrradiance( hemisphereLights[ i ], backGeometry );\n\t\t#endif\n\t}\n#endif\n",lights_pars:"uniform vec3 ambientLightColor;\nvec3 getAmbientLightIrradiance( const in vec3 ambientLightColor ) {\n\tvec3 irradiance = ambientLightColor;\n\t#ifndef PHYSICALLY_CORRECT_LIGHTS\n\t\tirradiance *= PI;\n\t#endif\n\treturn irradiance;\n}\n#if NUM_DIR_LIGHTS > 0\n\tstruct DirectionalLight {\n\t\tvec3 direction;\n\t\tvec3 color;\n\t\tint shadow;\n\t\tfloat shadowBias;\n\t\tfloat shadowRadius;\n\t\tvec2 shadowMapSize;\n\t};\n\tuniform DirectionalLight directionalLights[ NUM_DIR_LIGHTS ];\n\tvoid getDirectionalDirectLightIrradiance( const in DirectionalLight directionalLight, const in GeometricContext geometry, out IncidentLight directLight ) {\n\t\tdirectLight.color = directionalLight.color;\n\t\tdirectLight.direction = directionalLight.direction;\n\t\tdirectLight.visible = true;\n\t}\n#endif\n#if NUM_POINT_LIGHTS > 0\n\tstruct PointLight {\n\t\tvec3 position;\n\t\tvec3 color;\n\t\tfloat distance;\n\t\tfloat decay;\n\t\tint shadow;\n\t\tfloat shadowBias;\n\t\tfloat shadowRadius;\n\t\tvec2 shadowMapSize;\n\t\tfloat shadowCameraNear;\n\t\tfloat shadowCameraFar;\n\t};\n\tuniform PointLight pointLights[ NUM_POINT_LIGHTS ];\n\tvoid getPointDirectLightIrradiance( const in PointLight pointLight, const in GeometricContext geometry, out IncidentLight directLight ) {\n\t\tvec3 lVector = pointLight.position - geometry.position;\n\t\tdirectLight.direction = normalize( lVector );\n\t\tfloat lightDistance = length( lVector );\n\t\tdirectLight.color = pointLight.color;\n\t\tdirectLight.color *= punctualLightIntensityToIrradianceFactor( lightDistance, pointLight.distance, pointLight.decay );\n\t\tdirectLight.visible = ( directLight.color != vec3( 0.0 ) );\n\t}\n#endif\n#if NUM_SPOT_LIGHTS > 0\n\tstruct SpotLight {\n\t\tvec3 position;\n\t\tvec3 direction;\n\t\tvec3 color;\n\t\tfloat distance;\n\t\tfloat decay;\n\t\tfloat coneCos;\n\t\tfloat penumbraCos;\n\t\tint shadow;\n\t\tfloat shadowBias;\n\t\tfloat shadowRadius;\n\t\tvec2 shadowMapSize;\n\t};\n\tuniform SpotLight spotLights[ NUM_SPOT_LIGHTS ];\n\tvoid getSpotDirectLightIrradiance( const in SpotLight spotLight, const in GeometricContext geometry, out IncidentLight directLight  ) {\n\t\tvec3 lVector = spotLight.position - geometry.position;\n\t\tdirectLight.direction = normalize( lVector );\n\t\tfloat lightDistance = length( lVector );\n\t\tfloat angleCos = dot( directLight.direction, spotLight.direction );\n\t\tif ( angleCos > spotLight.coneCos ) {\n\t\t\tfloat spotEffect = smoothstep( spotLight.coneCos, spotLight.penumbraCos, angleCos );\n\t\t\tdirectLight.color = spotLight.color;\n\t\t\tdirectLight.color *= spotEffect * punctualLightIntensityToIrradianceFactor( lightDistance, spotLight.distance, spotLight.decay );\n\t\t\tdirectLight.visible = true;\n\t\t} else {\n\t\t\tdirectLight.color = vec3( 0.0 );\n\t\t\tdirectLight.visible = false;\n\t\t}\n\t}\n#endif\n#if NUM_RECT_AREA_LIGHTS > 0\n\tstruct RectAreaLight {\n\t\tvec3 color;\n\t\tvec3 position;\n\t\tvec3 halfWidth;\n\t\tvec3 halfHeight;\n\t};\n\tuniform sampler2D ltcMat;\tuniform sampler2D ltcMag;\n\tuniform RectAreaLight rectAreaLights[ NUM_RECT_AREA_LIGHTS ];\n#endif\n#if NUM_HEMI_LIGHTS > 0\n\tstruct HemisphereLight {\n\t\tvec3 direction;\n\t\tvec3 skyColor;\n\t\tvec3 groundColor;\n\t};\n\tuniform HemisphereLight hemisphereLights[ NUM_HEMI_LIGHTS ];\n\tvec3 getHemisphereLightIrradiance( const in HemisphereLight hemiLight, const in GeometricContext geometry ) {\n\t\tfloat dotNL = dot( geometry.normal, hemiLight.direction );\n\t\tfloat hemiDiffuseWeight = 0.5 * dotNL + 0.5;\n\t\tvec3 irradiance = mix( hemiLight.groundColor, hemiLight.skyColor, hemiDiffuseWeight );\n\t\t#ifndef PHYSICALLY_CORRECT_LIGHTS\n\t\t\tirradiance *= PI;\n\t\t#endif\n\t\treturn irradiance;\n\t}\n#endif\n#if defined( USE_ENVMAP ) && defined( PHYSICAL )\n\tvec3 getLightProbeIndirectIrradiance( const in GeometricContext geometry, const in int maxMIPLevel ) {\n\t\tvec3 worldNormal = inverseTransformDirection( geometry.normal, viewMatrix );\n\t\t#ifdef ENVMAP_TYPE_CUBE\n\t\t\tvec3 queryVec = vec3( flipEnvMap * worldNormal.x, worldNormal.yz );\n\t\t\t#ifdef TEXTURE_LOD_EXT\n\t\t\t\tvec4 envMapColor = textureCubeLodEXT( envMap, queryVec, float( maxMIPLevel ) );\n\t\t\t#else\n\t\t\t\tvec4 envMapColor = textureCube( envMap, queryVec, float( maxMIPLevel ) );\n\t\t\t#endif\n\t\t\tenvMapColor.rgb = envMapTexelToLinear( envMapColor ).rgb;\n\t\t#elif defined( ENVMAP_TYPE_CUBE_UV )\n\t\t\tvec3 queryVec = vec3( flipEnvMap * worldNormal.x, worldNormal.yz );\n\t\t\tvec4 envMapColor = textureCubeUV( queryVec, 1.0 );\n\t\t#else\n\t\t\tvec4 envMapColor = vec4( 0.0 );\n\t\t#endif\n\t\treturn PI * envMapColor.rgb * envMapIntensity;\n\t}\n\tfloat getSpecularMIPLevel( const in float blinnShininessExponent, const in int maxMIPLevel ) {\n\t\tfloat maxMIPLevelScalar = float( maxMIPLevel );\n\t\tfloat desiredMIPLevel = maxMIPLevelScalar - 0.79248 - 0.5 * log2( pow2( blinnShininessExponent ) + 1.0 );\n\t\treturn clamp( desiredMIPLevel, 0.0, maxMIPLevelScalar );\n\t}\n\tvec3 getLightProbeIndirectRadiance( const in GeometricContext geometry, const in float blinnShininessExponent, const in int maxMIPLevel ) {\n\t\t#ifdef ENVMAP_MODE_REFLECTION\n\t\t\tvec3 reflectVec = reflect( -geometry.viewDir, geometry.normal );\n\t\t#else\n\t\t\tvec3 reflectVec = refract( -geometry.viewDir, geometry.normal, refractionRatio );\n\t\t#endif\n\t\treflectVec = inverseTransformDirection( reflectVec, viewMatrix );\n\t\tfloat specularMIPLevel = getSpecularMIPLevel( blinnShininessExponent, maxMIPLevel );\n\t\t#ifdef ENVMAP_TYPE_CUBE\n\t\t\tvec3 queryReflectVec = vec3( flipEnvMap * reflectVec.x, reflectVec.yz );\n\t\t\t#ifdef TEXTURE_LOD_EXT\n\t\t\t\tvec4 envMapColor = textureCubeLodEXT( envMap, queryReflectVec, specularMIPLevel );\n\t\t\t#else\n\t\t\t\tvec4 envMapColor = textureCube( envMap, queryReflectVec, specularMIPLevel );\n\t\t\t#endif\n\t\t\tenvMapColor.rgb = envMapTexelToLinear( envMapColor ).rgb;\n\t\t#elif defined( ENVMAP_TYPE_CUBE_UV )\n\t\t\tvec3 queryReflectVec = vec3( flipEnvMap * reflectVec.x, reflectVec.yz );\n\t\t\tvec4 envMapColor = textureCubeUV(queryReflectVec, BlinnExponentToGGXRoughness(blinnShininessExponent));\n\t\t#elif defined( ENVMAP_TYPE_EQUIREC )\n\t\t\tvec2 sampleUV;\n\t\t\tsampleUV.y = asin( clamp( reflectVec.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;\n\t\t\tsampleUV.x = atan( reflectVec.z, reflectVec.x ) * RECIPROCAL_PI2 + 0.5;\n\t\t\t#ifdef TEXTURE_LOD_EXT\n\t\t\t\tvec4 envMapColor = texture2DLodEXT( envMap, sampleUV, specularMIPLevel );\n\t\t\t#else\n\t\t\t\tvec4 envMapColor = texture2D( envMap, sampleUV, specularMIPLevel );\n\t\t\t#endif\n\t\t\tenvMapColor.rgb = envMapTexelToLinear( envMapColor ).rgb;\n\t\t#elif defined( ENVMAP_TYPE_SPHERE )\n\t\t\tvec3 reflectView = normalize( ( viewMatrix * vec4( reflectVec, 0.0 ) ).xyz + vec3( 0.0,0.0,1.0 ) );\n\t\t\t#ifdef TEXTURE_LOD_EXT\n\t\t\t\tvec4 envMapColor = texture2DLodEXT( envMap, reflectView.xy * 0.5 + 0.5, specularMIPLevel );\n\t\t\t#else\n\t\t\t\tvec4 envMapColor = texture2D( envMap, reflectView.xy * 0.5 + 0.5, specularMIPLevel );\n\t\t\t#endif\n\t\t\tenvMapColor.rgb = envMapTexelToLinear( envMapColor ).rgb;\n\t\t#endif\n\t\treturn envMapColor.rgb * envMapIntensity;\n\t}\n#endif\n",lights_phong_fragment:"BlinnPhongMaterial material;\nmaterial.diffuseColor = diffuseColor.rgb;\nmaterial.specularColor = specular;\nmaterial.specularShininess = shininess;\nmaterial.specularStrength = specularStrength;\n",lights_phong_pars_fragment:"varying vec3 vViewPosition;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\nstruct BlinnPhongMaterial {\n\tvec3\tdiffuseColor;\n\tvec3\tspecularColor;\n\tfloat\tspecularShininess;\n\tfloat\tspecularStrength;\n};\nvoid RE_Direct_BlinnPhong( const in IncidentLight directLight, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {\n\t#ifdef TOON\n\t\tvec3 irradiance = getGradientIrradiance( geometry.normal, directLight.direction ) * directLight.color;\n\t#else\n\t\tfloat dotNL = saturate( dot( geometry.normal, directLight.direction ) );\n\t\tvec3 irradiance = dotNL * directLight.color;\n\t#endif\n\t#ifndef PHYSICALLY_CORRECT_LIGHTS\n\t\tirradiance *= PI;\n\t#endif\n\treflectedLight.directDiffuse += irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );\n\treflectedLight.directSpecular += irradiance * BRDF_Specular_BlinnPhong( directLight, geometry, material.specularColor, material.specularShininess ) * material.specularStrength;\n}\nvoid RE_IndirectDiffuse_BlinnPhong( const in vec3 irradiance, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {\n\treflectedLight.indirectDiffuse += irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );\n}\n#define RE_Direct\t\t\t\tRE_Direct_BlinnPhong\n#define RE_IndirectDiffuse\t\tRE_IndirectDiffuse_BlinnPhong\n#define Material_LightProbeLOD( material )\t(0)\n",lights_physical_fragment:"PhysicalMaterial material;\nmaterial.diffuseColor = diffuseColor.rgb * ( 1.0 - metalnessFactor );\nmaterial.specularRoughness = clamp( roughnessFactor, 0.04, 1.0 );\n#ifdef STANDARD\n\tmaterial.specularColor = mix( vec3( DEFAULT_SPECULAR_COEFFICIENT ), diffuseColor.rgb, metalnessFactor );\n#else\n\tmaterial.specularColor = mix( vec3( MAXIMUM_SPECULAR_COEFFICIENT * pow2( reflectivity ) ), diffuseColor.rgb, metalnessFactor );\n\tmaterial.clearCoat = saturate( clearCoat );\tmaterial.clearCoatRoughness = clamp( clearCoatRoughness, 0.04, 1.0 );\n#endif\n",lights_physical_pars_fragment:"struct PhysicalMaterial {\n\tvec3\tdiffuseColor;\n\tfloat\tspecularRoughness;\n\tvec3\tspecularColor;\n\t#ifndef STANDARD\n\t\tfloat clearCoat;\n\t\tfloat clearCoatRoughness;\n\t#endif\n};\n#define MAXIMUM_SPECULAR_COEFFICIENT 0.16\n#define DEFAULT_SPECULAR_COEFFICIENT 0.04\nfloat clearCoatDHRApprox( const in float roughness, const in float dotNL ) {\n\treturn DEFAULT_SPECULAR_COEFFICIENT + ( 1.0 - DEFAULT_SPECULAR_COEFFICIENT ) * ( pow( 1.0 - dotNL, 5.0 ) * pow( 1.0 - roughness, 2.0 ) );\n}\n#if NUM_RECT_AREA_LIGHTS > 0\n\tvoid RE_Direct_RectArea_Physical( const in RectAreaLight rectAreaLight, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\n\t\tvec3 normal = geometry.normal;\n\t\tvec3 viewDir = geometry.viewDir;\n\t\tvec3 position = geometry.position;\n\t\tvec3 lightPos = rectAreaLight.position;\n\t\tvec3 halfWidth = rectAreaLight.halfWidth;\n\t\tvec3 halfHeight = rectAreaLight.halfHeight;\n\t\tvec3 lightColor = rectAreaLight.color;\n\t\tfloat roughness = material.specularRoughness;\n\t\tvec3 rectCoords[ 4 ];\n\t\trectCoords[ 0 ] = lightPos - halfWidth - halfHeight;\t\trectCoords[ 1 ] = lightPos + halfWidth - halfHeight;\n\t\trectCoords[ 2 ] = lightPos + halfWidth + halfHeight;\n\t\trectCoords[ 3 ] = lightPos - halfWidth + halfHeight;\n\t\tvec2 uv = LTC_Uv( normal, viewDir, roughness );\n\t\tfloat norm = texture2D( ltcMag, uv ).a;\n\t\tvec4 t = texture2D( ltcMat, uv );\n\t\tmat3 mInv = mat3(\n\t\t\tvec3(   1,   0, t.y ),\n\t\t\tvec3(   0, t.z,   0 ),\n\t\t\tvec3( t.w,   0, t.x )\n\t\t);\n\t\treflectedLight.directSpecular += lightColor * material.specularColor * norm * LTC_Evaluate( normal, viewDir, position, mInv, rectCoords );\n\t\treflectedLight.directDiffuse += lightColor * material.diffuseColor * LTC_Evaluate( normal, viewDir, position, mat3( 1 ), rectCoords );\n\t}\n#endif\nvoid RE_Direct_Physical( const in IncidentLight directLight, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\n\tfloat dotNL = saturate( dot( geometry.normal, directLight.direction ) );\n\tvec3 irradiance = dotNL * directLight.color;\n\t#ifndef PHYSICALLY_CORRECT_LIGHTS\n\t\tirradiance *= PI;\n\t#endif\n\t#ifndef STANDARD\n\t\tfloat clearCoatDHR = material.clearCoat * clearCoatDHRApprox( material.clearCoatRoughness, dotNL );\n\t#else\n\t\tfloat clearCoatDHR = 0.0;\n\t#endif\n\treflectedLight.directSpecular += ( 1.0 - clearCoatDHR ) * irradiance * BRDF_Specular_GGX( directLight, geometry, material.specularColor, material.specularRoughness );\n\treflectedLight.directDiffuse += ( 1.0 - clearCoatDHR ) * irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );\n\t#ifndef STANDARD\n\t\treflectedLight.directSpecular += irradiance * material.clearCoat * BRDF_Specular_GGX( directLight, geometry, vec3( DEFAULT_SPECULAR_COEFFICIENT ), material.clearCoatRoughness );\n\t#endif\n}\nvoid RE_IndirectDiffuse_Physical( const in vec3 irradiance, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\n\treflectedLight.indirectDiffuse += irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );\n}\nvoid RE_IndirectSpecular_Physical( const in vec3 radiance, const in vec3 clearCoatRadiance, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\n\t#ifndef STANDARD\n\t\tfloat dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );\n\t\tfloat dotNL = dotNV;\n\t\tfloat clearCoatDHR = material.clearCoat * clearCoatDHRApprox( material.clearCoatRoughness, dotNL );\n\t#else\n\t\tfloat clearCoatDHR = 0.0;\n\t#endif\n\treflectedLight.indirectSpecular += ( 1.0 - clearCoatDHR ) * radiance * BRDF_Specular_GGX_Environment( geometry, material.specularColor, material.specularRoughness );\n\t#ifndef STANDARD\n\t\treflectedLight.indirectSpecular += clearCoatRadiance * material.clearCoat * BRDF_Specular_GGX_Environment( geometry, vec3( DEFAULT_SPECULAR_COEFFICIENT ), material.clearCoatRoughness );\n\t#endif\n}\n#define RE_Direct\t\t\t\tRE_Direct_Physical\n#define RE_Direct_RectArea\t\tRE_Direct_RectArea_Physical\n#define RE_IndirectDiffuse\t\tRE_IndirectDiffuse_Physical\n#define RE_IndirectSpecular\t\tRE_IndirectSpecular_Physical\n#define Material_BlinnShininessExponent( material )   GGXRoughnessToBlinnExponent( material.specularRoughness )\n#define Material_ClearCoat_BlinnShininessExponent( material )   GGXRoughnessToBlinnExponent( material.clearCoatRoughness )\nfloat computeSpecularOcclusion( const in float dotNV, const in float ambientOcclusion, const in float roughness ) {\n\treturn saturate( pow( dotNV + ambientOcclusion, exp2( - 16.0 * roughness - 1.0 ) ) - 1.0 + ambientOcclusion );\n}\n",lights_template:"\nGeometricContext geometry;\ngeometry.position = - vViewPosition;\ngeometry.normal = normal;\ngeometry.viewDir = normalize( vViewPosition );\nIncidentLight directLight;\n#if ( NUM_POINT_LIGHTS > 0 ) && defined( RE_Direct )\n\tPointLight pointLight;\n\tfor ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {\n\t\tpointLight = pointLights[ i ];\n\t\tgetPointDirectLightIrradiance( pointLight, geometry, directLight );\n\t\t#ifdef USE_SHADOWMAP\n\t\tdirectLight.color *= all( bvec2( pointLight.shadow, directLight.visible ) ) ? getPointShadow( pointShadowMap[ i ], pointLight.shadowMapSize, pointLight.shadowBias, pointLight.shadowRadius, vPointShadowCoord[ i ], pointLight.shadowCameraNear, pointLight.shadowCameraFar ) : 1.0;\n\t\t#endif\n\t\tRE_Direct( directLight, geometry, material, reflectedLight );\n\t}\n#endif\n#if ( NUM_SPOT_LIGHTS > 0 ) && defined( RE_Direct )\n\tSpotLight spotLight;\n\tfor ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {\n\t\tspotLight = spotLights[ i ];\n\t\tgetSpotDirectLightIrradiance( spotLight, geometry, directLight );\n\t\t#ifdef USE_SHADOWMAP\n\t\tdirectLight.color *= all( bvec2( spotLight.shadow, directLight.visible ) ) ? getShadow( spotShadowMap[ i ], spotLight.shadowMapSize, spotLight.shadowBias, spotLight.shadowRadius, vSpotShadowCoord[ i ] ) : 1.0;\n\t\t#endif\n\t\tRE_Direct( directLight, geometry, material, reflectedLight );\n\t}\n#endif\n#if ( NUM_DIR_LIGHTS > 0 ) && defined( RE_Direct )\n\tDirectionalLight directionalLight;\n\tfor ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {\n\t\tdirectionalLight = directionalLights[ i ];\n\t\tgetDirectionalDirectLightIrradiance( directionalLight, geometry, directLight );\n\t\t#ifdef USE_SHADOWMAP\n\t\tdirectLight.color *= all( bvec2( directionalLight.shadow, directLight.visible ) ) ? getShadow( directionalShadowMap[ i ], directionalLight.shadowMapSize, directionalLight.shadowBias, directionalLight.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;\n\t\t#endif\n\t\tRE_Direct( directLight, geometry, material, reflectedLight );\n\t}\n#endif\n#if ( NUM_RECT_AREA_LIGHTS > 0 ) && defined( RE_Direct_RectArea )\n\tRectAreaLight rectAreaLight;\n\tfor ( int i = 0; i < NUM_RECT_AREA_LIGHTS; i ++ ) {\n\t\trectAreaLight = rectAreaLights[ i ];\n\t\tRE_Direct_RectArea( rectAreaLight, geometry, material, reflectedLight );\n\t}\n#endif\n#if defined( RE_IndirectDiffuse )\n\tvec3 irradiance = getAmbientLightIrradiance( ambientLightColor );\n\t#ifdef USE_LIGHTMAP\n\t\tvec3 lightMapIrradiance = texture2D( lightMap, vUv2 ).xyz * lightMapIntensity;\n\t\t#ifndef PHYSICALLY_CORRECT_LIGHTS\n\t\t\tlightMapIrradiance *= PI;\n\t\t#endif\n\t\tirradiance += lightMapIrradiance;\n\t#endif\n\t#if ( NUM_HEMI_LIGHTS > 0 )\n\t\tfor ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {\n\t\t\tirradiance += getHemisphereLightIrradiance( hemisphereLights[ i ], geometry );\n\t\t}\n\t#endif\n\t#if defined( USE_ENVMAP ) && defined( PHYSICAL ) && defined( ENVMAP_TYPE_CUBE_UV )\n\t\tirradiance += getLightProbeIndirectIrradiance( geometry, 8 );\n\t#endif\n\tRE_IndirectDiffuse( irradiance, geometry, material, reflectedLight );\n#endif\n#if defined( USE_ENVMAP ) && defined( RE_IndirectSpecular )\n\tvec3 radiance = getLightProbeIndirectRadiance( geometry, Material_BlinnShininessExponent( material ), 8 );\n\t#ifndef STANDARD\n\t\tvec3 clearCoatRadiance = getLightProbeIndirectRadiance( geometry, Material_ClearCoat_BlinnShininessExponent( material ), 8 );\n\t#else\n\t\tvec3 clearCoatRadiance = vec3( 0.0 );\n\t#endif\n\tRE_IndirectSpecular( radiance, clearCoatRadiance, geometry, material, reflectedLight );\n#endif\n",logdepthbuf_fragment:"#if defined(USE_LOGDEPTHBUF) && defined(USE_LOGDEPTHBUF_EXT)\n\tgl_FragDepthEXT = log2(vFragDepth) * logDepthBufFC * 0.5;\n#endif",logdepthbuf_pars_fragment:"#ifdef USE_LOGDEPTHBUF\n\tuniform float logDepthBufFC;\n\t#ifdef USE_LOGDEPTHBUF_EXT\n\t\tvarying float vFragDepth;\n\t#endif\n#endif\n",logdepthbuf_pars_vertex:"#ifdef USE_LOGDEPTHBUF\n\t#ifdef USE_LOGDEPTHBUF_EXT\n\t\tvarying float vFragDepth;\n\t#endif\n\tuniform float logDepthBufFC;\n#endif",logdepthbuf_vertex:"#ifdef USE_LOGDEPTHBUF\n\tgl_Position.z = log2(max( EPSILON, gl_Position.w + 1.0 )) * logDepthBufFC;\n\t#ifdef USE_LOGDEPTHBUF_EXT\n\t\tvFragDepth = 1.0 + gl_Position.w;\n\t#else\n\t\tgl_Position.z = (gl_Position.z - 1.0) * gl_Position.w;\n\t#endif\n#endif\n",map_fragment:"#ifdef USE_MAP\n\tvec4 texelColor = texture2D( map, vUv );\n\ttexelColor = mapTexelToLinear( texelColor );\n\tdiffuseColor *= texelColor;\n#endif\n",map_pars_fragment:"#ifdef USE_MAP\n\tuniform sampler2D map;\n#endif\n",map_particle_fragment:"#ifdef USE_MAP\n\tvec4 mapTexel = texture2D( map, vec2( gl_PointCoord.x, 1.0 - gl_PointCoord.y ) * offsetRepeat.zw + offsetRepeat.xy );\n\tdiffuseColor *= mapTexelToLinear( mapTexel );\n#endif\n",map_particle_pars_fragment:"#ifdef USE_MAP\n\tuniform vec4 offsetRepeat;\n\tuniform sampler2D map;\n#endif\n",metalnessmap_fragment:"float metalnessFactor = metalness;\n#ifdef USE_METALNESSMAP\n\tvec4 texelMetalness = texture2D( metalnessMap, vUv );\n\tmetalnessFactor *= texelMetalness.b;\n#endif\n",metalnessmap_pars_fragment:"#ifdef USE_METALNESSMAP\n\tuniform sampler2D metalnessMap;\n#endif",morphnormal_vertex:"#ifdef USE_MORPHNORMALS\n\tobjectNormal += ( morphNormal0 - normal ) * morphTargetInfluences[ 0 ];\n\tobjectNormal += ( morphNormal1 - normal ) * morphTargetInfluences[ 1 ];\n\tobjectNormal += ( morphNormal2 - normal ) * morphTargetInfluences[ 2 ];\n\tobjectNormal += ( morphNormal3 - normal ) * morphTargetInfluences[ 3 ];\n#endif\n",morphtarget_pars_vertex:"#ifdef USE_MORPHTARGETS\n\t#ifndef USE_MORPHNORMALS\n\tuniform float morphTargetInfluences[ 8 ];\n\t#else\n\tuniform float morphTargetInfluences[ 4 ];\n\t#endif\n#endif",morphtarget_vertex:"#ifdef USE_MORPHTARGETS\n\ttransformed += ( morphTarget0 - position ) * morphTargetInfluences[ 0 ];\n\ttransformed += ( morphTarget1 - position ) * morphTargetInfluences[ 1 ];\n\ttransformed += ( morphTarget2 - position ) * morphTargetInfluences[ 2 ];\n\ttransformed += ( morphTarget3 - position ) * morphTargetInfluences[ 3 ];\n\t#ifndef USE_MORPHNORMALS\n\ttransformed += ( morphTarget4 - position ) * morphTargetInfluences[ 4 ];\n\ttransformed += ( morphTarget5 - position ) * morphTargetInfluences[ 5 ];\n\ttransformed += ( morphTarget6 - position ) * morphTargetInfluences[ 6 ];\n\ttransformed += ( morphTarget7 - position ) * morphTargetInfluences[ 7 ];\n\t#endif\n#endif\n",normal_fragment:"#ifdef FLAT_SHADED\n\tvec3 fdx = vec3( dFdx( vViewPosition.x ), dFdx( vViewPosition.y ), dFdx( vViewPosition.z ) );\n\tvec3 fdy = vec3( dFdy( vViewPosition.x ), dFdy( vViewPosition.y ), dFdy( vViewPosition.z ) );\n\tvec3 normal = normalize( cross( fdx, fdy ) );\n#else\n\tvec3 normal = normalize( vNormal );\n\t#ifdef DOUBLE_SIDED\n\t\tnormal = normal * ( float( gl_FrontFacing ) * 2.0 - 1.0 );\n\t#endif\n#endif\n#ifdef USE_NORMALMAP\n\tnormal = perturbNormal2Arb( -vViewPosition, normal );\n#elif defined( USE_BUMPMAP )\n\tnormal = perturbNormalArb( -vViewPosition, normal, dHdxy_fwd() );\n#endif\n",normalmap_pars_fragment:"#ifdef USE_NORMALMAP\n\tuniform sampler2D normalMap;\n\tuniform vec2 normalScale;\n\tvec3 perturbNormal2Arb( vec3 eye_pos, vec3 surf_norm ) {\n\t\tvec3 q0 = vec3( dFdx( eye_pos.x ), dFdx( eye_pos.y ), dFdx( eye_pos.z ) );\n\t\tvec3 q1 = vec3( dFdy( eye_pos.x ), dFdy( eye_pos.y ), dFdy( eye_pos.z ) );\n\t\tvec2 st0 = dFdx( vUv.st );\n\t\tvec2 st1 = dFdy( vUv.st );\n\t\tvec3 S = normalize( q0 * st1.t - q1 * st0.t );\n\t\tvec3 T = normalize( -q0 * st1.s + q1 * st0.s );\n\t\tvec3 N = normalize( surf_norm );\n\t\tvec3 mapN = texture2D( normalMap, vUv ).xyz * 2.0 - 1.0;\n\t\tmapN.xy = normalScale * mapN.xy;\n\t\tmat3 tsn = mat3( S, T, N );\n\t\treturn normalize( tsn * mapN );\n\t}\n#endif\n",packing:"vec3 packNormalToRGB( const in vec3 normal ) {\n\treturn normalize( normal ) * 0.5 + 0.5;\n}\nvec3 unpackRGBToNormal( const in vec3 rgb ) {\n\treturn 1.0 - 2.0 * rgb.xyz;\n}\nconst float PackUpscale = 256. / 255.;const float UnpackDownscale = 255. / 256.;\nconst vec3 PackFactors = vec3( 256. * 256. * 256., 256. * 256.,  256. );\nconst vec4 UnpackFactors = UnpackDownscale / vec4( PackFactors, 1. );\nconst float ShiftRight8 = 1. / 256.;\nvec4 packDepthToRGBA( const in float v ) {\n\tvec4 r = vec4( fract( v * PackFactors ), v );\n\tr.yzw -= r.xyz * ShiftRight8;\treturn r * PackUpscale;\n}\nfloat unpackRGBAToDepth( const in vec4 v ) {\n\treturn dot( v, UnpackFactors );\n}\nfloat viewZToOrthographicDepth( const in float viewZ, const in float near, const in float far ) {\n\treturn ( viewZ + near ) / ( near - far );\n}\nfloat orthographicDepthToViewZ( const in float linearClipZ, const in float near, const in float far ) {\n\treturn linearClipZ * ( near - far ) - near;\n}\nfloat viewZToPerspectiveDepth( const in float viewZ, const in float near, const in float far ) {\n\treturn (( near + viewZ ) * far ) / (( far - near ) * viewZ );\n}\nfloat perspectiveDepthToViewZ( const in float invClipZ, const in float near, const in float far ) {\n\treturn ( near * far ) / ( ( far - near ) * invClipZ - far );\n}\n",premultiplied_alpha_fragment:"#ifdef PREMULTIPLIED_ALPHA\n\tgl_FragColor.rgb *= gl_FragColor.a;\n#endif\n",project_vertex:"vec4 mvPosition = modelViewMatrix * vec4( transformed, 1.0 );\ngl_Position = projectionMatrix * mvPosition;\n",dithering_fragment:"#if defined( DITHERING )\n  gl_FragColor.rgb = dithering( gl_FragColor.rgb );\n#endif\n",dithering_pars_fragment:"#if defined( DITHERING )\n\tvec3 dithering( vec3 color ) {\n\t\tfloat grid_position = rand( gl_FragCoord.xy );\n\t\tvec3 dither_shift_RGB = vec3( 0.25 / 255.0, -0.25 / 255.0, 0.25 / 255.0 );\n\t\tdither_shift_RGB = mix( 2.0 * dither_shift_RGB, -2.0 * dither_shift_RGB, grid_position );\n\t\treturn color + dither_shift_RGB;\n\t}\n#endif\n",roughnessmap_fragment:"float roughnessFactor = roughness;\n#ifdef USE_ROUGHNESSMAP\n\tvec4 texelRoughness = texture2D( roughnessMap, vUv );\n\troughnessFactor *= texelRoughness.g;\n#endif\n",roughnessmap_pars_fragment:"#ifdef USE_ROUGHNESSMAP\n\tuniform sampler2D roughnessMap;\n#endif",shadowmap_pars_fragment:"#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHTS > 0\n\t\tuniform sampler2D directionalShadowMap[ NUM_DIR_LIGHTS ];\n\t\tvarying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHTS ];\n\t#endif\n\t#if NUM_SPOT_LIGHTS > 0\n\t\tuniform sampler2D spotShadowMap[ NUM_SPOT_LIGHTS ];\n\t\tvarying vec4 vSpotShadowCoord[ NUM_SPOT_LIGHTS ];\n\t#endif\n\t#if NUM_POINT_LIGHTS > 0\n\t\tuniform sampler2D pointShadowMap[ NUM_POINT_LIGHTS ];\n\t\tvarying vec4 vPointShadowCoord[ NUM_POINT_LIGHTS ];\n\t#endif\n\tfloat texture2DCompare( sampler2D depths, vec2 uv, float compare ) {\n\t\treturn step( compare, unpackRGBAToDepth( texture2D( depths, uv ) ) );\n\t}\n\tfloat texture2DShadowLerp( sampler2D depths, vec2 size, vec2 uv, float compare ) {\n\t\tconst vec2 offset = vec2( 0.0, 1.0 );\n\t\tvec2 texelSize = vec2( 1.0 ) / size;\n\t\tvec2 centroidUV = floor( uv * size + 0.5 ) / size;\n\t\tfloat lb = texture2DCompare( depths, centroidUV + texelSize * offset.xx, compare );\n\t\tfloat lt = texture2DCompare( depths, centroidUV + texelSize * offset.xy, compare );\n\t\tfloat rb = texture2DCompare( depths, centroidUV + texelSize * offset.yx, compare );\n\t\tfloat rt = texture2DCompare( depths, centroidUV + texelSize * offset.yy, compare );\n\t\tvec2 f = fract( uv * size + 0.5 );\n\t\tfloat a = mix( lb, lt, f.y );\n\t\tfloat b = mix( rb, rt, f.y );\n\t\tfloat c = mix( a, b, f.x );\n\t\treturn c;\n\t}\n\tfloat getShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord ) {\n\t\tfloat shadow = 1.0;\n\t\tshadowCoord.xyz /= shadowCoord.w;\n\t\tshadowCoord.z += shadowBias;\n\t\tbvec4 inFrustumVec = bvec4 ( shadowCoord.x >= 0.0, shadowCoord.x <= 1.0, shadowCoord.y >= 0.0, shadowCoord.y <= 1.0 );\n\t\tbool inFrustum = all( inFrustumVec );\n\t\tbvec2 frustumTestVec = bvec2( inFrustum, shadowCoord.z <= 1.0 );\n\t\tbool frustumTest = all( frustumTestVec );\n\t\tif ( frustumTest ) {\n\t\t#if defined( SHADOWMAP_TYPE_PCF )\n\t\t\tvec2 texelSize = vec2( 1.0 ) / shadowMapSize;\n\t\t\tfloat dx0 = - texelSize.x * shadowRadius;\n\t\t\tfloat dy0 = - texelSize.y * shadowRadius;\n\t\t\tfloat dx1 = + texelSize.x * shadowRadius;\n\t\t\tfloat dy1 = + texelSize.y * shadowRadius;\n\t\t\tshadow = (\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy1 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy1 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy1 ), shadowCoord.z )\n\t\t\t) * ( 1.0 / 9.0 );\n\t\t#elif defined( SHADOWMAP_TYPE_PCF_SOFT )\n\t\t\tvec2 texelSize = vec2( 1.0 ) / shadowMapSize;\n\t\t\tfloat dx0 = - texelSize.x * shadowRadius;\n\t\t\tfloat dy0 = - texelSize.y * shadowRadius;\n\t\t\tfloat dx1 = + texelSize.x * shadowRadius;\n\t\t\tfloat dy1 = + texelSize.y * shadowRadius;\n\t\t\tshadow = (\n\t\t\t\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( dx0, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( 0.0, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( dx1, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( dx0, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy, shadowCoord.z ) +\n\t\t\t\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( dx1, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( dx0, dy1 ), shadowCoord.z ) +\n\t\t\t\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( 0.0, dy1 ), shadowCoord.z ) +\n\t\t\t\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( dx1, dy1 ), shadowCoord.z )\n\t\t\t) * ( 1.0 / 9.0 );\n\t\t#else\n\t\t\tshadow = texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z );\n\t\t#endif\n\t\t}\n\t\treturn shadow;\n\t}\n\tvec2 cubeToUV( vec3 v, float texelSizeY ) {\n\t\tvec3 absV = abs( v );\n\t\tfloat scaleToCube = 1.0 / max( absV.x, max( absV.y, absV.z ) );\n\t\tabsV *= scaleToCube;\n\t\tv *= scaleToCube * ( 1.0 - 2.0 * texelSizeY );\n\t\tvec2 planar = v.xy;\n\t\tfloat almostATexel = 1.5 * texelSizeY;\n\t\tfloat almostOne = 1.0 - almostATexel;\n\t\tif ( absV.z >= almostOne ) {\n\t\t\tif ( v.z > 0.0 )\n\t\t\t\tplanar.x = 4.0 - v.x;\n\t\t} else if ( absV.x >= almostOne ) {\n\t\t\tfloat signX = sign( v.x );\n\t\t\tplanar.x = v.z * signX + 2.0 * signX;\n\t\t} else if ( absV.y >= almostOne ) {\n\t\t\tfloat signY = sign( v.y );\n\t\t\tplanar.x = v.x + 2.0 * signY + 2.0;\n\t\t\tplanar.y = v.z * signY - 2.0;\n\t\t}\n\t\treturn vec2( 0.125, 0.25 ) * planar + vec2( 0.375, 0.75 );\n\t}\n\tfloat getPointShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord, float shadowCameraNear, float shadowCameraFar ) {\n\t\tvec2 texelSize = vec2( 1.0 ) / ( shadowMapSize * vec2( 4.0, 2.0 ) );\n\t\tvec3 lightToPosition = shadowCoord.xyz;\n\t\tfloat dp = ( length( lightToPosition ) - shadowCameraNear ) / ( shadowCameraFar - shadowCameraNear );\t\tdp += shadowBias;\n\t\tvec3 bd3D = normalize( lightToPosition );\n\t\t#if defined( SHADOWMAP_TYPE_PCF ) || defined( SHADOWMAP_TYPE_PCF_SOFT )\n\t\t\tvec2 offset = vec2( - 1, 1 ) * shadowRadius * texelSize.y;\n\t\t\treturn (\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyx, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyx, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxx, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxx, texelSize.y ), dp )\n\t\t\t) * ( 1.0 / 9.0 );\n\t\t#else\n\t\t\treturn texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp );\n\t\t#endif\n\t}\n#endif\n",shadowmap_pars_vertex:"#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHTS > 0\n\t\tuniform mat4 directionalShadowMatrix[ NUM_DIR_LIGHTS ];\n\t\tvarying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHTS ];\n\t#endif\n\t#if NUM_SPOT_LIGHTS > 0\n\t\tuniform mat4 spotShadowMatrix[ NUM_SPOT_LIGHTS ];\n\t\tvarying vec4 vSpotShadowCoord[ NUM_SPOT_LIGHTS ];\n\t#endif\n\t#if NUM_POINT_LIGHTS > 0\n\t\tuniform mat4 pointShadowMatrix[ NUM_POINT_LIGHTS ];\n\t\tvarying vec4 vPointShadowCoord[ NUM_POINT_LIGHTS ];\n\t#endif\n#endif\n",shadowmap_vertex:"#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHTS > 0\n\tfor ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {\n\t\tvDirectionalShadowCoord[ i ] = directionalShadowMatrix[ i ] * worldPosition;\n\t}\n\t#endif\n\t#if NUM_SPOT_LIGHTS > 0\n\tfor ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {\n\t\tvSpotShadowCoord[ i ] = spotShadowMatrix[ i ] * worldPosition;\n\t}\n\t#endif\n\t#if NUM_POINT_LIGHTS > 0\n\tfor ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {\n\t\tvPointShadowCoord[ i ] = pointShadowMatrix[ i ] * worldPosition;\n\t}\n\t#endif\n#endif\n",shadowmask_pars_fragment:"float getShadowMask() {\n\tfloat shadow = 1.0;\n\t#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHTS > 0\n\tDirectionalLight directionalLight;\n\tfor ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {\n\t\tdirectionalLight = directionalLights[ i ];\n\t\tshadow *= bool( directionalLight.shadow ) ? getShadow( directionalShadowMap[ i ], directionalLight.shadowMapSize, directionalLight.shadowBias, directionalLight.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;\n\t}\n\t#endif\n\t#if NUM_SPOT_LIGHTS > 0\n\tSpotLight spotLight;\n\tfor ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {\n\t\tspotLight = spotLights[ i ];\n\t\tshadow *= bool( spotLight.shadow ) ? getShadow( spotShadowMap[ i ], spotLight.shadowMapSize, spotLight.shadowBias, spotLight.shadowRadius, vSpotShadowCoord[ i ] ) : 1.0;\n\t}\n\t#endif\n\t#if NUM_POINT_LIGHTS > 0\n\tPointLight pointLight;\n\tfor ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {\n\t\tpointLight = pointLights[ i ];\n\t\tshadow *= bool( pointLight.shadow ) ? getPointShadow( pointShadowMap[ i ], pointLight.shadowMapSize, pointLight.shadowBias, pointLight.shadowRadius, vPointShadowCoord[ i ], pointLight.shadowCameraNear, pointLight.shadowCameraFar ) : 1.0;\n\t}\n\t#endif\n\t#endif\n\treturn shadow;\n}\n",skinbase_vertex:"#ifdef USE_SKINNING\n\tmat4 boneMatX = getBoneMatrix( skinIndex.x );\n\tmat4 boneMatY = getBoneMatrix( skinIndex.y );\n\tmat4 boneMatZ = getBoneMatrix( skinIndex.z );\n\tmat4 boneMatW = getBoneMatrix( skinIndex.w );\n#endif",skinning_pars_vertex:"#ifdef USE_SKINNING\n\tuniform mat4 bindMatrix;\n\tuniform mat4 bindMatrixInverse;\n\t#ifdef BONE_TEXTURE\n\t\tuniform sampler2D boneTexture;\n\t\tuniform int boneTextureSize;\n\t\tmat4 getBoneMatrix( const in float i ) {\n\t\t\tfloat j = i * 4.0;\n\t\t\tfloat x = mod( j, float( boneTextureSize ) );\n\t\t\tfloat y = floor( j / float( boneTextureSize ) );\n\t\t\tfloat dx = 1.0 / float( boneTextureSize );\n\t\t\tfloat dy = 1.0 / float( boneTextureSize );\n\t\t\ty = dy * ( y + 0.5 );\n\t\t\tvec4 v1 = texture2D( boneTexture, vec2( dx * ( x + 0.5 ), y ) );\n\t\t\tvec4 v2 = texture2D( boneTexture, vec2( dx * ( x + 1.5 ), y ) );\n\t\t\tvec4 v3 = texture2D( boneTexture, vec2( dx * ( x + 2.5 ), y ) );\n\t\t\tvec4 v4 = texture2D( boneTexture, vec2( dx * ( x + 3.5 ), y ) );\n\t\t\tmat4 bone = mat4( v1, v2, v3, v4 );\n\t\t\treturn bone;\n\t\t}\n\t#else\n\t\tuniform mat4 boneMatrices[ MAX_BONES ];\n\t\tmat4 getBoneMatrix( const in float i ) {\n\t\t\tmat4 bone = boneMatrices[ int(i) ];\n\t\t\treturn bone;\n\t\t}\n\t#endif\n#endif\n",skinning_vertex:"#ifdef USE_SKINNING\n\tvec4 skinVertex = bindMatrix * vec4( transformed, 1.0 );\n\tvec4 skinned = vec4( 0.0 );\n\tskinned += boneMatX * skinVertex * skinWeight.x;\n\tskinned += boneMatY * skinVertex * skinWeight.y;\n\tskinned += boneMatZ * skinVertex * skinWeight.z;\n\tskinned += boneMatW * skinVertex * skinWeight.w;\n\ttransformed = ( bindMatrixInverse * skinned ).xyz;\n#endif\n",skinnormal_vertex:"#ifdef USE_SKINNING\n\tmat4 skinMatrix = mat4( 0.0 );\n\tskinMatrix += skinWeight.x * boneMatX;\n\tskinMatrix += skinWeight.y * boneMatY;\n\tskinMatrix += skinWeight.z * boneMatZ;\n\tskinMatrix += skinWeight.w * boneMatW;\n\tskinMatrix  = bindMatrixInverse * skinMatrix * bindMatrix;\n\tobjectNormal = vec4( skinMatrix * vec4( objectNormal, 0.0 ) ).xyz;\n#endif\n",specularmap_fragment:"float specularStrength;\n#ifdef USE_SPECULARMAP\n\tvec4 texelSpecular = texture2D( specularMap, vUv );\n\tspecularStrength = texelSpecular.r;\n#else\n\tspecularStrength = 1.0;\n#endif",specularmap_pars_fragment:"#ifdef USE_SPECULARMAP\n\tuniform sampler2D specularMap;\n#endif",tonemapping_fragment:"#if defined( TONE_MAPPING )\n  gl_FragColor.rgb = toneMapping( gl_FragColor.rgb );\n#endif\n",tonemapping_pars_fragment:"#define saturate(a) clamp( a, 0.0, 1.0 )\nuniform float toneMappingExposure;\nuniform float toneMappingWhitePoint;\nvec3 LinearToneMapping( vec3 color ) {\n\treturn toneMappingExposure * color;\n}\nvec3 ReinhardToneMapping( vec3 color ) {\n\tcolor *= toneMappingExposure;\n\treturn saturate( color / ( vec3( 1.0 ) + color ) );\n}\n#define Uncharted2Helper( x ) max( ( ( x * ( 0.15 * x + 0.10 * 0.50 ) + 0.20 * 0.02 ) / ( x * ( 0.15 * x + 0.50 ) + 0.20 * 0.30 ) ) - 0.02 / 0.30, vec3( 0.0 ) )\nvec3 Uncharted2ToneMapping( vec3 color ) {\n\tcolor *= toneMappingExposure;\n\treturn saturate( Uncharted2Helper( color ) / Uncharted2Helper( vec3( toneMappingWhitePoint ) ) );\n}\nvec3 OptimizedCineonToneMapping( vec3 color ) {\n\tcolor *= toneMappingExposure;\n\tcolor = max( vec3( 0.0 ), color - 0.004 );\n\treturn pow( ( color * ( 6.2 * color + 0.5 ) ) / ( color * ( 6.2 * color + 1.7 ) + 0.06 ), vec3( 2.2 ) );\n}\n",uv_pars_fragment:"#if defined( USE_MAP ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( USE_SPECULARMAP ) || defined( USE_ALPHAMAP ) || defined( USE_EMISSIVEMAP ) || defined( USE_ROUGHNESSMAP ) || defined( USE_METALNESSMAP )\n\tvarying vec2 vUv;\n#endif",uv_pars_vertex:"#if defined( USE_MAP ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( USE_SPECULARMAP ) || defined( USE_ALPHAMAP ) || defined( USE_EMISSIVEMAP ) || defined( USE_ROUGHNESSMAP ) || defined( USE_METALNESSMAP )\n\tvarying vec2 vUv;\n\tuniform vec4 offsetRepeat;\n#endif\n",uv_vertex:"#if defined( USE_MAP ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( USE_SPECULARMAP ) || defined( USE_ALPHAMAP ) || defined( USE_EMISSIVEMAP ) || defined( USE_ROUGHNESSMAP ) || defined( USE_METALNESSMAP )\n\tvUv = uv * offsetRepeat.zw + offsetRepeat.xy;\n#endif",uv2_pars_fragment:"#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )\n\tvarying vec2 vUv2;\n#endif",uv2_pars_vertex:"#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )\n\tattribute vec2 uv2;\n\tvarying vec2 vUv2;\n#endif",uv2_vertex:"#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )\n\tvUv2 = uv2;\n#endif",worldpos_vertex:"#if defined( USE_ENVMAP ) || defined( PHONG ) || defined( PHYSICAL ) || defined( LAMBERT ) || defined( DISTANCE ) || defined ( USE_SHADOWMAP )\n\tvec4 worldPosition = modelMatrix * vec4( transformed, 1.0 );\n#endif\n",cube_frag:"uniform samplerCube tCube;\nuniform float tFlip;\nuniform float opacity;\nvarying vec3 vWorldPosition;\nvoid main() {\n\tgl_FragColor = textureCube( tCube, vec3( tFlip * vWorldPosition.x, vWorldPosition.yz ) );\n\tgl_FragColor.a *= opacity;\n}\n",cube_vert:"varying vec3 vWorldPosition;\n#include <common>\nvoid main() {\n\tvWorldPosition = transformDirection( position, modelMatrix );\n\t#include <begin_vertex>\n\t#include <project_vertex>\n}\n",depth_frag:"#if DEPTH_PACKING == 3200\n\tuniform float opacity;\n#endif\n#include <common>\n#include <packing>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( 1.0 );\n\t#if DEPTH_PACKING == 3200\n\t\tdiffuseColor.a = opacity;\n\t#endif\n\t#include <map_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <logdepthbuf_fragment>\n\t#if DEPTH_PACKING == 3200\n\t\tgl_FragColor = vec4( vec3( gl_FragCoord.z ), opacity );\n\t#elif DEPTH_PACKING == 3201\n\t\tgl_FragColor = packDepthToRGBA( gl_FragCoord.z );\n\t#endif\n}\n",depth_vert:"#include <common>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <skinbase_vertex>\n\t#ifdef USE_DISPLACEMENTMAP\n\t\t#include <beginnormal_vertex>\n\t\t#include <morphnormal_vertex>\n\t\t#include <skinnormal_vertex>\n\t#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n}\n",distanceRGBA_frag:"#define DISTANCE\nuniform vec3 referencePosition;\nuniform float nearDistance;\nuniform float farDistance;\nvarying vec3 vWorldPosition;\n#include <common>\n#include <packing>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main () {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( 1.0 );\n\t#include <map_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\tfloat dist = length( vWorldPosition - referencePosition );\n\tdist = ( dist - nearDistance ) / ( farDistance - nearDistance );\n\tdist = saturate( dist );\n\tgl_FragColor = packDepthToRGBA( dist );\n}\n",distanceRGBA_vert:"#define DISTANCE\nvarying vec3 vWorldPosition;\n#include <common>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <skinbase_vertex>\n\t#ifdef USE_DISPLACEMENTMAP\n\t\t#include <beginnormal_vertex>\n\t\t#include <morphnormal_vertex>\n\t\t#include <skinnormal_vertex>\n\t#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <worldpos_vertex>\n\t#include <clipping_planes_vertex>\n\tvWorldPosition = worldPosition.xyz;\n}\n",equirect_frag:"uniform sampler2D tEquirect;\nvarying vec3 vWorldPosition;\n#include <common>\nvoid main() {\n\tvec3 direction = normalize( vWorldPosition );\n\tvec2 sampleUV;\n\tsampleUV.y = asin( clamp( direction.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;\n\tsampleUV.x = atan( direction.z, direction.x ) * RECIPROCAL_PI2 + 0.5;\n\tgl_FragColor = texture2D( tEquirect, sampleUV );\n}\n",equirect_vert:"varying vec3 vWorldPosition;\n#include <common>\nvoid main() {\n\tvWorldPosition = transformDirection( position, modelMatrix );\n\t#include <begin_vertex>\n\t#include <project_vertex>\n}\n",linedashed_frag:"uniform vec3 diffuse;\nuniform float opacity;\nuniform float dashSize;\nuniform float totalSize;\nvarying float vLineDistance;\n#include <common>\n#include <color_pars_fragment>\n#include <fog_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tif ( mod( vLineDistance, totalSize ) > dashSize ) {\n\t\tdiscard;\n\t}\n\tvec3 outgoingLight = vec3( 0.0 );\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <color_fragment>\n\toutgoingLight = diffuseColor.rgb;\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <premultiplied_alpha_fragment>\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n}\n",linedashed_vert:"uniform float scale;\nattribute float lineDistance;\nvarying float vLineDistance;\n#include <common>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <color_vertex>\n\tvLineDistance = scale * lineDistance;\n\tvec4 mvPosition = modelViewMatrix * vec4( position, 1.0 );\n\tgl_Position = projectionMatrix * mvPosition;\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <fog_vertex>\n}\n",meshbasic_frag:"uniform vec3 diffuse;\nuniform float opacity;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\n#include <common>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <envmap_pars_fragment>\n#include <fog_pars_fragment>\n#include <specularmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <specularmap_fragment>\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\t#ifdef USE_LIGHTMAP\n\t\treflectedLight.indirectDiffuse += texture2D( lightMap, vUv2 ).xyz * lightMapIntensity;\n\t#else\n\t\treflectedLight.indirectDiffuse += vec3( 1.0 );\n\t#endif\n\t#include <aomap_fragment>\n\treflectedLight.indirectDiffuse *= diffuseColor.rgb;\n\tvec3 outgoingLight = reflectedLight.indirectDiffuse;\n\t#include <envmap_fragment>\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <premultiplied_alpha_fragment>\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n}\n",meshbasic_vert:"#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <envmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <uv2_vertex>\n\t#include <color_vertex>\n\t#include <skinbase_vertex>\n\t#ifdef USE_ENVMAP\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <worldpos_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <envmap_vertex>\n\t#include <fog_vertex>\n}\n",meshlambert_frag:"uniform vec3 diffuse;\nuniform vec3 emissive;\nuniform float opacity;\nvarying vec3 vLightFront;\n#ifdef DOUBLE_SIDED\n\tvarying vec3 vLightBack;\n#endif\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <envmap_pars_fragment>\n#include <bsdfs>\n#include <lights_pars>\n#include <fog_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <shadowmask_pars_fragment>\n#include <specularmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <specularmap_fragment>\n\t#include <emissivemap_fragment>\n\treflectedLight.indirectDiffuse = getAmbientLightIrradiance( ambientLightColor );\n\t#include <lightmap_fragment>\n\treflectedLight.indirectDiffuse *= BRDF_Diffuse_Lambert( diffuseColor.rgb );\n\t#ifdef DOUBLE_SIDED\n\t\treflectedLight.directDiffuse = ( gl_FrontFacing ) ? vLightFront : vLightBack;\n\t#else\n\t\treflectedLight.directDiffuse = vLightFront;\n\t#endif\n\treflectedLight.directDiffuse *= BRDF_Diffuse_Lambert( diffuseColor.rgb ) * getShadowMask();\n\t#include <aomap_fragment>\n\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;\n\t#include <envmap_fragment>\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}\n",meshlambert_vert:"#define LAMBERT\nvarying vec3 vLightFront;\n#ifdef DOUBLE_SIDED\n\tvarying vec3 vLightBack;\n#endif\n#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <envmap_pars_vertex>\n#include <bsdfs>\n#include <lights_pars>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <uv2_vertex>\n\t#include <color_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <worldpos_vertex>\n\t#include <envmap_vertex>\n\t#include <lights_lambert_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}\n",meshphong_frag:"#define PHONG\nuniform vec3 diffuse;\nuniform vec3 emissive;\nuniform vec3 specular;\nuniform float shininess;\nuniform float opacity;\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <envmap_pars_fragment>\n#include <gradientmap_pars_fragment>\n#include <fog_pars_fragment>\n#include <bsdfs>\n#include <lights_pars>\n#include <lights_phong_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <specularmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <specularmap_fragment>\n\t#include <normal_fragment>\n\t#include <emissivemap_fragment>\n\t#include <lights_phong_fragment>\n\t#include <lights_template>\n\t#include <aomap_fragment>\n\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;\n\t#include <envmap_fragment>\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}\n",meshphong_vert:"#define PHONG\nvarying vec3 vViewPosition;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\n#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <envmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <uv2_vertex>\n\t#include <color_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n#ifndef FLAT_SHADED\n\tvNormal = normalize( transformedNormal );\n#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvViewPosition = - mvPosition.xyz;\n\t#include <worldpos_vertex>\n\t#include <envmap_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}\n",meshphysical_frag:"#define PHYSICAL\nuniform vec3 diffuse;\nuniform vec3 emissive;\nuniform float roughness;\nuniform float metalness;\nuniform float opacity;\n#ifndef STANDARD\n\tuniform float clearCoat;\n\tuniform float clearCoatRoughness;\n#endif\nvarying vec3 vViewPosition;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <envmap_pars_fragment>\n#include <fog_pars_fragment>\n#include <bsdfs>\n#include <cube_uv_reflection_fragment>\n#include <lights_pars>\n#include <lights_physical_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <roughnessmap_pars_fragment>\n#include <metalnessmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <roughnessmap_fragment>\n\t#include <metalnessmap_fragment>\n\t#include <normal_fragment>\n\t#include <emissivemap_fragment>\n\t#include <lights_physical_fragment>\n\t#include <lights_template>\n\t#include <aomap_fragment>\n\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}\n",meshphysical_vert:"#define PHYSICAL\nvarying vec3 vViewPosition;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\n#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <uv2_vertex>\n\t#include <color_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n#ifndef FLAT_SHADED\n\tvNormal = normalize( transformedNormal );\n#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvViewPosition = - mvPosition.xyz;\n\t#include <worldpos_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}\n",normal_frag:"#define NORMAL\nuniform float opacity;\n#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP )\n\tvarying vec3 vViewPosition;\n#endif\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\n#include <packing>\n#include <uv_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\nvoid main() {\n\t#include <logdepthbuf_fragment>\n\t#include <normal_fragment>\n\tgl_FragColor = vec4( packNormalToRGB( normal ), opacity );\n}\n",normal_vert:"#define NORMAL\n#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP )\n\tvarying vec3 vViewPosition;\n#endif\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n#ifndef FLAT_SHADED\n\tvNormal = normalize( transformedNormal );\n#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP )\n\tvViewPosition = - mvPosition.xyz;\n#endif\n}\n",points_frag:"uniform vec3 diffuse;\nuniform float opacity;\n#include <common>\n#include <packing>\n#include <color_pars_fragment>\n#include <map_particle_pars_fragment>\n#include <fog_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec3 outgoingLight = vec3( 0.0 );\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <map_particle_fragment>\n\t#include <color_fragment>\n\t#include <alphatest_fragment>\n\toutgoingLight = diffuseColor.rgb;\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <premultiplied_alpha_fragment>\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n}\n",points_vert:"uniform float size;\nuniform float scale;\n#include <common>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <color_vertex>\n\t#include <begin_vertex>\n\t#include <project_vertex>\n\t#ifdef USE_SIZEATTENUATION\n\t\tgl_PointSize = size * ( scale / - mvPosition.z );\n\t#else\n\t\tgl_PointSize = size;\n\t#endif\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <worldpos_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}\n",shadow_frag:"uniform vec3 color;\nuniform float opacity;\n#include <common>\n#include <packing>\n#include <bsdfs>\n#include <lights_pars>\n#include <shadowmap_pars_fragment>\n#include <shadowmask_pars_fragment>\nvoid main() {\n\tgl_FragColor = vec4( color, opacity * ( 1.0 - getShadowMask() ) );\n}\n",shadow_vert:"#include <shadowmap_pars_vertex>\nvoid main() {\n\t#include <begin_vertex>\n\t#include <project_vertex>\n\t#include <worldpos_vertex>\n\t#include <shadowmap_vertex>\n}\n"},$s={basic:{uniforms:Zs.merge([Js.common,Js.specularmap,Js.envmap,Js.aomap,Js.lightmap,Js.fog]),vertexShader:Ks.meshbasic_vert,fragmentShader:Ks.meshbasic_frag},lambert:{uniforms:Zs.merge([Js.common,Js.specularmap,Js.envmap,Js.aomap,Js.lightmap,Js.emissivemap,Js.fog,Js.lights,{emissive:{value:new X(0)}}]),vertexShader:Ks.meshlambert_vert,fragmentShader:Ks.meshlambert_frag},phong:{uniforms:Zs.merge([Js.common,Js.specularmap,Js.envmap,Js.aomap,Js.lightmap,Js.emissivemap,Js.bumpmap,Js.normalmap,Js.displacementmap,Js.gradientmap,Js.fog,Js.lights,{emissive:{value:new X(0)},specular:{value:new X(1118481)},shininess:{value:30}}]),vertexShader:Ks.meshphong_vert,fragmentShader:Ks.meshphong_frag},standard:{uniforms:Zs.merge([Js.common,Js.envmap,Js.aomap,Js.lightmap,Js.emissivemap,Js.bumpmap,Js.normalmap,Js.displacementmap,Js.roughnessmap,Js.metalnessmap,Js.fog,Js.lights,{emissive:{value:new X(0)},roughness:{value:.5},metalness:{value:.5},envMapIntensity:{value:1}}]),vertexShader:Ks.meshphysical_vert,fragmentShader:Ks.meshphysical_frag},points:{uniforms:Zs.merge([Js.points,Js.fog]),vertexShader:Ks.points_vert,fragmentShader:Ks.points_frag},dashed:{uniforms:Zs.merge([Js.common,Js.fog,{scale:{value:1},dashSize:{value:1},totalSize:{value:2}}]),vertexShader:Ks.linedashed_vert,fragmentShader:Ks.linedashed_frag},depth:{uniforms:Zs.merge([Js.common,Js.displacementmap]),vertexShader:Ks.depth_vert,fragmentShader:Ks.depth_frag},normal:{uniforms:Zs.merge([Js.common,Js.bumpmap,Js.normalmap,Js.displacementmap,{opacity:{value:1}}]),vertexShader:Ks.normal_vert,fragmentShader:Ks.normal_frag},cube:{uniforms:{tCube:{value:null},tFlip:{value:-1},opacity:{value:1}},vertexShader:Ks.cube_vert,fragmentShader:Ks.cube_frag},equirect:{uniforms:{tEquirect:{value:null}},vertexShader:Ks.equirect_vert,fragmentShader:Ks.equirect_frag},distanceRGBA:{uniforms:Zs.merge([Js.common,Js.displacementmap,{referencePosition:{value:new l},nearDistance:{value:1},farDistance:{value:1e3}}]),vertexShader:Ks.distanceRGBA_vert,fragmentShader:Ks.distanceRGBA_frag},shadow:{uniforms:Zs.merge([Js.lights,{color:{value:new X(0)},opacity:{value:1}}]),vertexShader:Ks.shadow_vert,fragmentShader:Ks.shadow_frag}};$s.physical={uniforms:Zs.merge([$s.standard.uniforms,{clearCoat:{value:0},clearCoatRoughness:{value:0}}]),vertexShader:Ks.meshphysical_vert,fragmentShader:Ks.meshphysical_frag},Object.assign(q.prototype,{set:function(e,t){return this.min.copy(e),this.max.copy(t),this},setFromPoints:function(e){this.makeEmpty();for(var t=0,n=e.length;t<n;t++)this.expandByPoint(e[t]);return this},setFromCenterAndSize:function(){var e=new i;return function(t,n){var r=e.copy(n).multiplyScalar(.5);return this.min.copy(t).sub(r),this.max.copy(t).add(r),this}}(),clone:function(){return(new this.constructor).copy(this)},copy:function(e){return this.min.copy(e.min),this.max.copy(e.max),this},makeEmpty:function(){return this.min.x=this.min.y=1/0,this.max.x=this.max.y=-1/0,this},isEmpty:function(){return this.max.x<this.min.x||this.max.y<this.min.y},getCenter:function(e){var t=e||new i;return this.isEmpty()?t.set(0,0):t.addVectors(this.min,this.max).multiplyScalar(.5)},getSize:function(e){var t=e||new i;return this.isEmpty()?t.set(0,0):t.subVectors(this.max,this.min)},expandByPoint:function(e){return this.min.min(e),this.max.max(e),this},expandByVector:function(e){return this.min.sub(e),this.max.add(e),this},expandByScalar:function(e){return this.min.addScalar(-e),this.max.addScalar(e),this},containsPoint:function(e){return!(e.x<this.min.x||e.x>this.max.x||e.y<this.min.y||e.y>this.max.y)},containsBox:function(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y},getParameter:function(e,t){return(t||new i).set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y))},intersectsBox:function(e){return!(e.max.x<this.min.x||e.min.x>this.max.x||e.max.y<this.min.y||e.min.y>this.max.y)},clampPoint:function(e,t){return(t||new i).copy(e).clamp(this.min,this.max)},distanceToPoint:function(){var e=new i;return function(t){return e.copy(t).clamp(this.min,this.max).sub(t).length()}}(),intersect:function(e){return this.min.max(e.min),this.max.min(e.max),this},union:function(e){return this.min.min(e.min),this.max.max(e.max),this},translate:function(e){return this.min.add(e),this.max.add(e),this},equals:function(e){return e.min.equals(this.min)&&e.max.equals(this.max)}}),J.prototype=Object.create(o.prototype),J.prototype.constructor=J;var Qs=0;Object.assign(K.prototype,r.prototype,{isMaterial:!0,onBeforeCompile:function(){},setValues:function(e){if(void 0!==e)for(var t in e){var n=e[t];if(void 0!==n)if("shading"!=t){var r=this[t];void 0!==r?r&&r.isColor?r.set(n):r&&r.isVector3&&n&&n.isVector3?r.copy(n):this[t]="overdraw"==t?+n:n:console.warn("THREE."+this.type+": '"+t+"' is not a property of this material.")}else console.warn("THREE."+this.type+": .shading has been removed. Use the boolean .flatShading instead."),this.flatShading=n===No;else console.warn("THREE.Material: '"+t+"' parameter is undefined.")}},toJSON:function(e){function t(e){var t=[];for(var n in e){var r=e[n];delete r.metadata,t.push(r)}return t}var n=void 0===e;n&&(e={textures:{},images:{}});var r={metadata:{version:4.5,type:"Material",generator:"Material.toJSON"}};if(r.uuid=this.uuid,r.type=this.type,""!==this.name&&(r.name=this.name),this.color&&this.color.isColor&&(r.color=this.color.getHex()),void 0!==this.roughness&&(r.roughness=this.roughness),void 0!==this.metalness&&(r.metalness=this.metalness),this.emissive&&this.emissive.isColor&&(r.emissive=this.emissive.getHex()),this.specular&&this.specular.isColor&&(r.specular=this.specular.getHex()),void 0!==this.shininess&&(r.shininess=this.shininess),void 0!==this.clearCoat&&(r.clearCoat=this.clearCoat),void 0!==this.clearCoatRoughness&&(r.clearCoatRoughness=this.clearCoatRoughness),this.map&&this.map.isTexture&&(r.map=this.map.toJSON(e).uuid),this.alphaMap&&this.alphaMap.isTexture&&(r.alphaMap=this.alphaMap.toJSON(e).uuid),this.lightMap&&this.lightMap.isTexture&&(r.lightMap=this.lightMap.toJSON(e).uuid),this.bumpMap&&this.bumpMap.isTexture&&(r.bumpMap=this.bumpMap.toJSON(e).uuid,r.bumpScale=this.bumpScale),this.normalMap&&this.normalMap.isTexture&&(r.normalMap=this.normalMap.toJSON(e).uuid,r.normalScale=this.normalScale.toArray()),this.displacementMap&&this.displacementMap.isTexture&&(r.displacementMap=this.displacementMap.toJSON(e).uuid,r.displacementScale=this.displacementScale,r.displacementBias=this.displacementBias),this.roughnessMap&&this.roughnessMap.isTexture&&(r.roughnessMap=this.roughnessMap.toJSON(e).uuid),this.metalnessMap&&this.metalnessMap.isTexture&&(r.metalnessMap=this.metalnessMap.toJSON(e).uuid),this.emissiveMap&&this.emissiveMap.isTexture&&(r.emissiveMap=this.emissiveMap.toJSON(e).uuid),this.specularMap&&this.specularMap.isTexture&&(r.specularMap=this.specularMap.toJSON(e).uuid),this.envMap&&this.envMap.isTexture&&(r.envMap=this.envMap.toJSON(e).uuid,r.reflectivity=this.reflectivity),this.gradientMap&&this.gradientMap.isTexture&&(r.gradientMap=this.gradientMap.toJSON(e).uuid),void 0!==this.size&&(r.size=this.size),void 0!==this.sizeAttenuation&&(r.sizeAttenuation=this.sizeAttenuation),this.blending!==Go&&(r.blending=this.blending),!0===this.flatShading&&(r.flatShading=this.flatShading),this.side!==Oo&&(r.side=this.side),this.vertexColors!==Bo&&(r.vertexColors=this.vertexColors),1>this.opacity&&(r.opacity=this.opacity),!0===this.transparent&&(r.transparent=this.transparent),r.depthFunc=this.depthFunc,r.depthTest=this.depthTest,r.depthWrite=this.depthWrite,!0===this.dithering&&(r.dithering=!0),0<this.alphaTest&&(r.alphaTest=this.alphaTest),!0===this.premultipliedAlpha&&(r.premultipliedAlpha=this.premultipliedAlpha),!0===this.wireframe&&(r.wireframe=this.wireframe),1<this.wireframeLinewidth&&(r.wireframeLinewidth=this.wireframeLinewidth),"round"!==this.wireframeLinecap&&(r.wireframeLinecap=this.wireframeLinecap),"round"!==this.wireframeLinejoin&&(r.wireframeLinejoin=this.wireframeLinejoin),!0===this.morphTargets&&(r.morphTargets=!0),!0===this.skinning&&(r.skinning=!0),!1===this.visible&&(r.visible=!1),"{}"!==JSON.stringify(this.userData)&&(r.userData=this.userData),n){var i=t(e.textures),o=t(e.images);0<i.length&&(r.textures=i),0<o.length&&(r.images=o)}return r},clone:function(){return(new this.constructor).copy(this)},copy:function(e){this.name=e.name,this.fog=e.fog,this.lights=e.lights,this.blending=e.blending,this.side=e.side,this.flatShading=e.flatShading,this.vertexColors=e.vertexColors,this.opacity=e.opacity,this.transparent=e.transparent,this.blendSrc=e.blendSrc,this.blendDst=e.blendDst,this.blendEquation=e.blendEquation,this.blendSrcAlpha=e.blendSrcAlpha,this.blendDstAlpha=e.blendDstAlpha,this.blendEquationAlpha=e.blendEquationAlpha,this.depthFunc=e.depthFunc,this.depthTest=e.depthTest,this.depthWrite=e.depthWrite,this.colorWrite=e.colorWrite,this.precision=e.precision,this.polygonOffset=e.polygonOffset,this.polygonOffsetFactor=e.polygonOffsetFactor,this.polygonOffsetUnits=e.polygonOffsetUnits,this.dithering=e.dithering,this.alphaTest=e.alphaTest,this.premultipliedAlpha=e.premultipliedAlpha,this.overdraw=e.overdraw,this.visible=e.visible,this.userData=JSON.parse(JSON.stringify(e.userData)),this.clipShadows=e.clipShadows,this.clipIntersection=e.clipIntersection;var t=e.clippingPlanes,n=null;if(null!==t){var r=t.length;n=Array(r);for(var i=0;i!==r;++i)n[i]=t[i].clone()}return this.clippingPlanes=n,this},dispose:function(){this.dispatchEvent({type:"dispose"})}}),$.prototype=Object.create(K.prototype),$.prototype.constructor=$,$.prototype.isShaderMaterial=!0,$.prototype.copy=function(e){return K.prototype.copy.call(this,e),this.fragmentShader=e.fragmentShader,this.vertexShader=e.vertexShader,this.uniforms=Zs.clone(e.uniforms),this.defines=e.defines,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.lights=e.lights,this.clipping=e.clipping,this.skinning=e.skinning,this.morphTargets=e.morphTargets,this.morphNormals=e.morphNormals,this.extensions=e.extensions,this},$.prototype.toJSON=function(e){var t=K.prototype.toJSON.call(this,e);return t.uniforms=this.uniforms,t.vertexShader=this.vertexShader,t.fragmentShader=this.fragmentShader,t},Q.prototype=Object.create(K.prototype),Q.prototype.constructor=Q,Q.prototype.isMeshDepthMaterial=!0,Q.prototype.copy=function(e){return K.prototype.copy.call(this,e),this.depthPacking=e.depthPacking,this.skinning=e.skinning,this.morphTargets=e.morphTargets,this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this},ee.prototype=Object.create(K.prototype),ee.prototype.constructor=ee,ee.prototype.isMeshDistanceMaterial=!0,ee.prototype.copy=function(e){return K.prototype.copy.call(this,e),this.referencePosition.copy(e.referencePosition),this.nearDistance=e.nearDistance,this.farDistance=e.farDistance,this.skinning=e.skinning,this.morphTargets=e.morphTargets,this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this},Object.assign(te.prototype,{isBox3:!0,set:function(e,t){return this.min.copy(e),this.max.copy(t),this},setFromArray:function(e){for(var t=1/0,n=1/0,r=1/0,i=-1/0,o=-1/0,a=-1/0,s=0,u=e.length;s<u;s+=3){var c=e[s],l=e[s+1],h=e[s+2];c<t&&(t=c),l<n&&(n=l),h<r&&(r=h),c>i&&(i=c),l>o&&(o=l),h>a&&(a=h)}return this.min.set(t,n,r),this.max.set(i,o,a),this},setFromBufferAttribute:function(e){for(var t=1/0,n=1/0,r=1/0,i=-1/0,o=-1/0,a=-1/0,s=0,u=e.count;s<u;s++){var c=e.getX(s),l=e.getY(s),h=e.getZ(s);c<t&&(t=c),l<n&&(n=l),h<r&&(r=h),c>i&&(i=c),l>o&&(o=l),h>a&&(a=h)}return this.min.set(t,n,r),this.max.set(i,o,a),this},setFromPoints:function(e){this.makeEmpty();for(var t=0,n=e.length;t<n;t++)this.expandByPoint(e[t]);return this},setFromCenterAndSize:function(){var e=new l;return function(t,n){var r=e.copy(n).multiplyScalar(.5);return this.min.copy(t).sub(r),this.max.copy(t).add(r),this}}(),setFromObject:function(e){return this.makeEmpty(),this.expandByObject(e)},clone:function(){return(new this.constructor).copy(this)},copy:function(e){return this.min.copy(e.min),this.max.copy(e.max),this},makeEmpty:function(){return this.min.x=this.min.y=this.min.z=1/0,this.max.x=this.max.y=this.max.z=-1/0,this},isEmpty:function(){return this.max.x<this.min.x||this.max.y<this.min.y||this.max.z<this.min.z},getCenter:function(e){var t=e||new l;return this.isEmpty()?t.set(0,0,0):t.addVectors(this.min,this.max).multiplyScalar(.5)},getSize:function(e){var t=e||new l;return this.isEmpty()?t.set(0,0,0):t.subVectors(this.max,this.min)},expandByPoint:function(e){return this.min.min(e),this.max.max(e),this},expandByVector:function(e){return this.min.sub(e),this.max.add(e),this},expandByScalar:function(e){return this.min.addScalar(-e),this.max.addScalar(e),this},expandByObject:function(){var e=new l;return function(t){var n=this;return t.updateMatrixWorld(!0),t.traverse(function(t){var r,i,o=t.geometry;if(void 0!==o)if(o.isGeometry){var a=o.vertices;for(r=0,i=a.length;r<i;r++)e.copy(a[r]),e.applyMatrix4(t.matrixWorld),n.expandByPoint(e)}else if(o.isBufferGeometry){var s=o.attributes.position;if(void 0!==s)for(r=0,i=s.count;r<i;r++)e.fromBufferAttribute(s,r).applyMatrix4(t.matrixWorld),n.expandByPoint(e)}}),this}}(),containsPoint:function(e){return!(e.x<this.min.x||e.x>this.max.x||e.y<this.min.y||e.y>this.max.y||e.z<this.min.z||e.z>this.max.z)},containsBox:function(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y&&this.min.z<=e.min.z&&e.max.z<=this.max.z},getParameter:function(e,t){return(t||new l).set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y),(e.z-this.min.z)/(this.max.z-this.min.z))},intersectsBox:function(e){return!(e.max.x<this.min.x||e.min.x>this.max.x||e.max.y<this.min.y||e.min.y>this.max.y||e.max.z<this.min.z||e.min.z>this.max.z)},intersectsSphere:function(){var e=new l;return function(t){return this.clampPoint(t.center,e),e.distanceToSquared(t.center)<=t.radius*t.radius}}(),intersectsPlane:function(e){var t,n;return 0<e.normal.x?(t=e.normal.x*this.min.x,n=e.normal.x*this.max.x):(t=e.normal.x*this.max.x,n=e.normal.x*this.min.x),0<e.normal.y?(t+=e.normal.y*this.min.y,n+=e.normal.y*this.max.y):(t+=e.normal.y*this.max.y,n+=e.normal.y*this.min.y),0<e.normal.z?(t+=e.normal.z*this.min.z,n+=e.normal.z*this.max.z):(t+=e.normal.z*this.max.z,n+=e.normal.z*this.min.z),t<=e.constant&&n>=e.constant},clampPoint:function(e,t){return(t||new l).copy(e).clamp(this.min,this.max)},distanceToPoint:function(){var e=new l;return function(t){return e.copy(t).clamp(this.min,this.max).sub(t).length()}}(),getBoundingSphere:function(){var e=new l;return function(t){var n=t||new ne;return this.getCenter(n.center),n.radius=.5*this.getSize(e).length(),n}}(),intersect:function(e){return this.min.max(e.min),this.max.min(e.max),this.isEmpty()&&this.makeEmpty(),this},union:function(e){return this.min.min(e.min),this.max.max(e.max),this},applyMatrix4:function(){var e=[new l,new l,new l,new l,new l,new l,new l,new l];return function(t){return this.isEmpty()?this:(e[0].set(this.min.x,this.min.y,this.min.z).applyMatrix4(t),e[1].set(this.min.x,this.min.y,this.max.z).applyMatrix4(t),e[2].set(this.min.x,this.max.y,this.min.z).applyMatrix4(t),e[3].set(this.min.x,this.max.y,this.max.z).applyMatrix4(t),e[4].set(this.max.x,this.min.y,this.min.z).applyMatrix4(t),e[5].set(this.max.x,this.min.y,this.max.z).applyMatrix4(t),e[6].set(this.max.x,this.max.y,this.min.z).applyMatrix4(t),e[7].set(this.max.x,this.max.y,this.max.z).applyMatrix4(t),this.setFromPoints(e),this)}}(),translate:function(e){return this.min.add(e),this.max.add(e),this},equals:function(e){return e.min.equals(this.min)&&e.max.equals(this.max)}}),Object.assign(ne.prototype,{set:function(e,t){return this.center.copy(e),this.radius=t,this},setFromPoints:function(){var e=new te;return function(t,n){var r=this.center;void 0===n?e.setFromPoints(t).getCenter(r):r.copy(n);for(var i=0,o=0,a=t.length;o<a;o++)i=xo(i,r.distanceToSquared(t[o]));return this.radius=uo(i),this}}(),clone:function(){return(new this.constructor).copy(this)},copy:function(e){return this.center.copy(e.center),this.radius=e.radius,this},empty:function(){return 0>=this.radius},containsPoint:function(e){return e.distanceToSquared(this.center)<=this.radius*this.radius},distanceToPoint:function(e){return e.distanceTo(this.center)-this.radius},intersectsSphere:function(e){var t=this.radius+e.radius;return e.center.distanceToSquared(this.center)<=t*t},intersectsBox:function(e){return e.intersectsSphere(this)},intersectsPlane:function(e){return so(e.distanceToPoint(this.center))<=this.radius},clampPoint:function(e,t){var n=this.center.distanceToSquared(e),r=t||new l;return r.copy(e),n>this.radius*this.radius&&(r.sub(this.center).normalize(),r.multiplyScalar(this.radius).add(this.center)),r},getBoundingBox:function(e){var t=e||new te;return t.set(this.center,this.center),t.expandByScalar(this.radius),t},applyMatrix4:function(e){return this.center.applyMatrix4(e),this.radius*=e.getMaxScaleOnAxis(),this},translate:function(e){return this.center.add(e),this},equals:function(e){return e.center.equals(this.center)&&e.radius===this.radius}}),Object.assign(re.prototype,{isMatrix3:!0,set:function(e,t,n,r,i,o,a,s,u){var c=this.elements;return c[0]=e,c[1]=r,c[2]=a,c[3]=t,c[4]=i,c[5]=s,c[6]=n,c[7]=o,c[8]=u,this},identity:function(){return this.set(1,0,0,0,1,0,0,0,1),this},clone:function(){return(new this.constructor).fromArray(this.elements)},copy:function(e){var t=this.elements,n=e.elements;return t[0]=n[0],t[1]=n[1],t[2]=n[2],t[3]=n[3],t[4]=n[4],t[5]=n[5],t[6]=n[6],t[7]=n[7],t[8]=n[8],this},setFromMatrix4:function(e){var t=e.elements;return this.set(t[0],t[4],t[8],t[1],t[5],t[9],t[2],t[6],t[10]),this},applyToBufferAttribute:function(){var e=new l;return function(t){for(var n=0,r=t.count;n<r;n++)e.x=t.getX(n),e.y=t.getY(n),e.z=t.getZ(n),e.applyMatrix3(this),t.setXYZ(n,e.x,e.y,e.z);return t}}(),multiply:function(e){return this.multiplyMatrices(this,e)},premultiply:function(e){return this.multiplyMatrices(e,this)},multiplyMatrices:function(e,t){var n=e.elements,r=t.elements,i=this.elements,o=n[0],a=n[3],s=n[6],u=n[1],c=n[4],l=n[7],h=n[2],p=n[5],f=n[8],d=r[0],m=r[3],g=r[6],v=r[1],y=r[4],x=r[7],b=r[2],w=r[5],_=r[8];return i[0]=o*d+a*v+s*b,i[3]=o*m+a*y+s*w,i[6]=o*g+a*x+s*_,i[1]=u*d+c*v+l*b,i[4]=u*m+c*y+l*w,i[7]=u*g+c*x+l*_,i[2]=h*d+p*v+f*b,i[5]=h*m+p*y+f*w,i[8]=h*g+p*x+f*_,this},multiplyScalar:function(e){var t=this.elements;return t[0]*=e,t[3]*=e,t[6]*=e,t[1]*=e,t[4]*=e,t[7]*=e,t[2]*=e,t[5]*=e,t[8]*=e,this},determinant:function(){var e=this.elements,t=e[0],n=e[1],r=e[2],i=e[3],o=e[4],a=e[5],s=e[6],u=e[7],c=e[8];return t*o*c-t*a*u-n*i*c+n*a*s+r*i*u-r*o*s},getInverse:function(e,t){e&&e.isMatrix4&&console.error("THREE.Matrix3: .getInverse() no longer takes a Matrix4 argument.");var n=e.elements,r=this.elements,i=n[0],o=n[1],a=n[2],s=n[3],u=n[4],c=n[5],l=n[6],h=n[7],p=n[8],f=p*u-c*h,d=c*l-p*s,m=h*s-u*l,g=i*f+o*d+a*m;if(0==g){var v="THREE.Matrix3: .getInverse() can't invert matrix, determinant is 0";if(!0===t)throw new Error(v);return console.warn(v),this.identity()}var y=1/g;return r[0]=f*y,r[1]=(a*h-p*o)*y,r[2]=(c*o-a*u)*y,r[3]=d*y,r[4]=(p*i-a*l)*y,r[5]=(a*s-c*i)*y,r[6]=m*y,r[7]=(o*l-h*i)*y,r[8]=(u*i-o*s)*y,this},transpose:function(){var e,t=this.elements;return e=t[1],t[1]=t[3],t[3]=e,e=t[2],t[2]=t[6],t[6]=e,e=t[5],t[5]=t[7],t[7]=e,this},getNormalMatrix:function(e){return this.setFromMatrix4(e).getInverse(this).transpose()},transposeIntoArray:function(e){var t=this.elements;return e[0]=t[0],e[1]=t[3],e[2]=t[6],e[3]=t[1],e[4]=t[4],e[5]=t[7],e[6]=t[2],e[7]=t[5],e[8]=t[8],this},equals:function(e){for(var t=this.elements,n=e.elements,r=0;9>r;r++)if(t[r]!==n[r])return!1;return!0},fromArray:function(e,t){void 0===t&&(t=0);for(var n=0;9>n;n++)this.elements[n]=e[n+t];return this},toArray:function(e,t){void 0===e&&(e=[]),void 0===t&&(t=0);var n=this.elements;return e[t]=n[0],e[t+1]=n[1],e[t+2]=n[2],e[t+3]=n[3],e[t+4]=n[4],e[t+5]=n[5],e[t+6]=n[6],e[t+7]=n[7],e[t+8]=n[8],e}}),Object.assign(ie.prototype,{set:function(e,t){return this.normal.copy(e),this.constant=t,this},setComponents:function(e,t,n,r){return this.normal.set(e,t,n),this.constant=r,this},setFromNormalAndCoplanarPoint:function(e,t){return this.normal.copy(e),this.constant=-t.dot(this.normal),this},setFromCoplanarPoints:function(){var e=new l,t=new l;return function(n,r,i){var o=e.subVectors(i,r).cross(t.subVectors(n,r)).normalize();return this.setFromNormalAndCoplanarPoint(o,n),this}}(),clone:function(){return(new this.constructor).copy(this)},copy:function(e){return this.normal.copy(e.normal),this.constant=e.constant,this},normalize:function(){var e=1/this.normal.length();return this.normal.multiplyScalar(e),this.constant*=e,this},negate:function(){return this.constant*=-1,this.normal.negate(),this},distanceToPoint:function(e){return this.normal.dot(e)+this.constant},distanceToSphere:function(e){return this.distanceToPoint(e.center)-e.radius},projectPoint:function(e,t){return(t||new l).copy(this.normal).multiplyScalar(-this.distanceToPoint(e)).add(e)},intersectLine:function(){var e=new l;return function(t,n){var r=n||new l,i=t.delta(e),o=this.normal.dot(i);if(0===o)return 0===this.distanceToPoint(t.start)?r.copy(t.start):void 0;var a=-(t.start.dot(this.normal)+this.constant)/o;return 0>a||1<a?void 0:r.copy(i).multiplyScalar(a).add(t.start)}}(),intersectsLine:function(e){var t=this.distanceToPoint(e.start),n=this.distanceToPoint(e.end);return 0>t&&0<n||0>n&&0<t},intersectsBox:function(e){return e.intersectsPlane(this)},intersectsSphere:function(e){return e.intersectsPlane(this)},coplanarPoint:function(e){return(e||new l).copy(this.normal).multiplyScalar(-this.constant)},applyMatrix4:function(){var e=new l,t=new re;return function(n,r){var i=r||t.getNormalMatrix(n),o=this.coplanarPoint(e).applyMatrix4(n),a=this.normal.applyMatrix3(i).normalize();return this.constant=-o.dot(a),this}}(),translate:function(e){return this.constant-=e.dot(this.normal),this},equals:function(e){return e.normal.equals(this.normal)&&e.constant===this.constant}}),Object.assign(oe.prototype,{set:function(e,t,n,r,i,o){var a=this.planes;return a[0].copy(e),a[1].copy(t),a[2].copy(n),a[3].copy(r),a[4].copy(i),a[5].copy(o),this},clone:function(){return(new this.constructor).copy(this)},copy:function(e){for(var t=this.planes,n=0;6>n;n++)t[n].copy(e.planes[n]);return this},setFromMatrix:function(e){var t=this.planes,n=e.elements,r=n[0],i=n[1],o=n[2],a=n[3],s=n[4],u=n[5],c=n[6],l=n[7],h=n[8],p=n[9],f=n[10],d=n[11],m=n[12],g=n[13],v=n[14],y=n[15];return t[0].setComponents(a-r,l-s,d-h,y-m).normalize(),t[1].setComponents(a+r,l+s,d+h,y+m).normalize(),t[2].setComponents(a+i,l+u,d+p,y+g).normalize(),t[3].setComponents(a-i,l-u,d-p,y-g).normalize(),t[4].setComponents(a-o,l-c,d-f,y-v).normalize(),t[5].setComponents(a+o,l+c,d+f,y+v).normalize(),this},intersectsObject:function(){var e=new ne;return function(t){var n=t.geometry;return null===n.boundingSphere&&n.computeBoundingSphere(),e.copy(n.boundingSphere).applyMatrix4(t.matrixWorld),this.intersectsSphere(e)}}(),intersectsSprite:function(){var e=new ne;return function(t){return e.center.set(0,0,0),e.radius=.7071067811865476,e.applyMatrix4(t.matrixWorld),this.intersectsSphere(e)}}(),intersectsSphere:function(e){for(var t=this.planes,n=e.center,r=-e.radius,i=0;6>i;i++)if(t[i].distanceToPoint(n)<r)return!1;return!0},intersectsBox:function(){var e=new l,t=new l;return function(n){for(var r,i=this.planes,o=0;6>o;o++){r=i[o],e.x=0<r.normal.x?n.min.x:n.max.x,t.x=0<r.normal.x?n.max.x:n.min.x,e.y=0<r.normal.y?n.min.y:n.max.y,t.y=0<r.normal.y?n.max.y:n.min.y,e.z=0<r.normal.z?n.min.z:n.max.z,t.z=0<r.normal.z?n.max.z:n.min.z;var a=r.distanceToPoint(e),s=r.distanceToPoint(t);if(0>a&&0>s)return!1}return!0}}(),containsPoint:function(e){for(var t=this.planes,n=0;6>n;n++)if(0>t[n].distanceToPoint(e))return!1;return!0}}),ue.RotationOrders=["XYZ","YZX","ZXY","XZY","YXZ","ZYX"],ue.DefaultOrder="XYZ",Object.defineProperties(ue.prototype,{x:{get:function(){return this._x},set:function(e){this._x=e,this.onChangeCallback()}},y:{get:function(){return this._y},set:function(e){this._y=e,this.onChangeCallback()}},z:{get:function(){return this._z},set:function(e){this._z=e,this.onChangeCallback()}},order:{get:function(){return this._order},set:function(e){this._order=e,this.onChangeCallback()}}}),Object.assign(ue.prototype,{isEuler:!0,set:function(e,t,n,r){return this._x=e,this._y=t,this._z=n,this._order=r||this._order,this.onChangeCallback(),this},clone:function(){return new this.constructor(this._x,this._y,this._z,this._order)},copy:function(e){return this._x=e._x,this._y=e._y,this._z=e._z,this._order=e._order,this.onChangeCallback(),this},setFromRotationMatrix:function(e,t,n){var r=Us.clamp,i=e.elements,o=i[0],a=i[4],s=i[8],u=i[1],c=i[5],l=i[9],h=i[2],p=i[6],f=i[10];return"XYZ"===(t=t||this._order)?(this._y=no(r(s,-1,1)),.99999>so(s)?(this._x=ao(-l,f),this._z=ao(-a,o)):(this._x=ao(p,c),this._z=0)):"YXZ"===t?(this._x=no(-r(l,-1,1)),.99999>so(l)?(this._y=ao(s,f),this._z=ao(u,c)):(this._y=ao(-h,o),this._z=0)):"ZXY"===t?(this._x=no(r(p,-1,1)),.99999>so(p)?(this._y=ao(-h,f),this._z=ao(-a,c)):(this._y=0,this._z=ao(u,o))):"ZYX"===t?(this._y=no(-r(h,-1,1)),.99999>so(h)?(this._x=ao(p,f),this._z=ao(u,o)):(this._x=0,this._z=ao(-a,c))):"YZX"===t?(this._z=no(r(u,-1,1)),.99999>so(u)?(this._x=ao(-l,c),this._y=ao(-h,o)):(this._x=0,this._y=ao(s,f))):"XZY"===t?(this._z=no(-r(a,-1,1)),.99999>so(a)?(this._x=ao(p,c),this._y=ao(s,o)):(this._x=ao(-l,f),this._y=0)):console.warn("THREE.Euler: .setFromRotationMatrix() given unsupported order: "+t),this._order=t,!1!==n&&this.onChangeCallback(),this},setFromQuaternion:function(){var e=new h;return function(t,n,r){return e.makeRotationFromQuaternion(t),this.setFromRotationMatrix(e,n,r)}}(),setFromVector3:function(e,t){return this.set(e.x,e.y,e.z,t||this._order)},reorder:function(){var e=new c;return function(t){return e.setFromEuler(this),this.setFromQuaternion(e,t)}}(),equals:function(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._order===this._order},fromArray:function(e){return this._x=e[0],this._y=e[1],this._z=e[2],void 0!==e[3]&&(this._order=e[3]),this.onChangeCallback(),this},toArray:function(e,t){return void 0===e&&(e=[]),void 0===t&&(t=0),e[t]=this._x,e[t+1]=this._y,e[t+2]=this._z,e[t+3]=this._order,e},toVector3:function(e){return e?e.set(this._x,this._y,this._z):new l(this._x,this._y,this._z)},onChange:function(e){return this.onChangeCallback=e,this},onChangeCallback:function(){}}),Object.assign(ce.prototype,{set:function(e){this.mask=0|1<<e},enable:function(e){this.mask|=0|1<<e},toggle:function(e){this.mask^=0|1<<e},disable:function(e){this.mask&=~(0|1<<e)},test:function(e){return 0!=(this.mask&e.mask)}});var eu=0;le.DefaultUp=new l(0,1,0),le.DefaultMatrixAutoUpdate=!0,Object.assign(le.prototype,r.prototype,{isObject3D:!0,onBeforeRender:function(){},onAfterRender:function(){},applyMatrix:function(e){this.matrix.multiplyMatrices(e,this.matrix),this.matrix.decompose(this.position,this.quaternion,this.scale)},applyQuaternion:function(e){return this.quaternion.premultiply(e),this},setRotationFromAxisAngle:function(e,t){this.quaternion.setFromAxisAngle(e,t)},setRotationFromEuler:function(e){this.quaternion.setFromEuler(e,!0)},setRotationFromMatrix:function(e){this.quaternion.setFromRotationMatrix(e)},setRotationFromQuaternion:function(e){this.quaternion.copy(e)},rotateOnAxis:function(){var e=new c;return function(t,n){return e.setFromAxisAngle(t,n),this.quaternion.multiply(e),this}}(),rotateX:function(){var e=new l(1,0,0);return function(t){return this.rotateOnAxis(e,t)}}(),rotateY:function(){var e=new l(0,1,0);return function(t){return this.rotateOnAxis(e,t)}}(),rotateZ:function(){var e=new l(0,0,1);return function(t){return this.rotateOnAxis(e,t)}}(),translateOnAxis:function(){var e=new l;return function(t,n){return e.copy(t).applyQuaternion(this.quaternion),this.position.add(e.multiplyScalar(n)),this}}(),translateX:function(){var e=new l(1,0,0);return function(t){return this.translateOnAxis(e,t)}}(),translateY:function(){var e=new l(0,1,0);return function(t){return this.translateOnAxis(e,t)}}(),translateZ:function(){var e=new l(0,0,1);return function(t){return this.translateOnAxis(e,t)}}(),localToWorld:function(e){return e.applyMatrix4(this.matrixWorld)},worldToLocal:function(){var e=new h;return function(t){return t.applyMatrix4(e.getInverse(this.matrixWorld))}}(),lookAt:function(){var e=new h;return function(t){this.isCamera?e.lookAt(this.position,t,this.up):e.lookAt(t,this.position,this.up),this.quaternion.setFromRotationMatrix(e)}}(),add:function(e){if(1<arguments.length){for(var t=0;t<arguments.length;t++)this.add(arguments[t]);return this}return e===this?(console.error("THREE.Object3D.add: object can't be added as a child of itself.",e),this):(e&&e.isObject3D?(null!==e.parent&&e.parent.remove(e),e.parent=this,e.dispatchEvent({type:"added"}),this.children.push(e)):console.error("THREE.Object3D.add: object not an instance of THREE.Object3D.",e),this)},remove:function(e){if(1<arguments.length){for(var t=0;t<arguments.length;t++)this.remove(arguments[t]);return this}var n=this.children.indexOf(e);return-1!==n&&(e.parent=null,e.dispatchEvent({type:"removed"}),this.children.splice(n,1)),this},getObjectById:function(e){return this.getObjectByProperty("id",e)},getObjectByName:function(e){return this.getObjectByProperty("name",e)},getObjectByProperty:function(e,t){if(this[e]===t)return this;for(var n=0,r=this.children.length;n<r;n++){var i=this.children[n].getObjectByProperty(e,t);if(void 0!==i)return i}},getWorldPosition:function(e){var t=e||new l;return this.updateMatrixWorld(!0),t.setFromMatrixPosition(this.matrixWorld)},getWorldQuaternion:function(){var e=new l,t=new l;return function(n){var r=n||new c;return this.updateMatrixWorld(!0),this.matrixWorld.decompose(e,r,t),r}}(),getWorldRotation:function(){var e=new c;return function(t){var n=t||new ue;return this.getWorldQuaternion(e),n.setFromQuaternion(e,this.rotation.order,!1)}}(),getWorldScale:function(){var e=new l,t=new c;return function(n){var r=n||new l;return this.updateMatrixWorld(!0),this.matrixWorld.decompose(e,t,r),r}}(),getWorldDirection:function(){var e=new c;return function(t){var n=t||new l;return this.getWorldQuaternion(e),n.set(0,0,1).applyQuaternion(e)}}(),raycast:function(){},traverse:function(e){e(this);for(var t=this.children,n=0,r=t.length;n<r;n++)t[n].traverse(e)},traverseVisible:function(e){if(!1!==this.visible){e(this);for(var t=this.children,n=0,r=t.length;n<r;n++)t[n].traverseVisible(e)}},traverseAncestors:function(e){var t=this.parent;null!==t&&(e(t),t.traverseAncestors(e))},updateMatrix:function(){this.matrix.compose(this.position,this.quaternion,this.scale),this.matrixWorldNeedsUpdate=!0},updateMatrixWorld:function(e){this.matrixAutoUpdate&&this.updateMatrix(),(this.matrixWorldNeedsUpdate||e)&&(null===this.parent?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),this.matrixWorldNeedsUpdate=!1,e=!0);for(var t=this.children,n=0,r=t.length;n<r;n++)t[n].updateMatrixWorld(e)},toJSON:function(e){function t(t,n){return void 0===t[n.uuid]&&(t[n.uuid]=n.toJSON(e)),n.uuid}function n(e){var t=[];for(var n in e){var r=e[n];delete r.metadata,t.push(r)}return t}var r=void 0===e||""===e,i={};r&&(e={geometries:{},materials:{},textures:{},images:{}},i.metadata={version:4.5,type:"Object",generator:"Object3D.toJSON"});var o={};if(o.uuid=this.uuid,o.type=this.type,""!==this.name&&(o.name=this.name),!0===this.castShadow&&(o.castShadow=!0),!0===this.receiveShadow&&(o.receiveShadow=!0),!1===this.visible&&(o.visible=!1),"{}"!==JSON.stringify(this.userData)&&(o.userData=this.userData),o.matrix=this.matrix.toArray(),void 0!==this.geometry&&(o.geometry=t(e.geometries,this.geometry)),void 0!==this.material)if(Array.isArray(this.material)){for(var a=[],s=0,u=this.material.length;s<u;s++)a.push(t(e.materials,this.material[s]));o.material=a}else o.material=t(e.materials,this.material);if(0<this.children.length){o.children=[];for(s=0;s<this.children.length;s++)o.children.push(this.children[s].toJSON(e).object)}if(r){var c=n(e.geometries),l=n(e.materials),h=n(e.textures),p=n(e.images);0<c.length&&(i.geometries=c),0<l.length&&(i.materials=l),0<h.length&&(i.textures=h),0<p.length&&(i.images=p)}return i.object=o,i},clone:function(e){return(new this.constructor).copy(this,e)},copy:function(e,t){if(void 0===t&&(t=!0),this.name=e.name,this.up.copy(e.up),this.position.copy(e.position),this.quaternion.copy(e.quaternion),this.scale.copy(e.scale),this.matrix.copy(e.matrix),this.matrixWorld.copy(e.matrixWorld),this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrixWorldNeedsUpdate=e.matrixWorldNeedsUpdate,this.layers.mask=e.layers.mask,this.visible=e.visible,this.castShadow=e.castShadow,this.receiveShadow=e.receiveShadow,this.frustumCulled=e.frustumCulled,this.renderOrder=e.renderOrder,this.userData=JSON.parse(JSON.stringify(e.userData)),!0===t)for(var n,r=0;r<e.children.length;r++)n=e.children[r],this.add(n.clone());return this}}),he.prototype=Object.assign(Object.create(le.prototype),{constructor:he,isCamera:!0,copy:function(e,t){return le.prototype.copy.call(this,e,t),this.matrixWorldInverse.copy(e.matrixWorldInverse),this.projectionMatrix.copy(e.projectionMatrix),this},getWorldDirection:function(){var e=new c;return function(t){var n=t||new l;return this.getWorldQuaternion(e),n.set(0,0,-1).applyQuaternion(e)}}(),updateMatrixWorld:function(e){le.prototype.updateMatrixWorld.call(this,e),this.matrixWorldInverse.getInverse(this.matrixWorld)},clone:function(){return(new this.constructor).copy(this)}}),pe.prototype=Object.assign(Object.create(he.prototype),{constructor:pe,isOrthographicCamera:!0,copy:function(e,t){return he.prototype.copy.call(this,e,t),this.left=e.left,this.right=e.right,this.top=e.top,this.bottom=e.bottom,this.near=e.near,this.far=e.far,this.zoom=e.zoom,this.view=null===e.view?null:Object.assign({},e.view),this},setViewOffset:function(e,t,n,r,i,o){this.view={fullWidth:e,fullHeight:t,offsetX:n,offsetY:r,width:i,height:o},this.updateProjectionMatrix()},clearViewOffset:function(){this.view=null,this.updateProjectionMatrix()},updateProjectionMatrix:function(){var e=(this.right-this.left)/(2*this.zoom),t=(this.top-this.bottom)/(2*this.zoom),n=(this.right+this.left)/2,r=(this.top+this.bottom)/2,i=n-e,o=n+e,a=r+t,s=r-t;if(null!==this.view){var u=this.zoom/(this.view.width/this.view.fullWidth),c=this.zoom/(this.view.height/this.view.fullHeight),l=(this.right-this.left)/this.view.width,h=(this.top-this.bottom)/this.view.height;o=(i+=l*(this.view.offsetX/u))+l*(this.view.width/u),s=(a-=h*(this.view.offsetY/c))-h*(this.view.height/c)}this.projectionMatrix.makeOrthographic(i,o,a,s,this.near,this.far)},toJSON:function(e){var t=le.prototype.toJSON.call(this,e);return t.object.zoom=this.zoom,t.object.left=this.left,t.object.right=this.right,t.object.top=this.top,t.object.bottom=this.bottom,t.object.near=this.near,t.object.far=this.far,null!==this.view&&(t.object.view=Object.assign({},this.view)),t}}),fe.prototype=Object.assign(Object.create(he.prototype),{constructor:fe,isPerspectiveCamera:!0,copy:function(e,t){return he.prototype.copy.call(this,e,t),this.fov=e.fov,this.zoom=e.zoom,this.near=e.near,this.far=e.far,this.focus=e.focus,this.aspect=e.aspect,this.view=null===e.view?null:Object.assign({},e.view),this.filmGauge=e.filmGauge,this.filmOffset=e.filmOffset,this},setFocalLength:function(e){var t=.5*this.getFilmHeight()/e;this.fov=2*Us.RAD2DEG*to(t),this.updateProjectionMatrix()},getFocalLength:function(){var e=eo(.5*Us.DEG2RAD*this.fov);return.5*this.getFilmHeight()/e},getEffectiveFOV:function(){return 2*Us.RAD2DEG*to(eo(.5*Us.DEG2RAD*this.fov)/this.zoom)},getFilmWidth:function(){return this.filmGauge*bo(this.aspect,1)},getFilmHeight:function(){return this.filmGauge/xo(this.aspect,1)},setViewOffset:function(e,t,n,r,i,o){this.aspect=e/t,this.view={fullWidth:e,fullHeight:t,offsetX:n,offsetY:r,width:i,height:o},this.updateProjectionMatrix()},clearViewOffset:function(){this.view=null,this.updateProjectionMatrix()},updateProjectionMatrix:function(){var e=this.near,t=e*eo(.5*Us.DEG2RAD*this.fov)/this.zoom,n=2*t,r=this.aspect*n,i=-.5*r,o=this.view;if(null!==o){var a=o.fullWidth,s=o.fullHeight;i+=o.offsetX*r/a,t-=o.offsetY*n/s,r*=o.width/a,n*=o.height/s}var u=this.filmOffset;0!==u&&(i+=e*u/this.getFilmWidth()),this.projectionMatrix.makePerspective(i,i+r,t,t-n,e,this.far)},toJSON:function(e){var t=le.prototype.toJSON.call(this,e);return t.object.fov=this.fov,t.object.zoom=this.zoom,t.object.near=this.near,t.object.far=this.far,t.object.focus=this.focus,t.object.aspect=this.aspect,null!==this.view&&(t.object.view=Object.assign({},this.view)),t.object.filmGauge=this.filmGauge,t.object.filmOffset=this.filmOffset,t}}),Object.assign(de.prototype,{clone:function(){return(new this.constructor).copy(this)},copy:function(e){this.a=e.a,this.b=e.b,this.c=e.c,this.normal.copy(e.normal),this.color.copy(e.color),this.materialIndex=e.materialIndex;for(var t=0,n=e.vertexNormals.length;t<n;t++)this.vertexNormals[t]=e.vertexNormals[t].clone();for(t=0,n=e.vertexColors.length;t<n;t++)this.vertexColors[t]=e.vertexColors[t].clone();return this}});var tu=0;Object.assign(ge.prototype,r.prototype,{isGeometry:!0,applyMatrix:function(e){for(var t=(new re).getNormalMatrix(e),n=0,r=this.vertices.length;n<r;n++)this.vertices[n].applyMatrix4(e);var i;for(n=0,r=this.faces.length;n<r;n++){(i=this.faces[n]).normal.applyMatrix3(t).normalize();for(var o=0,a=i.vertexNormals.length;o<a;o++)i.vertexNormals[o].applyMatrix3(t).normalize()}return null!==this.boundingBox&&this.computeBoundingBox(),null!==this.boundingSphere&&this.computeBoundingSphere(),this.verticesNeedUpdate=!0,this.normalsNeedUpdate=!0,this},rotateX:function(){var e=new h;return function(t){return e.makeRotationX(t),this.applyMatrix(e),this}}(),rotateY:function(){var e=new h;return function(t){return e.makeRotationY(t),this.applyMatrix(e),this}}(),rotateZ:function(){var e=new h;return function(t){return e.makeRotationZ(t),this.applyMatrix(e),this}}(),translate:function(){var e=new h;return function(t,n,r){return e.makeTranslation(t,n,r),this.applyMatrix(e),this}}(),scale:function(){var e=new h;return function(t,n,r){return e.makeScale(t,n,r),this.applyMatrix(e),this}}(),lookAt:function(){var e=new le;return function(t){e.lookAt(t),e.updateMatrix(),this.applyMatrix(e.matrix)}}(),fromBufferGeometry:function(e){function t(e,t,r,i){var o=new de(e,t,r,void 0===s?[]:[p[e].clone(),p[t].clone(),p[r].clone()],void 0===u?[]:[n.colors[e].clone(),n.colors[t].clone(),n.colors[r].clone()],i);n.faces.push(o),void 0!==c&&n.faceVertexUvs[0].push([f[e].clone(),f[t].clone(),f[r].clone()]),void 0!==h&&n.faceVertexUvs[1].push([d[e].clone(),d[t].clone(),d[r].clone()])}var n=this,r=null===e.index?void 0:e.index.array,o=e.attributes,a=o.position.array,s=void 0===o.normal?void 0:o.normal.array,u=void 0===o.color?void 0:o.color.array,c=void 0===o.uv?void 0:o.uv.array,h=void 0===o.uv2?void 0:o.uv2.array;void 0!==h&&(this.faceVertexUvs[1]=[]);for(var p=[],f=[],d=[],m=0,g=0;m<a.length;m+=3,g+=2)n.vertices.push(new l(a[m],a[m+1],a[m+2])),void 0!==s&&p.push(new l(s[m],s[m+1],s[m+2])),void 0!==u&&n.colors.push(new X(u[m],u[m+1],u[m+2])),void 0!==c&&f.push(new i(c[g],c[g+1])),void 0!==h&&d.push(new i(h[g],h[g+1]));var v=e.groups;if(0<v.length)for(m=0;m<v.length;m++){var y=v[m],x=y.start,b=y.count;for(g=x;g<x+b;g+=3)void 0===r?t(g,g+1,g+2,y.materialIndex):t(r[g],r[g+1],r[g+2],y.materialIndex)}else if(void 0!==r)for(m=0;m<r.length;m+=3)t(r[m],r[m+1],r[m+2]);else for(m=0;m<a.length/3;m+=3)t(m,m+1,m+2);return this.computeFaceNormals(),null!==e.boundingBox&&(this.boundingBox=e.boundingBox.clone()),null!==e.boundingSphere&&(this.boundingSphere=e.boundingSphere.clone()),this},center:function(){this.computeBoundingBox();var e=this.boundingBox.getCenter().negate();return this.translate(e.x,e.y,e.z),e},normalize:function(){this.computeBoundingSphere();var e=this.boundingSphere.center,t=this.boundingSphere.radius,n=0===t?1:1/t,r=new h;return r.set(n,0,0,-n*e.x,0,n,0,-n*e.y,0,0,n,-n*e.z,0,0,0,1),this.applyMatrix(r),this},computeFaceNormals:function(){for(var e=new l,t=new l,n=0,r=this.faces.length;n<r;n++){var i=this.faces[n],o=this.vertices[i.a],a=this.vertices[i.b],s=this.vertices[i.c];e.subVectors(s,a),t.subVectors(o,a),e.cross(t),e.normalize(),i.normal.copy(e)}},computeVertexNormals:function(e){var t,n,r,i,o,a;for(void 0===e&&(e=!0),a=Array(this.vertices.length),t=0,n=this.vertices.length;t<n;t++)a[t]=new l;if(e){var s,u,c,h=new l,p=new l;for(r=0,i=this.faces.length;r<i;r++)o=this.faces[r],s=this.vertices[o.a],u=this.vertices[o.b],c=this.vertices[o.c],h.subVectors(c,u),p.subVectors(s,u),h.cross(p),a[o.a].add(h),a[o.b].add(h),a[o.c].add(h)}else for(this.computeFaceNormals(),r=0,i=this.faces.length;r<i;r++)a[(o=this.faces[r]).a].add(o.normal),a[o.b].add(o.normal),a[o.c].add(o.normal);for(t=0,n=this.vertices.length;t<n;t++)a[t].normalize();for(r=0,i=this.faces.length;r<i;r++){var f=(o=this.faces[r]).vertexNormals;3===f.length?(f[0].copy(a[o.a]),f[1].copy(a[o.b]),f[2].copy(a[o.c])):(f[0]=a[o.a].clone(),f[1]=a[o.b].clone(),f[2]=a[o.c].clone())}0<this.faces.length&&(this.normalsNeedUpdate=!0)},computeFlatVertexNormals:function(){var e,t,n;for(this.computeFaceNormals(),e=0,t=this.faces.length;e<t;e++){var r=(n=this.faces[e]).vertexNormals;3===r.length?(r[0].copy(n.normal),r[1].copy(n.normal),r[2].copy(n.normal)):(r[0]=n.normal.clone(),r[1]=n.normal.clone(),r[2]=n.normal.clone())}0<this.faces.length&&(this.normalsNeedUpdate=!0)},computeMorphNormals:function(){var e,t,n,r,i;for(n=0,r=this.faces.length;n<r;n++)for((i=this.faces[n]).__originalFaceNormal?i.__originalFaceNormal.copy(i.normal):i.__originalFaceNormal=i.normal.clone(),i.__originalVertexNormals||(i.__originalVertexNormals=[]),e=0,t=i.vertexNormals.length;e<t;e++)i.__originalVertexNormals[e]?i.__originalVertexNormals[e].copy(i.vertexNormals[e]):i.__originalVertexNormals[e]=i.vertexNormals[e].clone();var o=new ge;for(o.faces=this.faces,e=0,t=this.morphTargets.length;e<t;e++){if(!this.morphNormals[e]){this.morphNormals[e]={},this.morphNormals[e].faceNormals=[],this.morphNormals[e].vertexNormals=[];var a=this.morphNormals[e].faceNormals,s=this.morphNormals[e].vertexNormals;for(n=0,r=this.faces.length;n<r;n++)u=new l,c={a:new l,b:new l,c:new l},a.push(u),s.push(c)}var u,c,h=this.morphNormals[e];for(o.vertices=this.morphTargets[e].vertices,o.computeFaceNormals(),o.computeVertexNormals(),n=0,r=this.faces.length;n<r;n++)i=this.faces[n],u=h.faceNormals[n],c=h.vertexNormals[n],u.copy(i.normal),c.a.copy(i.vertexNormals[0]),c.b.copy(i.vertexNormals[1]),c.c.copy(i.vertexNormals[2])}for(n=0,r=this.faces.length;n<r;n++)(i=this.faces[n]).normal=i.__originalFaceNormal,i.vertexNormals=i.__originalVertexNormals},computeLineDistances:function(){for(var e=0,t=this.vertices,n=0,r=t.length;n<r;n++)0<n&&(e+=t[n].distanceTo(t[n-1])),this.lineDistances[n]=e},computeBoundingBox:function(){null===this.boundingBox&&(this.boundingBox=new te),this.boundingBox.setFromPoints(this.vertices)},computeBoundingSphere:function(){null===this.boundingSphere&&(this.boundingSphere=new ne),this.boundingSphere.setFromPoints(this.vertices)},merge:function(e,t,n){if(e&&e.isGeometry){var r,i=this.vertices.length,o=this.vertices,a=e.vertices,s=this.faces,u=e.faces,c=this.faceVertexUvs[0],l=e.faceVertexUvs[0],h=this.colors,p=e.colors;void 0===n&&(n=0),void 0!==t&&(r=(new re).getNormalMatrix(t));for(var f=0,d=a.length;f<d;f++){var m=a[f].clone();void 0!==t&&m.applyMatrix4(t),o.push(m)}for(f=0,d=p.length;f<d;f++)h.push(p[f].clone());for(f=0,d=u.length;f<d;f++){var g,v,y,x=u[f],b=x.vertexNormals,w=x.vertexColors;(g=new de(x.a+i,x.b+i,x.c+i)).normal.copy(x.normal),void 0!==r&&g.normal.applyMatrix3(r).normalize();for(var _=0,E=b.length;_<E;_++)v=b[_].clone(),void 0!==r&&v.applyMatrix3(r).normalize(),g.vertexNormals.push(v);g.color.copy(x.color);for(_=0,E=w.length;_<E;_++)y=w[_],g.vertexColors.push(y.clone());g.materialIndex=x.materialIndex+n,s.push(g)}for(f=0,d=l.length;f<d;f++){var S=l[f],T=[];if(void 0!==S){for(_=0,E=S.length;_<E;_++)T.push(S[_].clone());c.push(T)}}}else console.error("THREE.Geometry.merge(): geometry not an instance of THREE.Geometry.",e)},mergeMesh:function(e){return e&&e.isMesh?(e.matrixAutoUpdate&&e.updateMatrix(),void this.merge(e.geometry,e.matrix)):void console.error("THREE.Geometry.mergeMesh(): mesh not an instance of THREE.Mesh.",e)},mergeVertices:function(){var e,t,n,r,i,o,a,s,u={},c=[],l=[];for(n=0,r=this.vertices.length;n<r;n++)e=this.vertices[n],void 0===u[t=lo(1e4*e.x)+"_"+lo(1e4*e.y)+"_"+lo(1e4*e.z)]?(u[t]=n,c.push(this.vertices[n]),l[n]=c.length-1):l[n]=l[u[t]];var h=[];for(n=0,r=this.faces.length;n<r;n++){(i=this.faces[n]).a=l[i.a],i.b=l[i.b],i.c=l[i.c],o=[i.a,i.b,i.c];for(var p=0;3>p;p++)if(o[p]===o[(p+1)%3]){h.push(n);break}}for(n=h.length-1;0<=n;n--){var f=h[n];for(this.faces.splice(f,1),a=0,s=this.faceVertexUvs.length;a<s;a++)this.faceVertexUvs[a].splice(f,1)}var d=this.vertices.length-c.length;return this.vertices=c,d},sortFacesByMaterialIndex:function(){for(var e=this.faces,t=e.length,n=0;n<t;n++)e[n]._id=n;e.sort(function(e,t){return e.materialIndex-t.materialIndex});var r,i,o=this.faceVertexUvs[0],a=this.faceVertexUvs[1];o&&o.length===t&&(r=[]),a&&a.length===t&&(i=[]);var s;for(n=0;n<t;n++)s=e[n]._id,r&&r.push(o[s]),i&&i.push(a[s]);r&&(this.faceVertexUvs[0]=r),i&&(this.faceVertexUvs[1]=i)},toJSON:function(){function e(e,t,n){return n?e|1<<t:e&~(1<<t)}function t(e){var t=e.x.toString()+e.y.toString()+e.z.toString();return void 0===p[t]?(p[t]=h.length/3,h.push(e.x,e.y,e.z),p[t]):p[t]}function n(e){var t=e.r.toString()+e.g.toString()+e.b.toString();return void 0===d[t]?(d[t]=f.length,f.push(e.getHex()),d[t]):d[t]}function r(e){var t=e.x.toString()+e.y.toString();return void 0===g[t]?(g[t]=m.length/2,m.push(e.x,e.y),g[t]):g[t]}var i={metadata:{version:4.5,type:"Geometry",generator:"Geometry.toJSON"}};if(i.uuid=this.uuid,i.type=this.type,""!==this.name&&(i.name=this.name),void 0!==this.parameters){var o=this.parameters;for(var a in o)void 0!==o[a]&&(i[a]=o[a]);return i}for(var s,u=[],c=0;c<this.vertices.length;c++)s=this.vertices[c],u.push(s.x,s.y,s.z);var l=[],h=[],p={},f=[],d={},m=[],g={};for(c=0;c<this.faces.length;c++){var v=this.faces[c],y=void 0!==this.faceVertexUvs[0][c],x=0<v.normal.length(),b=0<v.vertexNormals.length,w=1!==v.color.r||1!==v.color.g||1!==v.color.b,_=0<v.vertexColors.length,E=0;if(E=e(E,0,0),E=e(E,1,!0),E=e(E,2,!1),E=e(E,3,y),E=e(E,4,x),E=e(E,5,b),E=e(E,6,w),E=e(E,7,_),l.push(E),l.push(v.a,v.b,v.c),l.push(v.materialIndex),y){var S=this.faceVertexUvs[0][c];l.push(r(S[0]),r(S[1]),r(S[2]))}if(x&&l.push(t(v.normal)),b){var T=v.vertexNormals;l.push(t(T[0]),t(T[1]),t(T[2]))}if(w&&l.push(n(v.color)),_){var A=v.vertexColors;l.push(n(A[0]),n(A[1]),n(A[2]))}}return i.data={},i.data.vertices=u,i.data.normals=h,0<f.length&&(i.data.colors=f),0<m.length&&(i.data.uvs=[m]),i.data.faces=l,i},clone:function(){return(new ge).copy(this)},copy:function(e){var t,n,r,i,o,a;this.vertices=[],this.colors=[],this.faces=[],this.faceVertexUvs=[[]],this.morphTargets=[],this.morphNormals=[],this.skinWeights=[],this.skinIndices=[],this.lineDistances=[],this.boundingBox=null,this.boundingSphere=null,this.name=e.name;var s=e.vertices;for(t=0,n=s.length;t<n;t++)this.vertices.push(s[t].clone());var u=e.colors;for(t=0,n=u.length;t<n;t++)this.colors.push(u[t].clone());var c=e.faces;for(t=0,n=c.length;t<n;t++)this.faces.push(c[t].clone());for(t=0,n=e.faceVertexUvs.length;t<n;t++){var l=e.faceVertexUvs[t];for(void 0===this.faceVertexUvs[t]&&(this.faceVertexUvs[t]=[]),r=0,i=l.length;r<i;r++){var h=l[r],p=[];for(o=0,a=h.length;o<a;o++){var f=h[o];p.push(f.clone())}this.faceVertexUvs[t].push(p)}}var d=e.morphTargets;for(t=0,n=d.length;t<n;t++){var m={name:d[t].name};if(void 0!==d[t].vertices)for(m.vertices=[],r=0,i=d[t].vertices.length;r<i;r++)m.vertices.push(d[t].vertices[r].clone());if(void 0!==d[t].normals)for(m.normals=[],r=0,i=d[t].normals.length;r<i;r++)m.normals.push(d[t].normals[r].clone());this.morphTargets.push(m)}var g=e.morphNormals;for(t=0,n=g.length;t<n;t++){var v={};if(void 0!==g[t].vertexNormals)for(v.vertexNormals=[],r=0,i=g[t].vertexNormals.length;r<i;r++){var y=g[t].vertexNormals[r],x={};x.a=y.a.clone(),x.b=y.b.clone(),x.c=y.c.clone(),v.vertexNormals.push(x)}if(void 0!==g[t].faceNormals)for(v.faceNormals=[],r=0,i=g[t].faceNormals.length;r<i;r++)v.faceNormals.push(g[t].faceNormals[r].clone());this.morphNormals.push(v)}var b=e.skinWeights;for(t=0,n=b.length;t<n;t++)this.skinWeights.push(b[t].clone());var w=e.skinIndices;for(t=0,n=w.length;t<n;t++)this.skinIndices.push(w[t].clone());var _=e.lineDistances;for(t=0,n=_.length;t<n;t++)this.lineDistances.push(_[t]);var E=e.boundingBox;null!==E&&(this.boundingBox=E.clone());var S=e.boundingSphere;return null!==S&&(this.boundingSphere=S.clone()),this.elementsNeedUpdate=e.elementsNeedUpdate,this.verticesNeedUpdate=e.verticesNeedUpdate,this.uvsNeedUpdate=e.uvsNeedUpdate,this.normalsNeedUpdate=e.normalsNeedUpdate,this.colorsNeedUpdate=e.colorsNeedUpdate,this.lineDistancesNeedUpdate=e.lineDistancesNeedUpdate,this.groupsNeedUpdate=e.groupsNeedUpdate,this},dispose:function(){this.dispatchEvent({type:"dispose"})}}),Object.defineProperty(ve.prototype,"needsUpdate",{set:function(e){!0===e&&this.version++}}),Object.assign(ve.prototype,{isBufferAttribute:!0,setArray:function(e){if(Array.isArray(e))throw new TypeError("THREE.BufferAttribute: array should be a Typed Array.");this.count=void 0===e?0:e.length/this.itemSize,this.array=e},setDynamic:function(e){return this.dynamic=e,this},copy:function(e){return this.array=new e.array.constructor(e.array),this.itemSize=e.itemSize,this.count=e.count,this.normalized=e.normalized,this.dynamic=e.dynamic,this},copyAt:function(e,t,n){e*=this.itemSize,n*=t.itemSize;for(var r=0,i=this.itemSize;r<i;r++)this.array[e+r]=t.array[n+r];return this},copyArray:function(e){return this.array.set(e),this},copyColorsArray:function(e){for(var t,n=this.array,r=0,i=0,o=e.length;i<o;i++)void 0===(t=e[i])&&(console.warn("THREE.BufferAttribute.copyColorsArray(): color is undefined",i),t=new X),n[r++]=t.r,n[r++]=t.g,n[r++]=t.b;return this},copyIndicesArray:function(e){for(var t,n=this.array,r=0,i=0,o=e.length;i<o;i++)t=e[i],n[r++]=t.a,n[r++]=t.b,n[r++]=t.c;return this},copyVector2sArray:function(e){for(var t,n=this.array,r=0,o=0,a=e.length;o<a;o++)void 0===(t=e[o])&&(console.warn("THREE.BufferAttribute.copyVector2sArray(): vector is undefined",o),t=new i),n[r++]=t.x,n[r++]=t.y;return this},copyVector3sArray:function(e){for(var t,n=this.array,r=0,i=0,o=e.length;i<o;i++)void 0===(t=e[i])&&(console.warn("THREE.BufferAttribute.copyVector3sArray(): vector is undefined",i),t=new l),n[r++]=t.x,n[r++]=t.y,n[r++]=t.z;return this},copyVector4sArray:function(e){for(var t,n=this.array,r=0,i=0,o=e.length;i<o;i++)void 0===(t=e[i])&&(console.warn("THREE.BufferAttribute.copyVector4sArray(): vector is undefined",i),t=new a),n[r++]=t.x,n[r++]=t.y,n[r++]=t.z,n[r++]=t.w;return this},set:function(e,t){return void 0===t&&(t=0),this.array.set(e,t),this},getX:function(e){return this.array[e*this.itemSize]},setX:function(e,t){return this.array[e*this.itemSize]=t,this},getY:function(e){return this.array[e*this.itemSize+1]},setY:function(e,t){return this.array[e*this.itemSize+1]=t,this},getZ:function(e){return this.array[e*this.itemSize+2]},setZ:function(e,t){return this.array[e*this.itemSize+2]=t,this},getW:function(e){return this.array[e*this.itemSize+3]},setW:function(e,t){return this.array[e*this.itemSize+3]=t,this},setXY:function(e,t,n){return e*=this.itemSize,this.array[e+0]=t,this.array[e+1]=n,this},setXYZ:function(e,t,n,r){return e*=this.itemSize,this.array[e+0]=t,this.array[e+1]=n,this.array[e+2]=r,this},setXYZW:function(e,t,n,r,i){return e*=this.itemSize,this.array[e+0]=t,this.array[e+1]=n,this.array[e+2]=r,this.array[e+3]=i,this},onUpload:function(e){return this.onUploadCallback=e,this},clone:function(){return new this.constructor(this.array,this.itemSize).copy(this)}}),ye.prototype=Object.create(ve.prototype),ye.prototype.constructor=ye,xe.prototype=Object.create(ve.prototype),xe.prototype.constructor=xe,be.prototype=Object.create(ve.prototype),be.prototype.constructor=be,we.prototype=Object.create(ve.prototype),we.prototype.constructor=we,_e.prototype=Object.create(ve.prototype),_e.prototype.constructor=_e,Ee.prototype=Object.create(ve.prototype),Ee.prototype.constructor=Ee,Se.prototype=Object.create(ve.prototype),Se.prototype.constructor=Se,Te.prototype=Object.create(ve.prototype),Te.prototype.constructor=Te,Ae.prototype=Object.create(ve.prototype),Ae.prototype.constructor=Ae,Object.assign(Me.prototype,{computeGroups:function(e){for(var t,n,r=[],i=void 0,o=e.faces,a=0;a<o.length;a++)(n=o[a]).materialIndex!==i&&(i=n.materialIndex,null!=t&&(t.count=3*a-t.start,r.push(t)),t={start:3*a,materialIndex:i});void 0!==t&&(t.count=3*a-t.start,r.push(t)),this.groups=r},fromGeometry:function(e){var t,n=e.faces,r=e.vertices,o=e.faceVertexUvs,a=o[0]&&0<o[0].length,s=o[1]&&0<o[1].length,u=e.morphTargets,c=u.length;if(0<c){t=[];for(var l=0;l<c;l++)t[l]=[];this.morphTargets.position=t}var h,p=e.morphNormals,f=p.length;if(0<f){h=[];for(l=0;l<f;l++)h[l]=[];this.morphTargets.normal=h}var d,m=e.skinIndices,g=e.skinWeights,v=m.length===r.length,y=g.length===r.length;for(l=0;l<n.length;l++){d=n[l],this.vertices.push(r[d.a],r[d.b],r[d.c]);var x=d.vertexNormals;if(3===x.length)this.normals.push(x[0],x[1],x[2]);else{var b=d.normal;this.normals.push(b,b,b)}var w,_=d.vertexColors;if(3===_.length)this.colors.push(_[0],_[1],_[2]);else{var E=d.color;this.colors.push(E,E,E)}if(!0===a)void 0===(w=o[0][l])?(console.warn("THREE.DirectGeometry.fromGeometry(): Undefined vertexUv ",l),this.uvs.push(new i,new i,new i)):this.uvs.push(w[0],w[1],w[2]);if(!0===s)void 0===(w=o[1][l])?(console.warn("THREE.DirectGeometry.fromGeometry(): Undefined vertexUv2 ",l),this.uvs2.push(new i,new i,new i)):this.uvs2.push(w[0],w[1],w[2]);for(var S,T=0;T<c;T++)S=u[T].vertices,t[T].push(S[d.a],S[d.b],S[d.c]);var A;for(T=0;T<f;T++)A=p[T].vertexNormals[l],h[T].push(A.a,A.b,A.c);v&&this.skinIndices.push(m[d.a],m[d.b],m[d.c]),y&&this.skinWeights.push(g[d.a],g[d.b],g[d.c])}return this.computeGroups(e),this.verticesNeedUpdate=e.verticesNeedUpdate,this.normalsNeedUpdate=e.normalsNeedUpdate,this.colorsNeedUpdate=e.colorsNeedUpdate,this.uvsNeedUpdate=e.uvsNeedUpdate,this.groupsNeedUpdate=e.groupsNeedUpdate,this}}),De.MaxIndex=65535,Object.assign(De.prototype,r.prototype,{isBufferGeometry:!0,getIndex:function(){return this.index},setIndex:function(e){this.index=Array.isArray(e)?new(65535<Ce(e)?Se:_e)(e,1):e},addAttribute:function(e,t){return t&&t.isBufferAttribute||t&&t.isInterleavedBufferAttribute?"index"===e?(console.warn("THREE.BufferGeometry.addAttribute: Use .setIndex() for index attribute."),void this.setIndex(t)):(this.attributes[e]=t,this):(console.warn("THREE.BufferGeometry: .addAttribute() now expects ( name, attribute )."),void this.addAttribute(e,new ve(arguments[1],arguments[2])))},getAttribute:function(e){return this.attributes[e]},removeAttribute:function(e){return delete this.attributes[e],this},addGroup:function(e,t,n){this.groups.push({start:e,count:t,materialIndex:void 0===n?0:n})},clearGroups:function(){this.groups=[]},setDrawRange:function(e,t){this.drawRange.start=e,this.drawRange.count=t},applyMatrix:function(e){var t=this.attributes.position;void 0!==t&&(e.applyToBufferAttribute(t),t.needsUpdate=!0);var n=this.attributes.normal;void 0!==n&&((new re).getNormalMatrix(e).applyToBufferAttribute(n),n.needsUpdate=!0);return null!==this.boundingBox&&this.computeBoundingBox(),null!==this.boundingSphere&&this.computeBoundingSphere(),this},rotateX:function(){var e=new h;return function(t){return e.makeRotationX(t),this.applyMatrix(e),this}}(),rotateY:function(){var e=new h;return function(t){return e.makeRotationY(t),this.applyMatrix(e),this}}(),rotateZ:function(){var e=new h;return function(t){return e.makeRotationZ(t),this.applyMatrix(e),this}}(),translate:function(){var e=new h;return function(t,n,r){return e.makeTranslation(t,n,r),this.applyMatrix(e),this}}(),scale:function(){var e=new h;return function(t,n,r){return e.makeScale(t,n,r),this.applyMatrix(e),this}}(),lookAt:function(){var e=new le;return function(t){e.lookAt(t),e.updateMatrix(),this.applyMatrix(e.matrix)}}(),center:function(){this.computeBoundingBox();var e=this.boundingBox.getCenter().negate();return this.translate(e.x,e.y,e.z),e},setFromObject:function(e){var t=e.geometry;if(e.isPoints||e.isLine){var n=new Te(3*t.vertices.length,3),r=new Te(3*t.colors.length,3);if(this.addAttribute("position",n.copyVector3sArray(t.vertices)),this.addAttribute("color",r.copyColorsArray(t.colors)),t.lineDistances&&t.lineDistances.length===t.vertices.length){var i=new Te(t.lineDistances.length,1);this.addAttribute("lineDistance",i.copyArray(t.lineDistances))}null!==t.boundingSphere&&(this.boundingSphere=t.boundingSphere.clone()),null!==t.boundingBox&&(this.boundingBox=t.boundingBox.clone())}else e.isMesh&&t&&t.isGeometry&&this.fromGeometry(t);return this},updateFromObject:function(e){var t,n=e.geometry;if(e.isMesh){var r=n.__directGeometry;if(!0===n.elementsNeedUpdate&&(r=void 0,n.elementsNeedUpdate=!1),void 0===r)return this.fromGeometry(n);r.verticesNeedUpdate=n.verticesNeedUpdate,r.normalsNeedUpdate=n.normalsNeedUpdate,r.colorsNeedUpdate=n.colorsNeedUpdate,r.uvsNeedUpdate=n.uvsNeedUpdate,r.groupsNeedUpdate=n.groupsNeedUpdate,n.verticesNeedUpdate=!1,n.normalsNeedUpdate=!1,n.colorsNeedUpdate=!1,n.uvsNeedUpdate=!1,n.groupsNeedUpdate=!1,n=r}return!0===n.verticesNeedUpdate&&(void 0!==(t=this.attributes.position)&&(t.copyVector3sArray(n.vertices),t.needsUpdate=!0),n.verticesNeedUpdate=!1),!0===n.normalsNeedUpdate&&(void 0!==(t=this.attributes.normal)&&(t.copyVector3sArray(n.normals),t.needsUpdate=!0),n.normalsNeedUpdate=!1),!0===n.colorsNeedUpdate&&(void 0!==(t=this.attributes.color)&&(t.copyColorsArray(n.colors),t.needsUpdate=!0),n.colorsNeedUpdate=!1),n.uvsNeedUpdate&&(void 0!==(t=this.attributes.uv)&&(t.copyVector2sArray(n.uvs),t.needsUpdate=!0),n.uvsNeedUpdate=!1),n.lineDistancesNeedUpdate&&(void 0!==(t=this.attributes.lineDistance)&&(t.copyArray(n.lineDistances),t.needsUpdate=!0),n.lineDistancesNeedUpdate=!1),n.groupsNeedUpdate&&(n.computeGroups(e.geometry),this.groups=n.groups,n.groupsNeedUpdate=!1),this},fromGeometry:function(e){return e.__directGeometry=(new Me).fromGeometry(e),this.fromDirectGeometry(e.__directGeometry)},fromDirectGeometry:function(e){var t=new Float32Array(3*e.vertices.length);if(this.addAttribute("position",new ve(t,3).copyVector3sArray(e.vertices)),0<e.normals.length){var n=new Float32Array(3*e.normals.length);this.addAttribute("normal",new ve(n,3).copyVector3sArray(e.normals))}if(0<e.colors.length){var r=new Float32Array(3*e.colors.length);this.addAttribute("color",new ve(r,3).copyColorsArray(e.colors))}if(0<e.uvs.length){var i=new Float32Array(2*e.uvs.length);this.addAttribute("uv",new ve(i,2).copyVector2sArray(e.uvs))}if(0<e.uvs2.length){var o=new Float32Array(2*e.uvs2.length);this.addAttribute("uv2",new ve(o,2).copyVector2sArray(e.uvs2))}if(0<e.indices.length){var a=new(65535<Ce(e.indices)?Uint32Array:Uint16Array)(3*e.indices.length);this.setIndex(new ve(a,1).copyIndicesArray(e.indices))}for(var s in this.groups=e.groups,e.morphTargets){for(var u=[],c=e.morphTargets[s],l=0,h=c.length;l<h;l++){var p=c[l],f=new Te(3*p.length,3);u.push(f.copyVector3sArray(p))}this.morphAttributes[s]=u}if(0<e.skinIndices.length){var d=new Te(4*e.skinIndices.length,4);this.addAttribute("skinIndex",d.copyVector4sArray(e.skinIndices))}if(0<e.skinWeights.length){var m=new Te(4*e.skinWeights.length,4);this.addAttribute("skinWeight",m.copyVector4sArray(e.skinWeights))}return null!==e.boundingSphere&&(this.boundingSphere=e.boundingSphere.clone()),null!==e.boundingBox&&(this.boundingBox=e.boundingBox.clone()),this},computeBoundingBox:function(){null===this.boundingBox&&(this.boundingBox=new te);var e=this.attributes.position;void 0===e?this.boundingBox.makeEmpty():this.boundingBox.setFromBufferAttribute(e),(isNaN(this.boundingBox.min.x)||isNaN(this.boundingBox.min.y)||isNaN(this.boundingBox.min.z))&&console.error('THREE.BufferGeometry.computeBoundingBox: Computed min/max have NaN values. The "position" attribute is likely to have NaN values.',this)},computeBoundingSphere:function(){var e=new te,t=new l;return function(){null===this.boundingSphere&&(this.boundingSphere=new ne);var n=this.attributes.position;if(n){var r=this.boundingSphere.center;e.setFromBufferAttribute(n),e.getCenter(r);for(var i=0,o=0,a=n.count;o<a;o++)t.x=n.getX(o),t.y=n.getY(o),t.z=n.getZ(o),i=xo(i,r.distanceToSquared(t));this.boundingSphere.radius=uo(i),isNaN(this.boundingSphere.radius)&&console.error('THREE.BufferGeometry.computeBoundingSphere(): Computed radius is NaN. The "position" attribute is likely to have NaN values.',this)}}}(),computeFaceNormals:function(){},computeVertexNormals:function(){var e=this.index,t=this.attributes,n=this.groups;if(t.position){var r=t.position.array;if(void 0===t.normal)this.addAttribute("normal",new ve(new Float32Array(r.length),3));else for(var i=t.normal.array,o=0,a=i.length;o<a;o++)i[o]=0;var s,u,c,h=t.normal.array,p=new l,f=new l,d=new l,m=new l,g=new l;if(e){var v=e.array;0===n.length&&this.addGroup(0,v.length);for(var y=0,x=n.length;y<x;++y){var b=n[y],w=b.start;for(o=w,a=w+b.count;o<a;o+=3)s=3*v[o+0],u=3*v[o+1],c=3*v[o+2],p.fromArray(r,s),f.fromArray(r,u),d.fromArray(r,c),m.subVectors(d,f),g.subVectors(p,f),m.cross(g),h[s]+=m.x,h[s+1]+=m.y,h[s+2]+=m.z,h[u]+=m.x,h[u+1]+=m.y,h[u+2]+=m.z,h[c]+=m.x,h[c+1]+=m.y,h[c+2]+=m.z}}else for(o=0,a=r.length;o<a;o+=9)p.fromArray(r,o),f.fromArray(r,o+3),d.fromArray(r,o+6),m.subVectors(d,f),g.subVectors(p,f),m.cross(g),h[o]=m.x,h[o+1]=m.y,h[o+2]=m.z,h[o+3]=m.x,h[o+4]=m.y,h[o+5]=m.z,h[o+6]=m.x,h[o+7]=m.y,h[o+8]=m.z;this.normalizeNormals(),t.normal.needsUpdate=!0}},merge:function(e,t){if(e&&e.isBufferGeometry){void 0===t&&(t=0);var n=this.attributes;for(var r in n)if(void 0!==e.attributes[r])for(var i=n[r].array,o=e.attributes[r],a=o.array,s=0,u=o.itemSize*t;s<a.length;s++,u++)i[u]=a[s];return this}console.error("THREE.BufferGeometry.merge(): geometry not an instance of THREE.BufferGeometry.",e)},normalizeNormals:function(){var e=new l;return function(){for(var t=this.attributes.normal,n=0,r=t.count;n<r;n++)e.x=t.getX(n),e.y=t.getY(n),e.z=t.getZ(n),e.normalize(),t.setXYZ(n,e.x,e.y,e.z)}}(),toNonIndexed:function(){if(null===this.index)return console.warn("THREE.BufferGeometry.toNonIndexed(): Geometry is already non-indexed."),this;var e=new De,t=this.index.array,n=this.attributes;for(var r in n){for(var i=n[r],o=i.array,a=i.itemSize,s=new o.constructor(t.length*a),u=0,c=0,l=0,h=t.length;l<h;l++){u=t[l]*a;for(var p=0;p<a;p++)s[c++]=o[u++]}e.addAttribute(r,new ve(s,a))}return e},toJSON:function(){var e={metadata:{version:4.5,type:"BufferGeometry",generator:"BufferGeometry.toJSON"}};if(e.uuid=this.uuid,e.type=this.type,""!==this.name&&(e.name=this.name),void 0!==this.parameters){var t=this.parameters;for(var n in t)void 0!==t[n]&&(e[n]=t[n]);return e}e.data={attributes:{}};var r=this.index;if(null!==r){var i=Array.prototype.slice.call(r.array);e.data.index={type:r.array.constructor.name,array:i}}var o=this.attributes;for(var n in o){var a=o[n];i=Array.prototype.slice.call(a.array);e.data.attributes[n]={itemSize:a.itemSize,type:a.array.constructor.name,array:i,normalized:a.normalized}}var s=this.groups;0<s.length&&(e.data.groups=JSON.parse(JSON.stringify(s)));var u=this.boundingSphere;return null!==u&&(e.data.boundingSphere={center:u.center.toArray(),radius:u.radius}),e},clone:function(){return(new De).copy(this)},copy:function(e){var t,n,r;this.index=null,this.attributes={},this.morphAttributes={},this.groups=[],this.boundingBox=null,this.boundingSphere=null,this.name=e.name;var i=e.index;null!==i&&this.setIndex(i.clone());var o=e.attributes;for(t in o){var a=o[t];this.addAttribute(t,a.clone())}var s=e.morphAttributes;for(t in s){var u=[],c=s[t];for(n=0,r=c.length;n<r;n++)u.push(c[n].clone());this.morphAttributes[t]=u}var l=e.groups;for(n=0,r=l.length;n<r;n++){var h=l[n];this.addGroup(h.start,h.count,h.materialIndex)}var p=e.boundingBox;null!==p&&(this.boundingBox=p.clone());var f=e.boundingSphere;return null!==f&&(this.boundingSphere=f.clone()),this.drawRange.start=e.drawRange.start,this.drawRange.count=e.drawRange.count,this},dispose:function(){this.dispatchEvent({type:"dispose"})}}),Le.prototype=Object.create(ge.prototype),Le.prototype.constructor=Le,Pe.prototype=Object.create(De.prototype),Pe.prototype.constructor=Pe,Re.prototype=Object.create(ge.prototype),Re.prototype.constructor=Re,Oe.prototype=Object.create(De.prototype),Oe.prototype.constructor=Oe,Ie.prototype=Object.create(K.prototype),Ie.prototype.constructor=Ie,Ie.prototype.isMeshBasicMaterial=!0,Ie.prototype.copy=function(e){return K.prototype.copy.call(this,e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.skinning=e.skinning,this.morphTargets=e.morphTargets,this},Object.assign(ke.prototype,{set:function(e,t){return this.origin.copy(e),this.direction.copy(t),this},clone:function(){return(new this.constructor).copy(this)},copy:function(e){return this.origin.copy(e.origin),this.direction.copy(e.direction),this},at:function(e,t){return(t||new l).copy(this.direction).multiplyScalar(e).add(this.origin)},lookAt:function(e){return this.direction.copy(e).sub(this.origin).normalize(),this},recast:function(){var e=new l;return function(t){return this.origin.copy(this.at(t,e)),this}}(),closestPointToPoint:function(e,t){var n=t||new l;n.subVectors(e,this.origin);var r=n.dot(this.direction);return 0>r?n.copy(this.origin):n.copy(this.direction).multiplyScalar(r).add(this.origin)},distanceToPoint:function(e){return uo(this.distanceSqToPoint(e))},distanceSqToPoint:function(){var e=new l;return function(t){var n=e.subVectors(t,this.origin).dot(this.direction);return 0>n?this.origin.distanceToSquared(t):(e.copy(this.direction).multiplyScalar(n).add(this.origin),e.distanceToSquared(t))}}(),distanceSqToSegment:function(){var e=new l,t=new l,n=new l;return function(r,i,o,a){e.copy(r).add(i).multiplyScalar(.5),t.copy(i).sub(r).normalize(),n.copy(this.origin).sub(e);var s,u,c,l,h=.5*r.distanceTo(i),p=-this.direction.dot(t),f=n.dot(this.direction),d=-n.dot(t),m=n.lengthSq(),g=so(1-p*p);if(0<g)if(u=p*f-d,l=h*g,0<=(s=p*d-f))if(u>=-l)if(u<=l){var v=1/g;c=(s*=v)*(s+p*(u*=v)+2*f)+u*(p*s+u+2*d)+m}else c=-(s=xo(0,-(p*(u=h)+f)))*s+u*(u+2*d)+m;else c=-(s=xo(0,-(p*(u=-h)+f)))*s+u*(u+2*d)+m;else u<=-l?c=-(s=xo(0,-(-p*h+f)))*s+(u=0<s?-h:bo(xo(-h,-d),h))*(u+2*d)+m:u<=l?(s=0,c=(u=bo(xo(-h,-d),h))*(u+2*d)+m):c=-(s=xo(0,-(p*h+f)))*s+(u=0<s?h:bo(xo(-h,-d),h))*(u+2*d)+m;else c=-(s=xo(0,-(p*(u=0<p?-h:h)+f)))*s+u*(u+2*d)+m;return o&&o.copy(this.direction).multiplyScalar(s).add(this.origin),a&&a.copy(t).multiplyScalar(u).add(e),c}}(),intersectSphere:function(){var e=new l;return function(t,n){e.subVectors(t.center,this.origin);var r=e.dot(this.direction),i=e.dot(e)-r*r,o=t.radius*t.radius;if(i>o)return null;var a=uo(o-i),s=r-a,u=r+a;return 0>s&&0>u?null:0>s?this.at(u,n):this.at(s,n)}}(),intersectsSphere:function(e){return this.distanceToPoint(e.center)<=e.radius},distanceToPlane:function(e){var t=e.normal.dot(this.direction);if(0===t)return 0===e.distanceToPoint(this.origin)?0:null;var n=-(this.origin.dot(e.normal)+e.constant)/t;return 0<=n?n:null},intersectPlane:function(e,t){var n=this.distanceToPlane(e);return null===n?null:this.at(n,t)},intersectsPlane:function(e){var t=e.distanceToPoint(this.origin);return 0===t||!!(0>e.normal.dot(this.direction)*t)},intersectBox:function(e,t){var n,r,i,o,a,s,u=1/this.direction.x,c=1/this.direction.y,l=1/this.direction.z,h=this.origin;return 0<=u?(n=(e.min.x-h.x)*u,r=(e.max.x-h.x)*u):(n=(e.max.x-h.x)*u,r=(e.min.x-h.x)*u),0<=c?(i=(e.min.y-h.y)*c,o=(e.max.y-h.y)*c):(i=(e.max.y-h.y)*c,o=(e.min.y-h.y)*c),n>o||i>r?null:((i>n||n!=n)&&(n=i),(o<r||r!=r)&&(r=o),0<=l?(a=(e.min.z-h.z)*l,s=(e.max.z-h.z)*l):(a=(e.max.z-h.z)*l,s=(e.min.z-h.z)*l),n>s||a>r?null:((a>n||n!=n)&&(n=a),(s<r||r!=r)&&(r=s),0>r?null:this.at(0<=n?n:r,t)))},intersectsBox:function(){var e=new l;return function(t){return null!==this.intersectBox(t,e)}}(),intersectTriangle:function(){var e=new l,t=new l,n=new l,r=new l;return function(i,o,a,s,u){t.subVectors(o,i),n.subVectors(a,i),r.crossVectors(t,n);var c,l=this.direction.dot(r);if(0<l){if(s)return null;c=1}else{if(!(0>l))return null;c=-1,l=-l}e.subVectors(this.origin,i);var h=c*this.direction.dot(n.crossVectors(e,n));if(0>h)return null;var p=c*this.direction.dot(t.cross(e));if(0>p)return null;if(h+p>l)return null;var f=-c*e.dot(r);return 0>f?null:this.at(f/l,u)}}(),applyMatrix4:function(e){return this.origin.applyMatrix4(e),this.direction.transformDirection(e),this},equals:function(e){return e.origin.equals(this.origin)&&e.direction.equals(this.direction)}}),Object.assign(Ne.prototype,{set:function(e,t){return this.start.copy(e),this.end.copy(t),this},clone:function(){return(new this.constructor).copy(this)},copy:function(e){return this.start.copy(e.start),this.end.copy(e.end),this},getCenter:function(e){return(e||new l).addVectors(this.start,this.end).multiplyScalar(.5)},delta:function(e){return(e||new l).subVectors(this.end,this.start)},distanceSq:function(){return this.start.distanceToSquared(this.end)},distance:function(){return this.start.distanceTo(this.end)},at:function(e,t){var n=t||new l;return this.delta(n).multiplyScalar(e).add(this.start)},closestPointToPointParameter:function(){var e=new l,t=new l;return function(n,r){e.subVectors(n,this.start),t.subVectors(this.end,this.start);var i=t.dot(t),o=t.dot(e)/i;return r&&(o=Us.clamp(o,0,1)),o}}(),closestPointToPoint:function(e,t,n){var r=this.closestPointToPointParameter(e,t),i=n||new l;return this.delta(i).multiplyScalar(r).add(this.start)},applyMatrix4:function(e){return this.start.applyMatrix4(e),this.end.applyMatrix4(e),this},equals:function(e){return e.start.equals(this.start)&&e.end.equals(this.end)}}),Object.assign(Fe,{normal:function(){var e=new l;return function(t,n,r,i){var o=i||new l;o.subVectors(r,n),e.subVectors(t,n),o.cross(e);var a=o.lengthSq();return 0<a?o.multiplyScalar(1/uo(a)):o.set(0,0,0)}}(),barycoordFromPoint:function(){var e=new l,t=new l,n=new l;return function(r,i,o,a,s){e.subVectors(a,i),t.subVectors(o,i),n.subVectors(r,i);var u=e.dot(e),c=e.dot(t),h=e.dot(n),p=t.dot(t),f=t.dot(n),d=u*p-c*c,m=s||new l;if(0==d)return m.set(-2,-1,-1);var g=1/d,v=(p*h-c*f)*g,y=(u*f-c*h)*g;return m.set(1-v-y,y,v)}}(),containsPoint:function(){var e=new l;return function(t,n,r,i){var o=Fe.barycoordFromPoint(t,n,r,i,e);return 0<=o.x&&0<=o.y&&1>=o.x+o.y}}()}),Object.assign(Fe.prototype,{set:function(e,t,n){return this.a.copy(e),this.b.copy(t),this.c.copy(n),this},setFromPointsAndIndices:function(e,t,n,r){return this.a.copy(e[t]),this.b.copy(e[n]),this.c.copy(e[r]),this},clone:function(){return(new this.constructor).copy(this)},copy:function(e){return this.a.copy(e.a),this.b.copy(e.b),this.c.copy(e.c),this},area:function(){var e=new l,t=new l;return function(){return e.subVectors(this.c,this.b),t.subVectors(this.a,this.b),.5*e.cross(t).length()}}(),midpoint:function(e){return(e||new l).addVectors(this.a,this.b).add(this.c).multiplyScalar(1/3)},normal:function(e){return Fe.normal(this.a,this.b,this.c,e)},plane:function(e){return(e||new ie).setFromCoplanarPoints(this.a,this.b,this.c)},barycoordFromPoint:function(e,t){return Fe.barycoordFromPoint(e,this.a,this.b,this.c,t)},containsPoint:function(e){return Fe.containsPoint(e,this.a,this.b,this.c)},closestPointToPoint:function(){var e=new ie,t=[new Ne,new Ne,new Ne],n=new l,r=new l;return function(i,o){var a=o||new l,s=1/0;if(e.setFromCoplanarPoints(this.a,this.b,this.c),e.projectPoint(i,n),!0===this.containsPoint(n))a.copy(n);else{t[0].set(this.a,this.b),t[1].set(this.b,this.c),t[2].set(this.c,this.a);for(var u=0;u<t.length;u++){t[u].closestPointToPoint(n,!0,r);var c=n.distanceToSquared(r);c<s&&(s=c,a.copy(r))}}return a}}(),equals:function(e){return e.a.equals(this.a)&&e.b.equals(this.b)&&e.c.equals(this.c)}}),Be.prototype=Object.assign(Object.create(le.prototype),{constructor:Be,isMesh:!0,setDrawMode:function(e){this.drawMode=e},copy:function(e){return le.prototype.copy.call(this,e),this.drawMode=e.drawMode,this},updateMorphTargets:function(){var e,t,n,r=this.geometry;if(r.isBufferGeometry){var i=r.morphAttributes,o=Object.keys(i);if(0<o.length){var a=i[o[0]];if(void 0!==a)for(this.morphTargetInfluences=[],this.morphTargetDictionary={},e=0,t=a.length;e<t;e++)n=a[e].name||e+"",this.morphTargetInfluences.push(0),this.morphTargetDictionary[n]=e}}else{var s=r.morphTargets;if(void 0!==s&&0<s.length)for(this.morphTargetInfluences=[],this.morphTargetDictionary={},e=0,t=s.length;e<t;e++)n=s[e].name||e+"",this.morphTargetInfluences.push(0),this.morphTargetDictionary[n]=e}},raycast:function(){function e(e,t,n,r,i,o,a){return Fe.barycoordFromPoint(e,t,n,r,y),i.multiplyScalar(y.x),o.multiplyScalar(y.y),a.multiplyScalar(y.z),i.add(o).add(a),i.clone()}function t(e,t,n,r,i,o,a,s){if(null===(t.side===Io?r.intersectTriangle(a,o,i,!0,s):r.intersectTriangle(i,o,a,t.side!==ko,s)))return null;b.copy(s),b.applyMatrix4(e.matrixWorld);var u=n.ray.origin.distanceTo(b);return u<n.near||u>n.far?null:{distance:u,point:b.clone(),object:e}}function n(n,r,i,o,a,l,h,p){s.fromBufferAttribute(o,l),u.fromBufferAttribute(o,h),c.fromBufferAttribute(o,p);var f=t(n,n.material,r,i,s,u,c,x);return f&&(a&&(m.fromBufferAttribute(a,l),g.fromBufferAttribute(a,h),v.fromBufferAttribute(a,p),f.uv=e(x,s,u,c,m,g,v)),f.face=new de(l,h,p,Fe.normal(s,u,c)),f.faceIndex=l),f}var r=new h,o=new ke,a=new ne,s=new l,u=new l,c=new l,p=new l,f=new l,d=new l,m=new i,g=new i,v=new i,y=new l,x=new l,b=new l;return function(i,l){var h,y=this.geometry,b=this.material,w=this.matrixWorld;if(void 0!==b&&(null===y.boundingSphere&&y.computeBoundingSphere(),a.copy(y.boundingSphere),a.applyMatrix4(w),!1!==i.ray.intersectsSphere(a))&&(r.getInverse(w),o.copy(i.ray).applyMatrix4(r),null===y.boundingBox||!1!==o.intersectsBox(y.boundingBox)))if(y.isBufferGeometry){var _,E,S,T,A,M=y.index,C=y.attributes.position,D=y.attributes.uv;if(null!==M)for(T=0,A=M.count;T<A;T+=3)_=M.getX(T),E=M.getX(T+1),S=M.getX(T+2),(h=n(this,i,o,C,D,_,E,S))&&(h.faceIndex=wo(T/3),l.push(h));else for(T=0,A=C.count;T<A;T+=3)(h=n(this,i,o,C,D,_=T,E=T+1,S=T+2))&&(h.index=_,l.push(h))}else if(y.isGeometry){var L,P,R,O,I=Array.isArray(b),k=y.vertices,N=y.faces,F=y.faceVertexUvs[0];0<F.length&&(O=F);for(var B=0,U=N.length;B<U;B++){var z=N[B],j=I?b[z.materialIndex]:b;if(void 0!==j){if(L=k[z.a],P=k[z.b],R=k[z.c],!0===j.morphTargets){var G=y.morphTargets,H=this.morphTargetInfluences;s.set(0,0,0),u.set(0,0,0),c.set(0,0,0);for(var V,W=0,X=G.length;W<X;W++)if(0!==(V=H[W])){var q=G[W].vertices;s.addScaledVector(p.subVectors(q[z.a],L),V),u.addScaledVector(f.subVectors(q[z.b],P),V),c.addScaledVector(d.subVectors(q[z.c],R),V)}s.add(L),u.add(P),c.add(R),L=s,P=u,R=c}if(h=t(this,j,i,o,L,P,R,x)){if(O&&O[B]){var Y=O[B];m.copy(Y[0]),g.copy(Y[1]),v.copy(Y[2]),h.uv=e(x,L,P,R,m,g,v)}h.face=z,h.faceIndex=B,l.push(h)}}}}}}(),clone:function(){return new this.constructor(this.geometry,this.material).copy(this)}});var nu=0;ft.prototype=Object.assign(Object.create(fe.prototype),{constructor:ft,isArrayCamera:!0}),xt.prototype.isFogExp2=!0,xt.prototype.clone=function(){return new xt(this.color.getHex(),this.density)},xt.prototype.toJSON=function(){return{type:"FogExp2",color:this.color.getHex(),density:this.density}},bt.prototype.isFog=!0,bt.prototype.clone=function(){return new bt(this.color.getHex(),this.near,this.far)},bt.prototype.toJSON=function(){return{type:"Fog",color:this.color.getHex(),near:this.near,far:this.far}},wt.prototype=Object.assign(Object.create(le.prototype),{constructor:wt,copy:function(e,t){return le.prototype.copy.call(this,e,t),null!==e.background&&(this.background=e.background.clone()),null!==e.fog&&(this.fog=e.fog.clone()),null!==e.overrideMaterial&&(this.overrideMaterial=e.overrideMaterial.clone()),this.autoUpdate=e.autoUpdate,this.matrixAutoUpdate=e.matrixAutoUpdate,this},toJSON:function(e){var t=le.prototype.toJSON.call(this,e);return null!==this.background&&(t.object.background=this.background.toJSON(e)),null!==this.fog&&(t.object.fog=this.fog.toJSON()),t}}),_t.prototype=Object.assign(Object.create(le.prototype),{constructor:_t,isLensFlare:!0,copy:function(e){le.prototype.copy.call(this,e),this.positionScreen.copy(e.positionScreen),this.customUpdateCallback=e.customUpdateCallback;for(var t=0,n=e.lensFlares.length;t<n;t++)this.lensFlares.push(e.lensFlares[t]);return this},add:function(e,t,n,r,i,o){void 0===t&&(t=-1),void 0===n&&(n=0),void 0===o&&(o=1),void 0===i&&(i=new X(16777215)),void 0===r&&(r=Go),n=bo(n,xo(0,n)),this.lensFlares.push({texture:e,size:t,distance:n,x:0,y:0,z:0,scale:1,rotation:0,opacity:o,color:i,blending:r})},updateLensFlares:function(){var e,t,n=this.lensFlares.length,r=2*-this.positionScreen.x,i=2*-this.positionScreen.y;for(e=0;e<n;e++)(t=this.lensFlares[e]).x=this.positionScreen.x+r*t.distance,t.y=this.positionScreen.y+i*t.distance,t.wantedRotation=t.x*fo*.25,t.rotation+=.25*(t.wantedRotation-t.rotation)}}),Et.prototype=Object.create(K.prototype),Et.prototype.constructor=Et,Et.prototype.isSpriteMaterial=!0,Et.prototype.copy=function(e){return K.prototype.copy.call(this,e),this.color.copy(e.color),this.map=e.map,this.rotation=e.rotation,this},St.prototype=Object.assign(Object.create(le.prototype),{constructor:St,isSprite:!0,raycast:function(){var e=new l,t=new l,n=new l;return function(r,i){t.setFromMatrixPosition(this.matrixWorld),r.ray.closestPointToPoint(t,e),n.setFromMatrixScale(this.matrixWorld);var o=n.x*n.y/4;if(!(t.distanceToSquared(e)>o)){var a=r.ray.origin.distanceTo(e);a<r.near||a>r.far||i.push({distance:a,point:e.clone(),face:null,object:this})}}}(),clone:function(){return new this.constructor(this.material).copy(this)}}),Tt.prototype=Object.assign(Object.create(le.prototype),{constructor:Tt,copy:function(e){le.prototype.copy.call(this,e,!1);for(var t,n=e.levels,r=0,i=n.length;r<i;r++)t=n[r],this.addLevel(t.object.clone(),t.distance);return this},addLevel:function(e,t){void 0===t&&(t=0),t=so(t);for(var n=this.levels,r=0;r<n.length&&!(t<n[r].distance);r++);n.splice(r,0,{distance:t,object:e}),this.add(e)},getObjectForDistance:function(e){for(var t=this.levels,n=1,r=t.length;n<r&&!(e<t[n].distance);n++);return t[n-1].object},raycast:function(){var e=new l;return function(t,n){e.setFromMatrixPosition(this.matrixWorld);var r=t.ray.origin.distanceTo(e);this.getObjectForDistance(r).raycast(t,n)}}(),update:function(){var e=new l,t=new l;return function(n){var r=this.levels;if(1<r.length){e.setFromMatrixPosition(n.matrixWorld),t.setFromMatrixPosition(this.matrixWorld);var i=e.distanceTo(t);r[0].object.visible=!0;for(var o=1,a=r.length;o<a&&i>=r[o].distance;o++)r[o-1].object.visible=!1,r[o].object.visible=!0;for(;o<a;o++)r[o].object.visible=!1}}}(),toJSON:function(e){var t=le.prototype.toJSON.call(this,e);t.object.levels=[];for(var n,r=this.levels,i=0,o=r.length;i<o;i++)n=r[i],t.object.levels.push({object:n.object.uuid,distance:n.distance});return t}}),Object.assign(At.prototype,{calculateInverses:function(){this.boneInverses=[];for(var e,t=0,n=this.bones.length;t<n;t++)e=new h,this.bones[t]&&e.getInverse(this.bones[t].matrixWorld),this.boneInverses.push(e)},pose:function(){var e,t,n;for(t=0,n=this.bones.length;t<n;t++)(e=this.bones[t])&&e.matrixWorld.getInverse(this.boneInverses[t]);for(t=0,n=this.bones.length;t<n;t++)(e=this.bones[t])&&(e.parent&&e.parent.isBone?(e.matrix.getInverse(e.parent.matrixWorld),e.matrix.multiply(e.matrixWorld)):e.matrix.copy(e.matrixWorld),e.matrix.decompose(e.position,e.quaternion,e.scale))},update:function(){var e=new h,t=new h;return function(){for(var n,r=this.bones,i=this.boneInverses,o=this.boneMatrices,a=this.boneTexture,s=0,u=r.length;s<u;s++)n=r[s]?r[s].matrixWorld:t,e.multiplyMatrices(n,i[s]),e.toArray(o,16*s);void 0!==a&&(a.needsUpdate=!0)}}(),clone:function(){return new At(this.bones,this.boneInverses)}}),Mt.prototype=Object.assign(Object.create(le.prototype),{constructor:Mt,isBone:!0}),Ct.prototype=Object.assign(Object.create(Be.prototype),{constructor:Ct,isSkinnedMesh:!0,initBones:function(){var e,t,n,r,i=[];if(this.geometry&&void 0!==this.geometry.bones){for(n=0,r=this.geometry.bones.length;n<r;n++)t=this.geometry.bones[n],e=new Mt,i.push(e),e.name=t.name,e.position.fromArray(t.pos),e.quaternion.fromArray(t.rotq),void 0!==t.scl&&e.scale.fromArray(t.scl);for(n=0,r=this.geometry.bones.length;n<r;n++)-1!==(t=this.geometry.bones[n]).parent&&null!==t.parent&&void 0!==i[t.parent]?i[t.parent].add(i[n]):this.add(i[n])}return this.updateMatrixWorld(!0),i},bind:function(e,t){this.skeleton=e,void 0===t&&(this.updateMatrixWorld(!0),this.skeleton.calculateInverses(),t=this.matrixWorld),this.bindMatrix.copy(t),this.bindMatrixInverse.getInverse(t)},pose:function(){this.skeleton.pose()},normalizeSkinWeights:function(){var e,t;if(this.geometry&&this.geometry.isGeometry)for(t=0;t<this.geometry.skinWeights.length;t++){var n=this.geometry.skinWeights[t];(e=1/n.lengthManhattan())===1/0?n.set(1,0,0,0):n.multiplyScalar(e)}else if(this.geometry&&this.geometry.isBufferGeometry){var r=new a,i=this.geometry.attributes.skinWeight;for(t=0;t<i.count;t++)r.x=i.getX(t),r.y=i.getY(t),r.z=i.getZ(t),r.w=i.getW(t),(e=1/r.lengthManhattan())===1/0?r.set(1,0,0,0):r.multiplyScalar(e),i.setXYZW(t,r.x,r.y,r.z,r.w)}},updateMatrixWorld:function(e){Be.prototype.updateMatrixWorld.call(this,e),"attached"===this.bindMode?this.bindMatrixInverse.getInverse(this.matrixWorld):"detached"===this.bindMode?this.bindMatrixInverse.getInverse(this.bindMatrix):console.warn("THREE.SkinnedMesh: Unrecognized bindMode: "+this.bindMode)},clone:function(){return new this.constructor(this.geometry,this.material).copy(this)}}),Dt.prototype=Object.create(K.prototype),Dt.prototype.constructor=Dt,Dt.prototype.isLineBasicMaterial=!0,Dt.prototype.copy=function(e){return K.prototype.copy.call(this,e),this.color.copy(e.color),this.linewidth=e.linewidth,this.linecap=e.linecap,this.linejoin=e.linejoin,this},Lt.prototype=Object.assign(Object.create(le.prototype),{constructor:Lt,isLine:!0,raycast:function(){var e=new h,t=new ke,n=new ne;return function(r,i){var o=r.linePrecision,a=o*o,s=this.geometry,u=this.matrixWorld;if(null===s.boundingSphere&&s.computeBoundingSphere(),n.copy(s.boundingSphere),n.applyMatrix4(u),!1!==r.ray.intersectsSphere(n)){e.getInverse(u),t.copy(r.ray).applyMatrix4(e);var c=new l,h=new l,p=new l,f=new l,d=this&&this.isLineSegments?2:1;if(s.isBufferGeometry){var m=s.index,g=s.attributes.position.array;if(null!==m)for(var v=m.array,y=0,x=v.length-1;y<x;y+=d){var b=v[y],w=v[y+1];if(c.fromArray(g,3*b),h.fromArray(g,3*w),!(t.distanceSqToSegment(c,h,f,p)>a))f.applyMatrix4(this.matrixWorld),(S=r.ray.origin.distanceTo(f))<r.near||S>r.far||i.push({distance:S,point:p.clone().applyMatrix4(this.matrixWorld),index:y,face:null,faceIndex:null,object:this})}else for(y=0,x=g.length/3-1;y<x;y+=d){if(c.fromArray(g,3*y),h.fromArray(g,3*y+3),!(t.distanceSqToSegment(c,h,f,p)>a))f.applyMatrix4(this.matrixWorld),(S=r.ray.origin.distanceTo(f))<r.near||S>r.far||i.push({distance:S,point:p.clone().applyMatrix4(this.matrixWorld),index:y,face:null,faceIndex:null,object:this})}}else if(s.isGeometry){var _=s.vertices,E=_.length;for(y=0;y<E-1;y+=d)if(!(t.distanceSqToSegment(_[y],_[y+1],f,p)>a)){var S;f.applyMatrix4(this.matrixWorld),(S=r.ray.origin.distanceTo(f))<r.near||S>r.far||i.push({distance:S,point:p.clone().applyMatrix4(this.matrixWorld),index:y,face:null,faceIndex:null,object:this})}}}}}(),clone:function(){return new this.constructor(this.geometry,this.material).copy(this)}}),Pt.prototype=Object.assign(Object.create(Lt.prototype),{constructor:Pt,isLineSegments:!0}),Rt.prototype=Object.assign(Object.create(Lt.prototype),{constructor:Rt,isLineLoop:!0}),Ot.prototype=Object.create(K.prototype),Ot.prototype.constructor=Ot,Ot.prototype.isPointsMaterial=!0,Ot.prototype.copy=function(e){return K.prototype.copy.call(this,e),this.color.copy(e.color),this.map=e.map,this.size=e.size,this.sizeAttenuation=e.sizeAttenuation,this},It.prototype=Object.assign(Object.create(le.prototype),{constructor:It,isPoints:!0,raycast:function(){var e=new h,t=new ke,n=new ne;return function(r,i){function o(e,n){var o=t.distanceSqToPoint(e);if(o<p){var s=t.closestPointToPoint(e);s.applyMatrix4(u);var c=r.ray.origin.distanceTo(s);if(c<r.near||c>r.far)return;i.push({distance:c,distanceToRay:uo(o),point:s.clone(),index:n,face:null,object:a})}}var a=this,s=this.geometry,u=this.matrixWorld,c=r.params.Points.threshold;if(null===s.boundingSphere&&s.computeBoundingSphere(),n.copy(s.boundingSphere),n.applyMatrix4(u),n.radius+=c,!1!==r.ray.intersectsSphere(n)){e.getInverse(u),t.copy(r.ray).applyMatrix4(e);var h=c/((this.scale.x+this.scale.y+this.scale.z)/3),p=h*h,f=new l;if(s.isBufferGeometry){var d=s.index,m=s.attributes.position.array;if(null!==d)for(var g,v=d.array,y=0,x=v.length;y<x;y++)g=v[y],f.fromArray(m,3*g),o(f,g);else{y=0;for(var b=m.length/3;y<b;y++)f.fromArray(m,3*y),o(f,y)}}else{var w=s.vertices;for(y=0,b=w.length;y<b;y++)o(w[y],y)}}}}(),clone:function(){return new this.constructor(this.geometry,this.material).copy(this)}}),kt.prototype=Object.assign(Object.create(le.prototype),{constructor:kt}),Nt.prototype=Object.create(o.prototype),Nt.prototype.constructor=Nt,Ft.prototype=Object.create(o.prototype),Ft.prototype.constructor=Ft,Ft.prototype.isCompressedTexture=!0,Bt.prototype=Object.create(o.prototype),Bt.prototype.constructor=Bt,Bt.prototype.isDepthTexture=!0,Ut.prototype=Object.create(De.prototype),Ut.prototype.constructor=Ut,zt.prototype=Object.create(ge.prototype),zt.prototype.constructor=zt,jt.prototype=Object.create(De.prototype),jt.prototype.constructor=jt,Gt.prototype=Object.create(ge.prototype),Gt.prototype.constructor=Gt,Ht.prototype=Object.create(De.prototype),Ht.prototype.constructor=Ht,Vt.prototype=Object.create(ge.prototype),Vt.prototype.constructor=Vt,Wt.prototype=Object.create(Ht.prototype),Wt.prototype.constructor=Wt,Xt.prototype=Object.create(ge.prototype),Xt.prototype.constructor=Xt,qt.prototype=Object.create(Ht.prototype),qt.prototype.constructor=qt,Yt.prototype=Object.create(ge.prototype),Yt.prototype.constructor=Yt,Jt.prototype=Object.create(Ht.prototype),Jt.prototype.constructor=Jt,Zt.prototype=Object.create(ge.prototype),Zt.prototype.constructor=Zt,Kt.prototype=Object.create(Ht.prototype),Kt.prototype.constructor=Kt,$t.prototype=Object.create(ge.prototype),$t.prototype.constructor=$t,Qt.prototype=Object.create(De.prototype),Qt.prototype.constructor=Qt,en.prototype=Object.create(ge.prototype),en.prototype.constructor=en,tn.prototype=Object.create(De.prototype),tn.prototype.constructor=tn,nn.prototype=Object.create(ge.prototype),nn.prototype.constructor=nn,rn.prototype=Object.create(De.prototype),rn.prototype.constructor=rn;var ru={area:function(e){for(var t=e.length,n=0,r=t-1,i=0;i<t;r=i++)n+=e[r].x*e[i].y-e[i].x*e[r].y;return.5*n},triangulate:function(){function e(e,t,n,r,i,o){var a,s,u,c,l,h,p,f,d,m,g,v,y,x,b;if(s=e[o[t]].x,u=e[o[t]].y,c=e[o[n]].x,l=e[o[n]].y,h=e[o[r]].x,0>=(c-s)*((p=e[o[r]].y)-u)-(l-u)*(h-s))return!1;for(m=h-c,g=p-l,v=s-h,y=u-p,x=c-s,b=l-u,a=0;a<i;a++)if(f=e[o[a]].x,d=e[o[a]].y,(f!==s||d!==u)&&(f!==c||d!==l)&&(f!==h||d!==p)&&(m*(d-l)-g*(f-c)>=-vo&&v*(d-p)-y*(f-h)>=-vo&&x*(d-u)-b*(f-s)>=-vo))return!1;return!0}return function(t,n){var r=t.length;if(3>r)return null;var i,o,a,s=[],u=[],c=[];if(0<ru.area(t))for(o=0;o<r;o++)u[o]=o;else for(o=0;o<r;o++)u[o]=r-1-o;var l=r,h=2*l;for(o=l-1;2<l;){if(0>=h--)return console.warn("THREE.ShapeUtils: Unable to triangulate polygon! in triangulate()"),n?c:s;if(l<=(i=o)&&(i=0),l<=(o=i+1)&&(o=0),l<=(a=o+1)&&(a=0),e(t,i,o,a,l,u)){var p,f,d,m,g;for(p=u[i],f=u[o],d=u[a],s.push([t[p],t[f],t[d]]),c.push([u[i],u[o],u[a]]),m=o,g=o+1;g<l;m++,g++)u[m]=u[g];h=2*--l}}return n?c:s}}(),triangulateShape:function(e,t){function n(e){var t=e.length;2<t&&e[t-1].equals(e[0])&&e.pop()}function r(e,t,n){return e.x===t.x?e.y<t.y?e.y<=n.y&&n.y<=t.y:t.y<=n.y&&n.y<=e.y:e.x<t.x?e.x<=n.x&&n.x<=t.x:t.x<=n.x&&n.x<=e.x}function i(e,t,n,i,o){var a=t.x-e.x,s=t.y-e.y,u=i.x-n.x,c=i.y-n.y,l=e.x-n.x,h=e.y-n.y,p=s*u-a*c,f=s*l-a*h;if(so(p)>vo){var d;if(0<p){if(0>f||f>p)return[];if(0>(d=c*l-u*h)||d>p)return[]}else{if(0<f||f<p)return[];if(0<(d=c*l-u*h)||d<p)return[]}if(0===d)return!o||0!=f&&f!=p?[e]:[];if(d===p)return!o||0!=f&&f!=p?[t]:[];if(0==f)return[n];if(f==p)return[i];var m=d/p;return[{x:e.x+m*a,y:e.y+m*s}]}if(0!=f||c*l!=u*h)return[];var g,v,y,x,b,w,_,E,S=0==a&&0==s,T=0==u&&0==c;return S&&T?e.x!==n.x||e.y!==n.y?[]:[e]:S?r(n,i,e)?[e]:[]:T?r(e,t,n)?[n]:[]:(0==a?(e.y<t.y?(g=e,y=e.y,v=t,x=t.y):(g=t,y=t.y,v=e,x=e.y),n.y<i.y?(b=n,_=n.y,w=i,E=i.y):(b=i,_=i.y,w=n,E=n.y)):(e.x<t.x?(g=e,y=e.x,v=t,x=t.x):(g=t,y=t.x,v=e,x=e.x),n.x<i.x?(b=n,_=n.x,w=i,E=i.x):(b=i,_=i.x,w=n,E=n.x)),y<=_?x<_?[]:x===_?o?[]:[b]:x<=E?[b,v]:[b,w]:y>E?[]:y===E?o?[]:[g]:x<=E?[g,v]:[g,w])}function o(e,t,n,r){var i=t.x-e.x,o=t.y-e.y,a=n.x-e.x,s=n.y-e.y,u=r.x-e.x,c=r.y-e.y,l=i*s-o*a,h=i*c-o*u;if(so(l)>vo){var p=u*s-c*a;return 0<l?0<=h&&0<=p:0<=h||0<=p}return 0<h}n(e),t.forEach(n);for(var a,s,u,c,l,h,p={},f=e.concat(),d=0,m=t.length;d<m;d++)Array.prototype.push.apply(f,t[d]);for(a=0,s=f.length;a<s;a++)void 0!==p[l=f[a].x+":"+f[a].y]&&console.warn("THREE.ShapeUtils: Duplicate point",l,a),p[l]=a;var g=function(e,t){function n(e,t){var n=y.length-1,r=e-1;0>r&&(r=n);var i=e+1;i>n&&(i=0);var a=o(y[e],y[r],y[i],s[t]);if(!a)return!1;var u=s.length-1,c=t-1;0>c&&(c=u);var l=t+1;return l>u&&(l=0),!!(a=o(s[t],s[c],s[l],y[e]))}function r(e,t){var n,r;for(n=0;n<y.length;n++)if(r=n+1,r%=y.length,0<i(e,t,y[n],y[r],!0).length)return!0;return!1}function a(e,n){var r,o,a,s;for(r=0;r<x.length;r++)for(o=t[x[r]],a=0;a<o.length;a++)if(s=a+1,s%=o.length,0<i(e,n,o[a],o[s],!0).length)return!0;return!1}for(var s,u,c,l,h,p,f,d,m,g,v,y=e.concat(),x=[],b=[],w=0,_=t.length;w<_;w++)x.push(w);for(var E=0,S=2*x.length;0<x.length;){if(0>--S){console.log('THREE.ShapeUtils: Infinite Loop! Holes left:" + indepHoles.length + ", Probably Hole outside Shape!');break}for(c=E;c<y.length;c++){for(l=y[c],u=-1,w=0;w<x.length;w++)if(p=x[w],void 0===b[f=l.x+":"+l.y+":"+p]){s=t[p];for(var T=0;T<s.length;T++)if(h=s[T],n(c,T)&&!r(l,h)&&!a(l,h)){u=T,x.splice(w,1),d=y.slice(0,c+1),m=y.slice(c),g=s.slice(u),v=s.slice(0,u+1),y=d.concat(g).concat(v).concat(m),E=c;break}if(0<=u)break;b[f]=!0}if(0<=u)break}}return y}(e,t),v=ru.triangulate(g,!1);for(a=0,s=v.length;a<s;a++)for(c=v[a],u=0;3>u;u++)void 0!==(h=p[l=c[u].x+":"+c[u].y])&&(c[u]=h);return v.concat()},isClockWise:function(e){return 0>ru.area(e)}};on.prototype=Object.create(ge.prototype),on.prototype.constructor=on,an.prototype=Object.create(De.prototype),an.prototype.constructor=an,an.prototype.getArrays=function(){var e=this.getAttribute("position"),t=e?Array.prototype.slice.call(e.array):[],n=this.getAttribute("uv"),r=n?Array.prototype.slice.call(n.array):[],i=this.index;return{position:t,uv:r,index:i?Array.prototype.slice.call(i.array):[]}},an.prototype.addShapeList=function(e,t){var n=e.length;t.arrays=this.getArrays();for(var r,i=0;i<n;i++)r=e[i],this.addShape(r,t);this.setIndex(t.arrays.index),this.addAttribute("position",new Te(t.arrays.position,3)),this.addAttribute("uv",new Te(t.arrays.uv,2))},an.prototype.addShape=function(e,t){function n(e,t,n){return t||console.error("THREE.ExtrudeGeometry: vec does not exist"),t.clone().multiplyScalar(n).add(e)}function r(e,t,n){var r,o,a,s=e.x-t.x,u=e.y-t.y,c=n.x-e.x,l=n.y-e.y,h=s*s+u*u;if(so(s*l-u*c)>vo){var p=uo(h),f=uo(c*c+l*l),d=t.x-u/p,m=t.y+s/p,g=((n.x-l/f-d)*l-(n.y+c/f-m)*c)/(s*l-u*c),v=(r=d+s*g-e.x)*r+(o=m+u*g-e.y)*o;if(2>=v)return new i(r,o);a=uo(v/2)}else{var y=!1;s>vo?c>vo&&(y=!0):s<-vo?c<-vo&&(y=!0):mo(u)===mo(l)&&(y=!0),y?(r=-u,o=s,a=uo(h)):(r=s,o=u,a=uo(h/2))}return new i(r/a,o/a)}function o(e,t){var n,r;for(Z=e.length;0<=--Z;){n=Z,0>(r=Z-1)&&(r=e.length-1);var i=0,o=C+2*T;for(i=0;i<o;i++){var a=q*i,s=q*(i+1);u(t+n+a,t+r+a,t+r+s,t+n+s)}}}function a(e,t,n){w.push(e),w.push(t),w.push(n)}function s(e,t,n){c(e),c(t),c(n);var r=y.length/3,i=P.generateTopUV(k,y,r-3,r-2,r-1);h(i[0]),h(i[1]),h(i[2])}function u(e,t,n,r){c(e),c(t),c(r),c(t),c(n),c(r);var i=y.length/3,o=P.generateSideWallUV(k,y,i-6,i-3,i-2,i-1);h(o[0]),h(o[1]),h(o[3]),h(o[1]),h(o[2]),h(o[3])}function c(e){x.push(y.length/3),y.push(w[3*e+0]),y.push(w[3*e+1]),y.push(w[3*e+2])}function h(e){b.push(e.x),b.push(e.y)}var p,f,d,m,g,v=t.arrays?t.arrays:this.getArrays(),y=v.position,x=v.index,b=v.uv,w=[],_=void 0===t.amount?100:t.amount,E=void 0===t.bevelThickness?6:t.bevelThickness,S=void 0===t.bevelSize?E-2:t.bevelSize,T=void 0===t.bevelSegments?3:t.bevelSegments,A=void 0===t.bevelEnabled||t.bevelEnabled,M=void 0===t.curveSegments?12:t.curveSegments,C=void 0===t.steps?1:t.steps,D=t.extrudePath,L=!1,P=void 0===t.UVGenerator?on.WorldUVGenerator:t.UVGenerator;D&&(p=D.getSpacedPoints(C),L=!0,A=!1,f=void 0===t.frames?D.computeFrenetFrames(C,!1):t.frames,d=new l,m=new l,g=new l),A||(T=0,E=0,S=0);var R,O,I,k=this,N=e.extractPoints(M),F=N.shape,B=N.holes;if(!ru.isClockWise(F))for(F=F.reverse(),O=0,I=B.length;O<I;O++)R=B[O],ru.isClockWise(R)&&(B[O]=R.reverse());var U=ru.triangulateShape(F,B),z=F;for(O=0,I=B.length;O<I;O++)R=B[O],F=F.concat(R);for(var j,G,H,V,W,X,q=F.length,Y=U.length,J=[],Z=0,K=z.length,$=K-1,Q=Z+1;Z<K;Z++,$++,Q++)$===K&&($=0),Q===K&&(Q=0),J[Z]=r(z[Z],z[$],z[Q]);var ee,te,ne=[],re=J.concat();for(O=0,I=B.length;O<I;O++){for(R=B[O],ee=[],Z=0,$=(K=R.length)-1,Q=Z+1;Z<K;Z++,$++,Q++)$===K&&($=0),Q===K&&(Q=0),ee[Z]=r(R[Z],R[$],R[Q]);ne.push(ee),re=re.concat(ee)}for(j=0;j<T;j++){for(V=E*oo((H=j/T)*fo/2),G=S*io(H*fo/2),Z=0,K=z.length;Z<K;Z++)a((W=n(z[Z],J[Z],G)).x,W.y,-V);for(O=0,I=B.length;O<I;O++)for(R=B[O],ee=ne[O],Z=0,K=R.length;Z<K;Z++)a((W=n(R[Z],ee[Z],G)).x,W.y,-V)}for(G=S,Z=0;Z<q;Z++)W=A?n(F[Z],re[Z],G):F[Z],L?(m.copy(f.normals[0]).multiplyScalar(W.x),d.copy(f.binormals[0]).multiplyScalar(W.y),g.copy(p[0]).add(m).add(d),a(g.x,g.y,g.z)):a(W.x,W.y,0);for(te=1;te<=C;te++)for(Z=0;Z<q;Z++)W=A?n(F[Z],re[Z],G):F[Z],L?(m.copy(f.normals[te]).multiplyScalar(W.x),d.copy(f.binormals[te]).multiplyScalar(W.y),g.copy(p[te]).add(m).add(d),a(g.x,g.y,g.z)):a(W.x,W.y,_/C*te);for(j=T-1;0<=j;j--){for(V=E*oo((H=j/T)*fo/2),G=S*io(H*fo/2),Z=0,K=z.length;Z<K;Z++)a((W=n(z[Z],J[Z],G)).x,W.y,_+V);for(O=0,I=B.length;O<I;O++)for(R=B[O],ee=ne[O],Z=0,K=R.length;Z<K;Z++)W=n(R[Z],ee[Z],G),L?a(W.x,W.y+p[C-1].y,p[C-1].x+V):a(W.x,W.y,_+V)}(function(){var e=y.length/3;if(A){var n=0,r=q*n;for(Z=0;Z<Y;Z++)s((X=U[Z])[2]+r,X[1]+r,X[0]+r);for(r=q*(n=C+2*T),Z=0;Z<Y;Z++)s((X=U[Z])[0]+r,X[1]+r,X[2]+r)}else{for(Z=0;Z<Y;Z++)s((X=U[Z])[2],X[1],X[0]);for(Z=0;Z<Y;Z++)s((X=U[Z])[0]+q*C,X[1]+q*C,X[2]+q*C)}k.addGroup(e,y.length/3-e,void 0===t.material?0:t.material)})(),function(){var e=y.length/3,n=0;for(o(z,n),n+=z.length,O=0,I=B.length;O<I;O++)o(R=B[O],n),n+=R.length;k.addGroup(e,y.length/3-e,void 0===t.extrudeMaterial?1:t.extrudeMaterial)}(),t.arrays||(this.setIndex(x),this.addAttribute("position",new Te(y,3)),this.addAttribute("uv",new Te(t.arrays.uv,2)))},on.WorldUVGenerator={generateTopUV:function(e,t,n,r,o){var a=t[3*n],s=t[3*n+1],u=t[3*r],c=t[3*r+1],l=t[3*o],h=t[3*o+1];return[new i(a,s),new i(u,c),new i(l,h)]},generateSideWallUV:function(e,t,n,r,o,a){var s=t[3*n],u=t[3*n+1],c=t[3*n+2],l=t[3*r],h=t[3*r+1],p=t[3*r+2],f=t[3*o],d=t[3*o+1],m=t[3*o+2],g=t[3*a],v=t[3*a+1],y=t[3*a+2];return.01>so(u-h)?[new i(s,1-c),new i(l,1-p),new i(f,1-m),new i(g,1-y)]:[new i(u,1-c),new i(h,1-p),new i(d,1-m),new i(v,1-y)]}},sn.prototype=Object.create(ge.prototype),sn.prototype.constructor=sn,un.prototype=Object.create(an.prototype),un.prototype.constructor=un,cn.prototype=Object.create(ge.prototype),cn.prototype.constructor=cn,ln.prototype=Object.create(De.prototype),ln.prototype.constructor=ln,hn.prototype=Object.create(ge.prototype),hn.prototype.constructor=hn,pn.prototype=Object.create(De.prototype),pn.prototype.constructor=pn,fn.prototype=Object.create(ge.prototype),fn.prototype.constructor=fn,dn.prototype=Object.create(De.prototype),dn.prototype.constructor=dn,mn.prototype=Object.create(ge.prototype),mn.prototype.constructor=mn,gn.prototype=Object.create(De.prototype),gn.prototype.constructor=gn,vn.prototype=Object.create(De.prototype),vn.prototype.constructor=vn,yn.prototype=Object.create(ge.prototype),yn.prototype.constructor=yn,xn.prototype=Object.create(De.prototype),xn.prototype.constructor=xn,bn.prototype=Object.create(yn.prototype),bn.prototype.constructor=bn,wn.prototype=Object.create(xn.prototype),wn.prototype.constructor=wn,_n.prototype=Object.create(ge.prototype),_n.prototype.constructor=_n,En.prototype=Object.create(De.prototype),En.prototype.constructor=En;var iu=Object.freeze({WireframeGeometry:Ut,ParametricGeometry:zt,ParametricBufferGeometry:jt,TetrahedronGeometry:Vt,TetrahedronBufferGeometry:Wt,OctahedronGeometry:Xt,OctahedronBufferGeometry:qt,IcosahedronGeometry:Yt,IcosahedronBufferGeometry:Jt,DodecahedronGeometry:Zt,DodecahedronBufferGeometry:Kt,PolyhedronGeometry:Gt,PolyhedronBufferGeometry:Ht,TubeGeometry:$t,TubeBufferGeometry:Qt,TorusKnotGeometry:en,TorusKnotBufferGeometry:tn,TorusGeometry:nn,TorusBufferGeometry:rn,TextGeometry:sn,TextBufferGeometry:un,SphereGeometry:cn,SphereBufferGeometry:ln,RingGeometry:hn,RingBufferGeometry:pn,PlaneGeometry:Re,PlaneBufferGeometry:Oe,LatheGeometry:fn,LatheBufferGeometry:dn,ShapeGeometry:mn,ShapeBufferGeometry:gn,ExtrudeGeometry:on,ExtrudeBufferGeometry:an,EdgesGeometry:vn,ConeGeometry:bn,ConeBufferGeometry:wn,CylinderGeometry:yn,CylinderBufferGeometry:xn,CircleGeometry:_n,CircleBufferGeometry:En,BoxGeometry:Le,BoxBufferGeometry:Pe});Sn.prototype=Object.create(K.prototype),Sn.prototype.constructor=Sn,Sn.prototype.isShadowMaterial=!0,Tn.prototype=Object.create($.prototype),Tn.prototype.constructor=Tn,Tn.prototype.isRawShaderMaterial=!0,An.prototype=Object.create(K.prototype),An.prototype.constructor=An,An.prototype.isMeshStandardMaterial=!0,An.prototype.copy=function(e){return K.prototype.copy.call(this,e),this.defines={STANDARD:""},this.color.copy(e.color),this.roughness=e.roughness,this.metalness=e.metalness,this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.roughnessMap=e.roughnessMap,this.metalnessMap=e.metalnessMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapIntensity=e.envMapIntensity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.skinning=e.skinning,this.morphTargets=e.morphTargets,this.morphNormals=e.morphNormals,this},Mn.prototype=Object.create(An.prototype),Mn.prototype.constructor=Mn,Mn.prototype.isMeshPhysicalMaterial=!0,Mn.prototype.copy=function(e){return An.prototype.copy.call(this,e),this.defines={PHYSICAL:""},this.reflectivity=e.reflectivity,this.clearCoat=e.clearCoat,this.clearCoatRoughness=e.clearCoatRoughness,this},Cn.prototype=Object.create(K.prototype),Cn.prototype.constructor=Cn,Cn.prototype.isMeshPhongMaterial=!0,Cn.prototype.copy=function(e){return K.prototype.copy.call(this,e),this.color.copy(e.color),this.specular.copy(e.specular),this.shininess=e.shininess,this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.skinning=e.skinning,this.morphTargets=e.morphTargets,this.morphNormals=e.morphNormals,this},Dn.prototype=Object.create(Cn.prototype),Dn.prototype.constructor=Dn,Dn.prototype.isMeshToonMaterial=!0,Dn.prototype.copy=function(e){return Cn.prototype.copy.call(this,e),this.gradientMap=e.gradientMap,this},Ln.prototype=Object.create(K.prototype),Ln.prototype.constructor=Ln,Ln.prototype.isMeshNormalMaterial=!0,Ln.prototype.copy=function(e){return K.prototype.copy.call(this,e),this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.skinning=e.skinning,this.morphTargets=e.morphTargets,this.morphNormals=e.morphNormals,this},Pn.prototype=Object.create(K.prototype),Pn.prototype.constructor=Pn,Pn.prototype.isMeshLambertMaterial=!0,Pn.prototype.copy=function(e){return K.prototype.copy.call(this,e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.skinning=e.skinning,this.morphTargets=e.morphTargets,this.morphNormals=e.morphNormals,this},Rn.prototype=Object.create(Dt.prototype),Rn.prototype.constructor=Rn,Rn.prototype.isLineDashedMaterial=!0,Rn.prototype.copy=function(e){return Dt.prototype.copy.call(this,e),this.scale=e.scale,this.dashSize=e.dashSize,this.gapSize=e.gapSize,this};var ou=Object.freeze({ShadowMaterial:Sn,SpriteMaterial:Et,RawShaderMaterial:Tn,ShaderMaterial:$,PointsMaterial:Ot,MeshPhysicalMaterial:Mn,MeshStandardMaterial:An,MeshPhongMaterial:Cn,MeshToonMaterial:Dn,MeshNormalMaterial:Ln,MeshLambertMaterial:Pn,MeshDepthMaterial:Q,MeshDistanceMaterial:ee,MeshBasicMaterial:Ie,LineDashedMaterial:Rn,LineBasicMaterial:Dt,Material:K}),au={enabled:!1,files:{},add:function(e,t){!1===this.enabled||(this.files[e]=t)},get:function(e){return!1===this.enabled?void 0:this.files[e]},remove:function(e){delete this.files[e]},clear:function(){this.files={}}},su=new On;Object.assign(In.prototype,{load:function(e,t,n,r){void 0===e&&(e=""),void 0!==this.path&&(e=this.path+e);var i=this,o=au.get(e);if(void 0!==o)return i.manager.itemStart(e),setTimeout(function(){t&&t(o),i.manager.itemEnd(e)},0),o;var a=e.match(/^data:(.*?)(;base64)?,(.*)$/);if(a){var s=a[1],u=!!a[2],c=a[3];c=window.decodeURIComponent(c),u&&(c=window.atob(c));try{var l,h=(this.responseType||"").toLowerCase();switch(h){case"arraybuffer":case"blob":l=new ArrayBuffer(c.length);for(var p=new Uint8Array(l),f=0;f<c.length;f++)p[f]=c.charCodeAt(f);"blob"===h&&(l=new Blob([l],{type:s}));break;case"document":var d=new DOMParser;l=d.parseFromString(c,s);break;case"json":l=JSON.parse(c);break;default:l=c}window.setTimeout(function(){t&&t(l),i.manager.itemEnd(e)},0)}catch(t){window.setTimeout(function(){r&&r(t),i.manager.itemEnd(e),i.manager.itemError(e)},0)}}else{var m=new XMLHttpRequest;for(var g in m.open("GET",e,!0),m.addEventListener("load",function(n){var o=n.target.response;au.add(e,o),200===this.status?(t&&t(o),i.manager.itemEnd(e)):0===this.status?(console.warn("THREE.FileLoader: HTTP Status 0 received."),t&&t(o),i.manager.itemEnd(e)):(r&&r(n),i.manager.itemEnd(e),i.manager.itemError(e))},!1),void 0!==n&&m.addEventListener("progress",function(e){n(e)},!1),m.addEventListener("error",function(t){r&&r(t),i.manager.itemEnd(e),i.manager.itemError(e)},!1),void 0!==this.responseType&&(m.responseType=this.responseType),void 0!==this.withCredentials&&(m.withCredentials=this.withCredentials),m.overrideMimeType&&m.overrideMimeType(void 0===this.mimeType?"text/plain":this.mimeType),this.requestHeader)m.setRequestHeader(g,this.requestHeader[g]);m.send(null)}return i.manager.itemStart(e),m},setPath:function(e){return this.path=e,this},setResponseType:function(e){return this.responseType=e,this},setWithCredentials:function(e){return this.withCredentials=e,this},setMimeType:function(e){return this.mimeType=e,this},setRequestHeader:function(e){return this.requestHeader=e,this}}),Object.assign(kn.prototype,{load:function(e,t,n,r){function i(i){u.load(e[i],function(e){var n=o._parser(e,!0);a[i]={width:n.width,height:n.height,format:n.format,mipmaps:n.mipmaps},6===(c+=1)&&(1===n.mipmapCount&&(s.minFilter=Ua),s.format=n.format,s.needsUpdate=!0,t&&t(s))},n,r)}var o=this,a=[],s=new Ft;s.image=a;var u=new In(this.manager);if(u.setPath(this.path),u.setResponseType("arraybuffer"),Array.isArray(e))for(var c=0,l=0,h=e.length;l<h;++l)i(l);else u.load(e,function(e){var n=o._parser(e,!0);if(n.isCubemap)for(var r=n.mipmaps.length/n.mipmapCount,i=0;i<r;i++){a[i]={mipmaps:[]};for(var u=0;u<n.mipmapCount;u++)a[i].mipmaps.push(n.mipmaps[i*n.mipmapCount+u]),a[i].format=n.format,a[i].width=n.width,a[i].height=n.height}else s.image.width=n.width,s.image.height=n.height,s.mipmaps=n.mipmaps;1===n.mipmapCount&&(s.minFilter=Ua),s.format=n.format,s.needsUpdate=!0,t&&t(s)},n,r);return s},setPath:function(e){return this.path=e,this}}),Object.assign(Nn.prototype,{load:function(e,t,n,r){var i=this,o=new p,a=new In(this.manager);return a.setResponseType("arraybuffer"),a.load(e,function(e){var n=i._parser(e);n&&(void 0===n.image?void 0!==n.data&&(o.image.width=n.width,o.image.height=n.height,o.image.data=n.data):o.image=n.image,o.wrapS=void 0===n.wrapS?Ia:n.wrapS,o.wrapT=void 0===n.wrapT?Ia:n.wrapT,o.magFilter=void 0===n.magFilter?Ua:n.magFilter,o.minFilter=void 0===n.minFilter?ja:n.minFilter,o.anisotropy=void 0===n.anisotropy?1:n.anisotropy,void 0!==n.format&&(o.format=n.format),void 0!==n.type&&(o.type=n.type),void 0!==n.mipmaps&&(o.mipmaps=n.mipmaps),1===n.mipmapCount&&(o.minFilter=Ua),o.needsUpdate=!0,t&&t(o,n))},n,r),o}}),Object.assign(Fn.prototype,{crossOrigin:"Anonymous",load:function(e,t,n,r){void 0===e&&(e=""),void 0!==this.path&&(e=this.path+e);var i=this,o=au.get(e);if(void 0!==o)return i.manager.itemStart(e),setTimeout(function(){t&&t(o),i.manager.itemEnd(e)},0),o;var a=document.createElementNS("http://www.w3.org/1999/xhtml","img");return a.addEventListener("load",function(){au.add(e,this),t&&t(this),i.manager.itemEnd(e)},!1),a.addEventListener("error",function(t){r&&r(t),i.manager.itemEnd(e),i.manager.itemError(e)},!1),"data:"!==e.substr(0,5)&&void 0!==this.crossOrigin&&(a.crossOrigin=this.crossOrigin),i.manager.itemStart(e),a.src=e,a},setCrossOrigin:function(e){return this.crossOrigin=e,this},setPath:function(e){return this.path=e,this}}),Object.assign(Bn.prototype,{crossOrigin:"Anonymous",load:function(e,t,n,r){function i(n){a.load(e[n],function(e){o.images[n]=e,6===++s&&(o.needsUpdate=!0,t&&t(o))},void 0,r)}var o=new f,a=new Fn(this.manager);a.setCrossOrigin(this.crossOrigin),a.setPath(this.path);for(var s=0,u=0;u<e.length;++u)i(u);return o},setCrossOrigin:function(e){return this.crossOrigin=e,this},setPath:function(e){return this.path=e,this}}),Object.assign(Un.prototype,{crossOrigin:"Anonymous",load:function(e,t,n,r){var i=new Fn(this.manager);i.setCrossOrigin(this.crossOrigin),i.setPath(this.path);var a=new o;return a.image=i.load(e,function(){var n=0<e.search(/\.(jpg|jpeg)$/)||0===e.search(/^data\:image\/jpeg/);a.format=n?ts:ns,a.needsUpdate=!0,void 0!==t&&t(a)},n,r),a},setCrossOrigin:function(e){return this.crossOrigin=e,this},setPath:function(e){return this.path=e,this}}),zn.prototype=Object.assign(Object.create(le.prototype),{constructor:zn,isLight:!0,copy:function(e){return le.prototype.copy.call(this,e),this.color.copy(e.color),this.intensity=e.intensity,this},toJSON:function(e){var t=le.prototype.toJSON.call(this,e);return t.object.color=this.color.getHex(),t.object.intensity=this.intensity,void 0!==this.groundColor&&(t.object.groundColor=this.groundColor.getHex()),void 0!==this.distance&&(t.object.distance=this.distance),void 0!==this.angle&&(t.object.angle=this.angle),void 0!==this.decay&&(t.object.decay=this.decay),void 0!==this.penumbra&&(t.object.penumbra=this.penumbra),void 0!==this.shadow&&(t.object.shadow=this.shadow.toJSON()),t}}),jn.prototype=Object.assign(Object.create(zn.prototype),{constructor:jn,isHemisphereLight:!0,copy:function(e){return zn.prototype.copy.call(this,e),this.groundColor.copy(e.groundColor),this}}),Object.assign(Gn.prototype,{copy:function(e){return this.camera=e.camera.clone(),this.bias=e.bias,this.radius=e.radius,this.mapSize.copy(e.mapSize),this},clone:function(){return(new this.constructor).copy(this)},toJSON:function(){var e={};return 0!==this.bias&&(e.bias=this.bias),1!==this.radius&&(e.radius=this.radius),(512!==this.mapSize.x||512!==this.mapSize.y)&&(e.mapSize=this.mapSize.toArray()),e.camera=this.camera.toJSON(!1).object,delete e.camera.matrix,e}}),Hn.prototype=Object.assign(Object.create(Gn.prototype),{constructor:Hn,isSpotLightShadow:!0,update:function(e){var t=this.camera,n=2*Us.RAD2DEG*e.angle,r=this.mapSize.width/this.mapSize.height,i=e.distance||t.far;(n!==t.fov||r!==t.aspect||i!==t.far)&&(t.fov=n,t.aspect=r,t.far=i,t.updateProjectionMatrix())}}),Vn.prototype=Object.assign(Object.create(zn.prototype),{constructor:Vn,isSpotLight:!0,copy:function(e){return zn.prototype.copy.call(this,e),this.distance=e.distance,this.angle=e.angle,this.penumbra=e.penumbra,this.decay=e.decay,this.target=e.target.clone(),this.shadow=e.shadow.clone(),this}}),Wn.prototype=Object.assign(Object.create(zn.prototype),{constructor:Wn,isPointLight:!0,copy:function(e){return zn.prototype.copy.call(this,e),this.distance=e.distance,this.decay=e.decay,this.shadow=e.shadow.clone(),this}}),Xn.prototype=Object.assign(Object.create(Gn.prototype),{constructor:Xn}),qn.prototype=Object.assign(Object.create(zn.prototype),{constructor:qn,isDirectionalLight:!0,copy:function(e){return zn.prototype.copy.call(this,e),this.target=e.target.clone(),this.shadow=e.shadow.clone(),this}}),Yn.prototype=Object.assign(Object.create(zn.prototype),{constructor:Yn,isAmbientLight:!0}),Jn.prototype=Object.assign(Object.create(zn.prototype),{constructor:Jn,isRectAreaLight:!0,copy:function(e){return zn.prototype.copy.call(this,e),this.width=e.width,this.height=e.height,this},toJSON:function(e){var t=zn.prototype.toJSON.call(this,e);return t.object.width=this.width,t.object.height=this.height,t}});var uu,cu={arraySlice:function(e,t,n){return cu.isTypedArray(e)?new e.constructor(e.subarray(t,void 0===n?e.length:n)):e.slice(t,n)},convertArray:function(e,t,n){return e&&(n||e.constructor!==t)?"number"==typeof t.BYTES_PER_ELEMENT?new t(e):Array.prototype.slice.call(e):e},isTypedArray:function(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)},getKeyframeOrder:function(e){for(var t=e.length,n=Array(t),r=0;r!==t;++r)n[r]=r;return n.sort(function(t,n){return e[t]-e[n]}),n},sortedArray:function(e,t,n){for(var r,i=e.length,o=new e.constructor(i),a=0,s=0;s!==i;++a){r=n[a]*t;for(var u=0;u!==t;++u)o[s++]=e[r+u]}return o},flattenJSON:function(e,t,n,r){for(var i=1,o=e[0];void 0!==o&&void 0===o[r];)o=e[i++];if(void 0!==o){var a=o[r];if(void 0!==a)if(Array.isArray(a))do{void 0!==(a=o[r])&&(t.push(o.time),n.push.apply(n,a)),o=e[i++]}while(void 0!==o);else if(void 0!==a.toArray)do{void 0!==(a=o[r])&&(t.push(o.time),a.toArray(n,n.length)),o=e[i++]}while(void 0!==o);else do{void 0!==(a=o[r])&&(t.push(o.time),n.push(a)),o=e[i++]}while(void 0!==o)}}};Object.assign(Zn.prototype,{evaluate:function(e){var t=this.parameterPositions,n=this._cachedIndex,r=t[n],i=t[n-1];e:{t:{var o;n:{r:if(!(e<r)){for(var a=n+2;;){if(void 0===r){if(e<i)break r;return n=t.length,this._cachedIndex=n,this.afterEnd_(n-1,e,i)}if(n===a)break;if(i=r,e<(r=t[++n]))break t}o=t.length;break n}if(e>=i)break e;var s=t[1];e<s&&(n=2,i=s);for(a=n-2;;){if(void 0===i)return this._cachedIndex=0,this.beforeStart_(0,e,r);if(n===a)break;if(r=i,e>=(i=t[--n-1]))break t}o=n,n=0}for(;n<o;){var u=n+o>>>1;e<t[u]?o=u:n=u+1}if(r=t[n],void 0===(i=t[n-1]))return this._cachedIndex=0,this.beforeStart_(0,e,r);if(void 0===r)return n=t.length,this._cachedIndex=n,this.afterEnd_(n-1,i,e)}this._cachedIndex=n,this.intervalChanged_(n,i,r)}return this.interpolate_(n,i,e,r)},settings:null,DefaultSettings_:{},getSettings_:function(){return this.settings||this.DefaultSettings_},copySampleValue_:function(e){for(var t=this.resultBuffer,n=this.sampleValues,r=this.valueSize,i=0;i!==r;++i)t[i]=n[e*r+i];return t},interpolate_:function(){throw new Error("call to abstract method")},intervalChanged_:function(){}}),Object.assign(Zn.prototype,{beforeStart_:Zn.prototype.copySampleValue_,afterEnd_:Zn.prototype.copySampleValue_}),Kn.prototype=Object.assign(Object.create(Zn.prototype),{constructor:Kn,DefaultSettings_:{endingStart:Es,endingEnd:Es},intervalChanged_:function(e,t,n){var r=this.parameterPositions,i=e-2,o=e+1,a=r[i],s=r[o];if(void 0===a)switch(this.getSettings_().endingStart){case Ss:i=e,a=2*t-n;break;case Ts:a=t+r[i=r.length-2]-r[i+1];break;default:i=e,a=n}if(void 0===s)switch(this.getSettings_().endingEnd){case Ss:o=e,s=2*n-t;break;case Ts:o=1,s=n+r[1]-r[0];break;default:o=e-1,s=t}var u=.5*(n-t),c=this.valueSize;this._weightPrev=u/(t-a),this._weightNext=u/(s-n),this._offsetPrev=i*c,this._offsetNext=o*c},interpolate_:function(e,t,n,r){for(var i=this.resultBuffer,o=this.sampleValues,a=this.valueSize,s=e*a,u=this._offsetPrev,c=this._offsetNext,l=this._weightPrev,h=this._weightNext,p=(n-t)/(r-t),f=p*p,d=f*p,m=0;m!==a;++m)i[m]=(-l*d+2*l*f-l*p)*o[u+m]+((1+l)*d+(-1.5-2*l)*f+(-.5+l)*p+1)*o[s-a+m]+((-1-h)*d+(1.5+h)*f+.5*p)*o[s+m]+(h*d-h*f)*o[c+m];return i}}),$n.prototype=Object.assign(Object.create(Zn.prototype),{constructor:$n,interpolate_:function(e,t,n,r){for(var i=this.resultBuffer,o=this.sampleValues,a=this.valueSize,s=e*a,u=(n-t)/(r-t),c=0;c!==a;++c)i[c]=o[s-a+c]*(1-u)+o[s+c]*u;return i}}),Qn.prototype=Object.assign(Object.create(Zn.prototype),{constructor:Qn,interpolate_:function(e){return this.copySampleValue_(e-1)}}),uu={TimeBufferType:Float32Array,ValueBufferType:Float32Array,DefaultInterpolation:ws,InterpolantFactoryMethodDiscrete:function(e){return new Qn(this.times,this.values,this.getValueSize(),e)},InterpolantFactoryMethodLinear:function(e){return new $n(this.times,this.values,this.getValueSize(),e)},InterpolantFactoryMethodSmooth:function(e){return new Kn(this.times,this.values,this.getValueSize(),e)},setInterpolation:function(e){var t;if(e===bs?t=this.InterpolantFactoryMethodDiscrete:e===ws?t=this.InterpolantFactoryMethodLinear:e===_s&&(t=this.InterpolantFactoryMethodSmooth),void 0!==t)this.createInterpolant=t;else{var n="unsupported interpolation for "+this.ValueTypeName+" keyframe track named "+this.name;if(void 0===this.createInterpolant){if(e===this.DefaultInterpolation)throw new Error(n);this.setInterpolation(this.DefaultInterpolation)}console.warn("THREE.KeyframeTrackPrototype:",n)}},getInterpolation:function(){switch(this.createInterpolant){case this.InterpolantFactoryMethodDiscrete:return bs;case this.InterpolantFactoryMethodLinear:return ws;case this.InterpolantFactoryMethodSmooth:return _s}},getValueSize:function(){return this.values.length/this.times.length},shift:function(e){if(0!==e)for(var t=this.times,n=0,r=t.length;n!==r;++n)t[n]+=e;return this},scale:function(e){if(1!==e)for(var t=this.times,n=0,r=t.length;n!==r;++n)t[n]*=e;return this},trim:function(e,t){for(var n=this.times,r=n.length,i=0,o=r-1;i!==r&&n[i]<e;)++i;for(;-1!==o&&n[o]>t;)--o;if(++o,0!==i||o!==r){i>=o&&(i=(o=xo(o,1))-1);var a=this.getValueSize();this.times=cu.arraySlice(n,i,o),this.values=cu.arraySlice(this.values,i*a,o*a)}return this},validate:function(){var e=!0,t=this.getValueSize();0!=t-wo(t)&&(console.error("THREE.KeyframeTrackPrototype: Invalid value size in track.",this),e=!1);var n=this.times,r=this.values,i=n.length;0===i&&(console.error("THREE.KeyframeTrackPrototype: Track is empty.",this),e=!1);for(var o,a=null,s=0;s!==i;s++){if("number"==typeof(o=n[s])&&isNaN(o)){console.error("THREE.KeyframeTrackPrototype: Time is not a valid number.",this,s,o),e=!1;break}if(null!==a&&a>o){console.error("THREE.KeyframeTrackPrototype: Out of order keys.",this,s,o,a),e=!1;break}a=o}if(void 0!==r&&cu.isTypedArray(r)){s=0;for(var u,c=r.length;s!==c;++s)if(u=r[s],isNaN(u)){console.error("THREE.KeyframeTrackPrototype: Value is not a valid number.",this,s,u),e=!1;break}}return e},optimize:function(){for(var e=this.times,t=this.values,n=this.getValueSize(),r=this.getInterpolation()===_s,i=1,o=e.length-1,a=1;a<o;++a){var s=!1,u=e[a];if(u!==e[a+1]&&(1!==a||u!==u[0]))if(r)s=!0;else for(var c,l=a*n,h=0;h!==n;++h)if((c=t[l+h])!==t[l-n+h]||c!==t[l+n+h]){s=!0;break}if(s){if(a!==i){e[i]=e[a];var p=a*n,f=i*n;for(h=0;h!==n;++h)t[f+h]=t[p+h]}++i}}if(0<o){e[i]=e[o];for(p=o*n,f=i*n,h=0;h!==n;++h)t[f+h]=t[p+h];++i}return i!==e.length&&(this.times=cu.arraySlice(e,0,i),this.values=cu.arraySlice(t,0,i*n)),this}},tr.prototype=Object.assign(Object.create(uu),{constructor:tr,ValueTypeName:"vector"}),nr.prototype=Object.assign(Object.create(Zn.prototype),{constructor:nr,interpolate_:function(e,t,n,r){for(var i=this.resultBuffer,o=this.sampleValues,a=this.valueSize,s=e*a,u=s+a;s!==u;s+=4)c.slerpFlat(i,0,o,s-a,o,s,(n-t)/(r-t));return i}}),rr.prototype=Object.assign(Object.create(uu),{constructor:rr,ValueTypeName:"quaternion",DefaultInterpolation:ws,InterpolantFactoryMethodLinear:function(e){return new nr(this.times,this.values,this.getValueSize(),e)},InterpolantFactoryMethodSmooth:void 0}),ir.prototype=Object.assign(Object.create(uu),{constructor:ir,ValueTypeName:"number"}),or.prototype=Object.assign(Object.create(uu),{constructor:or,ValueTypeName:"string",ValueBufferType:Array,DefaultInterpolation:bs,InterpolantFactoryMethodLinear:void 0,InterpolantFactoryMethodSmooth:void 0}),ar.prototype=Object.assign(Object.create(uu),{constructor:ar,ValueTypeName:"bool",ValueBufferType:Array,DefaultInterpolation:bs,InterpolantFactoryMethodLinear:void 0,InterpolantFactoryMethodSmooth:void 0}),sr.prototype=Object.assign(Object.create(uu),{constructor:sr,ValueTypeName:"color"}),ur.prototype=uu,uu.constructor=ur,Object.assign(ur,{parse:function(e){if(void 0===e.type)throw new Error("track type undefined, can not parse");var t=ur._getTrackTypeForValueTypeName(e.type);if(void 0===e.times){var n=[],r=[];cu.flattenJSON(e.keys,n,r,"value"),e.times=n,e.values=r}return void 0===t.parse?new t(e.name,e.times,e.values,e.interpolation):t.parse(e)},toJSON:function(e){var t,n=e.constructor;if(void 0!==n.toJSON)t=n.toJSON(e);else{t={name:e.name,times:cu.convertArray(e.times,Array),values:cu.convertArray(e.values,Array)};var r=e.getInterpolation();r!==e.DefaultInterpolation&&(t.interpolation=r)}return t.type=e.ValueTypeName,t},_getTrackTypeForValueTypeName:function(e){switch(e.toLowerCase()){case"scalar":case"double":case"float":case"number":case"integer":return ir;case"vector":case"vector2":case"vector3":case"vector4":return tr;case"color":return sr;case"quaternion":return rr;case"bool":case"boolean":return ar;case"string":return or}throw new Error("Unsupported typeName: "+e)}}),Object.assign(cr,{parse:function(e){for(var t=[],n=e.tracks,r=1/(e.fps||1),i=0,o=n.length;i!==o;++i)t.push(ur.parse(n[i]).scale(r));return new cr(e.name,e.duration,t)},toJSON:function(e){for(var t=[],n=e.tracks,r={name:e.name,duration:e.duration,tracks:t},i=0,o=n.length;i!==o;++i)t.push(ur.toJSON(n[i]));return r},CreateFromMorphTargetSequence:function(e,t,n,r){for(var i=t.length,o=[],a=0;a<i;a++){var s=[],u=[];s.push((a+i-1)%i,a,(a+1)%i),u.push(0,1,0);var c=cu.getKeyframeOrder(s);s=cu.sortedArray(s,1,c),u=cu.sortedArray(u,1,c),r||0!==s[0]||(s.push(i),u.push(u[0])),o.push(new ir(".morphTargetInfluences["+t[a].name+"]",s,u).scale(1/n))}return new cr(e,-1,o)},findByName:function(e,t){var n=e;if(!Array.isArray(e)){var r=e;n=r.geometry&&r.geometry.animations||r.animations}for(var i=0;i<n.length;i++)if(n[i].name===t)return n[i];return null},CreateClipsFromMorphTargetSequences:function(e,t,n){for(var r={},i=/^([\w-]*?)([\d]+)$/,o=0,a=e.length;o<a;o++){var s=e[o],u=s.name.match(i);if(u&&1<u.length){var c=r[h=u[1]];c||(r[h]=c=[]),c.push(s)}}var l=[];for(var h in r)l.push(cr.CreateFromMorphTargetSequence(h,r[h],t,n));return l},parseAnimation:function(e,t){if(!e)return console.error("THREE.AnimationClip: No animation in JSONLoader data."),null;for(var n,r=function(e,t,n,r,i){if(0!==n.length){var o=[],a=[];cu.flattenJSON(n,o,a,r),0!==o.length&&i.push(new e(t,o,a))}},i=[],o=e.name||"default",a=e.length||-1,s=e.fps||30,u=e.hierarchy||[],c=0;c<u.length;c++)if((n=u[c].keys)&&0!==n.length)if(n[0].morphTargets){for(var l={},h=0;h<n.length;h++)if(n[h].morphTargets)for(var p=0;p<n[h].morphTargets.length;p++)l[n[h].morphTargets[p]]=-1;for(var f in l){var d,m=[],g=[];for(p=0;p!==n[h].morphTargets.length;++p)d=n[h],m.push(d.time),g.push(d.morphTarget===f?1:0);i.push(new ir(".morphTargetInfluence["+f+"]",m,g))}a=l.length*(s||1)}else{var v=".bones["+t[c].name+"]";r(tr,v+".position",n,"pos",i),r(rr,v+".quaternion",n,"rot",i),r(tr,v+".scale",n,"scl",i)}return 0===i.length?null:new cr(o,a,i)}}),Object.assign(cr.prototype,{resetDuration:function(){for(var e,t=0,n=0,r=this.tracks.length;n!==r;++n)e=this.tracks[n],t=xo(t,e.times[e.times.length-1]);this.duration=t},trim:function(){for(var e=0;e<this.tracks.length;e++)this.tracks[e].trim(0,this.duration);return this},optimize:function(){for(var e=0;e<this.tracks.length;e++)this.tracks[e].optimize();return this}}),Object.assign(lr.prototype,{load:function(e,t,n,r){var i=this;new In(i.manager).load(e,function(e){t(i.parse(JSON.parse(e)))},n,r)},setTextures:function(e){this.textures=e},parse:function(e){function t(e){return void 0===n[e]&&console.warn("THREE.MaterialLoader: Undefined texture",e),n[e]}var n=this.textures,r=new ou[e.type];if(void 0!==e.uuid&&(r.uuid=e.uuid),void 0!==e.name&&(r.name=e.name),void 0!==e.color&&r.color.setHex(e.color),void 0!==e.roughness&&(r.roughness=e.roughness),void 0!==e.metalness&&(r.metalness=e.metalness),void 0!==e.emissive&&r.emissive.setHex(e.emissive),void 0!==e.specular&&r.specular.setHex(e.specular),void 0!==e.shininess&&(r.shininess=e.shininess),void 0!==e.clearCoat&&(r.clearCoat=e.clearCoat),void 0!==e.clearCoatRoughness&&(r.clearCoatRoughness=e.clearCoatRoughness),void 0!==e.uniforms&&(r.uniforms=e.uniforms),void 0!==e.vertexShader&&(r.vertexShader=e.vertexShader),void 0!==e.fragmentShader&&(r.fragmentShader=e.fragmentShader),void 0!==e.vertexColors&&(r.vertexColors=e.vertexColors),void 0!==e.fog&&(r.fog=e.fog),void 0!==e.flatShading&&(r.flatShading=e.flatShading),void 0!==e.blending&&(r.blending=e.blending),void 0!==e.side&&(r.side=e.side),void 0!==e.opacity&&(r.opacity=e.opacity),void 0!==e.transparent&&(r.transparent=e.transparent),void 0!==e.alphaTest&&(r.alphaTest=e.alphaTest),void 0!==e.depthTest&&(r.depthTest=e.depthTest),void 0!==e.depthWrite&&(r.depthWrite=e.depthWrite),void 0!==e.colorWrite&&(r.colorWrite=e.colorWrite),void 0!==e.wireframe&&(r.wireframe=e.wireframe),void 0!==e.wireframeLinewidth&&(r.wireframeLinewidth=e.wireframeLinewidth),void 0!==e.wireframeLinecap&&(r.wireframeLinecap=e.wireframeLinecap),void 0!==e.wireframeLinejoin&&(r.wireframeLinejoin=e.wireframeLinejoin),void 0!==e.skinning&&(r.skinning=e.skinning),void 0!==e.morphTargets&&(r.morphTargets=e.morphTargets),void 0!==e.dithering&&(r.dithering=e.dithering),void 0!==e.visible&&(r.visible=e.visible),void 0!==e.userData&&(r.userData=e.userData),void 0!==e.shading&&(r.flatShading=1===e.shading),void 0!==e.size&&(r.size=e.size),void 0!==e.sizeAttenuation&&(r.sizeAttenuation=e.sizeAttenuation),void 0!==e.map&&(r.map=t(e.map)),void 0!==e.alphaMap&&(r.alphaMap=t(e.alphaMap),r.transparent=!0),void 0!==e.bumpMap&&(r.bumpMap=t(e.bumpMap)),void 0!==e.bumpScale&&(r.bumpScale=e.bumpScale),void 0!==e.normalMap&&(r.normalMap=t(e.normalMap)),void 0!==e.normalScale){var o=e.normalScale;!1===Array.isArray(o)&&(o=[o,o]),r.normalScale=(new i).fromArray(o)}return void 0!==e.displacementMap&&(r.displacementMap=t(e.displacementMap)),void 0!==e.displacementScale&&(r.displacementScale=e.displacementScale),void 0!==e.displacementBias&&(r.displacementBias=e.displacementBias),void 0!==e.roughnessMap&&(r.roughnessMap=t(e.roughnessMap)),void 0!==e.metalnessMap&&(r.metalnessMap=t(e.metalnessMap)),void 0!==e.emissiveMap&&(r.emissiveMap=t(e.emissiveMap)),void 0!==e.emissiveIntensity&&(r.emissiveIntensity=e.emissiveIntensity),void 0!==e.specularMap&&(r.specularMap=t(e.specularMap)),void 0!==e.envMap&&(r.envMap=t(e.envMap)),void 0!==e.reflectivity&&(r.reflectivity=e.reflectivity),void 0!==e.lightMap&&(r.lightMap=t(e.lightMap)),void 0!==e.lightMapIntensity&&(r.lightMapIntensity=e.lightMapIntensity),void 0!==e.aoMap&&(r.aoMap=t(e.aoMap)),void 0!==e.aoMapIntensity&&(r.aoMapIntensity=e.aoMapIntensity),void 0!==e.gradientMap&&(r.gradientMap=t(e.gradientMap)),r}}),Object.assign(hr.prototype,{load:function(e,t,n,r){var i=this;new In(i.manager).load(e,function(e){t(i.parse(JSON.parse(e)))},n,r)},parse:function(e){var t=new De,n=e.data.index;if(void 0!==n){var r=new lu[n.type](n.array);t.setIndex(new ve(r,1))}var i=e.data.attributes;for(var o in i){var a=i[o];r=new lu[a.type](a.array);t.addAttribute(o,new ve(r,a.itemSize,a.normalized))}var s=e.data.groups||e.data.drawcalls||e.data.offsets;if(void 0!==s)for(var u,c=0,h=s.length;c!==h;++c)u=s[c],t.addGroup(u.start,u.count,u.materialIndex);var p=e.data.boundingSphere;if(void 0!==p){var f=new l;void 0!==p.center&&f.fromArray(p.center),t.boundingSphere=new ne(f,p.radius)}return t}});var lu={Int8Array:Int8Array,Uint8Array:Uint8Array,Uint8ClampedArray:"undefined"==typeof Uint8ClampedArray?Uint8Array:Uint8ClampedArray,Int16Array:Int16Array,Uint16Array:Uint16Array,Int32Array:Int32Array,Uint32Array:Uint32Array,Float32Array:Float32Array,Float64Array:Float64Array};pr.Handlers={handlers:[],add:function(e,t){this.handlers.push(e,t)},get:function(e){for(var t=this.handlers,n=0,r=t.length;n<r;n+=2){var i=t[n],o=t[n+1];if(i.test(e))return o}return null}},Object.assign(pr.prototype,{crossOrigin:void 0,extractUrlBase:function(e){var t=e.split("/");return 1===t.length?"./":(t.pop(),t.join("/")+"/")},initMaterials:function(e,t,n){for(var r=[],i=0;i<e.length;++i)r[i]=this.createMaterial(e[i],t,n);return r},createMaterial:function(){var e={NoBlending:jo,NormalBlending:Go,AdditiveBlending:Ho,SubtractiveBlending:Vo,MultiplyBlending:Wo,CustomBlending:Xo},t=new X,n=new Un,r=new lr;return function(i,o,a){function s(e,t,r,i,s){var c,l=o+e,h=pr.Handlers.get(l);null===h?(n.setCrossOrigin(a),c=n.load(l)):c=h.load(l),void 0!==t&&(c.repeat.fromArray(t),1!==t[0]&&(c.wrapS=Oa),1!==t[1]&&(c.wrapT=Oa)),void 0!==r&&c.offset.fromArray(r),void 0!==i&&("repeat"===i[0]&&(c.wrapS=Oa),"mirror"===i[0]&&(c.wrapS=ka),"repeat"===i[1]&&(c.wrapT=Oa),"mirror"===i[1]&&(c.wrapT=ka)),void 0!==s&&(c.anisotropy=s);var p=Us.generateUUID();return u[p]=c,p}var u={},c={uuid:Us.generateUUID(),type:"MeshLambertMaterial"};for(var l in i){var h=i[l];switch(l){case"DbgColor":case"DbgIndex":case"opticalDensity":case"illumination":break;case"DbgName":c.name=h;break;case"blending":c.blending=e[h];break;case"colorAmbient":case"mapAmbient":console.warn("THREE.Loader.createMaterial:",l,"is no longer supported.");break;case"colorDiffuse":c.color=t.fromArray(h).getHex();break;case"colorSpecular":c.specular=t.fromArray(h).getHex();break;case"colorEmissive":c.emissive=t.fromArray(h).getHex();break;case"specularCoef":c.shininess=h;break;case"shading":"basic"===h.toLowerCase()&&(c.type="MeshBasicMaterial"),"phong"===h.toLowerCase()&&(c.type="MeshPhongMaterial"),"standard"===h.toLowerCase()&&(c.type="MeshStandardMaterial");break;case"mapDiffuse":c.map=s(h,i.mapDiffuseRepeat,i.mapDiffuseOffset,i.mapDiffuseWrap,i.mapDiffuseAnisotropy);break;case"mapDiffuseRepeat":case"mapDiffuseOffset":case"mapDiffuseWrap":case"mapDiffuseAnisotropy":break;case"mapEmissive":c.emissiveMap=s(h,i.mapEmissiveRepeat,i.mapEmissiveOffset,i.mapEmissiveWrap,i.mapEmissiveAnisotropy);break;case"mapEmissiveRepeat":case"mapEmissiveOffset":case"mapEmissiveWrap":case"mapEmissiveAnisotropy":break;case"mapLight":c.lightMap=s(h,i.mapLightRepeat,i.mapLightOffset,i.mapLightWrap,i.mapLightAnisotropy);break;case"mapLightRepeat":case"mapLightOffset":case"mapLightWrap":case"mapLightAnisotropy":break;case"mapAO":c.aoMap=s(h,i.mapAORepeat,i.mapAOOffset,i.mapAOWrap,i.mapAOAnisotropy);break;case"mapAORepeat":case"mapAOOffset":case"mapAOWrap":case"mapAOAnisotropy":break;case"mapBump":c.bumpMap=s(h,i.mapBumpRepeat,i.mapBumpOffset,i.mapBumpWrap,i.mapBumpAnisotropy);break;case"mapBumpScale":c.bumpScale=h;break;case"mapBumpRepeat":case"mapBumpOffset":case"mapBumpWrap":case"mapBumpAnisotropy":break;case"mapNormal":c.normalMap=s(h,i.mapNormalRepeat,i.mapNormalOffset,i.mapNormalWrap,i.mapNormalAnisotropy);break;case"mapNormalFactor":c.normalScale=[h,h];break;case"mapNormalRepeat":case"mapNormalOffset":case"mapNormalWrap":case"mapNormalAnisotropy":break;case"mapSpecular":c.specularMap=s(h,i.mapSpecularRepeat,i.mapSpecularOffset,i.mapSpecularWrap,i.mapSpecularAnisotropy);break;case"mapSpecularRepeat":case"mapSpecularOffset":case"mapSpecularWrap":case"mapSpecularAnisotropy":break;case"mapMetalness":c.metalnessMap=s(h,i.mapMetalnessRepeat,i.mapMetalnessOffset,i.mapMetalnessWrap,i.mapMetalnessAnisotropy);break;case"mapMetalnessRepeat":case"mapMetalnessOffset":case"mapMetalnessWrap":case"mapMetalnessAnisotropy":break;case"mapRoughness":c.roughnessMap=s(h,i.mapRoughnessRepeat,i.mapRoughnessOffset,i.mapRoughnessWrap,i.mapRoughnessAnisotropy);break;case"mapRoughnessRepeat":case"mapRoughnessOffset":case"mapRoughnessWrap":case"mapRoughnessAnisotropy":break;case"mapAlpha":c.alphaMap=s(h,i.mapAlphaRepeat,i.mapAlphaOffset,i.mapAlphaWrap,i.mapAlphaAnisotropy);break;case"mapAlphaRepeat":case"mapAlphaOffset":case"mapAlphaWrap":case"mapAlphaAnisotropy":break;case"flipSided":c.side=Io;break;case"doubleSided":c.side=ko;break;case"transparency":console.warn("THREE.Loader.createMaterial: transparency has been renamed to opacity"),c.opacity=h;break;case"depthTest":case"depthWrite":case"colorWrite":case"opacity":case"reflectivity":case"transparent":case"visible":case"wireframe":c[l]=h;break;case"vertexColors":!0===h&&(c.vertexColors=zo),"face"===h&&(c.vertexColors=Uo);break;default:console.error("THREE.Loader.createMaterial: Unsupported",l,h)}}return"MeshBasicMaterial"===c.type&&delete c.emissive,"MeshPhongMaterial"!==c.type&&delete c.specular,1>c.opacity&&(c.transparent=!0),r.setTextures(u),r.parse(c)}}()}),Object.assign(fr.prototype,{load:function(e,t,n,r){var i=this,o=this.texturePath&&"string"==typeof this.texturePath?this.texturePath:pr.prototype.extractUrlBase(e),a=new In(this.manager);a.setWithCredentials(this.withCredentials),a.load(e,function(n){var r=JSON.parse(n),a=r.metadata;if(void 0!==a){var s=a.type;if(void 0!==s){if("object"===s.toLowerCase())return void console.error("THREE.JSONLoader: "+e+" should be loaded with THREE.ObjectLoader instead.");if("scene"===s.toLowerCase())return void console.error("THREE.JSONLoader: "+e+" should be loaded with THREE.SceneLoader instead.")}}var u=i.parse(r,o);t(u.geometry,u.materials)},n,r)},setTexturePath:function(e){this.texturePath=e},parse:function(){function e(e,t){function n(e,t){return e&1<<t}var r,o,a,s,u,c,h,p,f,d,m,g,v,y,x,b,w,_,E,S,T,A,M,C,D,L=e.faces,P=e.vertices,R=e.normals,O=e.colors,I=e.scale,k=0;if(void 0!==e.uvs){for(r=0;r<e.uvs.length;r++)e.uvs[r].length&&k++;for(r=0;r<k;r++)t.faceVertexUvs[r]=[]}for(s=0,u=P.length;s<u;)(_=new l).x=P[s++]*I,_.y=P[s++]*I,_.z=P[s++]*I,t.vertices.push(_);for(s=0,u=L.length;s<u;)if(m=n(d=L[s++],0),g=n(d,1),v=n(d,3),y=n(d,4),x=n(d,5),b=n(d,6),w=n(d,7),m){if((S=new de).a=L[s],S.b=L[s+1],S.c=L[s+3],(T=new de).a=L[s+1],T.b=L[s+2],T.c=L[s+3],s+=4,g&&(f=L[s++],S.materialIndex=f,T.materialIndex=f),a=t.faces.length,v)for(r=0;r<k;r++)for(C=e.uvs[r],t.faceVertexUvs[r][a]=[],t.faceVertexUvs[r][a+1]=[],o=0;4>o;o++)D=new i(C[2*(p=L[s++])],C[2*p+1]),2!==o&&t.faceVertexUvs[r][a].push(D),0!==o&&t.faceVertexUvs[r][a+1].push(D);if(y&&(h=3*L[s++],S.normal.set(R[h++],R[h++],R[h]),T.normal.copy(S.normal)),x)for(r=0;4>r;r++)h=3*L[s++],M=new l(R[h++],R[h++],R[h]),2!==r&&S.vertexNormals.push(M),0!==r&&T.vertexNormals.push(M);if(b&&(A=O[c=L[s++]],S.color.setHex(A),T.color.setHex(A)),w)for(r=0;4>r;r++)A=O[c=L[s++]],2!==r&&S.vertexColors.push(new X(A)),0!==r&&T.vertexColors.push(new X(A));t.faces.push(S),t.faces.push(T)}else{if((E=new de).a=L[s++],E.b=L[s++],E.c=L[s++],g&&(f=L[s++],E.materialIndex=f),a=t.faces.length,v)for(r=0;r<k;r++)for(C=e.uvs[r],t.faceVertexUvs[r][a]=[],o=0;3>o;o++)D=new i(C[2*(p=L[s++])],C[2*p+1]),t.faceVertexUvs[r][a].push(D);if(y&&(h=3*L[s++],E.normal.set(R[h++],R[h++],R[h])),x)for(r=0;3>r;r++)h=3*L[s++],M=new l(R[h++],R[h++],R[h]),E.vertexNormals.push(M);if(b&&(c=L[s++],E.color.setHex(O[c])),w)for(r=0;3>r;r++)c=L[s++],E.vertexColors.push(new X(O[c]));t.faces.push(E)}}function t(e,t){var n=void 0===e.influencesPerVertex?2:e.influencesPerVertex;if(e.skinWeights)for(var r=0,i=e.skinWeights.length;r<i;r+=n){var o=e.skinWeights[r],s=1<n?e.skinWeights[r+1]:0,u=2<n?e.skinWeights[r+2]:0,c=3<n?e.skinWeights[r+3]:0;t.skinWeights.push(new a(o,s,u,c))}if(e.skinIndices)for(r=0,i=e.skinIndices.length;r<i;r+=n){var l=e.skinIndices[r],h=1<n?e.skinIndices[r+1]:0,p=2<n?e.skinIndices[r+2]:0,f=3<n?e.skinIndices[r+3]:0;t.skinIndices.push(new a(l,h,p,f))}t.bones=e.bones,t.bones&&0<t.bones.length&&(t.skinWeights.length!==t.skinIndices.length||t.skinIndices.length!==t.vertices.length)&&console.warn("When skinning, number of vertices ("+t.vertices.length+"), skinIndices ("+t.skinIndices.length+"), and skinWeights ("+t.skinWeights.length+") should match.")}return function(n,r){void 0!==n.data&&(n=n.data),n.scale=void 0===n.scale?1:1/n.scale;var i=new ge;return e(n,i),t(n,i),function(e,t){var n=e.scale;if(void 0!==e.morphTargets)for(var r=0,i=e.morphTargets.length;r<i;r++){t.morphTargets[r]={},t.morphTargets[r].name=e.morphTargets[r].name,t.morphTargets[r].vertices=[];for(var o,a=t.morphTargets[r].vertices,s=e.morphTargets[r].vertices,u=0,c=s.length;u<c;u+=3)(o=new l).x=s[u]*n,o.y=s[u+1]*n,o.z=s[u+2]*n,a.push(o)}if(void 0!==e.morphColors&&0<e.morphColors.length){console.warn('THREE.JSONLoader: "morphColors" no longer supported. Using them as face colors.');var h=t.faces,p=e.morphColors[0].colors;for(r=0,i=h.length;r<i;r++)h[r].color.fromArray(p,3*r)}}(n,i),function(e,t){var n=[],r=[];void 0!==e.animation&&r.push(e.animation),void 0!==e.animations&&(e.animations.length?r=r.concat(e.animations):r.push(e.animations));for(var i,o=0;o<r.length;o++)(i=cr.parseAnimation(r[o],t.bones))&&n.push(i);if(t.morphTargets){var a=cr.CreateClipsFromMorphTargetSequences(t.morphTargets,10);n=n.concat(a)}0<n.length&&(t.animations=n)}(n,i),i.computeFaceNormals(),i.computeBoundingSphere(),void 0===n.materials||0===n.materials.length?{geometry:i}:{geometry:i,materials:pr.prototype.initMaterials(n.materials,r,this.crossOrigin)}}}()}),Object.assign(dr.prototype,{load:function(e,t,n,r){""===this.texturePath&&(this.texturePath=e.substring(0,e.lastIndexOf("/")+1));var i=this;new In(i.manager).load(e,function(n){var o=null;try{o=JSON.parse(n)}catch(t){return void 0!==r&&r(t),void console.error("THREE:ObjectLoader: Can't parse "+e+".",t.message)}var a=o.metadata;return void 0===a||void 0===a.type||"geometry"===a.type.toLowerCase()?void console.error("THREE.ObjectLoader: Can't load "+e+". Use THREE.JSONLoader instead."):void i.parse(o,t)},n,r)},setTexturePath:function(e){this.texturePath=e},setCrossOrigin:function(e){this.crossOrigin=e},parse:function(e,t){var n=this.parseGeometries(e.geometries),r=this.parseImages(e.images,function(){void 0!==t&&t(a)}),i=this.parseTextures(e.textures,r),o=this.parseMaterials(e.materials,i),a=this.parseObject(e.object,n,o);return e.animations&&(a.animations=this.parseAnimations(e.animations)),(void 0===e.images||0===e.images.length)&&void 0!==t&&t(a),a},parseGeometries:function(e){var t={};if(void 0!==e)for(var n=new fr,r=new hr,i=0,o=e.length;i<o;i++){var a,s=e[i];switch(s.type){case"PlaneGeometry":case"PlaneBufferGeometry":a=new iu[s.type](s.width,s.height,s.widthSegments,s.heightSegments);break;case"BoxGeometry":case"BoxBufferGeometry":case"CubeGeometry":a=new iu[s.type](s.width,s.height,s.depth,s.widthSegments,s.heightSegments,s.depthSegments);break;case"CircleGeometry":case"CircleBufferGeometry":a=new iu[s.type](s.radius,s.segments,s.thetaStart,s.thetaLength);break;case"CylinderGeometry":case"CylinderBufferGeometry":a=new iu[s.type](s.radiusTop,s.radiusBottom,s.height,s.radialSegments,s.heightSegments,s.openEnded,s.thetaStart,s.thetaLength);break;case"ConeGeometry":case"ConeBufferGeometry":a=new iu[s.type](s.radius,s.height,s.radialSegments,s.heightSegments,s.openEnded,s.thetaStart,s.thetaLength);break;case"SphereGeometry":case"SphereBufferGeometry":a=new iu[s.type](s.radius,s.widthSegments,s.heightSegments,s.phiStart,s.phiLength,s.thetaStart,s.thetaLength);break;case"DodecahedronGeometry":case"IcosahedronGeometry":case"OctahedronGeometry":case"TetrahedronGeometry":a=new iu[s.type](s.radius,s.detail);break;case"RingGeometry":case"RingBufferGeometry":a=new iu[s.type](s.innerRadius,s.outerRadius,s.thetaSegments,s.phiSegments,s.thetaStart,s.thetaLength);break;case"TorusGeometry":case"TorusBufferGeometry":a=new iu[s.type](s.radius,s.tube,s.radialSegments,s.tubularSegments,s.arc);break;case"TorusKnotGeometry":case"TorusKnotBufferGeometry":a=new iu[s.type](s.radius,s.tube,s.tubularSegments,s.radialSegments,s.p,s.q);break;case"LatheGeometry":case"LatheBufferGeometry":a=new iu[s.type](s.points,s.segments,s.phiStart,s.phiLength);break;case"BufferGeometry":a=r.parse(s);break;case"Geometry":a=n.parse(s,this.texturePath).geometry;break;default:console.warn('THREE.ObjectLoader: Unsupported geometry type "'+s.type+'"');continue}a.uuid=s.uuid,void 0!==s.name&&(a.name=s.name),t[s.uuid]=a}return t},parseMaterials:function(e,t){var n={};if(void 0!==e){var r=new lr;r.setTextures(t);for(var i,o=0,a=e.length;o<a;o++)if("MultiMaterial"===(i=e[o]).type){for(var s=[],u=0;u<i.materials.length;u++)s.push(r.parse(i.materials[u]));n[i.uuid]=s}else n[i.uuid]=r.parse(i)}return n},parseAnimations:function(e){for(var t,n=[],r=0;r<e.length;r++)t=cr.parse(e[r]),n.push(t);return n},parseImages:function(e,t){function n(e){return r.manager.itemStart(e),o.load(e,function(){r.manager.itemEnd(e)},void 0,function(){r.manager.itemEnd(e),r.manager.itemError(e)})}var r=this,i={};if(void 0!==e&&0<e.length){var o=new Fn(new On(t));o.setCrossOrigin(this.crossOrigin);for(var a=0,s=e.length;a<s;a++){var u=e[a],c=/^(\/\/)|([a-z]+:(\/\/)?)/i.test(u.url)?u.url:r.texturePath+u.url;i[u.uuid]=n(c)}}return i},parseTextures:function(e,t){function n(e,t){return"number"==typeof e?e:(console.warn("THREE.ObjectLoader.parseTexture: Constant should be in numeric form.",e),t[e])}var r={};if(void 0!==e)for(var i,a=0,s=e.length;a<s;a++){void 0===(i=e[a]).image&&console.warn('THREE.ObjectLoader: No "image" specified for',i.uuid),void 0===t[i.image]&&console.warn("THREE.ObjectLoader: Undefined image",i.image);var u=new o(t[i.image]);u.needsUpdate=!0,u.uuid=i.uuid,void 0!==i.name&&(u.name=i.name),void 0!==i.mapping&&(u.mapping=n(i.mapping,hu)),void 0!==i.offset&&u.offset.fromArray(i.offset),void 0!==i.repeat&&u.repeat.fromArray(i.repeat),void 0!==i.wrap&&(u.wrapS=n(i.wrap[0],pu),u.wrapT=n(i.wrap[1],pu)),void 0!==i.minFilter&&(u.minFilter=n(i.minFilter,fu)),void 0!==i.magFilter&&(u.magFilter=n(i.magFilter,fu)),void 0!==i.anisotropy&&(u.anisotropy=i.anisotropy),void 0!==i.flipY&&(u.flipY=i.flipY),r[i.uuid]=u}return r},parseObject:function(){var e=new h;return function(t,n,r){function i(e){return void 0===n[e]&&console.warn("THREE.ObjectLoader: Undefined geometry",e),n[e]}function o(e){if(void 0!==e){if(Array.isArray(e)){for(var t,n=[],i=0,o=e.length;i<o;i++)t=e[i],void 0===r[t]&&console.warn("THREE.ObjectLoader: Undefined material",t),n.push(r[t]);return n}return void 0===r[e]&&console.warn("THREE.ObjectLoader: Undefined material",e),r[e]}}var a;switch(t.type){case"Scene":a=new wt,void 0!==t.background&&go(t.background)&&(a.background=new X(t.background)),void 0!==t.fog&&("Fog"===t.fog.type?a.fog=new bt(t.fog.color,t.fog.near,t.fog.far):"FogExp2"===t.fog.type&&(a.fog=new xt(t.fog.color,t.fog.density)));break;case"PerspectiveCamera":a=new fe(t.fov,t.aspect,t.near,t.far),void 0!==t.focus&&(a.focus=t.focus),void 0!==t.zoom&&(a.zoom=t.zoom),void 0!==t.filmGauge&&(a.filmGauge=t.filmGauge),void 0!==t.filmOffset&&(a.filmOffset=t.filmOffset),void 0!==t.view&&(a.view=Object.assign({},t.view));break;case"OrthographicCamera":a=new pe(t.left,t.right,t.top,t.bottom,t.near,t.far);break;case"AmbientLight":a=new Yn(t.color,t.intensity);break;case"DirectionalLight":a=new qn(t.color,t.intensity);break;case"PointLight":a=new Wn(t.color,t.intensity,t.distance,t.decay);break;case"RectAreaLight":a=new Jn(t.color,t.intensity,t.width,t.height);break;case"SpotLight":a=new Vn(t.color,t.intensity,t.distance,t.angle,t.penumbra,t.decay);break;case"HemisphereLight":a=new jn(t.color,t.groundColor,t.intensity);break;case"SkinnedMesh":console.warn("THREE.ObjectLoader.parseObject() does not support SkinnedMesh yet.");case"Mesh":var s=i(t.geometry),u=o(t.material);a=s.bones&&0<s.bones.length?new Ct(s,u):new Be(s,u);break;case"LOD":a=new Tt;break;case"Line":a=new Lt(i(t.geometry),o(t.material),t.mode);break;case"LineLoop":a=new Rt(i(t.geometry),o(t.material));break;case"LineSegments":a=new Pt(i(t.geometry),o(t.material));break;case"PointCloud":case"Points":a=new It(i(t.geometry),o(t.material));break;case"Sprite":a=new St(o(t.material));break;case"Group":a=new kt;break;default:a=new le}if(a.uuid=t.uuid,void 0!==t.name&&(a.name=t.name),void 0===t.matrix?(void 0!==t.position&&a.position.fromArray(t.position),void 0!==t.rotation&&a.rotation.fromArray(t.rotation),void 0!==t.quaternion&&a.quaternion.fromArray(t.quaternion),void 0!==t.scale&&a.scale.fromArray(t.scale)):(e.fromArray(t.matrix),e.decompose(a.position,a.quaternion,a.scale)),void 0!==t.castShadow&&(a.castShadow=t.castShadow),void 0!==t.receiveShadow&&(a.receiveShadow=t.receiveShadow),t.shadow&&(void 0!==t.shadow.bias&&(a.shadow.bias=t.shadow.bias),void 0!==t.shadow.radius&&(a.shadow.radius=t.shadow.radius),void 0!==t.shadow.mapSize&&a.shadow.mapSize.fromArray(t.shadow.mapSize),void 0!==t.shadow.camera&&(a.shadow.camera=this.parseObject(t.shadow.camera))),void 0!==t.visible&&(a.visible=t.visible),void 0!==t.userData&&(a.userData=t.userData),void 0!==t.children)for(var c=t.children,l=0;l<c.length;l++)a.add(this.parseObject(c[l],n,r));if("LOD"===t.type)for(var h=t.levels,p=0;p<h.length;p++){var f=h[p],d=a.getObjectByProperty("uuid",f.object);void 0!==d&&a.addLevel(d,f.distance)}return a}}()});var hu={UVMapping:Ta,CubeReflectionMapping:Aa,CubeRefractionMapping:Ma,EquirectangularReflectionMapping:Ca,EquirectangularRefractionMapping:Da,SphericalReflectionMapping:La,CubeUVReflectionMapping:Pa,CubeUVRefractionMapping:Ra},pu={RepeatWrapping:Oa,ClampToEdgeWrapping:Ia,MirroredRepeatWrapping:ka},fu={NearestFilter:Na,NearestMipMapNearestFilter:Fa,NearestMipMapLinearFilter:Ba,LinearFilter:Ua,LinearMipMapNearestFilter:za,LinearMipMapLinearFilter:ja};Object.assign(yr.prototype,{getPoint:function(){return console.warn("THREE.Curve: .getPoint() not implemented."),null},getPointAt:function(e){var t=this.getUtoTmapping(e);return this.getPoint(t)},getPoints:function(e){void 0===e&&(e=5);for(var t=[],n=0;n<=e;n++)t.push(this.getPoint(n/e));return t},getSpacedPoints:function(e){void 0===e&&(e=5);for(var t=[],n=0;n<=e;n++)t.push(this.getPointAt(n/e));return t},getLength:function(){var e=this.getLengths();return e[e.length-1]},getLengths:function(e){if(void 0===e&&(e=this.arcLengthDivisions),this.cacheArcLengths&&this.cacheArcLengths.length===e+1&&!this.needsUpdate)return this.cacheArcLengths;this.needsUpdate=!1;var t,n,r=[],i=this.getPoint(0),o=0;for(r.push(0),n=1;n<=e;n++)o+=(t=this.getPoint(n/e)).distanceTo(i),r.push(o),i=t;return this.cacheArcLengths=r,r},updateArcLengths:function(){this.needsUpdate=!0,this.getLengths()},getUtoTmapping:function(e,t){var n,r=this.getLengths(),i=0,o=r.length;n=t||e*r[o-1];for(var a,s=0,u=o-1;s<=u;)if(0>(a=r[i=wo(s+(u-s)/2)]-n))s=i+1;else{if(!(0<a)){u=i;break}u=i-1}if(r[i=u]===n)return i/(o-1);var c=r[i];return(i+(n-c)/(r[i+1]-c))/(o-1)},getTangent:function(e){var t=e-1e-4,n=e+1e-4;0>t&&(t=0),1<n&&(n=1);var r=this.getPoint(t);return this.getPoint(n).clone().sub(r).normalize()},getTangentAt:function(e){var t=this.getUtoTmapping(e);return this.getTangent(t)},computeFrenetFrames:function(e,t){var n,r,i,o=new l,a=[],s=[],u=[],c=new l,p=new h;for(n=0;n<=e;n++)r=n/e,a[n]=this.getTangentAt(r),a[n].normalize();s[0]=new l,u[0]=new l;var f=Number.MAX_VALUE,d=so(a[0].x),m=so(a[0].y),g=so(a[0].z);for(d<=f&&(f=d,o.set(1,0,0)),m<=f&&(f=m,o.set(0,1,0)),g<=f&&o.set(0,0,1),c.crossVectors(a[0],o).normalize(),s[0].crossVectors(a[0],c),u[0].crossVectors(a[0],s[0]),n=1;n<=e;n++)s[n]=s[n-1].clone(),u[n]=u[n-1].clone(),c.crossVectors(a[n-1],a[n]),c.length()>vo&&(c.normalize(),i=ro(Us.clamp(a[n-1].dot(a[n]),-1,1)),s[n].applyMatrix4(p.makeRotationAxis(c,i))),u[n].crossVectors(a[n],s[n]);if(!0===t)for(i=ro(Us.clamp(s[0].dot(s[e]),-1,1)),i/=e,0<a[0].dot(c.crossVectors(s[0],s[e]))&&(i=-i),n=1;n<=e;n++)s[n].applyMatrix4(p.makeRotationAxis(a[n],i*n)),u[n].crossVectors(a[n],s[n]);return{tangents:a,normals:s,binormals:u}}}),xr.prototype=Object.create(yr.prototype),xr.prototype.constructor=xr,xr.prototype.isLineCurve=!0,xr.prototype.getPoint=function(e){if(1===e)return this.v2.clone();var t=this.v2.clone().sub(this.v1);return t.multiplyScalar(e).add(this.v1),t},xr.prototype.getPointAt=function(e){return this.getPoint(e)},xr.prototype.getTangent=function(){return this.v2.clone().sub(this.v1).normalize()},br.prototype=Object.assign(Object.create(yr.prototype),{constructor:br,add:function(e){this.curves.push(e)},closePath:function(){var e=this.curves[0].getPoint(0),t=this.curves[this.curves.length-1].getPoint(1);e.equals(t)||this.curves.push(new xr(t,e))},getPoint:function(e){for(var t=e*this.getLength(),n=this.getCurveLengths(),r=0;r<n.length;){if(n[r]>=t){var i=n[r]-t,o=this.curves[r],a=o.getLength(),s=0===a?0:1-i/a;return o.getPointAt(s)}r++}return null},getLength:function(){var e=this.getCurveLengths();return e[e.length-1]},updateArcLengths:function(){this.needsUpdate=!0,this.cacheLengths=null,this.getCurveLengths()},getCurveLengths:function(){if(this.cacheLengths&&this.cacheLengths.length===this.curves.length)return this.cacheLengths;for(var e=[],t=0,n=0,r=this.curves.length;n<r;n++)t+=this.curves[n].getLength(),e.push(t);return this.cacheLengths=e,e},getSpacedPoints:function(e){void 0===e&&(e=40);for(var t=[],n=0;n<=e;n++)t.push(this.getPoint(n/e));return this.autoClose&&t.push(t[0]),t},getPoints:function(e){e=e||12;for(var t,n=[],r=0,i=this.curves;r<i.length;r++)for(var o,a=i[r],s=a&&a.isEllipseCurve?2*e:a&&a.isLineCurve?1:a&&a.isSplineCurve?e*a.points.length:e,u=a.getPoints(s),c=0;c<u.length;c++)o=u[c],t&&t.equals(o)||(n.push(o),t=o);return this.autoClose&&1<n.length&&!n[n.length-1].equals(n[0])&&n.push(n[0]),n},createPointsGeometry:function(e){var t=this.getPoints(e);return this.createGeometry(t)},createSpacedPointsGeometry:function(e){var t=this.getSpacedPoints(e);return this.createGeometry(t)},createGeometry:function(e){for(var t,n=new ge,r=0,i=e.length;r<i;r++)t=e[r],n.vertices.push(new l(t.x,t.y,t.z||0));return n}}),wr.prototype=Object.create(yr.prototype),wr.prototype.constructor=wr,wr.prototype.isEllipseCurve=!0,wr.prototype.getPoint=function(e){for(var t=2*fo,n=this.aEndAngle-this.aStartAngle,r=so(n)<vo;0>n;)n+=t;for(;n>t;)n-=t;n<vo&&(n=r?0:t),!0!==this.aClockwise||r||(n===t?n=-t:n-=t);var o=this.aStartAngle+e*n,a=this.aX+this.xRadius*oo(o),s=this.aY+this.yRadius*io(o);if(0!==this.aRotation){var u=oo(this.aRotation),c=io(this.aRotation),l=a-this.aX,h=s-this.aY;a=l*u-h*c+this.aX,s=l*c+h*u+this.aY}return new i(a,s)},_r.prototype=Object.create(yr.prototype),_r.prototype.constructor=_r,_r.prototype.isSplineCurve=!0,_r.prototype.getPoint=function(e){var t=this.points,n=(t.length-1)*e,r=wo(n),o=n-r,a=t[0===r?r:r-1],s=t[r],u=t[r>t.length-2?t.length-1:r+1],c=t[r>t.length-3?t.length-1:r+2];return new i(mr(o,a.x,s.x,u.x,c.x),mr(o,a.y,s.y,u.y,c.y))},Er.prototype=Object.create(yr.prototype),Er.prototype.constructor=Er,Er.prototype.getPoint=function(e){var t=this.v0,n=this.v1,r=this.v2,o=this.v3;return new i(vr(e,t.x,n.x,r.x,o.x),vr(e,t.y,n.y,r.y,o.y))},Sr.prototype=Object.create(yr.prototype),Sr.prototype.constructor=Sr,Sr.prototype.getPoint=function(e){var t=this.v0,n=this.v1,r=this.v2;return new i(gr(e,t.x,n.x,r.x),gr(e,t.y,n.y,r.y))};var du=Object.assign(Object.create(br.prototype),{fromPoints:function(e){this.moveTo(e[0].x,e[0].y);for(var t=1,n=e.length;t<n;t++)this.lineTo(e[t].x,e[t].y)},moveTo:function(e,t){this.currentPoint.set(e,t)},lineTo:function(e,t){var n=new xr(this.currentPoint.clone(),new i(e,t));this.curves.push(n),this.currentPoint.set(e,t)},quadraticCurveTo:function(e,t,n,r){var o=new Sr(this.currentPoint.clone(),new i(e,t),new i(n,r));this.curves.push(o),this.currentPoint.set(n,r)},bezierCurveTo:function(e,t,n,r,o,a){var s=new Er(this.currentPoint.clone(),new i(e,t),new i(n,r),new i(o,a));this.curves.push(s),this.currentPoint.set(o,a)},splineThru:function(e){var t=new _r([this.currentPoint.clone()].concat(e));this.curves.push(t),this.currentPoint.copy(e[e.length-1])},arc:function(e,t,n,r,i,o){var a=this.currentPoint.x,s=this.currentPoint.y;this.absarc(e+a,t+s,n,r,i,o)},absarc:function(e,t,n,r,i,o){this.absellipse(e,t,n,n,r,i,o)},ellipse:function(e,t,n,r,i,o,a,s){var u=this.currentPoint.x,c=this.currentPoint.y;this.absellipse(e+u,t+c,n,r,i,o,a,s)},absellipse:function(e,t,n,r,i,o,a,s){var u=new wr(e,t,n,r,i,o,a,s);if(0<this.curves.length){var c=u.getPoint(0);c.equals(this.currentPoint)||this.lineTo(c.x,c.y)}this.curves.push(u);var l=u.getPoint(1);this.currentPoint.copy(l)}});Tr.prototype=du,du.constructor=Tr,Ar.prototype=Object.assign(Object.create(du),{constructor:Ar,getPointsHoles:function(e){for(var t=[],n=0,r=this.holes.length;n<r;n++)t[n]=this.holes[n].getPoints(e);return t},extractAllPoints:function(e){return{shape:this.getPoints(e),holes:this.getPointsHoles(e)}},extractPoints:function(e){return this.extractAllPoints(e)}}),Object.assign(Mr.prototype,{moveTo:function(e,t){this.currentPath=new Tr,this.subPaths.push(this.currentPath),this.currentPath.moveTo(e,t)},lineTo:function(e,t){this.currentPath.lineTo(e,t)},quadraticCurveTo:function(e,t,n,r){this.currentPath.quadraticCurveTo(e,t,n,r)},bezierCurveTo:function(e,t,n,r,i,o){this.currentPath.bezierCurveTo(e,t,n,r,i,o)},splineThru:function(e){this.currentPath.splineThru(e)},toShapes:function(e,t){function n(e){for(var t=[],n=0,r=e.length;n<r;n++){var i=e[n],o=new Ar;o.curves=i.curves,t.push(o)}return t}function r(e,t){for(var n=t.length,r=!1,i=n-1,o=0;o<n;i=o++){var a=t[i],s=t[o],u=s.x-a.x,c=s.y-a.y;if(so(c)>vo){if(0>c&&(a=t[o],u=-u,s=t[i],c=-c),e.y<a.y||e.y>s.y)continue;if(e.y!==a.y){var l=c*(e.x-a.x)-u*(e.y-a.y);if(0==l)return!0;if(0>l)continue;r=!r}else if(e.x===a.x)return!0}else{if(e.y!==a.y)continue;if(s.x<=e.x&&e.x<=a.x||a.x<=e.x&&e.x<=s.x)return!0}}return r}var i=ru.isClockWise,o=this.subPaths;if(0===o.length)return[];if(!0===t)return n(o);var a,s,u,c=[];if(1===o.length)return s=o[0],(u=new Ar).curves=s.curves,c.push(u),c;var l=!i(o[0].getPoints());l=e?!l:l;var h,p=[],f=[],d=[],m=0;f[m]=void 0,d[m]=[];for(var g=0,v=o.length;g<v;g++)a=i(h=(s=o[g]).getPoints()),(a=e?!a:a)?(!l&&f[m]&&m++,f[m]={s:new Ar,p:h},f[m].s.curves=s.curves,l&&m++,d[m]=[]):d[m].push({h:s,p:h[0]});if(!f[0])return n(o);if(1<f.length){for(var y=!1,x=[],b=0,w=f.length;b<w;b++)p[b]=[];var _;for(b=0,w=f.length;b<w;b++){_=d[b];for(var E=0;E<_.length;E++){for(var S=_[E],T=!0,A=0;A<f.length;A++)r(S.p,f[A].p)&&(b!==A&&x.push({froms:b,tos:A,hole:E}),T?(T=!1,p[A].push(S)):y=!0);T&&p[b].push(S)}}0<x.length&&!y&&(d=p)}g=0;for(var M,C=f.length;g<C;g++){u=f[g].s,c.push(u);for(var D=0,L=(M=d[g]).length;D<L;D++)u.holes.push(M[D].h)}return c}}),Object.assign(Cr.prototype,{isFont:!0,generateShapes:function(e,t,n){function r(e,t,r,o){var a=i.glyphs[e]||i.glyphs["?"];if(a){var s,u,c,l,h,p,f,d,m,g,v,y=new Mr,x=[];if(a.o)for(var b,w=a._cachedOutline||(a._cachedOutline=a.o.split(" ")),_=0,E=w.length;_<E;)switch(b=w[_++],b){case"m":s=w[_++]*t+r,u=w[_++]*t+o,y.moveTo(s,u);break;case"l":s=w[_++]*t+r,u=w[_++]*t+o,y.lineTo(s,u);break;case"q":if(c=w[_++]*t+r,l=w[_++]*t+o,f=w[_++]*t+r,d=w[_++]*t+o,y.quadraticCurveTo(f,d,c,l),v=x[x.length-1]){h=v.x,p=v.y;for(var S=1;S<=n;S++)gr(T=S/n,h,f,c),gr(T,p,d,l)}break;case"b":if(c=w[_++]*t+r,l=w[_++]*t+o,f=w[_++]*t+r,d=w[_++]*t+o,m=w[_++]*t+r,g=w[_++]*t+o,y.bezierCurveTo(f,d,m,g,c,l),v=x[x.length-1]){h=v.x,p=v.y;var T;for(S=1;S<=n;S++)vr(T=S/n,h,f,m,c),vr(T,p,d,g,l)}}return{offsetX:a.ha*t,path:y}}}void 0===t&&(t=100),void 0===n&&(n=4);for(var i=this.data,o=function(e){for(var n,o=(e+"").split(""),a=t/i.resolution,s=(i.boundingBox.yMax-i.boundingBox.yMin+i.underlineThickness)*a,u=0,c=0,l=[],h=0;h<o.length;h++)if("\n"===(n=o[h]))u=0,c-=s;else{var p=r(n,a,u,c);u+=p.offsetX,l.push(p.path)}return l}(e),a=[],s=0,u=o.length;s<u;s++)Array.prototype.push.apply(a,o[s].toShapes());return a}}),Object.assign(Dr.prototype,{load:function(e,t,n,r){var i=this;new In(this.manager).load(e,function(e){var n;try{n=JSON.parse(e)}catch(t){console.warn("THREE.FontLoader: typeface.js support is being deprecated. Use typeface.json instead."),n=JSON.parse(e.substring(65,e.length-2))}var r=i.parse(n);t&&t(r)},n,r)},parse:function(e){return new Cr(e)}});var mu,gu,vu,yu={getContext:function(){return void 0===mu&&(mu=new(window.AudioContext||window.webkitAudioContext)),mu},setContext:function(e){mu=e}};Object.assign(Lr.prototype,{load:function(e,t,n,r){var i=new In(this.manager);i.setResponseType("arraybuffer"),i.load(e,function(e){yu.getContext().decodeAudioData(e,function(e){t(e)})},n,r)}}),Object.assign(Pr.prototype,{update:function(){var e,t,n,r,i,o,a,s,u=new h,c=new h;return function(l){if(e!==this||t!==l.focus||n!==l.fov||r!==l.aspect*this.aspect||i!==l.near||o!==l.far||a!==l.zoom||s!==this.eyeSep){e=this,t=l.focus,n=l.fov,r=l.aspect*this.aspect,i=l.near,o=l.far,a=l.zoom;var h,p,f=l.projectionMatrix.clone(),d=(s=this.eyeSep/2)*i/t,m=i*eo(Us.DEG2RAD*n*.5)/a;c.elements[12]=-s,u.elements[12]=s,h=-m*r+d,p=m*r+d,f.elements[0]=2*i/(p-h),f.elements[8]=(p+h)/(p-h),this.cameraL.projectionMatrix.copy(f),h=-m*r-d,p=m*r-d,f.elements[0]=2*i/(p-h),f.elements[8]=(p+h)/(p-h),this.cameraR.projectionMatrix.copy(f)}this.cameraL.matrixWorld.copy(l.matrixWorld).multiply(c),this.cameraR.matrixWorld.copy(l.matrixWorld).multiply(u)}}()}),Rr.prototype=Object.create(le.prototype),Rr.prototype.constructor=Rr,Or.prototype=Object.assign(Object.create(le.prototype),{constructor:Or,getInput:function(){return this.gain},removeFilter:function(){null!==this.filter&&(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination),this.gain.connect(this.context.destination),this.filter=null)},getFilter:function(){return this.filter},setFilter:function(e){null===this.filter?this.gain.disconnect(this.context.destination):(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination)),this.filter=e,this.gain.connect(this.filter),this.filter.connect(this.context.destination)},getMasterVolume:function(){return this.gain.gain.value},setMasterVolume:function(e){this.gain.gain.value=e},updateMatrixWorld:function(){var e=new l,t=new c,n=new l,r=new l;return function(i){le.prototype.updateMatrixWorld.call(this,i);var o=this.context.listener,a=this.up;this.matrixWorld.decompose(e,t,n),r.set(0,0,-1).applyQuaternion(t),o.positionX?(o.positionX.setValueAtTime(e.x,this.context.currentTime),o.positionY.setValueAtTime(e.y,this.context.currentTime),o.positionZ.setValueAtTime(e.z,this.context.currentTime),o.forwardX.setValueAtTime(r.x,this.context.currentTime),o.forwardY.setValueAtTime(r.y,this.context.currentTime),o.forwardZ.setValueAtTime(r.z,this.context.currentTime),o.upX.setValueAtTime(a.x,this.context.currentTime),o.upY.setValueAtTime(a.y,this.context.currentTime),o.upZ.setValueAtTime(a.z,this.context.currentTime)):(o.setPosition(e.x,e.y,e.z),o.setOrientation(r.x,r.y,r.z,a.x,a.y,a.z))}}()}),Ir.prototype=Object.assign(Object.create(le.prototype),{constructor:Ir,getOutput:function(){return this.gain},setNodeSource:function(e){return this.hasPlaybackControl=!1,this.sourceType="audioNode",this.source=e,this.connect(),this},setBuffer:function(e){return this.buffer=e,this.sourceType="buffer",this.autoplay&&this.play(),this},play:function(){if(!0!==this.isPlaying){if(!1!==this.hasPlaybackControl){var e=this.context.createBufferSource();return e.buffer=this.buffer,e.loop=this.loop,e.onended=this.onEnded.bind(this),e.playbackRate.setValueAtTime(this.playbackRate,this.startTime),e.start(0,this.startTime),this.isPlaying=!0,this.source=e,this.connect()}console.warn("THREE.Audio: this Audio has no playback control.")}else console.warn("THREE.Audio: Audio is already playing.")},pause:function(){return!1===this.hasPlaybackControl?void console.warn("THREE.Audio: this Audio has no playback control."):(this.source.stop(),this.startTime=this.context.currentTime,this.isPlaying=!1,this)},stop:function(){return!1===this.hasPlaybackControl?void console.warn("THREE.Audio: this Audio has no playback control."):(this.source.stop(),this.startTime=0,this.isPlaying=!1,this)},connect:function(){if(0<this.filters.length){this.source.connect(this.filters[0]);for(var e=1,t=this.filters.length;e<t;e++)this.filters[e-1].connect(this.filters[e]);this.filters[this.filters.length-1].connect(this.getOutput())}else this.source.connect(this.getOutput());return this},disconnect:function(){if(0<this.filters.length){this.source.disconnect(this.filters[0]);for(var e=1,t=this.filters.length;e<t;e++)this.filters[e-1].disconnect(this.filters[e]);this.filters[this.filters.length-1].disconnect(this.getOutput())}else this.source.disconnect(this.getOutput());return this},getFilters:function(){return this.filters},setFilters:function(e){return e||(e=[]),!0===this.isPlaying?(this.disconnect(),this.filters=e,this.connect()):this.filters=e,this},getFilter:function(){return this.getFilters()[0]},setFilter:function(e){return this.setFilters(e?[e]:[])},setPlaybackRate:function(e){return!1===this.hasPlaybackControl?void console.warn("THREE.Audio: this Audio has no playback control."):(this.playbackRate=e,!0===this.isPlaying&&this.source.playbackRate.setValueAtTime(this.playbackRate,this.context.currentTime),this)},getPlaybackRate:function(){return this.playbackRate},onEnded:function(){this.isPlaying=!1},getLoop:function(){return!1===this.hasPlaybackControl?(console.warn("THREE.Audio: this Audio has no playback control."),!1):this.loop},setLoop:function(e){return!1===this.hasPlaybackControl?void console.warn("THREE.Audio: this Audio has no playback control."):(this.loop=e,!0===this.isPlaying&&(this.source.loop=this.loop),this)},getVolume:function(){return this.gain.gain.value},setVolume:function(e){return this.gain.gain.value=e,this}}),kr.prototype=Object.assign(Object.create(Ir.prototype),{constructor:kr,getOutput:function(){return this.panner},getRefDistance:function(){return this.panner.refDistance},setRefDistance:function(e){this.panner.refDistance=e},getRolloffFactor:function(){return this.panner.rolloffFactor},setRolloffFactor:function(e){this.panner.rolloffFactor=e},getDistanceModel:function(){return this.panner.distanceModel},setDistanceModel:function(e){this.panner.distanceModel=e},getMaxDistance:function(){return this.panner.maxDistance},setMaxDistance:function(e){this.panner.maxDistance=e},updateMatrixWorld:function(){var e=new l;return function(t){le.prototype.updateMatrixWorld.call(this,t),e.setFromMatrixPosition(this.matrixWorld),this.panner.setPosition(e.x,e.y,e.z)}}()}),Object.assign(Nr.prototype,{getFrequencyData:function(){return this.analyser.getByteFrequencyData(this.data),this.data},getAverageFrequency:function(){for(var e=0,t=this.getFrequencyData(),n=0;n<t.length;n++)e+=t[n];return e/t.length}}),Object.assign(Fr.prototype,{accumulate:function(e,t){var n=this.buffer,r=this.valueSize,i=e*r+r,o=this.cumulativeWeight;if(0===o){for(var a=0;a!==r;++a)n[i+a]=n[a];o=t}else{var s=t/(o+=t);this._mixBufferRegion(n,i,0,s,r)}this.cumulativeWeight=o},apply:function(e){var t=this.valueSize,n=this.buffer,r=e*t+t,i=this.cumulativeWeight,o=this.binding;this.cumulativeWeight=0,1>i&&this._mixBufferRegion(n,r,3*t,1-i,t);for(var a=t;a!==t+t;++a)if(n[a]!==n[a+t]){o.setValue(n,r);break}},saveOriginalState:function(){var e=this.binding,t=this.buffer,n=this.valueSize,r=3*n;e.getValue(t,r);for(var i=n;i!==r;++i)t[i]=t[r+i%n];this.cumulativeWeight=0},restoreOriginalState:function(){var e=3*this.valueSize;this.binding.setValue(this.buffer,e)},_select:function(e,t,n,r,i){if(.5<=r)for(var o=0;o!==i;++o)e[t+o]=e[n+o]},_slerp:function(e,t,n,r){c.slerpFlat(e,t,e,t,e,n,r)},_lerp:function(e,t,n,r,i){for(var o,a=0;a!==i;++a)e[o=t+a]=e[o]*(1-r)+e[n+a]*r}}),Object.assign(Br.prototype,{getValue:function(e,t){this.bind();var n=this._targetGroup.nCachedObjects_,r=this._bindings[n];void 0!==r&&r.getValue(e,t)},setValue:function(e,t){for(var n=this._bindings,r=this._targetGroup.nCachedObjects_,i=n.length;r!==i;++r)n[r].setValue(e,t)},bind:function(){for(var e=this._bindings,t=this._targetGroup.nCachedObjects_,n=e.length;t!==n;++t)e[t].bind()},unbind:function(){for(var e=this._bindings,t=this._targetGroup.nCachedObjects_,n=e.length;t!==n;++t)e[t].unbind()}}),Object.assign(Ur,{Composite:Br,create:function(e,t,n){return e&&e.isAnimationObjectGroup?new Ur.Composite(e,t,n):new Ur(e,t,n)},sanitizeNodeName:function(e){return e.replace(/\s/g,"_").replace(/[^\w-]/g,"")},parseTrackName:function(){var e=new RegExp("^"+/((?:[\w-]+[\/:])*)/.source+/([\w-\.]+)?/.source+/(?:\.([\w-]+)(?:\[(.+)\])?)?/.source+/\.([\w-]+)(?:\[(.+)\])?/.source+"$"),t=["material","materials","bones"];return function(n){var r=e.exec(n);if(!r)throw new Error("PropertyBinding: Cannot parse trackName: "+n);var i={nodeName:r[2],objectName:r[3],objectIndex:r[4],propertyName:r[5],propertyIndex:r[6]},o=i.nodeName&&i.nodeName.lastIndexOf(".");if(void 0!==o&&-1!==o){var a=i.nodeName.substring(o+1);-1!==t.indexOf(a)&&(i.nodeName=i.nodeName.substring(0,o),i.objectName=a)}if(null===i.propertyName||0===i.propertyName.length)throw new Error("PropertyBinding: can not parse propertyName from trackName: "+n);return i}}(),findNode:function(e,t){if(!t||""===t||"root"===t||"."===t||-1===t||t===e.name||t===e.uuid)return e;if(e.skeleton){var n=function(e){for(var n,r=0;r<e.bones.length;r++)if((n=e.bones[r]).name===t)return n;return null}(e.skeleton);if(n)return n}if(e.children){var r=function(e){for(var n,i=0;i<e.length;i++){if((n=e[i]).name===t||n.uuid===t)return n;var o=r(n.children);if(o)return o}return null},i=r(e.children);if(i)return i}return null}}),Object.assign(Ur.prototype,{_getValue_unavailable:function(){},_setValue_unavailable:function(){},BindingType:{Direct:0,EntireArray:1,ArrayElement:2,HasFromToArray:3},Versioning:{None:0,NeedsUpdate:1,MatrixWorldNeedsUpdate:2},GetterByBindingType:[function(e,t){e[t]=this.node[this.propertyName]},function(e,t){for(var n=this.resolvedProperty,r=0,i=n.length;r!==i;++r)e[t++]=n[r]},function(e,t){e[t]=this.resolvedProperty[this.propertyIndex]},function(e,t){this.resolvedProperty.toArray(e,t)}],SetterByBindingTypeAndVersioning:[[function(e,t){this.node[this.propertyName]=e[t]},function(e,t){this.node[this.propertyName]=e[t],this.targetObject.needsUpdate=!0},function(e,t){this.node[this.propertyName]=e[t],this.targetObject.matrixWorldNeedsUpdate=!0}],[function(e,t){for(var n=this.resolvedProperty,r=0,i=n.length;r!==i;++r)n[r]=e[t++]},function(e,t){for(var n=this.resolvedProperty,r=0,i=n.length;r!==i;++r)n[r]=e[t++];this.targetObject.needsUpdate=!0},function(e,t){for(var n=this.resolvedProperty,r=0,i=n.length;r!==i;++r)n[r]=e[t++];this.targetObject.matrixWorldNeedsUpdate=!0}],[function(e,t){this.resolvedProperty[this.propertyIndex]=e[t]},function(e,t){this.resolvedProperty[this.propertyIndex]=e[t],this.targetObject.needsUpdate=!0},function(e,t){this.resolvedProperty[this.propertyIndex]=e[t],this.targetObject.matrixWorldNeedsUpdate=!0}],[function(e,t){this.resolvedProperty.fromArray(e,t)},function(e,t){this.resolvedProperty.fromArray(e,t),this.targetObject.needsUpdate=!0},function(e,t){this.resolvedProperty.fromArray(e,t),this.targetObject.matrixWorldNeedsUpdate=!0}]],getValue:function(e,t){this.bind(),this.getValue(e,t)},setValue:function(e,t){this.bind(),this.setValue(e,t)},bind:function(){var e=this.node,t=this.parsedPath,n=t.objectName,r=t.propertyName,i=t.propertyIndex;if(e||(e=Ur.findNode(this.rootNode,t.nodeName)||this.rootNode,this.node=e),this.getValue=this._getValue_unavailable,this.setValue=this._setValue_unavailable,e){if(n){var o=t.objectIndex;switch(n){case"materials":if(!e.material)return void console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",this);if(!e.material.materials)return void console.error("THREE.PropertyBinding: Can not bind to material.materials as node.material does not have a materials array.",this);e=e.material.materials;break;case"bones":if(!e.skeleton)return void console.error("THREE.PropertyBinding: Can not bind to bones as node does not have a skeleton.",this);e=e.skeleton.bones;for(var a=0;a<e.length;a++)if(e[a].name===o){o=a;break}break;default:if(void 0===e[n])return void console.error("THREE.PropertyBinding: Can not bind to objectName of node undefined.",this);e=e[n]}if(void 0!==o){if(void 0===e[o])return void console.error("THREE.PropertyBinding: Trying to bind to objectIndex of objectName, but is undefined.",this,e);e=e[o]}}var s=e[r];if(void 0!==s){var u=this.Versioning.None;void 0===e.needsUpdate?void 0!==e.matrixWorldNeedsUpdate&&(u=this.Versioning.MatrixWorldNeedsUpdate,this.targetObject=e):(u=this.Versioning.NeedsUpdate,this.targetObject=e);var c=this.BindingType.Direct;if(void 0!==i){if("morphTargetInfluences"===r){if(!e.geometry)return void console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.",this);if(e.geometry.isBufferGeometry){if(!e.geometry.morphAttributes)return void console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.morphAttributes.",this);for(a=0;a<this.node.geometry.morphAttributes.position.length;a++)if(e.geometry.morphAttributes.position[a].name===i){i=a;break}}else{if(!e.geometry.morphTargets)return void console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.morphTargets.",this);for(a=0;a<this.node.geometry.morphTargets.length;a++)if(e.geometry.morphTargets[a].name===i){i=a;break}}}c=this.BindingType.ArrayElement,this.resolvedProperty=s,this.propertyIndex=i}else void 0!==s.fromArray&&void 0!==s.toArray?(c=this.BindingType.HasFromToArray,this.resolvedProperty=s):Array.isArray(s)?(c=this.BindingType.EntireArray,this.resolvedProperty=s):this.propertyName=r;this.getValue=this.GetterByBindingType[c],this.setValue=this.SetterByBindingTypeAndVersioning[c][u]}else{var l=t.nodeName;console.error("THREE.PropertyBinding: Trying to update property for track: "+l+"."+r+" but it wasn't found.",e)}}else console.error("THREE.PropertyBinding: Trying to update node for track: "+this.path+" but it wasn't found.")},unbind:function(){this.node=null,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}}),Object.assign(Ur.prototype,{_getValue_unbound:Ur.prototype.getValue,_setValue_unbound:Ur.prototype.setValue}),Object.assign(zr.prototype,{isAnimationObjectGroup:!0,add:function(){for(var e=this._objects,t=e.length,n=this.nCachedObjects_,r=this._indicesByUUID,i=this._paths,o=this._parsedPaths,a=this._bindings,s=a.length,u=0,c=arguments.length;u!==c;++u){var l=arguments[u],h=l.uuid,p=r[h],f=void 0;if(void 0===p){p=t++,r[h]=p,e.push(l);for(var d=0,m=s;d!==m;++d)a[d].push(new Ur(l,i[d],o[d]))}else if(p<n){f=e[p];var g=--n,v=e[g];r[v.uuid]=p,e[p]=v,r[h]=g,e[g]=l;for(d=0,m=s;d!==m;++d){var y=a[d],x=y[g],b=y[p];y[p]=x,void 0===b&&(b=new Ur(l,i[d],o[d])),y[g]=b}}else e[p]!==f&&console.error("THREE.AnimationObjectGroup: Different objects with the same UUID detected. Clean the caches or recreate your infrastructure when reloading scenes.")}this.nCachedObjects_=n},remove:function(){for(var e=this._objects,t=this.nCachedObjects_,n=this._indicesByUUID,r=this._bindings,i=r.length,o=0,a=arguments.length;o!==a;++o){var s=arguments[o],u=s.uuid,c=n[u];if(void 0!==c&&c>=t){var l=t++,h=e[l];n[h.uuid]=c,e[c]=h,n[u]=l,e[l]=s;for(var p=0;p!==i;++p){var f=r[p],d=f[l],m=f[c];f[c]=d,f[l]=m}}}this.nCachedObjects_=t},uncache:function(){for(var e=this._objects,t=e.length,n=this.nCachedObjects_,r=this._indicesByUUID,i=this._bindings,o=i.length,a=0,s=arguments.length;a!==s;++a){var u=arguments[a].uuid,c=r[u];if(void 0!==c)if(delete r[u],c<n){var l=--n,h=e[l],p=e[v=--t];r[h.uuid]=c,e[c]=h,r[p.uuid]=l,e[l]=p,e.pop();for(var f=0,d=o;f!==d;++f){var m=(y=i[f])[l],g=y[v];y[c]=m,y[l]=g,y.pop()}}else{var v;r[(p=e[v=--t]).uuid]=c,e[c]=p,e.pop();var y;for(f=0,d=o;f!==d;++f)(y=i[f])[c]=y[v],y.pop()}}this.nCachedObjects_=n},subscribe_:function(e,t){var n=this._bindingsIndicesByPath,r=n[e],i=this._bindings;if(void 0!==r)return i[r];var o=this._paths,a=this._parsedPaths,s=this._objects,u=s.length,c=this.nCachedObjects_,l=Array(u);r=i.length,n[e]=r,o.push(e),a.push(t),i.push(l);for(var h,p=c,f=s.length;p!==f;++p)h=s[p],l[p]=new Ur(h,e,t);return l},unsubscribe_:function(e){var t=this._bindingsIndicesByPath,n=t[e];if(void 0!==n){var r=this._paths,i=this._parsedPaths,o=this._bindings,a=o.length-1,s=o[a];t[e[a]]=n,o[n]=s,o.pop(),i[n]=i[a],i.pop(),r[n]=r[a],r.pop()}}}),Object.assign(jr.prototype,{play:function(){return this._mixer._activateAction(this),this},stop:function(){return this._mixer._deactivateAction(this),this.reset()},reset:function(){return this.paused=!1,this.enabled=!0,this.time=0,this._loopCount=-1,this._startTime=null,this.stopFading().stopWarping()},isRunning:function(){return this.enabled&&!this.paused&&0!==this.timeScale&&null===this._startTime&&this._mixer._isActiveAction(this)},isScheduled:function(){return this._mixer._isActiveAction(this)},startAt:function(e){return this._startTime=e,this},setLoop:function(e,t){return this.loop=e,this.repetitions=t,this},setEffectiveWeight:function(e){return this.weight=e,this._effectiveWeight=this.enabled?e:0,this.stopFading()},getEffectiveWeight:function(){return this._effectiveWeight},fadeIn:function(e){return this._scheduleFading(e,0,1)},fadeOut:function(e){return this._scheduleFading(e,1,0)},crossFadeFrom:function(e,t,n){if(e.fadeOut(t),this.fadeIn(t),n){var r=this._clip.duration,i=e._clip.duration;e.warp(1,i/r,t),this.warp(r/i,1,t)}return this},crossFadeTo:function(e,t,n){return e.crossFadeFrom(this,t,n)},stopFading:function(){var e=this._weightInterpolant;return null!==e&&(this._weightInterpolant=null,this._mixer._takeBackControlInterpolant(e)),this},setEffectiveTimeScale:function(e){return this.timeScale=e,this._effectiveTimeScale=this.paused?0:e,this.stopWarping()},getEffectiveTimeScale:function(){return this._effectiveTimeScale},setDuration:function(e){return this.timeScale=this._clip.duration/e,this.stopWarping()},syncWith:function(e){return this.time=e.time,this.timeScale=e.timeScale,this.stopWarping()},halt:function(e){return this.warp(this._effectiveTimeScale,0,e)},warp:function(e,t,n){var r=this._mixer,i=r.time,o=this._timeScaleInterpolant,a=this.timeScale;null===o&&(o=r._lendControlInterpolant(),this._timeScaleInterpolant=o);var s=o.parameterPositions,u=o.sampleValues;return s[0]=i,s[1]=i+n,u[0]=e/a,u[1]=t/a,this},stopWarping:function(){var e=this._timeScaleInterpolant;return null!==e&&(this._timeScaleInterpolant=null,this._mixer._takeBackControlInterpolant(e)),this},getMixer:function(){return this._mixer},getClip:function(){return this._clip},getRoot:function(){return this._localRoot||this._mixer._root},_update:function(e,t,n,r){if(this.enabled){var i=this._startTime;if(null!==i){var o=(e-i)*n;if(0>o||0===n)return;this._startTime=null,t=n*o}t*=this._updateTimeScale(e);var a=this._updateTime(t),s=this._updateWeight(e);if(0<s)for(var u=this._interpolants,c=this._propertyBindings,l=0,h=u.length;l!==h;++l)u[l].evaluate(a),c[l].accumulate(r,s)}else this._updateWeight(e)},_updateWeight:function(e){var t=0;if(this.enabled){t=this.weight;var n=this._weightInterpolant;if(null!==n){var r=n.evaluate(e)[0];t*=r,e>n.parameterPositions[1]&&(this.stopFading(),0===r&&(this.enabled=!1))}}return this._effectiveWeight=t,t},_updateTimeScale:function(e){var t=0;if(!this.paused){t=this.timeScale;var n=this._timeScaleInterpolant;if(null!==n)t*=n.evaluate(e)[0],e>n.parameterPositions[1]&&(this.stopWarping(),0===t?this.paused=!0:this.timeScale=t)}return this._effectiveTimeScale=t,t},_updateTime:function(e){var t=this.time+e;if(0===e)return t;var n=this._clip.duration,r=this.loop,i=this._loopCount;if(r===vs){-1===i&&(this._loopCount=0,this._setEndings(!0,!0,!1));e:{if(t>=n)t=n;else{if(!(0>t))break e;t=0}this.clampWhenFinished?this.paused=!0:this.enabled=!1,this._mixer.dispatchEvent({type:"finished",action:this,direction:0>e?-1:1})}}else{var o=r===xs;if(-1===i&&(0<=e?(i=0,this._setEndings(!0,0===this.repetitions,o)):this._setEndings(0===this.repetitions,!0,o)),t>=n||0>t){var a=wo(t/n);t-=n*a,i+=so(a);var s=this.repetitions-i;if(0>s)this.clampWhenFinished?this.paused=!0:this.enabled=!1,t=0<e?n:0,this._mixer.dispatchEvent({type:"finished",action:this,direction:0<e?1:-1});else{if(0==s){var u=0>e;this._setEndings(u,!u,o)}else this._setEndings(!1,!1,o);this._loopCount=i,this._mixer.dispatchEvent({type:"loop",action:this,loopDelta:a})}}if(o&&1==(1&i))return this.time=t,n-t}return this.time=t,t},_setEndings:function(e,t,n){var r=this._interpolantSettings;n?(r.endingStart=Ss,r.endingEnd=Ss):(r.endingStart=e?this.zeroSlopeAtStart?Ss:Es:Ts,r.endingEnd=t?this.zeroSlopeAtEnd?Ss:Es:Ts)},_scheduleFading:function(e,t,n){var r=this._mixer,i=r.time,o=this._weightInterpolant;null===o&&(o=r._lendControlInterpolant(),this._weightInterpolant=o);var a=o.parameterPositions,s=o.sampleValues;return a[0]=i,s[0]=t,a[1]=i+e,s[1]=n,this}}),Object.assign(Gr.prototype,r.prototype,{_bindAction:function(e,t){var n=e._localRoot||this._root,r=e._clip.tracks,i=r.length,o=e._propertyBindings,a=e._interpolants,s=n.uuid,u=this._bindingsByRootAndName,c=u[s];void 0===c&&(c={},u[s]=c);for(var l=0;l!==i;++l){var h=r[l],p=h.name,f=c[p];if(void 0!==f)o[l]=f;else{if(void 0!==(f=o[l])){null===f._cacheIndex&&(++f.referenceCount,this._addInactiveBinding(f,s,p));continue}var d=t&&t._propertyBindings[l].binding.parsedPath;++(f=new Fr(Ur.create(n,p,d),h.ValueTypeName,h.getValueSize())).referenceCount,this._addInactiveBinding(f,s,p),o[l]=f}a[l].resultBuffer=f.buffer}},_activateAction:function(e){if(!this._isActiveAction(e)){if(null===e._cacheIndex){var t=(e._localRoot||this._root).uuid,n=e._clip.uuid,r=this._actionsByClip[n];this._bindAction(e,r&&r.knownActions[0]),this._addInactiveAction(e,n,t)}for(var i,o=e._propertyBindings,a=0,s=o.length;a!==s;++a)0==(i=o[a]).useCount++&&(this._lendBinding(i),i.saveOriginalState());this._lendAction(e)}},_deactivateAction:function(e){if(this._isActiveAction(e)){for(var t,n=e._propertyBindings,r=0,i=n.length;r!==i;++r)0==--(t=n[r]).useCount&&(t.restoreOriginalState(),this._takeBackBinding(t));this._takeBackAction(e)}},_initMemoryManager:function(){this._actions=[],this._nActiveActions=0,this._actionsByClip={},this._bindings=[],this._nActiveBindings=0,this._bindingsByRootAndName={},this._controlInterpolants=[],this._nActiveControlInterpolants=0;var e=this;this.stats={actions:{get total(){return e._actions.length},get inUse(){return e._nActiveActions}},bindings:{get total(){return e._bindings.length},get inUse(){return e._nActiveBindings}},controlInterpolants:{get total(){return e._controlInterpolants.length},get inUse(){return e._nActiveControlInterpolants}}}},_isActiveAction:function(e){var t=e._cacheIndex;return null!==t&&t<this._nActiveActions},_addInactiveAction:function(e,t,n){var r=this._actions,i=this._actionsByClip,o=i[t];if(void 0===o)o={knownActions:[e],actionByRoot:{}},e._byClipCacheIndex=0,i[t]=o;else{var a=o.knownActions;e._byClipCacheIndex=a.length,a.push(e)}e._cacheIndex=r.length,r.push(e),o.actionByRoot[n]=e},_removeInactiveAction:function(e){var t=this._actions,n=t[t.length-1],r=e._cacheIndex;n._cacheIndex=r,t[r]=n,t.pop(),e._cacheIndex=null;var i=e._clip.uuid,o=this._actionsByClip,a=o[i],s=a.knownActions,u=s[s.length-1],c=e._byClipCacheIndex;u._byClipCacheIndex=c,s[c]=u,s.pop(),e._byClipCacheIndex=null,delete a.actionByRoot[(e._localRoot||this._root).uuid],0===s.length&&delete o[i],this._removeInactiveBindingsForAction(e)},_removeInactiveBindingsForAction:function(e){for(var t,n=e._propertyBindings,r=0,i=n.length;r!==i;++r)0==--(t=n[r]).referenceCount&&this._removeInactiveBinding(t)},_lendAction:function(e){var t=this._actions,n=e._cacheIndex,r=this._nActiveActions++,i=t[r];e._cacheIndex=r,t[r]=e,i._cacheIndex=n,t[n]=i},_takeBackAction:function(e){var t=this._actions,n=e._cacheIndex,r=--this._nActiveActions,i=t[r];e._cacheIndex=r,t[r]=e,i._cacheIndex=n,t[n]=i},_addInactiveBinding:function(e,t,n){var r=this._bindingsByRootAndName,i=r[t],o=this._bindings;void 0===i&&(i={},r[t]=i),i[n]=e,e._cacheIndex=o.length,o.push(e)},_removeInactiveBinding:function(e){var t=this._bindings,n=e.binding,r=n.rootNode.uuid,i=n.path,o=this._bindingsByRootAndName,a=o[r],s=t[t.length-1],u=e._cacheIndex;s._cacheIndex=u,t[u]=s,t.pop(),delete a[i];e:{for(var c in a)break e;delete o[r]}},_lendBinding:function(e){var t=this._bindings,n=e._cacheIndex,r=this._nActiveBindings++,i=t[r];e._cacheIndex=r,t[r]=e,i._cacheIndex=n,t[n]=i},_takeBackBinding:function(e){var t=this._bindings,n=e._cacheIndex,r=--this._nActiveBindings,i=t[r];e._cacheIndex=r,t[r]=e,i._cacheIndex=n,t[n]=i},_lendControlInterpolant:function(){var e=this._controlInterpolants,t=this._nActiveControlInterpolants++,n=e[t];return void 0===n&&((n=new $n(new Float32Array(2),new Float32Array(2),1,this._controlInterpolantsResultBuffer)).__cacheIndex=t,e[t]=n),n},_takeBackControlInterpolant:function(e){var t=this._controlInterpolants,n=e.__cacheIndex,r=--this._nActiveControlInterpolants,i=t[r];e.__cacheIndex=r,t[r]=e,i.__cacheIndex=n,t[n]=i},_controlInterpolantsResultBuffer:new Float32Array(1),clipAction:function(e,t){var n=t||this._root,r=n.uuid,i="string"==typeof e?cr.findByName(n,e):e,o=null===i?e:i.uuid,a=this._actionsByClip[o],s=null;if(void 0!==a){var u=a.actionByRoot[r];if(void 0!==u)return u;s=a.knownActions[0],null===i&&(i=s._clip)}if(null===i)return null;var c=new jr(this,i,t);return this._bindAction(c,s),this._addInactiveAction(c,o,r),c},existingAction:function(e,t){var n=t||this._root,r=n.uuid,i="string"==typeof e?cr.findByName(n,e):e,o=i?i.uuid:e,a=this._actionsByClip[o];return void 0===a?null:a.actionByRoot[r]||null},stopAllAction:function(){var e=this._actions,t=this._nActiveActions,n=this._bindings,r=this._nActiveBindings;this._nActiveActions=0,this._nActiveBindings=0;for(var i=0;i!==t;++i)e[i].reset();for(i=0;i!==r;++i)n[i].useCount=0;return this},update:function(e){e*=this.timeScale;for(var t=this._actions,n=this._nActiveActions,r=this.time+=e,i=mo(e),o=this._accuIndex^=1,a=0;a!==n;++a)t[a]._update(r,e,i,o);var s=this._bindings,u=this._nActiveBindings;for(a=0;a!==u;++a)s[a].apply(o);return this},getRoot:function(){return this._root},uncacheClip:function(e){var t=this._actions,n=e.uuid,r=this._actionsByClip,i=r[n];if(void 0!==i){for(var o,a=i.knownActions,s=0,u=a.length;s!==u;++s){o=a[s],this._deactivateAction(o);var c=o._cacheIndex,l=t[t.length-1];o._cacheIndex=null,o._byClipCacheIndex=null,l._cacheIndex=c,t[c]=l,t.pop(),this._removeInactiveBindingsForAction(o)}delete r[n]}},uncacheRoot:function(e){var t=e.uuid,n=this._actionsByClip;for(var r in n){var i=n[r].actionByRoot[t];void 0!==i&&(this._deactivateAction(i),this._removeInactiveAction(i))}var o=this._bindingsByRootAndName[t];if(void 0!==o)for(var a in o){var s=o[a];s.restoreOriginalState(),this._removeInactiveBinding(s)}},uncacheAction:function(e,t){var n=this.existingAction(e,t);null!==n&&(this._deactivateAction(n),this._removeInactiveAction(n))}}),Hr.prototype.clone=function(){return new Hr(void 0===this.value.clone?this.value:this.value.clone())},Vr.prototype=Object.assign(Object.create(De.prototype),{constructor:Vr,isInstancedBufferGeometry:!0,addGroup:function(e,t,n){this.groups.push({start:e,count:t,materialIndex:n})},copy:function(e){var t=e.index;null!==t&&this.setIndex(t.clone());var n=e.attributes;for(var r in n){var i=n[r];this.addAttribute(r,i.clone())}for(var o,a=e.groups,s=0,u=a.length;s<u;s++)o=a[s],this.addGroup(o.start,o.count,o.materialIndex);return this}}),Object.defineProperties(Wr.prototype,{count:{get:function(){return this.data.count}},array:{get:function(){return this.data.array}}}),Object.assign(Wr.prototype,{isInterleavedBufferAttribute:!0,setX:function(e,t){return this.data.array[e*this.data.stride+this.offset]=t,this},setY:function(e,t){return this.data.array[e*this.data.stride+this.offset+1]=t,this},setZ:function(e,t){return this.data.array[e*this.data.stride+this.offset+2]=t,this},setW:function(e,t){return this.data.array[e*this.data.stride+this.offset+3]=t,this},getX:function(e){return this.data.array[e*this.data.stride+this.offset]},getY:function(e){return this.data.array[e*this.data.stride+this.offset+1]},getZ:function(e){return this.data.array[e*this.data.stride+this.offset+2]},getW:function(e){return this.data.array[e*this.data.stride+this.offset+3]},setXY:function(e,t,n){return e=e*this.data.stride+this.offset,this.data.array[e+0]=t,this.data.array[e+1]=n,this},setXYZ:function(e,t,n,r){return e=e*this.data.stride+this.offset,this.data.array[e+0]=t,this.data.array[e+1]=n,this.data.array[e+2]=r,this},setXYZW:function(e,t,n,r,i){return e=e*this.data.stride+this.offset,this.data.array[e+0]=t,this.data.array[e+1]=n,this.data.array[e+2]=r,this.data.array[e+3]=i,this}}),Object.defineProperty(Xr.prototype,"needsUpdate",{set:function(e){!0===e&&this.version++}}),Object.assign(Xr.prototype,{isInterleavedBuffer:!0,setArray:function(e){if(Array.isArray(e))throw new TypeError("THREE.BufferAttribute: array should be a Typed Array.");this.count=void 0===e?0:e.length/this.stride,this.array=e},setDynamic:function(e){return this.dynamic=e,this},copy:function(e){return this.array=new e.array.constructor(e.array),this.count=e.count,this.stride=e.stride,this.dynamic=e.dynamic,this},copyAt:function(e,t,n){e*=this.stride,n*=t.stride;for(var r=0,i=this.stride;r<i;r++)this.array[e+r]=t.array[n+r];return this},set:function(e,t){return void 0===t&&(t=0),this.array.set(e,t),this},clone:function(){return(new this.constructor).copy(this)},onUpload:function(e){return this.onUploadCallback=e,this}}),qr.prototype=Object.assign(Object.create(Xr.prototype),{constructor:qr,isInstancedInterleavedBuffer:!0,copy:function(e){return Xr.prototype.copy.call(this,e),this.meshPerAttribute=e.meshPerAttribute,this}}),Yr.prototype=Object.assign(Object.create(ve.prototype),{constructor:Yr,isInstancedBufferAttribute:!0,copy:function(e){return ve.prototype.copy.call(this,e),this.meshPerAttribute=e.meshPerAttribute,this}}),Object.assign(Jr.prototype,{linePrecision:1,set:function(e,t){this.ray.set(e,t)},setFromCamera:function(e,t){t&&t.isPerspectiveCamera?(this.ray.origin.setFromMatrixPosition(t.matrixWorld),this.ray.direction.set(e.x,e.y,.5).unproject(t).sub(this.ray.origin).normalize()):t&&t.isOrthographicCamera?(this.ray.origin.set(e.x,e.y,(t.near+t.far)/(t.near-t.far)).unproject(t),this.ray.direction.set(0,0,-1).transformDirection(t.matrixWorld)):console.error("THREE.Raycaster: Unsupported camera type.")},intersectObject:function(e,t){var n=[];return Kr(e,this,n,t),n.sort(Zr),n},intersectObjects:function(e,t){var n=[];if(!1===Array.isArray(e))return console.warn("THREE.Raycaster.intersectObjects: objects is not an Array."),n;for(var r=0,i=e.length;r<i;r++)Kr(e[r],this,n,t);return n.sort(Zr),n}}),Object.assign($r.prototype,{start:function(){this.startTime=("undefined"==typeof performance?Date:performance).now(),this.oldTime=this.startTime,this.elapsedTime=0,this.running=!0},stop:function(){this.getElapsedTime(),this.running=!1,this.autoStart=!1},getElapsedTime:function(){return this.getDelta(),this.elapsedTime},getDelta:function(){var e=0;if(this.autoStart&&!this.running)return this.start(),0;if(this.running){var t=("undefined"==typeof performance?Date:performance).now();e=(t-this.oldTime)/1e3,this.oldTime=t,this.elapsedTime+=e}return e}}),Object.assign(Qr.prototype,{set:function(e,t,n){return this.radius=e,this.phi=t,this.theta=n,this},clone:function(){return(new this.constructor).copy(this)},copy:function(e){return this.radius=e.radius,this.phi=e.phi,this.theta=e.theta,this},makeSafe:function(){return this.phi=xo(1e-6,bo(fo-1e-6,this.phi)),this},setFromVector3:function(e){return this.radius=e.length(),0===this.radius?(this.theta=0,this.phi=0):(this.theta=ao(e.x,e.z),this.phi=ro(Us.clamp(e.y/this.radius,-1,1))),this}}),Object.assign(ei.prototype,{set:function(e,t,n){return this.radius=e,this.theta=t,this.y=n,this},clone:function(){return(new this.constructor).copy(this)},copy:function(e){return this.radius=e.radius,this.theta=e.theta,this.y=e.y,this},setFromVector3:function(e){return this.radius=uo(e.x*e.x+e.z*e.z),this.theta=ao(e.x,e.z),this.y=e.y,this}}),ti.prototype=Object.create(le.prototype),ti.prototype.constructor=ti,ti.prototype.isImmediateRenderObject=!0,ni.prototype=Object.create(Pt.prototype),ni.prototype.constructor=ni,ni.prototype.update=function(){var e=new l,t=new l,n=new re;return function(){var r=["a","b","c"];this.object.updateMatrixWorld(!0),n.getNormalMatrix(this.object.matrixWorld);var i=this.object.matrixWorld,o=this.geometry.attributes.position,a=this.object.geometry;if(a&&a.isGeometry)for(var s,u=a.vertices,c=a.faces,l=0,h=0,p=c.length;h<p;h++)for(var f=0,d=(s=c[h]).vertexNormals.length;f<d;f++){var m=u[s[r[f]]],g=s.vertexNormals[f];e.copy(m).applyMatrix4(i),t.copy(g).applyMatrix3(n).normalize().multiplyScalar(this.size).add(e),o.setXYZ(l,e.x,e.y,e.z),++l,o.setXYZ(l,t.x,t.y,t.z),++l}else if(a&&a.isBufferGeometry){var v=a.attributes.position,y=a.attributes.normal;for(l=0,f=0,d=v.count;f<d;f++)e.set(v.getX(f),v.getY(f),v.getZ(f)).applyMatrix4(i),t.set(y.getX(f),y.getY(f),y.getZ(f)),t.applyMatrix3(n).normalize().multiplyScalar(this.size).add(e),o.setXYZ(l,e.x,e.y,e.z),++l,o.setXYZ(l,t.x,t.y,t.z),++l}o.needsUpdate=!0}}(),ri.prototype=Object.create(le.prototype),ri.prototype.constructor=ri,ri.prototype.dispose=function(){this.cone.geometry.dispose(),this.cone.material.dispose()},ri.prototype.update=function(){var e=new l,t=new l;return function(){this.light.updateMatrixWorld();var n=this.light.distance?this.light.distance:1e3,r=n*eo(this.light.angle);this.cone.scale.set(r,r,n),e.setFromMatrixPosition(this.light.matrixWorld),t.setFromMatrixPosition(this.light.target.matrixWorld),this.cone.lookAt(t.sub(e)),void 0===this.color?this.cone.material.color.copy(this.light.color):this.cone.material.color.set(this.color)}}(),ii.prototype=Object.create(Pt.prototype),ii.prototype.constructor=ii,ii.prototype.onBeforeRender=function(){var e=new l,t=new h,n=new h;return function(){var r=this.bones,i=this.geometry,o=i.getAttribute("position");n.getInverse(this.root.matrixWorld);for(var a,s=0,u=0;s<r.length;s++)(a=r[s]).parent&&a.parent.isBone&&(t.multiplyMatrices(n,a.matrixWorld),e.setFromMatrixPosition(t),o.setXYZ(u,e.x,e.y,e.z),t.multiplyMatrices(n,a.parent.matrixWorld),e.setFromMatrixPosition(t),o.setXYZ(u+1,e.x,e.y,e.z),u+=2);i.getAttribute("position").needsUpdate=!0}}(),oi.prototype=Object.create(Be.prototype),oi.prototype.constructor=oi,oi.prototype.dispose=function(){this.geometry.dispose(),this.material.dispose()},oi.prototype.update=function(){void 0===this.color?this.material.color.copy(this.light.color):this.material.color.set(this.color)},ai.prototype=Object.create(le.prototype),ai.prototype.constructor=ai,ai.prototype.dispose=function(){this.children[0].geometry.dispose(),this.children[0].material.dispose()},ai.prototype.update=function(){var e=.5*this.light.width,t=.5*this.light.height,n=this.line.geometry.attributes.position,r=n.array;r[0]=e,r[1]=-t,r[2]=0,r[3]=e,r[4]=t,r[5]=0,r[6]=-e,r[7]=t,r[8]=0,r[9]=-e,r[10]=-t,r[11]=0,r[12]=e,r[13]=-t,r[14]=0,n.needsUpdate=!0,void 0===this.color?this.line.material.color.copy(this.light.color):this.line.material.color.set(this.color)},si.prototype=Object.create(le.prototype),si.prototype.constructor=si,si.prototype.dispose=function(){this.children[0].geometry.dispose(),this.children[0].material.dispose()},si.prototype.update=function(){var e=new l,t=new X,n=new X;return function(){var r=this.children[0];if(void 0!==this.color)this.material.color.set(this.color);else{var i=r.geometry.getAttribute("color");t.copy(this.light.color),n.copy(this.light.groundColor);for(var o,a=0,s=i.count;a<s;a++)o=a<s/2?t:n,i.setXYZ(a,o.r,o.g,o.b);i.needsUpdate=!0}r.lookAt(e.setFromMatrixPosition(this.light.matrixWorld).negate())}}(),ui.prototype=Object.create(Pt.prototype),ui.prototype.constructor=ui,ci.prototype=Object.create(Pt.prototype),ci.prototype.constructor=ci,li.prototype=Object.create(Pt.prototype),li.prototype.constructor=li,li.prototype.update=function(){var e=new l,t=new l,n=new re;return function(){this.object.updateMatrixWorld(!0),n.getNormalMatrix(this.object.matrixWorld);for(var r=this.object.matrixWorld,i=this.geometry.attributes.position,o=this.object.geometry,a=o.vertices,s=o.faces,u=0,c=0,l=s.length;c<l;c++){var h=s[c],p=h.normal;e.copy(a[h.a]).add(a[h.b]).add(a[h.c]).divideScalar(3).applyMatrix4(r),t.copy(p).applyMatrix3(n).normalize().multiplyScalar(this.size).add(e),i.setXYZ(u,e.x,e.y,e.z),++u,i.setXYZ(u,t.x,t.y,t.z),++u}i.needsUpdate=!0}}(),hi.prototype=Object.create(le.prototype),hi.prototype.constructor=hi,hi.prototype.dispose=function(){this.lightPlane.geometry.dispose(),this.lightPlane.material.dispose(),this.targetLine.geometry.dispose(),this.targetLine.material.dispose()},hi.prototype.update=function(){var e=new l,t=new l,n=new l;return function(){e.setFromMatrixPosition(this.light.matrixWorld),t.setFromMatrixPosition(this.light.target.matrixWorld),n.subVectors(t,e),this.lightPlane.lookAt(n),void 0===this.color?(this.lightPlane.material.color.copy(this.light.color),this.targetLine.material.color.copy(this.light.color)):(this.lightPlane.material.color.set(this.color),this.targetLine.material.color.set(this.color)),this.targetLine.lookAt(n),this.targetLine.scale.z=n.length()}}(),pi.prototype=Object.create(Pt.prototype),pi.prototype.constructor=pi,pi.prototype.update=function(){function e(e,o,a,s){r.set(o,a,s).unproject(i);var u=n[e];if(void 0!==u)for(var c=t.getAttribute("position"),l=0,h=u.length;l<h;l++)c.setXYZ(u[l],r.x,r.y,r.z)}var t,n,r=new l,i=new he;return function(){t=this.geometry,n=this.pointMap;i.projectionMatrix.copy(this.camera.projectionMatrix),e("c",0,0,-1),e("t",0,0,1),e("n1",-1,-1,-1),e("n2",1,-1,-1),e("n3",-1,1,-1),e("n4",1,1,-1),e("f1",-1,-1,1),e("f2",1,-1,1),e("f3",-1,1,1),e("f4",1,1,1),e("u1",.7,1.1,-1),e("u2",-.7,1.1,-1),e("u3",0,2,-1),e("cf1",-1,0,1),e("cf2",1,0,1),e("cf3",0,-1,1),e("cf4",0,1,1),e("cn1",-1,0,-1),e("cn2",1,0,-1),e("cn3",0,-1,-1),e("cn4",0,1,-1),t.getAttribute("position").needsUpdate=!0}}(),fi.prototype=Object.create(Pt.prototype),fi.prototype.constructor=fi,fi.prototype.update=function(){var e=new te;return function(t){if(void 0!==t&&console.warn("THREE.BoxHelper: .update() has no longer arguments."),void 0!==this.object&&e.setFromObject(this.object),!e.isEmpty()){var n=e.min,r=e.max,i=this.geometry.attributes.position,o=i.array;o[0]=r.x,o[1]=r.y,o[2]=r.z,o[3]=n.x,o[4]=r.y,o[5]=r.z,o[6]=n.x,o[7]=n.y,o[8]=r.z,o[9]=r.x,o[10]=n.y,o[11]=r.z,o[12]=r.x,o[13]=r.y,o[14]=n.z,o[15]=n.x,o[16]=r.y,o[17]=n.z,o[18]=n.x,o[19]=n.y,o[20]=n.z,o[21]=r.x,o[22]=n.y,o[23]=n.z,i.needsUpdate=!0,this.geometry.computeBoundingSphere()}}}(),fi.prototype.setFromObject=function(e){return this.object=e,this.update(),this},di.prototype=Object.create(Pt.prototype),di.prototype.constructor=di,di.prototype.onBeforeRender=function(){var e=this.box;e.isEmpty()||(e.getCenter(this.position),e.getSize(this.scale),this.scale.multiplyScalar(.5))},mi.prototype=Object.create(Lt.prototype),mi.prototype.constructor=mi,mi.prototype.onBeforeRender=function(){var e=-this.plane.constant;1e-8>so(e)&&(e=1e-8),this.scale.set(.5*this.size,.5*this.size,e),this.lookAt(this.plane.normal),this.updateMatrixWorld()},gi.prototype=Object.create(le.prototype),gi.prototype.constructor=gi,gi.prototype.setDirection=function(){var e,t=new l;return function(n){.99999<n.y?this.quaternion.set(0,0,0,1):-.99999>n.y?this.quaternion.set(1,0,0,0):(t.set(n.z,0,-n.x).normalize(),e=ro(n.y),this.quaternion.setFromAxisAngle(t,e))}}(),gi.prototype.setLength=function(e,t,n){void 0===t&&(t=.2*e),void 0===n&&(n=.2*t),this.line.scale.set(1,xo(0,e-t),1),this.line.updateMatrix(),this.cone.scale.set(n,t,n),this.cone.position.y=e,this.cone.updateMatrix()},gi.prototype.setColor=function(e){this.line.material.color.copy(e),this.cone.material.color.copy(e)},vi.prototype=Object.create(Pt.prototype),vi.prototype.constructor=vi;var xu=new l,bu=new yi,wu=new yi,_u=new yi;xi.prototype=Object.create(yr.prototype),xi.prototype.constructor=xi,xi.prototype.getPoint=function(e){var t,n,r,i,o=this.points,a=o.length,s=(a-(this.closed?0:1))*e,u=wo(s),c=s-u;if(this.closed?u+=0<u?0:(wo(so(u)/o.length)+1)*o.length:0==c&&u===a-1&&(u=a-2,c=1),this.closed||0<u?t=o[(u-1)%a]:(xu.subVectors(o[0],o[1]).add(o[0]),t=xu),n=o[u%a],r=o[(u+1)%a],this.closed||u+2<a?i=o[(u+2)%a]:(xu.subVectors(o[a-1],o[a-2]).add(o[a-1]),i=xu),void 0===this.type||"centripetal"===this.type||"chordal"===this.type){var h="chordal"===this.type?.5:.25,p=co(t.distanceToSquared(n),h),f=co(n.distanceToSquared(r),h),d=co(r.distanceToSquared(i),h);1e-4>f&&(f=1),1e-4>p&&(p=f),1e-4>d&&(d=f),bu.initNonuniformCatmullRom(t.x,n.x,r.x,i.x,p,f,d),wu.initNonuniformCatmullRom(t.y,n.y,r.y,i.y,p,f,d),_u.initNonuniformCatmullRom(t.z,n.z,r.z,i.z,p,f,d)}else if("catmullrom"===this.type){var m=void 0===this.tension?.5:this.tension;bu.initCatmullRom(t.x,n.x,r.x,i.x,m),wu.initCatmullRom(t.y,n.y,r.y,i.y,m),_u.initCatmullRom(t.z,n.z,r.z,i.z,m)}return new l(bu.calc(c),wu.calc(c),_u.calc(c))},bi.prototype=Object.create(yr.prototype),bi.prototype.constructor=bi,bi.prototype.getPoint=function(e){var t=this.v0,n=this.v1,r=this.v2,i=this.v3;return new l(vr(e,t.x,n.x,r.x,i.x),vr(e,t.y,n.y,r.y,i.y),vr(e,t.z,n.z,r.z,i.z))},wi.prototype=Object.create(yr.prototype),wi.prototype.constructor=wi,wi.prototype.getPoint=function(e){var t=this.v0,n=this.v1,r=this.v2;return new l(gr(e,t.x,n.x,r.x),gr(e,t.y,n.y,r.y),gr(e,t.z,n.z,r.z))},_i.prototype=Object.create(yr.prototype),_i.prototype.constructor=_i,_i.prototype.getPoint=function(e){if(1===e)return this.v2.clone();var t=new l;return t.subVectors(this.v2,this.v1),t.multiplyScalar(e),t.add(this.v1),t},Ei.prototype=Object.create(wr.prototype),Ei.prototype.constructor=Ei;var Eu={createMultiMaterialObject:function(e,t){for(var n=new kt,r=0,i=t.length;r<i;r++)n.add(new Be(e,t[r]));return n},detach:function(e,t,n){e.applyMatrix(t.matrixWorld),t.remove(e),n.add(e)},attach:function(e,t,n){e.applyMatrix((new h).getInverse(n.matrixWorld)),t.remove(e),n.add(e)}},Su=0,Tu=1;yr.create=function(e,t){return console.log("THREE.Curve.create() has been deprecated"),e.prototype=Object.create(yr.prototype),e.prototype.constructor=e,e.prototype.getPoint=t,e},Vi.prototype=Object.create(xi.prototype),Wi.prototype=Object.create(xi.prototype),Xi.prototype=Object.create(xi.prototype),Object.assign(Xi.prototype,{initFromArray:function(){console.error("THREE.Spline: .initFromArray() has been removed.")},getControlPointsArray:function(){console.error("THREE.Spline: .getControlPointsArray() has been removed.")},reparametrizeByArcLength:function(){console.error("THREE.Spline: .reparametrizeByArcLength() has been removed.")}}),ui.prototype.setColors=function(){console.error("THREE.GridHelper: setColors() has been deprecated, pass them in the constructor instead.")},ii.prototype.update=function(){console.error("THREE.SkeletonHelper: update() no longer needs to be called.")},Object.assign(q.prototype,{center:function(e){return console.warn("THREE.Box2: .center() has been renamed to .getCenter()."),this.getCenter(e)},empty:function(){return console.warn("THREE.Box2: .empty() has been renamed to .isEmpty()."),this.isEmpty()},isIntersectionBox:function(e){return console.warn("THREE.Box2: .isIntersectionBox() has been renamed to .intersectsBox()."),this.intersectsBox(e)},size:function(e){return console.warn("THREE.Box2: .size() has been renamed to .getSize()."),this.getSize(e)}}),Object.assign(te.prototype,{center:function(e){return console.warn("THREE.Box3: .center() has been renamed to .getCenter()."),this.getCenter(e)},empty:function(){return console.warn("THREE.Box3: .empty() has been renamed to .isEmpty()."),this.isEmpty()},isIntersectionBox:function(e){return console.warn("THREE.Box3: .isIntersectionBox() has been renamed to .intersectsBox()."),this.intersectsBox(e)},isIntersectionSphere:function(e){return console.warn("THREE.Box3: .isIntersectionSphere() has been renamed to .intersectsSphere()."),this.intersectsSphere(e)},size:function(e){return console.warn("THREE.Box3: .size() has been renamed to .getSize()."),this.getSize(e)}}),Ne.prototype.center=function(e){return console.warn("THREE.Line3: .center() has been renamed to .getCenter()."),this.getCenter(e)},Us.random16=function(){return console.warn("THREE.Math.random16() has been deprecated. Use Math.random() instead."),Math.random()},Object.assign(re.prototype,{flattenToArrayOffset:function(e,t){return console.warn("THREE.Matrix3: .flattenToArrayOffset() has been deprecated. Use .toArray() instead."),this.toArray(e,t)},multiplyVector3:function(e){return console.warn("THREE.Matrix3: .multiplyVector3() has been removed. Use vector.applyMatrix3( matrix ) instead."),e.applyMatrix3(this)},multiplyVector3Array:function(){console.error("THREE.Matrix3: .multiplyVector3Array() has been removed.")},applyToBuffer:function(e){return console.warn("THREE.Matrix3: .applyToBuffer() has been removed. Use matrix.applyToBufferAttribute( attribute ) instead."),this.applyToBufferAttribute(e)},applyToVector3Array:function(){console.error("THREE.Matrix3: .applyToVector3Array() has been removed.")}}),Object.assign(h.prototype,{extractPosition:function(e){return console.warn("THREE.Matrix4: .extractPosition() has been renamed to .copyPosition()."),this.copyPosition(e)},flattenToArrayOffset:function(e,t){return console.warn("THREE.Matrix4: .flattenToArrayOffset() has been deprecated. Use .toArray() instead."),this.toArray(e,t)},getPosition:function(){var e;return function(){return null==e&&(e=new l),console.warn("THREE.Matrix4: .getPosition() has been removed. Use Vector3.setFromMatrixPosition( matrix ) instead."),e.setFromMatrixColumn(this,3)}}(),setRotationFromQuaternion:function(e){return console.warn("THREE.Matrix4: .setRotationFromQuaternion() has been renamed to .makeRotationFromQuaternion()."),this.makeRotationFromQuaternion(e)},multiplyToArray:function(){console.warn("THREE.Matrix4: .multiplyToArray() has been removed.")},multiplyVector3:function(e){return console.warn("THREE.Matrix4: .multiplyVector3() has been removed. Use vector.applyMatrix4( matrix ) instead."),e.applyMatrix4(this)},multiplyVector4:function(e){return console.warn("THREE.Matrix4: .multiplyVector4() has been removed. Use vector.applyMatrix4( matrix ) instead."),e.applyMatrix4(this)},multiplyVector3Array:function(){console.error("THREE.Matrix4: .multiplyVector3Array() has been removed.")},rotateAxis:function(e){console.warn("THREE.Matrix4: .rotateAxis() has been removed. Use Vector3.transformDirection( matrix ) instead."),e.transformDirection(this)},crossVector:function(e){return console.warn("THREE.Matrix4: .crossVector() has been removed. Use vector.applyMatrix4( matrix ) instead."),e.applyMatrix4(this)},translate:function(){console.error("THREE.Matrix4: .translate() has been removed.")},rotateX:function(){console.error("THREE.Matrix4: .rotateX() has been removed.")},rotateY:function(){console.error("THREE.Matrix4: .rotateY() has been removed.")},rotateZ:function(){console.error("THREE.Matrix4: .rotateZ() has been removed.")},rotateByAxis:function(){console.error("THREE.Matrix4: .rotateByAxis() has been removed.")},applyToBuffer:function(e){return console.warn("THREE.Matrix4: .applyToBuffer() has been removed. Use matrix.applyToBufferAttribute( attribute ) instead."),this.applyToBufferAttribute(e)},applyToVector3Array:function(){console.error("THREE.Matrix4: .applyToVector3Array() has been removed.")},makeFrustum:function(e,t,n,r,i,o){return console.warn("THREE.Matrix4: .makeFrustum() has been removed. Use .makePerspective( left, right, top, bottom, near, far ) instead."),this.makePerspective(e,t,r,n,i,o)}}),ie.prototype.isIntersectionLine=function(e){return console.warn("THREE.Plane: .isIntersectionLine() has been renamed to .intersectsLine()."),this.intersectsLine(e)},c.prototype.multiplyVector3=function(e){return console.warn("THREE.Quaternion: .multiplyVector3() has been removed. Use is now vector.applyQuaternion( quaternion ) instead."),e.applyQuaternion(this)},Object.assign(ke.prototype,{isIntersectionBox:function(e){return console.warn("THREE.Ray: .isIntersectionBox() has been renamed to .intersectsBox()."),this.intersectsBox(e)},isIntersectionPlane:function(e){return console.warn("THREE.Ray: .isIntersectionPlane() has been renamed to .intersectsPlane()."),this.intersectsPlane(e)},isIntersectionSphere:function(e){return console.warn("THREE.Ray: .isIntersectionSphere() has been renamed to .intersectsSphere()."),this.intersectsSphere(e)}}),Object.assign(Ar.prototype,{extrude:function(e){return console.warn("THREE.Shape: .extrude() has been removed. Use ExtrudeGeometry() instead."),new on(this,e)},makeGeometry:function(e){return console.warn("THREE.Shape: .makeGeometry() has been removed. Use ShapeGeometry() instead."),new mn(this,e)}}),Object.assign(i.prototype,{fromAttribute:function(e,t,n){return console.error("THREE.Vector2: .fromAttribute() has been renamed to .fromBufferAttribute()."),this.fromBufferAttribute(e,t,n)}}),Object.assign(l.prototype,{setEulerFromRotationMatrix:function(){console.error("THREE.Vector3: .setEulerFromRotationMatrix() has been removed. Use Euler.setFromRotationMatrix() instead.")},setEulerFromQuaternion:function(){console.error("THREE.Vector3: .setEulerFromQuaternion() has been removed. Use Euler.setFromQuaternion() instead.")},getPositionFromMatrix:function(e){return console.warn("THREE.Vector3: .getPositionFromMatrix() has been renamed to .setFromMatrixPosition()."),this.setFromMatrixPosition(e)},getScaleFromMatrix:function(e){return console.warn("THREE.Vector3: .getScaleFromMatrix() has been renamed to .setFromMatrixScale()."),this.setFromMatrixScale(e)},getColumnFromMatrix:function(e,t){return console.warn("THREE.Vector3: .getColumnFromMatrix() has been renamed to .setFromMatrixColumn()."),this.setFromMatrixColumn(t,e)},applyProjection:function(e){return console.warn("THREE.Vector3: .applyProjection() has been removed. Use .applyMatrix4( m ) instead."),this.applyMatrix4(e)},fromAttribute:function(e,t,n){return console.error("THREE.Vector3: .fromAttribute() has been renamed to .fromBufferAttribute()."),this.fromBufferAttribute(e,t,n)}}),Object.assign(a.prototype,{fromAttribute:function(e,t,n){return console.error("THREE.Vector4: .fromAttribute() has been renamed to .fromBufferAttribute()."),this.fromBufferAttribute(e,t,n)}}),ge.prototype.computeTangents=function(){console.warn("THREE.Geometry: .computeTangents() has been removed.")},Object.assign(le.prototype,{getChildByName:function(e){return console.warn("THREE.Object3D: .getChildByName() has been renamed to .getObjectByName()."),this.getObjectByName(e)},renderDepth:function(){console.warn("THREE.Object3D: .renderDepth has been removed. Use .renderOrder, instead.")},translate:function(e,t){return console.warn("THREE.Object3D: .translate() has been removed. Use .translateOnAxis( axis, distance ) instead."),this.translateOnAxis(t,e)}}),Object.defineProperties(le.prototype,{eulerOrder:{get:function(){return console.warn("THREE.Object3D: .eulerOrder is now .rotation.order."),this.rotation.order},set:function(e){console.warn("THREE.Object3D: .eulerOrder is now .rotation.order."),this.rotation.order=e}},useQuaternion:{get:function(){console.warn("THREE.Object3D: .useQuaternion has been removed. The library now uses quaternions by default.")},set:function(){console.warn("THREE.Object3D: .useQuaternion has been removed. The library now uses quaternions by default.")}}}),Object.defineProperties(Tt.prototype,{objects:{get:function(){return console.warn("THREE.LOD: .objects has been renamed to .levels."),this.levels}}}),Object.defineProperty(At.prototype,"useVertexTexture",{get:function(){console.warn("THREE.Skeleton: useVertexTexture has been removed.")},set:function(){console.warn("THREE.Skeleton: useVertexTexture has been removed.")}}),Object.defineProperty(yr.prototype,"__arcLengthDivisions",{get:function(){return console.warn("THREE.Curve: .__arcLengthDivisions is now .arcLengthDivisions."),this.arcLengthDivisions},set:function(e){console.warn("THREE.Curve: .__arcLengthDivisions is now .arcLengthDivisions."),this.arcLengthDivisions=e}}),fe.prototype.setLens=function(e,t){console.warn("THREE.PerspectiveCamera.setLens is deprecated. Use .setFocalLength and .filmGauge for a photographic setup."),void 0!==t&&(this.filmGauge=t),this.setFocalLength(e)},Object.defineProperties(zn.prototype,{onlyShadow:{set:function(){console.warn("THREE.Light: .onlyShadow has been removed.")}},shadowCameraFov:{set:function(e){console.warn("THREE.Light: .shadowCameraFov is now .shadow.camera.fov."),this.shadow.camera.fov=e}},shadowCameraLeft:{set:function(e){console.warn("THREE.Light: .shadowCameraLeft is now .shadow.camera.left."),this.shadow.camera.left=e}},shadowCameraRight:{set:function(e){console.warn("THREE.Light: .shadowCameraRight is now .shadow.camera.right."),this.shadow.camera.right=e}},shadowCameraTop:{set:function(e){console.warn("THREE.Light: .shadowCameraTop is now .shadow.camera.top."),this.shadow.camera.top=e}},shadowCameraBottom:{set:function(e){console.warn("THREE.Light: .shadowCameraBottom is now .shadow.camera.bottom."),this.shadow.camera.bottom=e}},shadowCameraNear:{set:function(e){console.warn("THREE.Light: .shadowCameraNear is now .shadow.camera.near."),this.shadow.camera.near=e}},shadowCameraFar:{set:function(e){console.warn("THREE.Light: .shadowCameraFar is now .shadow.camera.far."),this.shadow.camera.far=e}},shadowCameraVisible:{set:function(){console.warn("THREE.Light: .shadowCameraVisible has been removed. Use new THREE.CameraHelper( light.shadow.camera ) instead.")}},shadowBias:{set:function(e){console.warn("THREE.Light: .shadowBias is now .shadow.bias."),this.shadow.bias=e}},shadowDarkness:{set:function(){console.warn("THREE.Light: .shadowDarkness has been removed.")}},shadowMapWidth:{set:function(e){console.warn("THREE.Light: .shadowMapWidth is now .shadow.mapSize.width."),this.shadow.mapSize.width=e}},shadowMapHeight:{set:function(e){console.warn("THREE.Light: .shadowMapHeight is now .shadow.mapSize.height."),this.shadow.mapSize.height=e}}}),Object.defineProperties(ve.prototype,{length:{get:function(){return console.warn("THREE.BufferAttribute: .length has been deprecated. Use .count instead."),this.array.length}}}),Object.assign(De.prototype,{addIndex:function(e){console.warn("THREE.BufferGeometry: .addIndex() has been renamed to .setIndex()."),this.setIndex(e)},addDrawCall:function(e,t,n){void 0!==n&&console.warn("THREE.BufferGeometry: .addDrawCall() no longer supports indexOffset."),console.warn("THREE.BufferGeometry: .addDrawCall() is now .addGroup()."),this.addGroup(e,t)},clearDrawCalls:function(){console.warn("THREE.BufferGeometry: .clearDrawCalls() is now .clearGroups()."),this.clearGroups()},computeTangents:function(){console.warn("THREE.BufferGeometry: .computeTangents() has been removed.")},computeOffsets:function(){console.warn("THREE.BufferGeometry: .computeOffsets() has been removed.")}}),Object.defineProperties(De.prototype,{drawcalls:{get:function(){return console.error("THREE.BufferGeometry: .drawcalls has been renamed to .groups."),this.groups}},offsets:{get:function(){return console.warn("THREE.BufferGeometry: .offsets has been renamed to .groups."),this.groups}}}),Object.defineProperties(Hr.prototype,{dynamic:{set:function(){console.warn("THREE.Uniform: .dynamic has been removed. Use object.onBeforeRender() instead.")}},onUpdate:{value:function(){return console.warn("THREE.Uniform: .onUpdate() has been removed. Use object.onBeforeRender() instead."),this}}}),Object.defineProperties(K.prototype,{wrapAround:{get:function(){console.warn("THREE.Material: .wrapAround has been removed.")},set:function(){console.warn("THREE.Material: .wrapAround has been removed.")}},wrapRGB:{get:function(){return console.warn("THREE.Material: .wrapRGB has been removed."),new X}},shading:{get:function(){console.error("THREE."+this.type+": .shading has been removed. Use the boolean .flatShading instead.")},set:function(e){console.warn("THREE."+this.type+": .shading has been removed. Use the boolean .flatShading instead."),this.flatShading=e===No}}}),Object.defineProperties(Cn.prototype,{metal:{get:function(){return console.warn("THREE.MeshPhongMaterial: .metal has been removed. Use THREE.MeshStandardMaterial instead."),!1},set:function(){console.warn("THREE.MeshPhongMaterial: .metal has been removed. Use THREE.MeshStandardMaterial instead")}}}),Object.defineProperties($.prototype,{derivatives:{get:function(){return console.warn("THREE.ShaderMaterial: .derivatives has been moved to .extensions.derivatives."),this.extensions.derivatives},set:function(e){console.warn("THREE. ShaderMaterial: .derivatives has been moved to .extensions.derivatives."),this.extensions.derivatives=e}}}),Object.assign(yt.prototype,{getCurrentRenderTarget:function(){return console.warn("THREE.WebGLRenderer: .getCurrentRenderTarget() is now .getRenderTarget()."),this.getRenderTarget()},getMaxAnisotropy:function(){return console.warn("THREE.WebGLRenderer: .getMaxAnisotropy() is now .capabilities.getMaxAnisotropy()."),this.capabilities.getMaxAnisotropy()},getPrecision:function(){return console.warn("THREE.WebGLRenderer: .getPrecision() is now .capabilities.precision."),this.capabilities.precision},supportsFloatTextures:function(){return console.warn("THREE.WebGLRenderer: .supportsFloatTextures() is now .extensions.get( 'OES_texture_float' )."),this.extensions.get("OES_texture_float")},supportsHalfFloatTextures:function(){return console.warn("THREE.WebGLRenderer: .supportsHalfFloatTextures() is now .extensions.get( 'OES_texture_half_float' )."),this.extensions.get("OES_texture_half_float")},supportsStandardDerivatives:function(){return console.warn("THREE.WebGLRenderer: .supportsStandardDerivatives() is now .extensions.get( 'OES_standard_derivatives' )."),this.extensions.get("OES_standard_derivatives")},supportsCompressedTextureS3TC:function(){return console.warn("THREE.WebGLRenderer: .supportsCompressedTextureS3TC() is now .extensions.get( 'WEBGL_compressed_texture_s3tc' )."),this.extensions.get("WEBGL_compressed_texture_s3tc")},supportsCompressedTexturePVRTC:function(){return console.warn("THREE.WebGLRenderer: .supportsCompressedTexturePVRTC() is now .extensions.get( 'WEBGL_compressed_texture_pvrtc' )."),this.extensions.get("WEBGL_compressed_texture_pvrtc")},supportsBlendMinMax:function(){return console.warn("THREE.WebGLRenderer: .supportsBlendMinMax() is now .extensions.get( 'EXT_blend_minmax' )."),this.extensions.get("EXT_blend_minmax")},supportsVertexTextures:function(){return console.warn("THREE.WebGLRenderer: .supportsVertexTextures() is now .capabilities.vertexTextures."),this.capabilities.vertexTextures},supportsInstancedArrays:function(){return console.warn("THREE.WebGLRenderer: .supportsInstancedArrays() is now .extensions.get( 'ANGLE_instanced_arrays' )."),this.extensions.get("ANGLE_instanced_arrays")},enableScissorTest:function(e){console.warn("THREE.WebGLRenderer: .enableScissorTest() is now .setScissorTest()."),this.setScissorTest(e)},initMaterial:function(){console.warn("THREE.WebGLRenderer: .initMaterial() has been removed.")},addPrePlugin:function(){console.warn("THREE.WebGLRenderer: .addPrePlugin() has been removed.")},addPostPlugin:function(){console.warn("THREE.WebGLRenderer: .addPostPlugin() has been removed.")},updateShadowMap:function(){console.warn("THREE.WebGLRenderer: .updateShadowMap() has been removed.")}}),Object.defineProperties(yt.prototype,{shadowMapEnabled:{get:function(){return this.shadowMap.enabled},set:function(e){console.warn("THREE.WebGLRenderer: .shadowMapEnabled is now .shadowMap.enabled."),this.shadowMap.enabled=e}},shadowMapType:{get:function(){return this.shadowMap.type},set:function(e){console.warn("THREE.WebGLRenderer: .shadowMapType is now .shadowMap.type."),this.shadowMap.type=e}},shadowMapCullFace:{get:function(){return this.shadowMap.cullFace},set:function(e){console.warn("THREE.WebGLRenderer: .shadowMapCullFace is now .shadowMap.cullFace."),this.shadowMap.cullFace=e}}}),Object.defineProperties(ae.prototype,{cullFace:{get:function(){return this.renderReverseSided?Ao:To},set:function(e){var t=e!==To;console.warn("WebGLRenderer: .shadowMap.cullFace is deprecated. Set .shadowMap.renderReverseSided to "+t+"."),this.renderReverseSided=t}}}),Object.defineProperties(s.prototype,{wrapS:{get:function(){return console.warn("THREE.WebGLRenderTarget: .wrapS is now .texture.wrapS."),this.texture.wrapS},set:function(e){console.warn("THREE.WebGLRenderTarget: .wrapS is now .texture.wrapS."),this.texture.wrapS=e}},wrapT:{get:function(){return console.warn("THREE.WebGLRenderTarget: .wrapT is now .texture.wrapT."),this.texture.wrapT},set:function(e){console.warn("THREE.WebGLRenderTarget: .wrapT is now .texture.wrapT."),this.texture.wrapT=e}},magFilter:{get:function(){return console.warn("THREE.WebGLRenderTarget: .magFilter is now .texture.magFilter."),this.texture.magFilter},set:function(e){console.warn("THREE.WebGLRenderTarget: .magFilter is now .texture.magFilter."),this.texture.magFilter=e}},minFilter:{get:function(){return console.warn("THREE.WebGLRenderTarget: .minFilter is now .texture.minFilter."),this.texture.minFilter},set:function(e){console.warn("THREE.WebGLRenderTarget: .minFilter is now .texture.minFilter."),this.texture.minFilter=e}},anisotropy:{get:function(){return console.warn("THREE.WebGLRenderTarget: .anisotropy is now .texture.anisotropy."),this.texture.anisotropy},set:function(e){console.warn("THREE.WebGLRenderTarget: .anisotropy is now .texture.anisotropy."),this.texture.anisotropy=e}},offset:{get:function(){return console.warn("THREE.WebGLRenderTarget: .offset is now .texture.offset."),this.texture.offset},set:function(e){console.warn("THREE.WebGLRenderTarget: .offset is now .texture.offset."),this.texture.offset=e}},repeat:{get:function(){return console.warn("THREE.WebGLRenderTarget: .repeat is now .texture.repeat."),this.texture.repeat},set:function(e){console.warn("THREE.WebGLRenderTarget: .repeat is now .texture.repeat."),this.texture.repeat=e}},format:{get:function(){return console.warn("THREE.WebGLRenderTarget: .format is now .texture.format."),this.texture.format},set:function(e){console.warn("THREE.WebGLRenderTarget: .format is now .texture.format."),this.texture.format=e}},type:{get:function(){return console.warn("THREE.WebGLRenderTarget: .type is now .texture.type."),this.texture.type},set:function(e){console.warn("THREE.WebGLRenderTarget: .type is now .texture.type."),this.texture.type=e}},generateMipmaps:{get:function(){return console.warn("THREE.WebGLRenderTarget: .generateMipmaps is now .texture.generateMipmaps."),this.texture.generateMipmaps},set:function(e){console.warn("THREE.WebGLRenderTarget: .generateMipmaps is now .texture.generateMipmaps."),this.texture.generateMipmaps=e}}}),Ir.prototype.load=function(e){console.warn("THREE.Audio: .load has been deprecated. Use THREE.AudioLoader instead.");var t=this;return(new Lr).load(e,function(e){t.setBuffer(e)}),this},Nr.prototype.getData=function(){return console.warn("THREE.AudioAnalyser: .getData() is now .getFrequencyData()."),this.getFrequencyData()},Rr.prototype.updateCubeMap=function(e,t){return console.warn("THREE.CubeCamera: .updateCubeMap() is now .update()."),this.update(e,t)};var Au={merge:function(e,t,n){var r;console.warn("THREE.GeometryUtils: .merge() has been moved to Geometry. Use geometry.merge( geometry2, matrix, materialIndexOffset ) instead."),t.isMesh&&(t.matrixAutoUpdate&&t.updateMatrix(),r=t.matrix,t=t.geometry),e.merge(t,r,n)},center:function(e){return console.warn("THREE.GeometryUtils: .center() has been moved to Geometry. Use geometry.center() instead."),e.center()}},Mu={crossOrigin:void 0,loadTexture:function(e,t,n,r){console.warn("THREE.ImageUtils.loadTexture has been deprecated. Use THREE.TextureLoader() instead.");var i=new Un;i.setCrossOrigin(this.crossOrigin);var o=i.load(e,n,void 0,r);return t&&(o.mapping=t),o},loadTextureCube:function(e,t,n,r){console.warn("THREE.ImageUtils.loadTextureCube has been deprecated. Use THREE.CubeTextureLoader() instead.");var i=new Bn;i.setCrossOrigin(this.crossOrigin);var o=i.load(e,n,void 0,r);return t&&(o.mapping=t),o},loadCompressedTexture:function(){console.error("THREE.ImageUtils.loadCompressedTexture has been removed. Use THREE.DDSLoader instead.")},loadCompressedTextureCube:function(){console.error("THREE.ImageUtils.loadCompressedTextureCube has been removed. Use THREE.DDSLoader instead.")}}},SLVX:function(e,t,n){"use strict";function r(e){var t,n=e.Symbol;return"function"==typeof n?n.observable?t=n.observable:(t=n("observable"),n.observable=t):t="@@observable",t}n.d(t,"a",function(){return r})},SQ8s:function(e,t,n){"use strict";function r(e){var t=function(){if("undefined"==typeof Reflect||!g.a)return!1;if(g.a.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(g()(Date,[],function(){})),!0}catch(t){return!1}}();return function(){var n,r=Object(_.a)(e);if(t){var i=Object(_.a)(this).constructor;n=g()(r,arguments,i)}else n=r.apply(this,arguments);return Object(w.a)(this,n)}}function i(e){var t=function(){if("undefined"==typeof Reflect||!g.a)return!1;if(g.a.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(g()(Date,[],function(){})),!0}catch(t){return!1}}();return function(){var n,r=Object(_.a)(e);if(t){var i=Object(_.a)(this).constructor;n=g()(r,arguments,i)}else n=r.apply(this,arguments);return Object(w.a)(this,n)}}function o(e){var t=function(){if("undefined"==typeof Reflect||!g.a)return!1;if(g.a.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(g()(Date,[],function(){})),!0}catch(t){return!1}}();return function(){var n,r=Object(_.a)(e);if(t){var i=Object(_.a)(this).constructor;n=g()(r,arguments,i)}else n=r.apply(this,arguments);return Object(w.a)(this,n)}}function a(){var e=function(e,t){return t||(t=e.slice(0)),ne()(ee()(e,{raw:{value:ne()(t)}}))}(["\n  body {\n    background: black;\n  }\n"]);return a=function(){return e},e}function s(e){var t=function(){if("undefined"==typeof Reflect||!g.a)return!1;if(g.a.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(g()(Date,[],function(){})),!0}catch(t){return!1}}();return function(){var n,r=Object(_.a)(e);if(t){var i=Object(_.a)(this).constructor;n=g()(r,arguments,i)}else n=r.apply(this,arguments);return Object(w.a)(this,n)}}var u=n("MX0m"),c=n.n(u),l=n("q1tI"),h=n.n(l),p=n("ln6h"),f=n.n(p),d=n("O40h"),m=n("pbKT"),g=n.n(m),v=n("0iUn"),y=n("sLSF"),x=n("AT/M"),b=n("Tit0"),w=n("MI3g"),_=n("a7VT"),E=n("vYYK"),S=n("/MKj"),T=n("w89z"),A=n("LvDl"),M=n("vOnD"),C={fg:"#FFFFFF",bg:"#282c34",link:"#88eeff",mobile:767,pc:768,og:{title:"VEDA - VJ app for Atom #VEDAJS #GLSL",description:"\n  VEDA is a GLSL runtime environment for Atom.\n  It's just like GLSL sandbox or Shadertoy, but you can use autocomplete and linter by using existing Atom packages.\n  Moreover, It supports Audio inputs , MIDI inputs, loading videos and images, etc...!!!!\n    ".trim(),image:"/static/images/logo_720h.png"},ga:"\n!function(v,e,d,a,g,l){v.GoogleAnalyticsObject=d;v[d]||(v[d]=function(){\n(v[d].q=v[d].q||[]).push(arguments)});v[d].l=+new Date;g=e.createElement(a);\nl=e.getElementsByTagName(a)[0];g.src='https://www.google-analytics.com/analytics.js';\nl.parentNode.insertBefore(g,l)}(window,document,'ga','script');\n\nga('create', 'UA-41787635-14', 'auto');\nga('send', 'pageview');\n  ".trim()},D=n("YFqc"),L=n.n(D),P=n("nOHt"),R=n.n(P),O=n("HMs9"),I=n.n(O),k=M.b.nav.withConfig({displayName:"sidebar__Nav",componentId:"sc-1mu56oo-0"})(["width:100%;height:100%;padding:10px 20px 100px;background:rgba(10,10,10,0.6);border-right:1px solid rgb(24,26,31);text-shadow:0 2px 5px black;overflow:auto;*{font-weight:400;}h4{margin:1em 0 0;font-weight:700;}ul{padding-left:0;margin:0;}li{display:block;width:100%;line-height:2.5em;&.active{box-shadow:-200px 0 0 black,200px 0 0 black;background:black;*{font-weight:700;}}}li a{display:block;text-decoration:none;color:",";&:hover{color:",";text-decoration:underline;}&:visited{color:",";}}"],C.fg,C.link,C.fg),N=M.b.div.withConfig({displayName:"sidebar__Header",componentId:"sc-1mu56oo-1"})(["margin-bottom:30px;.logo{width:100%;padding:5px 10px;margin-left:-10px;a{display:block;}}.banners{width:180px;margin:20px auto;transform:translateX(-5px);display:flex;justify-content:space-between;img{height:20px;}}"]),F=function(e,t){return e===(t||"").match(/^([^#?]*)\??([^#]*)#?(.*)$/)[1]},B=function(e){function t(){var e;Object(v.a)(this,t);for(var r=arguments.length,i=Array(r),o=0;o<r;o++)i[o]=arguments[o];return e=n.call.apply(n,[this].concat(i)),Object(E.a)(Object(x.a)(e),"hideMenu",function(){return e.props.dispatch(Object(T.c)())}),Object(E.a)(Object(x.a)(e),"prefetch",function(e){return function(){return R.a.prefetch(e)}}),Object(E.a)(Object(x.a)(e),"Li",function(t){var n=t.to,r=t.children,i=e.props.path;return F(i,n)?h.a.createElement("li",{className:"active",onClick:e.hideMenu},r):h.a.createElement("li",{onClick:e.hideMenu,onMouseOver:e.prefetch(n)},h.a.createElement(L.a,{href:n},h.a.createElement("a",null,r)))}),e}Object(b.a)(t,e);var n=r(t);return Object(y.a)(t,[{key:"render",value:function(){var e=this.props.lang,t=this.Li;return h.a.createElement(k,null,h.a.createElement(N,null,h.a.createElement(L.a,{href:"en"===e?"/":"/?lang=".concat(e)},h.a.createElement("a",null,h.a.createElement("img",{className:"logo",src:"/static/images/logo_header.png",alt:"VEDA Header"}))),h.a.createElement("div",{className:"banners"},h.a.createElement("a",{className:"github",target:"\\_blank",href:"https://github.com/fand/veda"},h.a.createElement(I.a,{once:!0,placeholder:h.a.createElement("img",{alt:"GitHub Stars",src:"/static/images/shield_dummy.png"})},h.a.createElement("img",{alt:"GitHub Stars",src:"https://img.shields.io/github/stars/fand/veda.svg?style=social&maxAge=259200"}))),h.a.createElement("a",{className:"twitter",target:"\\_blank",href:"https://twitter.com/search?f=tweets&q=%23vedajs&src=typd"},h.a.createElement("img",{alt:"hashtag #vedajs",src:"/static/images/hashtag.png"})))),"en"===e&&h.a.createElement("ul",null,h.a.createElement("li",null,"VEDA for Atom"),h.a.createElement("li",null,h.a.createElement("ul",{style:{textIndent:"20px"}},h.a.createElement(t,{to:"/install"},"Install"),h.a.createElement(t,{to:"/usage"},"Usage"),h.a.createElement(t,{to:"/commands"},"Commands"),h.a.createElement(t,{to:"/settings"},"Settings"),h.a.createElement(t,{to:"/features"},"Features"),h.a.createElement("ul",{style:{textIndent:"40px"}},h.a.createElement(t,{to:"/features/fragment"},"Fragment Shaders"),h.a.createElement(t,{to:"/features/vertex"},"Vertex Shaders"),h.a.createElement(t,{to:"/features/image"},"Images & Videos"),h.a.createElement(t,{to:"/features/audio"},"Audio"),h.a.createElement(t,{to:"/features/midi"},"MIDI"),h.a.createElement(t,{to:"/features/osc"},"OSC"),h.a.createElement(t,{to:"/features/webcam"},"WebCam"),h.a.createElement(t,{to:"/features/keyboard"},"Keyboard"),h.a.createElement(t,{to:"/features/gamepad"},"Gamepad"),h.a.createElement(t,{to:"/features/server"},"Server Mode"),h.a.createElement(t,{to:"/features/recording"},"Recording")))),h.a.createElement(t,{to:"/vedajs"},"VEDA.js"),h.a.createElement(t,{to:"/faq"},"FAQ"),h.a.createElement(t,{to:"/contributing"},"CONTRIBUTING")),"ja"===e&&h.a.createElement("ul",null,h.a.createElement("li",null,"VEDA for Atom"),h.a.createElement("li",null,h.a.createElement("ul",{style:{textIndent:"20px"}},h.a.createElement(t,{to:"/install?lang=ja"},""),h.a.createElement(t,{to:"/usage?lang=ja"},""),h.a.createElement(t,{to:"/commands?lang=ja"},""),h.a.createElement(t,{to:"/settings?lang=ja"},""),h.a.createElement(t,{to:"/features?lang=ja"},""),h.a.createElement("ul",{style:{textIndent:"40px"}},h.a.createElement(t,{to:"/features/fragment?lang=ja"},""),h.a.createElement(t,{to:"/features/vertex?lang=ja"},""),h.a.createElement(t,{to:"/features/image?lang=ja"},"/"),h.a.createElement(t,{to:"/features/audio?lang=ja"},""),h.a.createElement(t,{to:"/features/midi?lang=ja"},"MIDI"),h.a.createElement(t,{to:"/features/osc?lang=ja"},"OSC"),h.a.createElement(t,{to:"/features/webcam?lang=ja"},"Web"),h.a.createElement(t,{to:"/features/keyboard?lang=ja"},""),h.a.createElement(t,{to:"/features/gamepad?lang=ja"},""),h.a.createElement(t,{to:"/features/server?lang=ja"},""),h.a.createElement(t,{to:"/features/recording?lang=ja"},"")))),h.a.createElement(t,{to:"/vedajs?lang=ja"},"VEDA.js"),h.a.createElement(t,{to:"/faq?lang=ja"},"FAQ"),h.a.createElement(t,{to:"/contributing?lang=ja"},"CONTRIBUTING")))}}]),t}(h.a.PureComponent),U=Object(S.b)(function(e){return e})(B),z=M.b.div.withConfig({displayName:"header__Nav",componentId:"hd5umw-0"})(["position:relative;width:100%;height:56px;line-height:56px;transition:0.5s;background:transparent;.mobile{display:none;}@media (max-width:","px){&.visible{background:linear-gradient( to bottom,rgba(0,0,30,1),rgba(0,0,30,0.5) );}.mobile{display:block;}.pc{display:none;}}"],C.mobile),j=M.b.div.withConfig({displayName:"header__Logo",componentId:"hd5umw-1"})(["height:100%;padding:4px 0;position:absolute;left:50%;transform:translateX(-50%);opacity:0;@media (max-width:","px){transition:opacity 1s;&.visible{opacity:1;}}a,img{display:block;height:100%;text-decoration:none;}img{margin-left:-10px;}"],C.mobile),G=M.b.div.withConfig({displayName:"header__Left",componentId:"hd5umw-2"})(["position:absolute;left:0;"]),H=M.b.div.withConfig({displayName:"header__Right",componentId:"hd5umw-3"})(["position:absolute;display:flex;right:0;"]),V=M.b.div.withConfig({displayName:"header__Button",componentId:"hd5umw-4"})(['cursor:pointer;color:#ddd;user-select:none;& > img{display:block;width:56px;height:56px;padding:15px;font-size:24px;line-height:27px;}span{padding:15px;position:relative;display:block;top:-1em;}&:hover{opacity:1;color:#fff;}.inner{position:absolute;top:100%;right:0;background:rgba(0,0,0,0.8);color:#fff;text-align:center;a{text-decoration:none;color:white;&:hover{text-decoration:underline;}}i{margin-right:10px;text-align:center;}display:none;opacity:0;transition:opacity 0.5s;&.visible{width:180px;display:block;opacity:1;}&:before{content:"";position:absolute;top:-30px;right:12px;border:15px solid transparent;border-bottom:15px solid black;}}']),W=function(e){function t(){var e;Object(v.a)(this,t);for(var r=arguments.length,i=Array(r),o=0;o<r;o++)i[o]=arguments[o];return e=n.call.apply(n,[this].concat(i)),Object(E.a)(Object(x.a)(e),"toggleMenu",function(){e.props.dispatch(Object(T.f)())}),Object(E.a)(Object(x.a)(e),"toggleLanguage",function(){e.props.dispatch(Object(T.d)("en"===e.props.lang?"ja":"en"))}),e}Object(b.a)(t,e);var n=i(t);return Object(y.a)(t,[{key:"componentDidMount",value:function(){var e=(location.search.match(/lang=(en|ja)/)||[])[1];e&&e!==this.props.lang&&this.props.dispatch(Object(T.d)(e))}},{key:"render",value:function(){var e=this.props.isHeaderVisible?"visible":"",t=this.props.lang;return h.a.createElement(z,{className:e},h.a.createElement(j,{className:e},h.a.createElement(L.a,{href:"en"===t?"/":"/?lang=".concat(t)},h.a.createElement("a",null,h.a.createElement("img",{src:"/static/images/logo_header.png",alt:"VEDA logo"})))),h.a.createElement(G,null,h.a.createElement(V,{className:"mobile",onClick:this.toggleMenu},h.a.createElement("img",{src:"/static/images/i_menu.png",alt:"Menu"}))),h.a.createElement(H,null,this.props.i18n&&h.a.createElement(V,{onClick:this.toggleLanguage},"en"===t&&h.a.createElement("span",null,""),"ja"===t&&h.a.createElement("span",null,"English"))))}}]),t}(h.a.Component),X=Object(S.b)(function(e){return e})(W),q=n("TJpk"),Y=n.n(q),J='/* Document\n * ========================================================================== */\n\n/**\n * Add border box sizing in all browsers (opinionated).\n */\n\n*,\n::before,\n::after {\n  box-sizing: border-box;\n}\n\n/**\n * 1. Add text decoration inheritance in all browsers (opinionated).\n * 2. Add vertical alignment inheritance in all browsers (opinionated).\n */\n\n::before,\n::after {\n  text-decoration: inherit; /* 1 */\n  vertical-align: inherit; /* 2 */\n}\n\n/**\n * 1. Use the default cursor in all browsers (opinionated).\n * 2. Change the line height in all browsers (opinionated).\n * 3. Use a 4-space tab width in all browsers (opinionated).\n * 4. Remove the grey highlight on links in iOS (opinionated).\n * 5. Prevent adjustments of font size after orientation changes in\n *    IE on Windows Phone and in iOS.\n * 6. Breaks words to prevent overflow in all browsers (opinionated).\n */\n\nhtml {\n  cursor: default; /* 1 */\n  line-height: 1.5; /* 2 */\n  -moz-tab-size: 4; /* 3 */\n  tab-size: 4; /* 3 */\n  -webkit-tap-highlight-color: transparent /* 4 */;\n  -ms-text-size-adjust: 100%; /* 5 */\n  -webkit-text-size-adjust: 100%; /* 5 */\n  word-break: break-word; /* 6 */\n}\n\n/* Sections\n * ========================================================================== */\n\n/**\n * Remove the margin in all browsers (opinionated).\n */\n\nbody {\n  margin: 0;\n}\n\n/**\n * Correct the font size and margin on `h1` elements within `section` and\n * `article` contexts in Chrome, Edge, Firefox, and Safari.\n */\n\nh1 {\n  font-size: 2em;\n  margin: 0.67em 0;\n}\n\n/* Grouping content\n * ========================================================================== */\n\n/**\n * Remove the margin on nested lists in Chrome, Edge, IE, and Safari.\n */\n\ndl dl,\ndl ol,\ndl ul,\nol dl,\nul dl {\n  margin: 0;\n}\n\n/**\n * Remove the margin on nested lists in Edge 18- and IE.\n */\n\nol ol,\nol ul,\nul ol,\nul ul {\n  margin: 0;\n}\n\n/**\n * 1. Add the correct sizing in Firefox.\n * 2. Show the overflow in Edge 18- and IE.\n */\n\nhr {\n  height: 0; /* 1 */\n  overflow: visible; /* 2 */\n}\n\n/**\n * Add the correct display in IE.\n */\n\nmain {\n  display: block;\n}\n\n/**\n * Remove the list style on navigation lists in all browsers (opinionated).\n */\n\nnav ol,\nnav ul {\n  list-style: none;\n  padding: 0;\n}\n\n/**\n * 1. Correct the inheritance and scaling of font size in all browsers.\n * 2. Correct the odd `em` font sizing in all browsers.\n */\n\npre {\n  font-family: monospace, monospace; /* 1 */\n  font-size: 1em; /* 2 */\n}\n\n/* Text-level semantics\n * ========================================================================== */\n\n/**\n * Remove the gray background on active links in IE 10.\n */\n\na {\n  background-color: transparent;\n}\n\n/**\n * Add the correct text decoration in Edge 18-, IE, and Safari.\n */\n\nabbr[title] {\n  text-decoration: underline;\n  text-decoration: underline dotted;\n}\n\n/**\n * Add the correct font weight in Chrome, Edge, and Safari.\n */\n\nb,\nstrong {\n  font-weight: bolder;\n}\n\n/**\n * 1. Correct the inheritance and scaling of font size in all browsers.\n * 2. Correct the odd `em` font sizing in all browsers.\n */\n\ncode,\nkbd,\nsamp {\n  font-family: monospace, monospace; /* 1 */\n  font-size: 1em; /* 2 */\n}\n\n/**\n * Add the correct font size in all browsers.\n */\n\nsmall {\n  font-size: 80%;\n}\n\n/* Embedded content\n * ========================================================================== */\n\n/*\n * Change the alignment on media elements in all browsers (opinionated).\n */\n\naudio,\ncanvas,\niframe,\nimg,\nsvg,\nvideo {\n  vertical-align: middle;\n}\n\n/**\n * Add the correct display in IE 9-.\n */\n\naudio,\nvideo {\n  display: inline-block;\n}\n\n/**\n * Add the correct display in iOS 4-7.\n */\n\naudio:not([controls]) {\n  display: none;\n  height: 0;\n}\n\n/**\n * Remove the border on iframes in all browsers (opinionated).\n */\n\niframe {\n  border-style: none;\n}\n\n/**\n * Remove the border on images within links in IE 10-.\n */\n\nimg {\n  border-style: none;\n}\n\n/**\n * Change the fill color to match the text color in all browsers (opinionated).\n */\n\nsvg:not([fill]) {\n  fill: currentColor;\n}\n\n/**\n * Hide the overflow in IE.\n */\n\nsvg:not(:root) {\n  overflow: hidden;\n}\n\n/* Tabular data\n * ========================================================================== */\n\n/**\n * Collapse border spacing in all browsers (opinionated).\n */\n\ntable {\n  border-collapse: collapse;\n}\n\n/* Forms\n * ========================================================================== */\n\n/**\n * Remove the margin on controls in Safari.\n */\n\nbutton,\ninput,\nselect {\n  margin: 0;\n}\n\n/**\n * 1. Show the overflow in IE.\n * 2. Remove the inheritance of text transform in Edge 18-, Firefox, and IE.\n */\n\nbutton {\n  overflow: visible; /* 1 */\n  text-transform: none; /* 2 */\n}\n\n/**\n * Correct the inability to style buttons in iOS and Safari.\n */\n\nbutton,\n[type="button"],\n[type="reset"],\n[type="submit"] {\n  -webkit-appearance: button;\n}\n\n/**\n * 1. Change the inconsistent appearance in all browsers (opinionated).\n * 2. Correct the padding in Firefox.\n */\n\nfieldset {\n  border: 1px solid #a0a0a0; /* 1 */\n  padding: 0.35em 0.75em 0.625em; /* 2 */\n}\n\n/**\n * Show the overflow in Edge 18- and IE.\n */\n\ninput {\n  overflow: visible;\n}\n\n/**\n * 1. Correct the text wrapping in Edge 18- and IE.\n * 2. Correct the color inheritance from `fieldset` elements in IE.\n */\n\nlegend {\n  color: inherit; /* 2 */\n  display: table; /* 1 */\n  max-width: 100%; /* 1 */\n  white-space: normal; /* 1 */\n}\n\n/**\n * 1. Add the correct display in Edge 18- and IE.\n * 2. Add the correct vertical alignment in Chrome, Edge, and Firefox.\n */\n\nprogress {\n  display: inline-block; /* 1 */\n  vertical-align: baseline; /* 2 */\n}\n\n/**\n * Remove the inheritance of text transform in Firefox.\n */\n\nselect {\n  text-transform: none;\n}\n\n/**\n * 1. Remove the margin in Firefox and Safari.\n * 2. Remove the default vertical scrollbar in IE.\n * 3. Change the resize direction in all browsers (opinionated).\n */\n\ntextarea {\n  margin: 0; /* 1 */\n  overflow: auto; /* 2 */\n  resize: vertical; /* 3 */\n}\n\n/**\n * Remove the padding in IE 10-.\n */\n\n[type="checkbox"],\n[type="radio"] {\n  padding: 0;\n}\n\n/**\n * 1. Correct the odd appearance in Chrome, Edge, and Safari.\n * 2. Correct the outline style in Safari.\n */\n\n[type="search"] {\n  -webkit-appearance: textfield; /* 1 */\n  outline-offset: -2px; /* 2 */\n}\n\n/**\n * Correct the cursor style of increment and decrement buttons in Safari.\n */\n\n::-webkit-inner-spin-button,\n::-webkit-outer-spin-button {\n  height: auto;\n}\n\n/**\n * Correct the text style of placeholders in Chrome, Edge, and Safari.\n */\n\n::-webkit-input-placeholder {\n  color: inherit;\n  opacity: 0.54;\n}\n\n/**\n * Remove the inner padding in Chrome, Edge, and Safari on macOS.\n */\n\n::-webkit-search-decoration {\n  -webkit-appearance: none;\n}\n\n/**\n * 1. Correct the inability to style upload buttons in iOS and Safari.\n * 2. Change font properties to `inherit` in Safari.\n */\n\n::-webkit-file-upload-button {\n  -webkit-appearance: button; /* 1 */\n  font: inherit; /* 2 */\n}\n\n/**\n * Remove the inner border and padding of focus outlines in Firefox.\n */\n\n::-moz-focus-inner {\n  border-style: none;\n  padding: 0;\n}\n\n/**\n * Restore the focus outline styles unset by the previous rule in Firefox.\n */\n\n:-moz-focusring {\n  outline: 1px dotted ButtonText;\n}\n\n/**\n * Remove the additional :invalid styles in Firefox.\n */\n\n:-moz-ui-invalid {\n  box-shadow: none;\n}\n\n/* Interactive\n * ========================================================================== */\n\n/*\n * Add the correct display in Edge 18- and IE.\n */\n\ndetails {\n  display: block;\n}\n\n/*\n * Add the correct styles in Edge 18-, IE, and Safari.\n */\n\ndialog {\n  background-color: white;\n  border: solid;\n  color: black;\n  display: block;\n  height: -moz-fit-content;\n  height: -webkit-fit-content;\n  height: fit-content;\n  left: 0;\n  margin: auto;\n  padding: 1em;\n  position: absolute;\n  right: 0;\n  width: -moz-fit-content;\n  width: -webkit-fit-content;\n  width: fit-content;\n}\n\ndialog:not([open]) {\n  display: none;\n}\n\n/*\n * Add the correct display in all browsers.\n */\n\nsummary {\n  display: list-item;\n}\n\n/* Scripting\n * ========================================================================== */\n\n/**\n * Add the correct display in IE 9-.\n */\n\ncanvas {\n  display: inline-block;\n}\n\n/**\n * Add the correct display in IE.\n */\n\ntemplate {\n  display: none;\n}\n\n/* User interaction\n * ========================================================================== */\n\n/*\n * 1. Remove the tapping delay in IE 10.\n * 2. Remove the tapping delay on clickable elements\n      in all browsers (opinionated).\n */\n\na,\narea,\nbutton,\ninput,\nlabel,\nselect,\nsummary,\ntextarea,\n[tabindex] {\n  -ms-touch-action: manipulation; /* 1 */\n  touch-action: manipulation; /* 2 */\n}\n\n/**\n * Add the correct display in IE 10-.\n */\n\n[hidden] {\n  display: none;\n}\n\n/* Accessibility\n * ========================================================================== */\n\n/**\n * Change the cursor on busy elements in all browsers (opinionated).\n */\n\n[aria-busy="true"] {\n  cursor: progress;\n}\n\n/*\n * Change the cursor on control elements in all browsers (opinionated).\n */\n\n[aria-controls] {\n  cursor: pointer;\n}\n\n/*\n * Change the cursor on disabled, not-editable, or otherwise\n * inoperable elements in all browsers (opinionated).\n */\n\n[aria-disabled="true"],\n[disabled] {\n  cursor: not-allowed;\n}\n\n/*\n * Change the display on visually hidden accessible elements\n * in all browsers (opinionated).\n */\n\n[aria-hidden="false"][hidden] {\n  display: initial;\n}\n\n[aria-hidden="false"][hidden]:not(:focus) {\n  clip: rect(0, 0, 0, 0);\n  position: absolute;\n}\n',Z="/* open-sans-300 - latin */\n@font-face {\n  font-family: 'Open Sans';\n  font-style: normal;\n  font-weight: 300;\n  src: url('/static/fonts/open-sans-v15-latin-300.eot'); /* IE9 Compat Modes */\n  src: local('Open Sans Light'), local('OpenSans-Light'),\n       url('/static/fonts/open-sans-v15-latin-300.eot?#iefix') format('embedded-opentype'), /* IE6-IE8 */\n       url('/static/fonts/open-sans-v15-latin-300.woff2') format('woff2'), /* Super Modern Browsers */\n       url('/static/fonts/open-sans-v15-latin-300.woff') format('woff'), /* Modern Browsers */\n       url('/static/fonts/open-sans-v15-latin-300.ttf') format('truetype'), /* Safari, Android, iOS */\n       url('/static/fonts/open-sans-v15-latin-300.svg#OpenSans') format('svg'); /* Legacy iOS */\n}\n/* open-sans-300italic - latin */\n@font-face {\n  font-family: 'Open Sans';\n  font-style: italic;\n  font-weight: 300;\n  src: url('/static/fonts/open-sans-v15-latin-300italic.eot'); /* IE9 Compat Modes */\n  src: local('Open Sans Light Italic'), local('OpenSans-LightItalic'),\n       url('/static/fonts/open-sans-v15-latin-300italic.eot?#iefix') format('embedded-opentype'), /* IE6-IE8 */\n       url('/static/fonts/open-sans-v15-latin-300italic.woff2') format('woff2'), /* Super Modern Browsers */\n       url('/static/fonts/open-sans-v15-latin-300italic.woff') format('woff'), /* Modern Browsers */\n       url('/static/fonts/open-sans-v15-latin-300italic.ttf') format('truetype'), /* Safari, Android, iOS */\n       url('/static/fonts/open-sans-v15-latin-300italic.svg#OpenSans') format('svg'); /* Legacy iOS */\n}\n/* open-sans-regular - latin */\n@font-face {\n  font-family: 'Open Sans';\n  font-style: normal;\n  font-weight: 400;\n  src: url('/static/fonts/open-sans-v15-latin-regular.eot'); /* IE9 Compat Modes */\n  src: local('Open Sans Regular'), local('OpenSans-Regular'),\n       url('/static/fonts/open-sans-v15-latin-regular.eot?#iefix') format('embedded-opentype'), /* IE6-IE8 */\n       url('/static/fonts/open-sans-v15-latin-regular.woff2') format('woff2'), /* Super Modern Browsers */\n       url('/static/fonts/open-sans-v15-latin-regular.woff') format('woff'), /* Modern Browsers */\n       url('/static/fonts/open-sans-v15-latin-regular.ttf') format('truetype'), /* Safari, Android, iOS */\n       url('/static/fonts/open-sans-v15-latin-regular.svg#OpenSans') format('svg'); /* Legacy iOS */\n}\n/* open-sans-600 - latin */\n@font-face {\n  font-family: 'Open Sans';\n  font-style: normal;\n  font-weight: 600;\n  src: url('/static/fonts/open-sans-v15-latin-600.eot'); /* IE9 Compat Modes */\n  src: local('Open Sans SemiBold'), local('OpenSans-SemiBold'),\n       url('/static/fonts/open-sans-v15-latin-600.eot?#iefix') format('embedded-opentype'), /* IE6-IE8 */\n       url('/static/fonts/open-sans-v15-latin-600.woff2') format('woff2'), /* Super Modern Browsers */\n       url('/static/fonts/open-sans-v15-latin-600.woff') format('woff'), /* Modern Browsers */\n       url('/static/fonts/open-sans-v15-latin-600.ttf') format('truetype'), /* Safari, Android, iOS */\n       url('/static/fonts/open-sans-v15-latin-600.svg#OpenSans') format('svg'); /* Legacy iOS */\n}\n",K="/*\n\nAtom One Dark by Daniel Gamage\nOriginal One Dark Syntax theme from https://github.com/atom/one-dark-syntax\n\nbase:    #282c34\nmono-1:  #abb2bf\nmono-2:  #818896\nmono-3:  #5c6370\nhue-1:   #56b6c2\nhue-2:   #61aeee\nhue-3:   #c678dd\nhue-4:   #98c379\nhue-5:   #e06c75\nhue-5-2: #be5046\nhue-6:   #d19a66\nhue-6-2: #e6c07b\n\n*/\n\n.hljs {\n  display: block;\n  overflow-x: auto;\n  padding: 0.5em;\n  color: #abb2bf;\n  background: #282c34;\n}\n\n.hljs-comment,\n.hljs-quote {\n  color: #5c6370;\n  font-style: italic;\n}\n\n.hljs-doctag,\n.hljs-keyword,\n.hljs-formula {\n  color: #c678dd;\n}\n\n.hljs-section,\n.hljs-name,\n.hljs-selector-tag,\n.hljs-deletion,\n.hljs-subst {\n  color: #e06c75;\n}\n\n.hljs-literal {\n  color: #56b6c2;\n}\n\n.hljs-string,\n.hljs-regexp,\n.hljs-addition,\n.hljs-attribute,\n.hljs-meta-string {\n  color: #98c379;\n}\n\n.hljs-built_in,\n.hljs-class .hljs-title {\n  color: #e6c07b;\n}\n\n.hljs-attr,\n.hljs-variable,\n.hljs-template-variable,\n.hljs-type,\n.hljs-selector-class,\n.hljs-selector-attr,\n.hljs-selector-pseudo,\n.hljs-number {\n  color: #d19a66;\n}\n\n.hljs-symbol,\n.hljs-bullet,\n.hljs-link,\n.hljs-meta,\n.hljs-selector-id,\n.hljs-title {\n  color: #61aeee;\n}\n\n.hljs-emphasis {\n  font-style: italic;\n}\n\n.hljs-strong {\n  font-weight: bold;\n}\n\n.hljs-link {\n  text-decoration: underline;\n}\n",$=function(e){var t=e.url,n=e.title,r=e.image,i=e.description,o=e.siteName,a=e.lang;return h.a.createElement("div",{className:c.a.dynamic([["1261584137",[J,Z,K,C.bg,C.fg,C.link,C.fg,C.mobile]]])},h.a.createElement(Y.a,null,h.a.createElement("html",{lang:a||"en",className:c.a.dynamic([["1261584137",[J,Z,K,C.bg,C.fg,C.link,C.fg,C.mobile]]])}),h.a.createElement("meta",{charSet:"utf-8",className:c.a.dynamic([["1261584137",[J,Z,K,C.bg,C.fg,C.link,C.fg,C.mobile]]])}),h.a.createElement("meta",{httpEquiv:"x-ua-compatible",content:"ie=edge",className:c.a.dynamic([["1261584137",[J,Z,K,C.bg,C.fg,C.link,C.fg,C.mobile]]])}),h.a.createElement("meta",{name:"viewport",content:"width=device-width, initial-scale=1",className:c.a.dynamic([["1261584137",[J,Z,K,C.bg,C.fg,C.link,C.fg,C.mobile]]])}),h.a.createElement("title",{className:c.a.dynamic([["1261584137",[J,Z,K,C.bg,C.fg,C.link,C.fg,C.mobile]]])},n),h.a.createElement("meta",{name:"Description",content:i,className:c.a.dynamic([["1261584137",[J,Z,K,C.bg,C.fg,C.link,C.fg,C.mobile]]])}),h.a.createElement("meta",{property:"og:url",content:t,className:c.a.dynamic([["1261584137",[J,Z,K,C.bg,C.fg,C.link,C.fg,C.mobile]]])}),h.a.createElement("meta",{property:"og:type",content:"website",className:c.a.dynamic([["1261584137",[J,Z,K,C.bg,C.fg,C.link,C.fg,C.mobile]]])}),h.a.createElement("meta",{property:"og:title",content:n,className:c.a.dynamic([["1261584137",[J,Z,K,C.bg,C.fg,C.link,C.fg,C.mobile]]])}),h.a.createElement("meta",{property:"og:image",content:r,className:c.a.dynamic([["1261584137",[J,Z,K,C.bg,C.fg,C.link,C.fg,C.mobile]]])}),h.a.createElement("meta",{property:"og:description",content:i,className:c.a.dynamic([["1261584137",[J,Z,K,C.bg,C.fg,C.link,C.fg,C.mobile]]])}),h.a.createElement("meta",{property:"og:site_name",content:o,className:c.a.dynamic([["1261584137",[J,Z,K,C.bg,C.fg,C.link,C.fg,C.mobile]]])}),h.a.createElement("meta",{property:"og:locale",content:"en_US",className:c.a.dynamic([["1261584137",[J,Z,K,C.bg,C.fg,C.link,C.fg,C.mobile]]])}),h.a.createElement("meta",{name:"twitter:card",content:"summary",className:c.a.dynamic([["1261584137",[J,Z,K,C.bg,C.fg,C.link,C.fg,C.mobile]]])}),h.a.createElement("meta",{name:"twitter:site",content:"@amagitakayosi",className:c.a.dynamic([["1261584137",[J,Z,K,C.bg,C.fg,C.link,C.fg,C.mobile]]])}),h.a.createElement("meta",{name:"twitter:creator",content:"@amagitakayosi",className:c.a.dynamic([["1261584137",[J,Z,K,C.bg,C.fg,C.link,C.fg,C.mobile]]])}),h.a.createElement("meta",{name:"twitter:url",content:t,className:c.a.dynamic([["1261584137",[J,Z,K,C.bg,C.fg,C.link,C.fg,C.mobile]]])}),h.a.createElement("meta",{name:"twitter:title",content:n,className:c.a.dynamic([["1261584137",[J,Z,K,C.bg,C.fg,C.link,C.fg,C.mobile]]])}),h.a.createElement("meta",{name:"twitter:description",content:i,className:c.a.dynamic([["1261584137",[J,Z,K,C.bg,C.fg,C.link,C.fg,C.mobile]]])}),h.a.createElement("meta",{name:"twitter:image",content:r,className:c.a.dynamic([["1261584137",[J,Z,K,C.bg,C.fg,C.link,C.fg,C.mobile]]])}),h.a.createElement("meta",{itemProp:"name",content:n,className:c.a.dynamic([["1261584137",[J,Z,K,C.bg,C.fg,C.link,C.fg,C.mobile]]])}),h.a.createElement("meta",{itemProp:"description",content:n,className:c.a.dynamic([["1261584137",[J,Z,K,C.bg,C.fg,C.link,C.fg,C.mobile]]])}),h.a.createElement("meta",{itemProp:"image",content:r,className:c.a.dynamic([["1261584137",[J,Z,K,C.bg,C.fg,C.link,C.fg,C.mobile]]])}),h.a.createElement("link",{rel:"apple-touch-icon",sizes:"180x180",href:"/static/favicons/apple-touch-icon.png",className:c.a.dynamic([["1261584137",[J,Z,K,C.bg,C.fg,C.link,C.fg,C.mobile]]])}),h.a.createElement("link",{rel:"icon",type:"image/png",sizes:"32x32",href:"/static/favicons/favicon-32x32.png",className:c.a.dynamic([["1261584137",[J,Z,K,C.bg,C.fg,C.link,C.fg,C.mobile]]])}),h.a.createElement("link",{rel:"icon",type:"image/png",sizes:"16x16",href:"/static/favicons/favicon-16x16.png",className:c.a.dynamic([["1261584137",[J,Z,K,C.bg,C.fg,C.link,C.fg,C.mobile]]])}),h.a.createElement("link",{rel:"manifest",href:"/static/favicons/manifest.json",className:c.a.dynamic([["1261584137",[J,Z,K,C.bg,C.fg,C.link,C.fg,C.mobile]]])}),h.a.createElement("link",{rel:"mask-icon",href:"/static/favicons/safari-pinned-tab.svg",color:"#5bbad5",className:c.a.dynamic([["1261584137",[J,Z,K,C.bg,C.fg,C.link,C.fg,C.mobile]]])}),h.a.createElement("meta",{name:"theme-color",content:"#ffffff",className:c.a.dynamic([["1261584137",[J,Z,K,C.bg,C.fg,C.link,C.fg,C.mobile]]])})),h.a.createElement("script",{async:!0,src:"https://platform.twitter.com/widgets.js",className:c.a.dynamic([["1261584137",[J,Z,K,C.bg,C.fg,C.link,C.fg,C.mobile]]])}),h.a.createElement(c.a,{id:"1261584137",dynamic:[J,Z,K,C.bg,C.fg,C.link,C.fg,C.mobile]},["".concat(J," ").concat(Z," ").concat(K," body{margin:0;padding:0;background:").concat(C.bg,";color:").concat(C.fg,';font-size:16px;line-height:1.8em;font-family:"Open Sans",sans-serif;font-weight:400;font-display:swap;text-rendering:auto;text-shadow:0 0 2px black;-webkit-font-smoothing:antialiased;}'),"pre{padding:10px;background:#000;font-family:monospace;overflow:scroll;}","article img{max-width:100%;}","a,a:visited,a:hover{color:".concat(C.link,";font-weight:normal;}"),"ul{padding-left:20px;}","a:hover{cursor:pointer;-webkit-text-decoration:underline;text-decoration:underline;}","h1{font-weight:100;line-height:1.6em;}","h2,h3,h4,h5,h6{font-weight:400;line-height:2em;margin:2em 0 0em;}","h2{font-size:1.5em;}","h3{font-size:1.4em;}","h4{font-size:1.3em;}","h5{font-size:1.2em;}","h5{font-size:1.2em;}","p{margin:1em 0;}",".veda-video-source{z-index:-999;pointer-events:none;position:fixed;top:100%;}","hr{width:60%;height:1px !important;background:".concat(C.fg,";border:none;margin:50px auto;}"),"code{padding:2px 4px;background:black;font-family:Courier,monospace !important;}",".pc-only{font-style:italic;}",".pc-only button{cursor:pointer;}","@media (mac-width:".concat(C.mobile,"px){.pc-only{display:none;}}")]))},Q=n("2Eek"),ee=n.n(Q),te=n("FbiP"),ne=n.n(te),re=n("erV9"),ie=function(){if("undefined"==typeof window||"undefined"==typeof document)return null;if(window.veda)return window.veda;var e=document.createElement("canvas");e.style.position="fixed",e.style.width="100%",e.style.height="100%",e.style.top="0",e.style.left="0",e.style.opacity="0.5",e.style.zIndex="-1",document.body.appendChild(e);var t=window.innerWidth>re.mobile,r=new(0,n("BSXz").default)({pixelRatio:t?2:4,frameskip:t?2:4});return r.setCanvas(e),window.veda=r,window.addEventListener("resize",Object(A.throttle)(function(){r.resize(window.innerWidth,window.innerHeight)})),r},oe={attach:function(e){e.loadFragmentShader("// Author: @amagitakayosi\n// 2017-10-23\nprecision mediump float;\nuniform float time;\nuniform vec2 mouse;\nuniform vec2 resolution;\nuniform sampler2D backbuffer;\n\n// Util functions copied from http://glslsandbox.com/e#43153.1\nmat2 mm2(in float a){float c = cos(a), s = sin(a);return mat2(c,s,-s,c);}\nmat2 m2 = mat2(0.95534, 0.29552, -0.29552, 0.95534);\nfloat tri(in float x){return clamp(abs(fract(x)-.5),0.01,0.49);}\nvec2 tri2(in vec2 p){return vec2(tri(p.x)+tri(p.y),tri(p.y+tri(p.x)));}\n\nfloat triNoise2d(in vec2 p, float spd)\n{\n  float z=1.8;\n  float z2=2.5;\n  float rz = 0.;\n  p *= mm2(p.x*0.06);\n  vec2 bp = p;\n  for (float i=0.; i<5.; i++ )\n  {\n    vec2 dg = tri2(bp*1.85)*.75;\n    dg *= mm2(time*spd);\n    p -= dg/z2;\n\n    bp *= 1.3;\n    z2 *= .45;\n    z *= .42;\n    p *= 1.21 + (rz-1.0)*.02;\n\n    rz += tri(p.x+tri(p.y))*z;\n    p*= -m2;\n  }\n  return clamp(1./pow(rz*29., 1.3),0.,.55);\n}\n\nvoid main() {\n  vec2 p = (gl_FragCoord.xy * 2. - resolution) / min(resolution.x, resolution.y);\n  float t = time * .3 + 100.;\n\n  p = p * .5 + 1.;\n  p.x += 2.;  // Noises are too weak around origin\n\n  p /= vec2(\n    triNoise2d(p, p.x*.002+t*.002),\n    triNoise2d(p, p.y*.002+t*.002)\n  ) * 20.;  // zoom factor\n\n  gl_FragColor = vec4(\n    0.8 * sin(p.x * 2.3 + 2.7),\n    0.8 * sin(p.y * 2.2 + 3.7),\n    .8,\n    1.0\n  ) * .6;\n}\n")}};Object(M.a)(a());var ae=function(e){function t(){return Object(v.a)(this,t),n.apply(this,arguments)}Object(b.a)(t,e);var n=o(t);return Object(y.a)(t,[{key:"getShader",value:function(){return window.innerWidth<=re.mobile?oe:this.props.shader||oe}},{key:"componentDidMount",value:function(){var e=this.getShader();setTimeout(function(){var t=ie();e.attach&&e.attach(t),t.play()},0)}},{key:"componentWillUnmount",value:function(){var e=this.getShader();if(e.detach){var t=ie();e.detach(t)}}},{key:"render",value:function(){return null}}]),t}(h.a.Component),se=Object(S.b)(function(e){return e})(ae),ue=M.b.div.withConfig({displayName:"layout__Wrapper",componentId:"sc-1r8im8e-0"})(["position:fixed;top:0;left:0;height:100%;width:100%;overflow:visible;display:flex;transition:left 0.3s;@media (max-width:","px){width:auto;left:-82vw;&.menu{left:0;}}"],C.mobile),ce=M.b.div.withConfig({displayName:"layout__SidebarWrapper",componentId:"sc-1r8im8e-1"})(["width:270px;-webkit-overflow-scrolling:touch;@media (max-width:","px){width:82vw;}"],C.mobile),le=M.b.div.withConfig({displayName:"layout__BodyColumn",componentId:"sc-1r8im8e-2"})(["flex:1;position:relative;@media (max-width:","px){width:100vw;}"],C.mobile),he=M.b.main.withConfig({displayName:"layout__MainWrapper",componentId:"sc-1r8im8e-3"})(["position:absolute;top:0;left:0;height:100%;width:100%;overflow:auto;-webkit-overflow-scrolling:touch;"]),pe=M.b.div.withConfig({displayName:"layout__HeaderWrapper",componentId:"sc-1r8im8e-4"})(["position:absolute;top:0;width:100%;z-index:2;"]),fe=function(e){function t(){var e;Object(v.a)(this,t);for(var r=arguments.length,i=Array(r),o=0;o<r;o++)i[o]=arguments[o];return e=n.call.apply(n,[this].concat(i)),Object(E.a)(Object(x.a)(e),"watchScroll",Object(A.throttle)(function(){e.props.dispatch(100<e.body.scrollTop?Object(T.e)():Object(T.b)())},100)),Object(E.a)(Object(x.a)(e),"setBody",function(t){e.body=t}),e}Object(b.a)(t,e);var n=s(t);return Object(y.a)(t,[{key:"componentDidMount",value:function(){"undefined"!=typeof navigator&&"serviceWorker"in navigator&&navigator.serviceWorker.register("/sw.js").then(console.log).catch(console.error),this.body.addEventListener("scroll",this.watchScroll),this.watchScroll(),this.props.dispatch(Object(T.c)())}},{key:"componentWillUnmount",value:function(){this.body.removeEventListener("scroll",this.watchScroll)}},{key:"url",value:function(){return"https://veda.gl".concat(this.props.path)}},{key:"siteName",value:function(){return C.og.title}},{key:"title",value:function(){var e=this.props.article[this.props.lang]||this.props.article.en;return(e.title?e.title+" | ":"")+C.og.title}},{key:"description",value:function(){return this.props.article.description||C.og.description}},{key:"image",value:function(){return this.props.article.image||C.og.image}},{key:"render",value:function(){var e=this.props.isMenuVisible?"menu":"";return h.a.createElement("div",null,h.a.createElement($,{url:this.url(),title:this.title(),image:this.image(),description:this.description(),siteName:C.og.title,lang:this.props.lang}),h.a.createElement(ue,{className:e},h.a.createElement(ce,{className:e},h.a.createElement(U,{path:this.props.path})),h.a.createElement(le,null,h.a.createElement(pe,null,h.a.createElement(X,{path:this.props.path,i18n:!!this.props.article.ja,url:this.url(),title:this.title()})),h.a.createElement(he,{ref:this.setBody,className:"body"},this.props.children))),h.a.createElement(se,{shader:this.props.shader}))}}]),t}(h.a.Component);Object(E.a)(fe,"getInitialProps",function(){var e=Object(d.a)(f.a.mark(function e(t){var n;return f.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.pathname,e.abrupt("return",{path:n});case 2:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}());var de=Object(S.b)(function(e){return e})(fe);t.a=Object(S.b)(function(e){return e})(function(e){return h.a.createElement(de,e,h.a.createElement("article",{dangerouslySetInnerHTML:{__html:(e.article[e.lang]||e.article.en).html},className:c.a.dynamic([["1606609254",[C.mobile]]])}),h.a.createElement(c.a,{id:"1606609254",dynamic:[C.mobile]},["article.__jsx-style-dynamic-selector{width:90%;max-width:680px;margin:20px auto 120px;padding:0;overflow:hidden;}","@media (max-width:".concat(C.mobile,"px){article.__jsx-style-dynamic-selector{margin-top:60px;}}")]))})},ST1V:function(e,t,n){function r(e){this.stream=new o(e),this.output={}}function i(e){return e.reduce(function(e,t){return 2*e+t},0)}var o=n("qGU3");r.prototype.parse=function(e){return this.parseParts(this.output,e),this.output},r.prototype.parseParts=function(e,t){for(var n,r=0;r<t.length;r++)n=t[r],this.parsePart(e,n)},r.prototype.parsePart=function(e,t){var n,r=t.label;if(!t.requires||t.requires(this.stream,this.output,e))if(t.loop){for(var i,o=[];t.loop(this.stream);)i={},this.parseParts(i,t.parts),o.push(i);e[r]=o}else t.parts?(n={},this.parseParts(n,t.parts),e[r]=n):t.parser?(n=t.parser(this.stream,this.output,e),t.skip||(e[r]=n)):t.bits&&(e[r]=this.parseBits(t.bits))},r.prototype.parseBits=function(e){var t={},n=this.stream.readBitArray();for(var r in e){var o=e[r];t[r]=o.length?i(n.slice(o.index,o.index+o.length)):n[o.index]}return t},e.exports=r},SbYC:function(e,t,n){const{defaults:r}=n("vbtb"),{cleanUrl:i,escape:o}=n("rUJ1");e.exports=class{constructor(e){this.options=e||r}code(e,t,n){const r=(t||"").match(/\S*/)[0];if(this.options.highlight){const t=this.options.highlight(e,r);null!=t&&t!==e&&(n=!0,e=t)}return r?'<pre><code class="'+this.options.langPrefix+o(r,!0)+'">'+(n?e:o(e,!0))+"</code></pre>\n":"<pre><code>"+(n?e:o(e,!0))+"</code></pre>"}blockquote(e){return"<blockquote>\n"+e+"</blockquote>\n"}html(e){return e}heading(e,t,n,r){return this.options.headerIds?"<h"+t+' id="'+this.options.headerPrefix+r.slug(n)+'">'+e+"</h"+t+">\n":"<h"+t+">"+e+"</h"+t+">\n"}hr(){return this.options.xhtml?"<hr/>\n":"<hr>\n"}list(e,t,n){const r=t?"ol":"ul";return"<"+r+(t&&1!==n?' start="'+n+'"':"")+">\n"+e+"</"+r+">\n"}listitem(e){return"<li>"+e+"</li>\n"}checkbox(e){return"<input "+(e?'checked="" ':"")+'disabled="" type="checkbox"'+(this.options.xhtml?" /":"")+"> "}paragraph(e){return"<p>"+e+"</p>\n"}table(e,t){return t&&(t="<tbody>"+t+"</tbody>"),"<table>\n<thead>\n"+e+"</thead>\n"+t+"</table>\n"}tablerow(e){return"<tr>\n"+e+"</tr>\n"}tablecell(e,t){const n=t.header?"th":"td";return(t.align?"<"+n+' align="'+t.align+'">':"<"+n+">")+e+"</"+n+">\n"}strong(e){return"<strong>"+e+"</strong>"}em(e){return"<em>"+e+"</em>"}codespan(e){return"<code>"+e+"</code>"}br(){return this.options.xhtml?"<br/>":"<br>"}del(e){return"<del>"+e+"</del>"}link(e,t,n){if(null===(e=i(this.options.sanitize,this.options.baseUrl,e)))return n;let r='<a href="'+o(e)+'"';return t&&(r+=' title="'+t+'"'),r+=">"+n+"</a>"}image(e,t,n){if(null===(e=i(this.options.sanitize,this.options.baseUrl,e)))return n;let r='<img src="'+e+'" alt="'+n+'"';return t&&(r+=' title="'+t+'"'),r+=this.options.xhtml?"/>":">"}text(e){return e}}},Seim:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.on=function(e,t,n,r){r=r||!1,e.addEventListener?e.addEventListener(t,n,r):e.attachEvent&&e.attachEvent("on"+t,function(t){n.call(e,t||window.event)})},t.off=function(e,t,n,r){r=r||!1,e.removeEventListener?e.removeEventListener(t,n,r):e.detachEvent&&e.detachEvent("on"+t,n)}},SevZ:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){for(var n,r=0;r<t.length;r++)(n=t[r]).enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=r(n("9kyW")),a=r(n("bVZc")),s=function(){function e(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},n=t.styleSheet,r=void 0===n?null:n,i=t.optimizeForSpeed,o=void 0!==i&&i,s=t.isBrowser,u=void 0===s?"undefined"!=typeof window:s;(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")})(this,e),this._sheet=r||new a.default({name:"styled-jsx",optimizeForSpeed:o}),this._sheet.inject(),r&&"boolean"==typeof o&&(this._sheet.setOptimizeForSpeed(o),this._optimizeForSpeed=this._sheet.isOptimizeForSpeed()),this._isBrowser=u,this._fromServer=void 0,this._indices={},this._instancesCounts={},this.computeId=this.createComputeId(),this.computeSelector=this.createComputeSelector()}return function(e,t,n){t&&i(e.prototype,t),n&&i(e,n)}(e,[{key:"add",value:function(e){var t=this;void 0===this._optimizeForSpeed&&(this._optimizeForSpeed=Array.isArray(e.children),this._sheet.setOptimizeForSpeed(this._optimizeForSpeed),this._optimizeForSpeed=this._sheet.isOptimizeForSpeed()),this._isBrowser&&!this._fromServer&&(this._fromServer=this.selectFromServer(),this._instancesCounts=Object.keys(this._fromServer).reduce(function(e,t){return e[t]=0,e},{}));var n=this.getIdAndRules(e),r=n.styleId,i=n.rules;if(r in this._instancesCounts)this._instancesCounts[r]+=1;else{var o=i.map(function(e){return t._sheet.insertRule(e)}).filter(function(e){return-1!==e});this._indices[r]=o,this._instancesCounts[r]=1}}},{key:"remove",value:function(e){var t=this,n=this.getIdAndRules(e).styleId;if(function(e,t){if(!e)throw new Error("StyleSheetRegistry: ".concat(t,"."))}(n in this._instancesCounts,"styleId: `".concat(n,"` not found")),this._instancesCounts[n]-=1,1>this._instancesCounts[n]){var r=this._fromServer&&this._fromServer[n];r?(r.parentNode.removeChild(r),delete this._fromServer[n]):(this._indices[n].forEach(function(e){return t._sheet.deleteRule(e)}),delete this._indices[n]),delete this._instancesCounts[n]}}},{key:"update",value:function(e,t){this.add(t),this.remove(e)}},{key:"flush",value:function(){this._sheet.flush(),this._sheet.inject(),this._fromServer=void 0,this._indices={},this._instancesCounts={},this.computeId=this.createComputeId(),this.computeSelector=this.createComputeSelector()}},{key:"cssRules",value:function(){var e=this,t=this._fromServer?Object.keys(this._fromServer).map(function(t){return[t,e._fromServer[t]]}):[],n=this._sheet.cssRules();return t.concat(Object.keys(this._indices).map(function(t){return[t,e._indices[t].map(function(e){return n[e].cssText}).join(e._optimizeForSpeed?"":"\n")]}).filter(function(e){return!!e[1]}))}},{key:"createComputeId",value:function(){var e={};return function(t,n){if(!n)return"jsx-".concat(t);var r=n+"",i=t+r;return e[i]||(e[i]="jsx-".concat((0,o.default)("".concat(t,"-").concat(r)))),e[i]}}},{key:"createComputeSelector",value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:/__jsx-style-dynamic-selector/g,t={};return function(n,r){this._isBrowser||(r=function(e){return e.replace(/\/style/gi,"\\/style")}(r));var i=n+r;return t[i]||(t[i]=r.replace(e,n)),t[i]}}},{key:"getIdAndRules",value:function(e){var t=this,n=e.children,r=e.dynamic,i=e.id;if(r){var o=this.computeId(i,r);return{styleId:o,rules:Array.isArray(n)?n.map(function(e){return t.computeSelector(o,e)}):[this.computeSelector(o,n)]}}return{styleId:this.computeId(i),rules:Array.isArray(n)?n:[n]}}},{key:"selectFromServer",value:function(){return Array.prototype.slice.call(document.querySelectorAll('[id^="__jsx-"]')).reduce(function(e,t){return e[t.id.slice(2)]=t,e},{})}}]),e}();t.default=s},SqZg:function(e,t,n){e.exports=n("3GJH")},T9Ld:function(e,t,n){const{defaults:r}=n("vbtb"),{block:i}=n("e56X"),{rtrim:o,splitCells:a,escape:s}=n("rUJ1");e.exports=class e{constructor(e){this.tokens=[],this.tokens.links=Object.create(null),this.options=e||r,this.rules=i.normal,this.options.pedantic?this.rules=i.pedantic:this.options.gfm&&(this.rules=i.gfm)}static get rules(){return i}static lex(t,n){return new e(n).lex(t)}lex(e){return e=e.replace(/\r\n|\r/g,"\n").replace(/\t/g,"    "),this.token(e,!0)}token(e,t){e=e.replace(/^ +$/gm,"");for(let n,r,u,c,l,h,p,f,d,m,g,v,y,x,b,w;e;)if((u=this.rules.newline.exec(e))&&(e=e.substring(u[0].length),1<u[0].length&&this.tokens.push({type:"space"})),u=this.rules.code.exec(e)){const t=this.tokens[this.tokens.length-1];e=e.substring(u[0].length),t&&"paragraph"===t.type?t.text+="\n"+u[0].trimRight():(u=u[0].replace(/^ {4}/gm,""),this.tokens.push({type:"code",codeBlockStyle:"indented",text:this.options.pedantic?u:o(u,"\n")}))}else if(u=this.rules.fences.exec(e))e=e.substring(u[0].length),this.tokens.push({type:"code",lang:u[2]?u[2].trim():u[2],text:u[3]||""});else if(u=this.rules.heading.exec(e))e=e.substring(u[0].length),this.tokens.push({type:"heading",depth:u[1].length,text:u[2]});else if((u=this.rules.nptable.exec(e))&&(h={type:"table",header:a(u[1].replace(/^ *| *\| *$/g,"")),align:u[2].replace(/^ *|\| *$/g,"").split(/ *\| */),cells:u[3]?u[3].replace(/\n$/,"").split("\n"):[]}).header.length===h.align.length){for(e=e.substring(u[0].length),g=0;g<h.align.length;g++)h.align[g]=/^ *-+: *$/.test(h.align[g])?"right":/^ *:-+: *$/.test(h.align[g])?"center":/^ *:-+ *$/.test(h.align[g])?"left":null;for(g=0;g<h.cells.length;g++)h.cells[g]=a(h.cells[g],h.header.length);this.tokens.push(h)}else if(u=this.rules.hr.exec(e))e=e.substring(u[0].length),this.tokens.push({type:"hr"});else if(u=this.rules.blockquote.exec(e))e=e.substring(u[0].length),this.tokens.push({type:"blockquote_start"}),u=u[0].replace(/^ *> ?/gm,""),this.token(u,t),this.tokens.push({type:"blockquote_end"});else if(u=this.rules.list.exec(e)){for(e=e.substring(u[0].length),p={type:"list_start",ordered:x=1<(c=u[2]).length,start:x?+c:"",loose:!1},this.tokens.push(p),u=u[0].match(this.rules.item),f=[],n=!1,y=u.length,g=0;g<y;g++)m=(h=u[g]).length,~(h=h.replace(/^ *([*+-]|\d+\.) */,"")).indexOf("\n ")&&(m-=h.length,h=this.options.pedantic?h.replace(/^ {1,4}/gm,""):h.replace(new RegExp("^ {1,"+m+"}","gm"),"")),g!==y-1&&(l=i.bullet.exec(u[g+1])[0],(1<c.length?1===l.length:1<l.length||this.options.smartLists&&l!==c)&&(e=u.slice(g+1).join("\n")+e,g=y-1)),r=n||/\n\n(?!\s*$)/.test(h),g!==y-1&&(n="\n"===h.charAt(h.length-1),!r&&(r=n)),r&&(p.loose=!0),b=/^\[[ xX]\] /.test(h),w=void 0,b&&(w=" "!==h[1],h=h.replace(/^\[[ xX]\] +/,"")),d={type:"list_item_start",task:b,checked:w,loose:r},f.push(d),this.tokens.push(d),this.token(h,!1),this.tokens.push({type:"list_item_end"});if(p.loose)for(y=f.length,g=0;g<y;g++)f[g].loose=!0;this.tokens.push({type:"list_end"})}else if(u=this.rules.html.exec(e))e=e.substring(u[0].length),this.tokens.push({type:this.options.sanitize?"paragraph":"html",pre:!this.options.sanitizer&&("pre"===u[1]||"script"===u[1]||"style"===u[1]),text:this.options.sanitize?this.options.sanitizer?this.options.sanitizer(u[0]):s(u[0]):u[0]});else if(t&&(u=this.rules.def.exec(e)))e=e.substring(u[0].length),u[3]&&(u[3]=u[3].substring(1,u[3].length-1)),v=u[1].toLowerCase().replace(/\s+/g," "),this.tokens.links[v]||(this.tokens.links[v]={href:u[2],title:u[3]});else if((u=this.rules.table.exec(e))&&(h={type:"table",header:a(u[1].replace(/^ *| *\| *$/g,"")),align:u[2].replace(/^ *|\| *$/g,"").split(/ *\| */),cells:u[3]?u[3].replace(/\n$/,"").split("\n"):[]}).header.length===h.align.length){for(e=e.substring(u[0].length),g=0;g<h.align.length;g++)h.align[g]=/^ *-+: *$/.test(h.align[g])?"right":/^ *:-+: *$/.test(h.align[g])?"center":/^ *:-+ *$/.test(h.align[g])?"left":null;for(g=0;g<h.cells.length;g++)h.cells[g]=a(h.cells[g].replace(/^ *\| *| *\| *$/g,""),h.header.length);this.tokens.push(h)}else if(u=this.rules.lheading.exec(e))e=e.substring(u[0].length),this.tokens.push({type:"heading",depth:"="===u[2].charAt(0)?1:2,text:u[1]});else if(t&&(u=this.rules.paragraph.exec(e)))e=e.substring(u[0].length),this.tokens.push({type:"paragraph",text:"\n"===u[1].charAt(u[1].length-1)?u[1].slice(0,-1):u[1]});else if(u=this.rules.text.exec(e))e=e.substring(u[0].length),this.tokens.push({type:"text",text:u[0]});else if(e)throw new Error("Infinite loop on byte: "+e.charCodeAt(0));return this.tokens}}},TAZq:function(e){e.exports=function(){"use strict";return function(e){function t(t){if(t)try{e(t+"}")}catch(t){}}var n="/*|*/";return function(r,i,o,a,s,u,c,l,h,p){switch(r){case 1:if(0===h&&64===i.charCodeAt(0))return e(i+";"),"";break;case 2:if(0===l)return i+n;break;case 3:return 102===l||112===l?(e(o[0]+i),""):i+(0===p?n:"");case-2:i.split(n+"}").forEach(t)}}}}()},TJWN:function(e,t,n){"use strict";var r=n("5T2Y"),i=n("WEpk"),o=n("2faE"),a=n("jmDH"),s=n("UWiX")("species");e.exports=function(e){var t="function"==typeof i[e]?i[e]:r[e];a&&t&&!t[s]&&o.f(t,s,{configurable:!0,get:function(){return this}})}},TJpk:function(e,t,n){function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){var n={};for(var r in e)0<=t.indexOf(r)||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}t.__esModule=!0,t.Helmet=void 0;var o=Object.assign||function(e){for(var t,n=1;n<arguments.length;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e},a=function(){function e(e,t){for(var n,r=0;r<t.length;r++)(n=t[r]).enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=r(n("q1tI")),u=r(n("17x9")),c=r(n("8+s/")),l=r(n("bmMU")),h=n("v1p5"),p=n("hFT/"),f=function(e){var t,n;return n=t=function(t){function n(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,t.apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(n,t),n.prototype.shouldComponentUpdate=function(e){return!(0,l.default)(this.props,e)},n.prototype.mapNestedChildrenToProps=function(e,t){if(!t)return null;switch(e.type){case p.TAG_NAMES.SCRIPT:case p.TAG_NAMES.NOSCRIPT:return{innerHTML:t};case p.TAG_NAMES.STYLE:return{cssText:t}}throw new Error("<"+e.type+" /> elements are self-closing and can not contain children. Refer to our API for more information.")},n.prototype.flattenArrayTypeChildren=function(e){var t,n=e.child,r=e.arrayTypeChildren,i=e.newChildProps,a=e.nestedChildren;return o({},r,((t={})[n.type]=[].concat(r[n.type]||[],[o({},i,this.mapNestedChildrenToProps(n,a))]),t))},n.prototype.mapObjectTypeChildren=function(e){var t,n,r=e.child,i=e.newProps,a=e.newChildProps,s=e.nestedChildren;switch(r.type){case p.TAG_NAMES.TITLE:return o({},i,((t={})[r.type]=s,t.titleAttributes=o({},a),t));case p.TAG_NAMES.BODY:return o({},i,{bodyAttributes:o({},a)});case p.TAG_NAMES.HTML:return o({},i,{htmlAttributes:o({},a)})}return o({},i,((n={})[r.type]=o({},a),n))},n.prototype.mapArrayTypeChildrenToProps=function(e,t){var n=o({},t);return Object.keys(e).forEach(function(t){var r;n=o({},n,((r={})[t]=e[t],r))}),n},n.prototype.warnOnInvalidChildren=function(){return!0},n.prototype.mapChildrenToProps=function(e,t){var n=this,r={};return s.default.Children.forEach(e,function(e){if(e&&e.props){var o=e.props,a=o.children,s=i(o,["children"]),u=(0,h.convertReactPropstoHtmlAttributes)(s);switch(n.warnOnInvalidChildren(e,a),e.type){case p.TAG_NAMES.LINK:case p.TAG_NAMES.META:case p.TAG_NAMES.NOSCRIPT:case p.TAG_NAMES.SCRIPT:case p.TAG_NAMES.STYLE:r=n.flattenArrayTypeChildren({child:e,arrayTypeChildren:r,newChildProps:u,nestedChildren:a});break;default:t=n.mapObjectTypeChildren({child:e,newProps:t,newChildProps:u,nestedChildren:a})}}}),t=this.mapArrayTypeChildrenToProps(r,t)},n.prototype.render=function(){var t=this.props,n=t.children,r=i(t,["children"]),a=o({},r);return n&&(a=this.mapChildrenToProps(n,a)),s.default.createElement(e,a)},a(n,null,[{key:"canUseDOM",set:function(t){e.canUseDOM=t}}]),n}(s.default.Component),t.propTypes={base:u.default.object,bodyAttributes:u.default.object,children:u.default.oneOfType([u.default.arrayOf(u.default.node),u.default.node]),defaultTitle:u.default.string,defer:u.default.bool,encodeSpecialCharacters:u.default.bool,htmlAttributes:u.default.object,link:u.default.arrayOf(u.default.object),meta:u.default.arrayOf(u.default.object),noscript:u.default.arrayOf(u.default.object),onChangeClientState:u.default.func,script:u.default.arrayOf(u.default.object),style:u.default.arrayOf(u.default.object),title:u.default.string,titleAttributes:u.default.object,titleTemplate:u.default.string},t.defaultProps={defer:!0,encodeSpecialCharacters:!0},t.peek=e.peek,t.rewind=function(){var t=e.rewind();return t||(t=(0,h.mapStateOnServer)({baseTag:[],bodyAttributes:{},encodeSpecialCharacters:!0,htmlAttributes:{},linkTags:[],metaTags:[],noscriptTags:[],scriptTags:[],styleTags:[],title:"",titleAttributes:{}})),t},n}((0,c.default)(h.reducePropsToState,h.handleClientStateChange,h.mapStateOnServer)(function(){return null}));f.renderStatic=f.rewind,t.Helmet=f,t.default=f},TOwV:function(e,t,n){"use strict";e.exports=n("qT12")},TRZx:function(e,t,n){e.exports=n("JbBM")},TdF3:function(e){e.exports=function(e){var t="<>",n="</>",r={begin:/<[A-Za-z0-9\\._:-]+/,end:/\/[A-Za-z0-9\\._:-]+>|\/>/},i="[A-Za-z$_][0-9A-Za-z$_]*",o={keyword:"in of if for while finally var new function do return void else break catch instanceof with throw case default try this switch continue typeof delete let yield const export super debugger as async await static import from as",literal:"true false null undefined NaN Infinity",built_in:"eval isFinite isNaN parseFloat parseInt decodeURI decodeURIComponent encodeURI encodeURIComponent escape unescape Object Function Boolean Error EvalError InternalError RangeError ReferenceError StopIteration SyntaxError TypeError URIError Number Math Date String RegExp Array Float32Array Float64Array Int16Array Int32Array Int8Array Uint16Array Uint32Array Uint8Array Uint8ClampedArray ArrayBuffer DataView JSON Intl arguments require module console window document Symbol Set Map WeakSet WeakMap Proxy Reflect Promise"},a={className:"number",variants:[{begin:"\\b(0[bB][01]+)n?"},{begin:"\\b(0[oO][0-7]+)n?"},{begin:e.C_NUMBER_RE+"n?"}],relevance:0},s={className:"subst",begin:"\\$\\{",end:"\\}",keywords:o,contains:[]},u={begin:"html`",end:"",starts:{end:"`",returnEnd:!1,contains:[e.BACKSLASH_ESCAPE,s],subLanguage:"xml"}},c={begin:"css`",end:"",starts:{end:"`",returnEnd:!1,contains:[e.BACKSLASH_ESCAPE,s],subLanguage:"css"}},l={className:"string",begin:"`",end:"`",contains:[e.BACKSLASH_ESCAPE,s]};s.contains=[e.APOS_STRING_MODE,e.QUOTE_STRING_MODE,u,c,l,a,e.REGEXP_MODE];var h=s.contains.concat([e.C_BLOCK_COMMENT_MODE,e.C_LINE_COMMENT_MODE]);return{aliases:["js","jsx","mjs","cjs"],keywords:o,contains:[{className:"meta",relevance:10,begin:/^\s*['"]use (strict|asm)['"]/},{className:"meta",begin:/^#!/,end:/$/},e.APOS_STRING_MODE,e.QUOTE_STRING_MODE,u,c,l,e.C_LINE_COMMENT_MODE,e.COMMENT("/\\*\\*","\\*/",{relevance:0,contains:[{className:"doctag",begin:"@[A-Za-z]+",contains:[{className:"type",begin:"\\{",end:"\\}",relevance:0},{className:"variable",begin:i+"(?=\\s*(-)|$)",endsParent:!0,relevance:0},{begin:/(?=[^\n])\s/,relevance:0}]}]}),e.C_BLOCK_COMMENT_MODE,a,{begin:/[{,\n]\s*/,relevance:0,contains:[{begin:i+"\\s*:",returnBegin:!0,relevance:0,contains:[{className:"attr",begin:i,relevance:0}]}]},{begin:"("+e.RE_STARTERS_RE+"|\\b(case|return|throw)\\b)\\s*",keywords:"return throw case",contains:[e.C_LINE_COMMENT_MODE,e.C_BLOCK_COMMENT_MODE,e.REGEXP_MODE,{className:"function",begin:"(\\(.*?\\)|"+i+")\\s*=>",returnBegin:!0,end:"\\s*=>",contains:[{className:"params",variants:[{begin:i},{begin:/\(\s*\)/},{begin:/\(/,end:/\)/,excludeBegin:!0,excludeEnd:!0,keywords:o,contains:h}]}]},{className:"",begin:/\s/,end:/\s*/,skip:!0},{variants:[{begin:t,end:n},{begin:r.begin,end:r.end}],subLanguage:"xml",contains:[{begin:r.begin,end:r.end,skip:!0,contains:["self"]}]}],relevance:0},{className:"function",beginKeywords:"function",end:/\{/,excludeEnd:!0,contains:[e.inherit(e.TITLE_MODE,{begin:i}),{className:"params",begin:/\(/,end:/\)/,excludeBegin:!0,excludeEnd:!0,contains:h}],illegal:/\[|%/},{begin:/\$[(.]/},e.METHOD_GUARD,{className:"class",beginKeywords:"class",end:/[{;=]/,excludeEnd:!0,illegal:/[:"\[\]]/,contains:[{beginKeywords:"extends"},e.UNDERSCORE_TITLE_MODE]},{beginKeywords:"constructor get set",end:/\{/,excludeEnd:!0}],illegal:/#(?!!)/}}},Tit0:function(e,t,n){"use strict";function r(e,t){return(r=u.a||function(e,t){return e.__proto__=t,e})(e,t)}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=a()(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&r(e,t)}var o=n("SqZg"),a=n.n(o),s=n("TRZx"),u=n.n(s);n.d(t,"a",function(){return i})},TuGD:function(e,t,n){var r=n("UWiX")("iterator"),i=!1;try{var o=[7][r]();o.return=function(){i=!0},Array.from(o,function(){throw 2})}catch(t){}e.exports=function(e,t){if(!t&&!i)return!1;var n=!1;try{var o=[7],a=o[r]();a.next=function(){return{done:n=!0}},o[r]=function(){return a},e(o)}catch(t){}return n}},"U+KD":function(e,t,n){var r=n("B+OT"),i=n("JB68"),o=n("VVlx")("IE_PROTO"),a=Object.prototype;e.exports=Object.getPrototypeOf||function(e){return e=i(e),r(e,o)?e[o]:"function"==typeof e.constructor&&e instanceof e.constructor?e.constructor.prototype:e instanceof Object?a:null}},UO39:function(e){e.exports=function(e,t){return{value:t,done:!!e}}},UQ3f:function(e,t,n){"use strict";var r=n("hyoZ");e.exports=new r("tag:yaml.org,2002:js/regexp",{kind:"scalar",resolve:function(e){if(null===e)return!1;if(0===e.length)return!1;var t=e,n=/\/([gim]*)$/.exec(e),r="";if("/"===t[0]){if(n&&(r=n[1]),3<r.length)return!1;if("/"!==t[t.length-r.length-1])return!1}return!0},construct:function(e){var t=e,n=/\/([gim]*)$/.exec(e),r="";return"/"===t[0]&&(n&&(r=n[1]),t=t.slice(1,t.length-r.length-1)),new RegExp(t,r)},predicate:function(e){return"[object RegExp]"===Object.prototype.toString.call(e)},represent:function(e){var t="/"+e.source+"/";return e.global&&(t+="g"),e.multiline&&(t+="m"),e.ignoreCase&&(t+="i"),t}})},UWiX:function(e,t,n){var r=n("29s/")("wks"),i=n("YqAc"),o=n("5T2Y").Symbol,a="function"==typeof o;(e.exports=function(e){return r[e]||(r[e]=a&&o[e]||(a?o:i)("Symbol."+e))}).store=r},UXZV:function(e,t,n){e.exports=n("UbbE")},UbbE:function(e,t,n){n("o8NH"),e.exports=n("WEpk").Object.assign},Ui4e:function(e,t,n){var r=n("93I4"),i=n("6/1s").onFreeze;n("zn7N")("freeze",function(e){return function(t){return e&&r(t)?e(i(t)):t}})},VVlx:function(e,t,n){var r=n("29s/")("keys"),i=n("YqAc");e.exports=function(e){return r[e]||(r[e]=i(e))}},VtPO:function(e,t,n){"use strict";var r=n("3lC6");e.exports=r.DEFAULT=new r({include:[n("Z3Ei")],explicit:[n("MERt"),n("UQ3f"),n("Njqi")]})},"W+7N":function(e){e.exports={readByte:function(){return function(e){return e.readByte()}},readBytes:function(e){return function(t){return t.readBytes(e)}},readString:function(e){return function(t){return t.readString(e)}},readUnsigned:function(e){return function(t){return t.readUnsigned(e)}},readArray:function(e,t){return function(n,r,i){for(var o=t(n,r,i),a=Array(o),s=0;s<o;s++)a[s]=n.readBytes(e);return a}}}},W070:function(e,t,n){var r=n("NsO/"),i=n("tEej"),o=n("D8kY");e.exports=function(e){return function(t,n,a){var s,u=r(t),c=i(u.length),l=o(a,c);if(e&&n!=n){for(;c>l;)if((s=u[l++])!=s)return!0}else for(;c>l;l++)if((e||l in u)&&u[l]===n)return e||l||0;return!e&&-1}}},W7oM:function(e,t,n){n("nZgG");var r=n("WEpk").Object;e.exports=function(e,t){return r.defineProperties(e,t)}},WEpk:function(e){var t=e.exports={version:"2.6.11"};"number"==typeof __e&&(__e=t)},WaGi:function(e,t,n){function r(e,t){for(var n,r=0;r<t.length;r++)(n=t[r]).enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),i(e,n.key,n)}var i=n("hfKm");e.exports=function(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),e}},WbBG:function(e){"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},Womt:function(e,t,n){"use strict";function r(){}function i(e,t){this.x=e||0,this.y=t||0}function o(){this.elements=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],0<arguments.length&&console.error("THREE.Matrix4: the constructor no longer reads arguments. use .set() instead.")}function a(e,t,n,r){this._x=e||0,this._y=t||0,this._z=n||0,this._w=void 0===r?1:r}function s(e,t,n){this.x=e||0,this.y=t||0,this.z=n||0}function u(){this.elements=[1,0,0,0,1,0,0,0,1],0<arguments.length&&console.error("THREE.Matrix3: the constructor no longer reads arguments. use .set() instead.")}function c(e,t,n,r,o,a,s,l,h,p){Object.defineProperty(this,"id",{value:Xu++}),this.uuid=Hu.generateUUID(),this.name="",this.image=void 0===e?c.DEFAULT_IMAGE:e,this.mipmaps=[],this.mapping=void 0===t?c.DEFAULT_MAPPING:t,this.wrapS=void 0===n?ws:n,this.wrapT=void 0===r?ws:r,this.magFilter=void 0===o?As:o,this.minFilter=void 0===a?Cs:a,this.anisotropy=void 0===h?1:h,this.format=void 0===s?Hs:s,this.type=void 0===l?Ds:l,this.offset=new i(0,0),this.repeat=new i(1,1),this.center=new i(0,0),this.rotation=0,this.matrixAutoUpdate=!0,this.matrix=new u,this.generateMipmaps=!0,this.premultiplyAlpha=!1,this.flipY=!0,this.unpackAlignment=4,this.encoding=void 0===p?Pu:p,this.version=0,this.onUpdate=null}function l(e,t,n,r){this.x=e||0,this.y=t||0,this.z=n||0,this.w=void 0===r?1:r}function h(e,t,n){this.width=e,this.height=t,this.scissor=new l(0,0,e,t),this.scissorTest=!1,this.viewport=new l(0,0,e,t),n=n||{},this.texture=new c(void 0,void 0,n.wrapS,n.wrapT,n.magFilter,n.minFilter,n.format,n.type,n.anisotropy,n.encoding),this.texture.generateMipmaps=void 0!==n.generateMipmaps&&n.generateMipmaps,this.texture.minFilter=void 0===n.minFilter?As:n.minFilter,this.depthBuffer=void 0===n.depthBuffer||n.depthBuffer,this.stencilBuffer=void 0===n.stencilBuffer||n.stencilBuffer,this.depthTexture=void 0===n.depthTexture?null:n.depthTexture}function p(e,t,n){h.call(this,e,t,n),this.activeCubeFace=0,this.activeMipMapLevel=0}function f(e,t,n,r,i,o,a,s,u,l,h,p){c.call(this,null,o,a,s,u,l,r,i,h,p),this.image={data:e,width:t,height:n},this.magFilter=void 0===u?Es:u,this.minFilter=void 0===l?Es:l,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}function d(e,t){this.min=void 0===e?new s(1/0,1/0,1/0):e,this.max=void 0===t?new s(-1/0,-1/0,-1/0):t}function m(e,t){this.center=void 0===e?new s:e,this.radius=void 0===t?0:t}function g(e,t){this.normal=void 0===e?new s(1,0,0):e,this.constant=void 0===t?0:t}function v(e,t,n,r,i,o){this.planes=[void 0===e?new g:e,void 0===t?new g:t,void 0===n?new g:n,void 0===r?new g:r,void 0===i?new g:i,void 0===o?new g:o]}function y(e){var t={};for(var n in e)for(var r in t[n]={},e[n]){var i=e[n][r];t[n][r]=i&&(i.isColor||i.isMatrix3||i.isMatrix4||i.isVector2||i.isVector3||i.isVector4||i.isTexture)?i.clone():Array.isArray(i)?i.slice():i}return t}function x(e){for(var t,n={},r=0;r<e.length;r++)for(var i in t=y(e[r]))n[i]=t[i];return n}function b(e,t,n){return void 0===t&&void 0===n?this.set(e):this.setRGB(e,t,n)}function w(){function e(i,o){!1===n||(r(i,o),t.requestAnimationFrame(e))}var t=null,n=!1,r=null;return{start:function(){1==n||null===r||(t.requestAnimationFrame(e),n=!0)},stop:function(){n=!1},setAnimationLoop:function(e){r=e},setContext:function(e){t=e}}}function _(e){function t(t,n){var r=t.array,i=t.dynamic?35048:35044,o=e.createBuffer();e.bindBuffer(n,o),e.bufferData(n,r,i),t.onUploadCallback();var a=5126;return r instanceof Float32Array?a=5126:r instanceof Float64Array?console.warn("THREE.WebGLAttributes: Unsupported data buffer format: Float64Array."):r instanceof Uint16Array?a=5123:r instanceof Int16Array?a=5122:r instanceof Uint32Array?a=5125:r instanceof Int32Array?a=5124:r instanceof Int8Array?a=5120:r instanceof Uint8Array&&(a=5121),{buffer:o,type:a,bytesPerElement:r.BYTES_PER_ELEMENT,version:t.version}}function n(t,n,r){var i=n.array,o=n.updateRange;e.bindBuffer(r,t),!1===n.dynamic?e.bufferData(r,i,35044):-1===o.count?e.bufferSubData(r,0,i):0===o.count?console.error("THREE.WebGLObjects.updateBuffer: dynamic THREE.BufferAttribute marked as needsUpdate but updateRange.count is 0, ensure you are using set methods or updating manually."):(e.bufferSubData(r,o.offset*i.BYTES_PER_ELEMENT,i.subarray(o.offset,o.offset+o.count)),o.count=-1)}var r=new WeakMap;return{get:function(e){return e.isInterleavedBufferAttribute&&(e=e.data),r.get(e)},remove:function(t){t.isInterleavedBufferAttribute&&(t=t.data);var n=r.get(t);n&&(e.deleteBuffer(n.buffer),r.delete(t))},update:function(e,i){e.isInterleavedBufferAttribute&&(e=e.data);var o=r.get(e);void 0===o?r.set(e,t(e,i)):o.version<e.version&&(n(o.buffer,e,i),o.version=e.version)}}}function E(e,t,n,r,i,o){this.a=e,this.b=t,this.c=n,this.normal=r&&r.isVector3?r:new s,this.vertexNormals=Array.isArray(r)?r:[],this.color=i&&i.isColor?i:new b,this.vertexColors=Array.isArray(i)?i:[],this.materialIndex=void 0===o?0:o}function S(e,t,n,r){this._x=e||0,this._y=t||0,this._z=n||0,this._order=r||S.DefaultOrder}function T(){this.mask=1}function A(){Object.defineProperty(this,"id",{value:$u++}),this.uuid=Hu.generateUUID(),this.name="",this.type="Object3D",this.parent=null,this.children=[],this.up=A.DefaultUp.clone();var e=new s,t=new S,n=new a,r=new s(1,1,1);t.onChange(function(){n.setFromEuler(t,!1)}),n.onChange(function(){t.setFromQuaternion(n,void 0,!1)}),Object.defineProperties(this,{position:{configurable:!0,enumerable:!0,value:e},rotation:{configurable:!0,enumerable:!0,value:t},quaternion:{configurable:!0,enumerable:!0,value:n},scale:{configurable:!0,enumerable:!0,value:r},modelViewMatrix:{value:new o},normalMatrix:{value:new u}}),this.matrix=new o,this.matrixWorld=new o,this.matrixAutoUpdate=A.DefaultMatrixAutoUpdate,this.matrixWorldNeedsUpdate=!1,this.layers=new T,this.visible=!0,this.castShadow=!1,this.receiveShadow=!1,this.frustumCulled=!0,this.renderOrder=0,this.userData={}}function M(){Object.defineProperty(this,"id",{value:Qu+=2}),this.uuid=Hu.generateUUID(),this.name="",this.type="Geometry",this.vertices=[],this.colors=[],this.faces=[],this.faceVertexUvs=[[]],this.morphTargets=[],this.morphNormals=[],this.skinWeights=[],this.skinIndices=[],this.lineDistances=[],this.boundingBox=null,this.boundingSphere=null,this.elementsNeedUpdate=!1,this.verticesNeedUpdate=!1,this.uvsNeedUpdate=!1,this.normalsNeedUpdate=!1,this.colorsNeedUpdate=!1,this.lineDistancesNeedUpdate=!1,this.groupsNeedUpdate=!1}function C(e,t,n){if(Array.isArray(e))throw new TypeError("THREE.BufferAttribute: array should be a Typed Array.");this.name="",this.array=e,this.itemSize=t,this.count=void 0===e?0:e.length/t,this.normalized=!0===n,this.dynamic=!1,this.updateRange={offset:0,count:-1},this.version=0}function D(e,t,n){C.call(this,new Int8Array(e),t,n)}function L(e,t,n){C.call(this,new Uint8Array(e),t,n)}function P(e,t,n){C.call(this,new Uint8ClampedArray(e),t,n)}function R(e,t,n){C.call(this,new Int16Array(e),t,n)}function O(e,t,n){C.call(this,new Uint16Array(e),t,n)}function I(e,t,n){C.call(this,new Int32Array(e),t,n)}function k(e,t,n){C.call(this,new Uint32Array(e),t,n)}function N(e,t,n){C.call(this,new Float32Array(e),t,n)}function F(e,t,n){C.call(this,new Float64Array(e),t,n)}function B(){this.vertices=[],this.normals=[],this.colors=[],this.uvs=[],this.uvs2=[],this.groups=[],this.morphTargets={},this.skinWeights=[],this.skinIndices=[],this.boundingBox=null,this.boundingSphere=null,this.verticesNeedUpdate=!1,this.normalsNeedUpdate=!1,this.colorsNeedUpdate=!1,this.uvsNeedUpdate=!1,this.groupsNeedUpdate=!1}function U(e){if(0===e.length)return-1/0;for(var t=e[0],n=1,r=e.length;n<r;++n)e[n]>t&&(t=e[n]);return t}function z(){Object.defineProperty(this,"id",{value:ec+=2}),this.uuid=Hu.generateUUID(),this.name="",this.type="BufferGeometry",this.index=null,this.attributes={},this.morphAttributes={},this.groups=[],this.boundingBox=null,this.boundingSphere=null,this.drawRange={start:0,count:1/0},this.userData={}}function j(e,t,n,r,i,o){M.call(this),this.type="BoxGeometry",this.parameters={width:e,height:t,depth:n,widthSegments:r,heightSegments:i,depthSegments:o},this.fromBufferGeometry(new G(e,t,n,r,i,o)),this.mergeVertices()}function G(e,t,n,r,i,o){function a(e,t,n,r,i,o,a,m,g,v,y){var x,b,w=g+1,_=0,E=0,S=new s;for(b=0;b<v+1;b++){var T=b*(a/v)-a/2;for(x=0;x<w;x++){var A=x*(o/g)-o/2;S[e]=A*r,S[t]=T*i,S[n]=m/2,l.push(S.x,S.y,S.z),S[e]=0,S[t]=0,S[n]=0<m?1:-1,h.push(S.x,S.y,S.z),p.push(x/g),p.push(1-b/v),_+=1}}for(b=0;b<v;b++)for(x=0;x<g;x++){var M=f+x+w*b,C=f+x+w*(b+1),D=f+(x+1)+w*(b+1),L=f+(x+1)+w*b;c.push(M,C,L),c.push(C,D,L),E+=6}u.addGroup(d,E,y),d+=E,f+=_}z.call(this),this.type="BoxBufferGeometry",this.parameters={width:e,height:t,depth:n,widthSegments:r,heightSegments:i,depthSegments:o};var u=this;e=e||1,t=t||1,n=n||1,r=sa(r)||1,i=sa(i)||1,o=sa(o)||1;var c=[],l=[],h=[],p=[],f=0,d=0;a("z","y","x",-1,-1,n,t,e,o,i,0),a("z","y","x",1,-1,n,t,-e,o,i,1),a("x","z","y",1,1,e,n,t,r,o,2),a("x","z","y",1,-1,e,n,-t,r,o,3),a("x","y","z",1,-1,e,t,n,r,i,4),a("x","y","z",-1,-1,e,t,-n,r,i,5),this.setIndex(c),this.addAttribute("position",new N(l,3)),this.addAttribute("normal",new N(h,3)),this.addAttribute("uv",new N(p,2))}function H(e,t,n,r){M.call(this),this.type="PlaneGeometry",this.parameters={width:e,height:t,widthSegments:n,heightSegments:r},this.fromBufferGeometry(new V(e,t,n,r)),this.mergeVertices()}function V(e,t,n,r){z.call(this),this.type="PlaneBufferGeometry",this.parameters={width:e,height:t,widthSegments:n,heightSegments:r};var i,o,a=(e=e||1)/2,s=(t=t||1)/2,u=sa(n)||1,c=sa(r)||1,l=u+1,h=e/u,p=t/c,f=[],d=[],m=[],g=[];for(o=0;o<c+1;o++){var v=o*p-s;for(i=0;i<l;i++){var y=i*h-a;d.push(y,-v,0),m.push(0,0,1),g.push(i/u),g.push(1-o/c)}}for(o=0;o<c;o++)for(i=0;i<u;i++){var x=i+l*o,b=i+l*(o+1),w=i+1+l*(o+1),_=i+1+l*o;f.push(x,b,_),f.push(b,w,_)}this.setIndex(f),this.addAttribute("position",new N(d,3)),this.addAttribute("normal",new N(m,3)),this.addAttribute("uv",new N(g,2))}function W(){Object.defineProperty(this,"id",{value:tc++}),this.uuid=Hu.generateUUID(),this.name="",this.type="Material",this.fog=!0,this.lights=!0,this.blending=Ca,this.side=xa,this.flatShading=!1,this.vertexColors=Sa,this.opacity=1,this.transparent=!1,this.blendSrc=Ga,this.blendDst=Ha,this.blendEquation=Oa,this.blendSrcAlpha=null,this.blendDstAlpha=null,this.blendEquationAlpha=null,this.depthFunc=$a,this.depthTest=!0,this.depthWrite=!0,this.clippingPlanes=null,this.clipIntersection=!1,this.clipShadows=!1,this.shadowSide=null,this.colorWrite=!0,this.precision=null,this.polygonOffset=!1,this.polygonOffsetFactor=0,this.polygonOffsetUnits=0,this.dithering=!1,this.alphaTest=0,this.premultipliedAlpha=!1,this.visible=!0,this.userData={},this.needsUpdate=!0}function X(e){W.call(this),this.type="ShaderMaterial",this.defines={},this.uniforms={},this.vertexShader="void main() {\n\tgl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\n}",this.fragmentShader="void main() {\n\tgl_FragColor = vec4( 1.0, 0.0, 0.0, 1.0 );\n}",this.linewidth=1,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.lights=!1,this.clipping=!1,this.skinning=!1,this.morphTargets=!1,this.morphNormals=!1,this.extensions={derivatives:!1,fragDepth:!1,drawBuffers:!1,shaderTextureLOD:!1},this.defaultAttributeValues={color:[1,1,1],uv:[0,0],uv2:[0,0]},this.index0AttributeName=void 0,this.uniformsNeedUpdate=!1,void 0!==e&&(void 0!==e.attributes&&console.error("THREE.ShaderMaterial: attributes should now be defined in THREE.BufferGeometry instead."),this.setValues(e))}function q(e,t){this.origin=void 0===e?new s:e,this.direction=void 0===t?new s:t}function Y(e,t,n){this.a=void 0===e?new s:e,this.b=void 0===t?new s:t,this.c=void 0===n?new s:n}function J(e){W.call(this),this.type="MeshBasicMaterial",this.color=new b(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=rs,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.skinning=!1,this.morphTargets=!1,this.lights=!1,this.setValues(e)}function Z(e,t){A.call(this),this.type="Mesh",this.geometry=void 0===e?new z:e,this.material=void 0===t?new J({color:16777215*Math.random()}):t,this.drawMode=Cu,this.updateMorphTargets()}function K(e,t,n,r){function i(e,n){t.buffers.color.setClear(e.r,e.g,e.b,n,r)}var o,a,s=new b(0),u=0,c=null,l=0;return{getClearColor:function(){return s},setClearColor:function(e,t){s.set(e),i(s,u=void 0===t?1:t)},getClearAlpha:function(){return u},setClearAlpha:function(e){i(s,u=e)},render:function(t,r,h,p){var f=r.background;if(null===f?(i(s,u),c=null,l=0):f&&f.isColor&&(i(f,1),p=!0,c=null,l=0),(e.autoClear||p)&&e.clear(e.autoClearColor,e.autoClearDepth,e.autoClearStencil),f&&(f.isCubeTexture||f.isWebGLRenderTargetCube)){void 0===a&&((a=new Z(new G(1,1,1),new X({type:"BackgroundCubeMaterial",uniforms:y(Ku.cube.uniforms),vertexShader:Ku.cube.vertexShader,fragmentShader:Ku.cube.fragmentShader,side:ba,depthTest:!0,depthWrite:!1,fog:!1}))).geometry.removeAttribute("normal"),a.geometry.removeAttribute("uv"),a.onBeforeRender=function(e,t,n){this.matrixWorld.copyPosition(n.matrixWorld)},Object.defineProperty(a.material,"map",{get:function(){return this.uniforms.tCube.value}}),n.update(a));var d=f.isWebGLRenderTargetCube?f.texture:f;a.material.uniforms.tCube.value=d,a.material.uniforms.tFlip.value=f.isWebGLRenderTargetCube?1:-1,(c!==f||l!==d.version)&&(a.material.needsUpdate=!0,c=f,l=d.version),t.unshift(a,a.geometry,a.material,0,null)}else f&&f.isTexture&&(void 0===o&&((o=new Z(new V(2,2),new X({type:"BackgroundMaterial",uniforms:y(Ku.background.uniforms),vertexShader:Ku.background.vertexShader,fragmentShader:Ku.background.fragmentShader,side:xa,depthTest:!1,depthWrite:!1,fog:!1}))).geometry.removeAttribute("normal"),Object.defineProperty(o.material,"map",{get:function(){return this.uniforms.t2D.value}}),n.update(o)),o.material.uniforms.t2D.value=f,!0===f.matrixAutoUpdate&&f.updateMatrix(),o.material.uniforms.uvTransform.value.copy(f.matrix),(c!==f||l!==f.version)&&(o.material.needsUpdate=!0,c=f,l=f.version),t.unshift(o,o.geometry,o.material,0,null))}}}function $(e,t,n,r){var i;this.setMode=function(e){i=e},this.render=function(t,r){e.drawArrays(i,t,r),n.update(r,i)},this.renderInstances=function(o,a,s){var u;if(r.isWebGL2)u=e;else if(null===(u=t.get("ANGLE_instanced_arrays")))return void console.error("THREE.WebGLBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");u[r.isWebGL2?"drawArraysInstanced":"drawArraysInstancedANGLE"](i,a,s,o.maxInstancedCount),n.update(s,i,o.maxInstancedCount)}}function Q(e,t,n){function r(t){if("highp"===t){if(0<e.getShaderPrecisionFormat(35633,36338).precision&&0<e.getShaderPrecisionFormat(35632,36338).precision)return"highp";t="mediump"}return"mediump"===t&&0<e.getShaderPrecisionFormat(35633,36337).precision&&0<e.getShaderPrecisionFormat(35632,36337).precision?"mediump":"lowp"}var i,o="undefined"!=typeof WebGL2RenderingContext&&e instanceof WebGL2RenderingContext,a=void 0===n.precision?"highp":n.precision,s=r(a);s!==a&&(console.warn("THREE.WebGLRenderer:",a,"not supported, using",s,"instead."),a=s);var u=!0===n.logarithmicDepthBuffer,c=e.getParameter(34930),l=e.getParameter(35660),h=e.getParameter(3379),p=e.getParameter(34076),f=e.getParameter(34921),d=e.getParameter(36347),m=e.getParameter(36348),g=e.getParameter(36349),v=0<l,y=o||!!t.get("OES_texture_float");return{isWebGL2:o,getMaxAnisotropy:function(){if(void 0!==i)return i;var n=t.get("EXT_texture_filter_anisotropic");return i=null===n?0:e.getParameter(n.MAX_TEXTURE_MAX_ANISOTROPY_EXT)},getMaxPrecision:r,precision:a,logarithmicDepthBuffer:u,maxTextures:c,maxVertexTextures:l,maxTextureSize:h,maxCubemapSize:p,maxAttributes:f,maxVertexUniforms:d,maxVaryings:m,maxFragmentUniforms:g,vertexTextures:v,floatFragmentTextures:y,floatVertexTextures:v&&y}}function ee(){function e(){l.value!==r&&(l.value=r,l.needsUpdate=0<i),n.numPlanes=i,n.numIntersection=0}function t(e,t,r,i){var o=null===e?0:e.length,a=null;if(0!==o){if(a=l.value,!0!==i||null===a){var u=r+4*o,h=t.matrixWorldInverse;c.getNormalMatrix(h),(null===a||a.length<u)&&(a=new Float32Array(u));for(var p=0,f=r;p!==o;++p,f+=4)s.copy(e[p]).applyMatrix4(h,c),s.normal.toArray(a,f),a[f+3]=s.constant}l.value=a,l.needsUpdate=!0}return n.numPlanes=o,a}var n=this,r=null,i=0,o=!1,a=!1,s=new g,c=new u,l={value:null,needsUpdate:!1};this.uniform=l,this.numPlanes=0,this.numIntersection=0,this.init=function(e,n,a){var s=0!==e.length||n||0!==i||o;return o=n,r=t(e,a,0),i=e.length,s},this.beginShadows=function(){a=!0,t(null)},this.endShadows=function(){a=!1,e()},this.setState=function(n,s,u,c,h,p){if(!o||null===n||0===n.length||a&&!u)a?t(null):e();else{var f=a?0:i,d=4*f,m=h.clippingState||null;l.value=m,m=t(n,c,d,p);for(var g=0;g!==d;++g)m[g]=r[g];h.clippingState=m,this.numIntersection=s?this.numPlanes:0,this.numPlanes+=f}}}function te(e){var t={};return{get:function(n){return void 0!==t[n]?t[n]:(null===(r="WEBGL_depth_texture"===n?e.getExtension("WEBGL_depth_texture")||e.getExtension("MOZ_WEBGL_depth_texture")||e.getExtension("WEBKIT_WEBGL_depth_texture"):"EXT_texture_filter_anisotropic"===n?e.getExtension("EXT_texture_filter_anisotropic")||e.getExtension("MOZ_EXT_texture_filter_anisotropic")||e.getExtension("WEBKIT_EXT_texture_filter_anisotropic"):"WEBGL_compressed_texture_s3tc"===n?e.getExtension("WEBGL_compressed_texture_s3tc")||e.getExtension("MOZ_WEBGL_compressed_texture_s3tc")||e.getExtension("WEBKIT_WEBGL_compressed_texture_s3tc"):"WEBGL_compressed_texture_pvrtc"===n?e.getExtension("WEBGL_compressed_texture_pvrtc")||e.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc"):e.getExtension(n))&&console.warn("THREE.WebGLRenderer: "+n+" extension not supported."),t[n]=r,r);var r}}}function ne(e,t,n){function r(e){var a=e.target,s=i[a.id];for(var u in null!==s.index&&t.remove(s.index),s.attributes)t.remove(s.attributes[u]);a.removeEventListener("dispose",r),delete i[a.id];var c=o[s.id];c&&(t.remove(c),delete o[s.id]),n.memory.geometries--}var i={},o={};return{get:function(e,t){var o=i[t.id];return o||(t.addEventListener("dispose",r),t.isBufferGeometry?o=t:t.isGeometry&&(void 0===t._bufferGeometry&&(t._bufferGeometry=(new z).setFromObject(e)),o=t._bufferGeometry),i[t.id]=o,n.memory.geometries++,o)},update:function(e){var n=e.index,r=e.attributes;for(var i in null!==n&&t.update(n,34963),r)t.update(r[i],34962);var o=e.morphAttributes;for(var i in o)for(var a=o[i],s=0,u=a.length;s<u;s++)t.update(a[s],34962)},getWireframeAttribute:function(e){var n=o[e.id];if(n)return n;var r,i=[],a=e.index,s=e.attributes;if(null!==a)for(var u=0,c=(r=a.array).length;u<c;u+=3){var l=r[u+0],h=r[u+1],p=r[u+2];i.push(l,h,h,p,p,l)}else for(u=0,c=(r=s.position.array).length/3-1;u<c;u+=3)l=u+0,h=u+1,p=u+2,i.push(l,h,h,p,p,l);return n=new(65535<U(i)?k:O)(i,1),t.update(n,34963),o[e.id]=n,n}}}function re(e,t,n,r){var i,o,a;this.setMode=function(e){i=e},this.setIndex=function(e){o=e.type,a=e.bytesPerElement},this.render=function(t,r){e.drawElements(i,r,o,t*a),n.update(r,i)},this.renderInstances=function(s,u,c){var l;if(r.isWebGL2)l=e;else if(null===(l=t.get("ANGLE_instanced_arrays")))return void console.error("THREE.WebGLIndexedBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");l[r.isWebGL2?"drawElementsInstanced":"drawElementsInstancedANGLE"](i,c,o,u*a,s.maxInstancedCount),n.update(c,i,s.maxInstancedCount)}}function ie(){var e={frame:0,calls:0,triangles:0,points:0,lines:0};return{memory:{geometries:0,textures:0},render:e,programs:null,autoReset:!0,reset:function(){e.frame++,e.calls=0,e.triangles=0,e.points=0,e.lines=0},update:function(t,n,r){switch(r=r||1,e.calls++,n){case 4:e.triangles+=r*(t/3);break;case 5:case 6:e.triangles+=r*(t-2);break;case 1:e.lines+=r*(t/2);break;case 3:e.lines+=r*(t-1);break;case 2:e.lines+=r*t;break;case 0:e.points+=r*t;break;default:console.error("THREE.WebGLInfo: Unknown draw mode:",n)}}}}function oe(e,t){return Yo(t[1])-Yo(e[1])}function ae(e){var t={},n=new Float32Array(8);return{update:function(r,i,o,a){var s=r.morphTargetInfluences,u=s.length,c=t[i.id];if(void 0===c){c=[];for(var l=0;l<u;l++)c[l]=[l,0];t[i.id]=c}var h,p=o.morphTargets&&i.morphAttributes.position,f=o.morphNormals&&i.morphAttributes.normal;for(l=0;l<u;l++)0!==(h=c[l])[1]&&(p&&i.removeAttribute("morphTarget"+l),f&&i.removeAttribute("morphNormal"+l));for(l=0;l<u;l++)(h=c[l])[0]=l,h[1]=s[l];for(c.sort(oe),l=0;8>l;l++){if(h=c[l]){var d=h[0],m=h[1];if(m){p&&i.addAttribute("morphTarget"+l,p[d]),f&&i.addAttribute("morphNormal"+l,f[d]),n[l]=m;continue}}n[l]=0}a.getUniforms().setValue(e,"morphTargetInfluences",n)}}}function se(e,t){var n={};return{update:function(r){var i=t.render.frame,o=r.geometry,a=e.get(r,o);return n[a.id]!==i&&(o.isGeometry&&a.updateFromObject(r),e.update(a),n[a.id]=i),a},dispose:function(){n={}}}}function ue(e,t,n,r,i,o,a,s,u,l){e=void 0===e?[]:e,t=void 0===t?fs:t,c.call(this,e,t,n,r,i,o,a,s,u,l),this.flipY=!1}function ce(e,t,n,r){c.call(this,null),this.image={data:e,width:t,height:n,depth:r},this.magFilter=Es,this.minFilter=Es,this.generateMipmaps=!1,this.flipY=!1}function le(){this.seq=[],this.map={}}function he(e,t,n){var r=e[0];if(0>=r||0<r)return e;var i=t*n,o=oc[i];if(void 0===o&&(o=new Float32Array(i),oc[i]=o),0!==t){r.toArray(o,0);for(var a=1,s=0;a!==t;++a)s+=n,e[a].toArray(o,s)}return o}function pe(e,t){if(e.length!==t.length)return!1;for(var n=0,r=e.length;n<r;n++)if(e[n]!==t[n])return!1;return!0}function fe(e,t){for(var n=0,r=t.length;n<r;n++)e[n]=t[n]}function de(e,t){var n=ac[t];void 0===n&&(n=new Int32Array(t),ac[t]=n);for(var r=0;r!==t;++r)n[r]=e.allocTextureUnit();return n}function me(e,t){var n=this.cache;n[0]===t||(e.uniform1f(this.addr,t),n[0]=t)}function ge(e,t){var n=this.cache;n[0]===t||(e.uniform1i(this.addr,t),n[0]=t)}function ve(e,t){var n=this.cache;if(void 0!==t.x)(n[0]!==t.x||n[1]!==t.y)&&(e.uniform2f(this.addr,t.x,t.y),n[0]=t.x,n[1]=t.y);else{if(pe(n,t))return;e.uniform2fv(this.addr,t),fe(n,t)}}function ye(e,t){var n=this.cache;if(void 0!==t.x)(n[0]!==t.x||n[1]!==t.y||n[2]!==t.z)&&(e.uniform3f(this.addr,t.x,t.y,t.z),n[0]=t.x,n[1]=t.y,n[2]=t.z);else if(void 0!==t.r)(n[0]!==t.r||n[1]!==t.g||n[2]!==t.b)&&(e.uniform3f(this.addr,t.r,t.g,t.b),n[0]=t.r,n[1]=t.g,n[2]=t.b);else{if(pe(n,t))return;e.uniform3fv(this.addr,t),fe(n,t)}}function xe(e,t){var n=this.cache;if(void 0!==t.x)(n[0]!==t.x||n[1]!==t.y||n[2]!==t.z||n[3]!==t.w)&&(e.uniform4f(this.addr,t.x,t.y,t.z,t.w),n[0]=t.x,n[1]=t.y,n[2]=t.z,n[3]=t.w);else{if(pe(n,t))return;e.uniform4fv(this.addr,t),fe(n,t)}}function be(e,t){var n=this.cache,r=t.elements;if(void 0===r){if(pe(n,t))return;e.uniformMatrix2fv(this.addr,!1,t),fe(n,t)}else{if(pe(n,r))return;cc.set(r),e.uniformMatrix2fv(this.addr,!1,cc),fe(n,r)}}function we(e,t){var n=this.cache,r=t.elements;if(void 0===r){if(pe(n,t))return;e.uniformMatrix3fv(this.addr,!1,t),fe(n,t)}else{if(pe(n,r))return;uc.set(r),e.uniformMatrix3fv(this.addr,!1,uc),fe(n,r)}}function _e(e,t){var n=this.cache,r=t.elements;if(void 0===r){if(pe(n,t))return;e.uniformMatrix4fv(this.addr,!1,t),fe(n,t)}else{if(pe(n,r))return;sc.set(r),e.uniformMatrix4fv(this.addr,!1,sc),fe(n,r)}}function Ee(e,t,n){var r=this.cache,i=n.allocTextureUnit();r[0]!==i&&(e.uniform1i(this.addr,i),r[0]=i),n.setTexture2D(t||nc,i)}function Se(e,t,n){var r=this.cache,i=n.allocTextureUnit();r[0]!==i&&(e.uniform1i(this.addr,i),r[0]=i),n.setTexture3D(t||rc,i)}function Te(e,t,n){var r=this.cache,i=n.allocTextureUnit();r[0]!==i&&(e.uniform1i(this.addr,i),r[0]=i),n.setTextureCube(t||ic,i)}function Ae(e,t){var n=this.cache;pe(n,t)||(e.uniform2iv(this.addr,t),fe(n,t))}function Me(e,t){var n=this.cache;pe(n,t)||(e.uniform3iv(this.addr,t),fe(n,t))}function Ce(e,t){var n=this.cache;pe(n,t)||(e.uniform4iv(this.addr,t),fe(n,t))}function De(e,t){var n=this.cache;pe(n,t)||(e.uniform1fv(this.addr,t),fe(n,t))}function Le(e,t){var n=this.cache;pe(n,t)||(e.uniform1iv(this.addr,t),fe(n,t))}function Pe(e,t){var n=this.cache,r=he(t,this.size,2);pe(n,r)||(e.uniform2fv(this.addr,r),this.updateCache(r))}function Re(e,t){var n=this.cache,r=he(t,this.size,3);pe(n,r)||(e.uniform3fv(this.addr,r),this.updateCache(r))}function Oe(e,t){var n=this.cache,r=he(t,this.size,4);pe(n,r)||(e.uniform4fv(this.addr,r),this.updateCache(r))}function Ie(e,t){var n=this.cache,r=he(t,this.size,4);pe(n,r)||(e.uniformMatrix2fv(this.addr,!1,r),this.updateCache(r))}function ke(e,t){var n=this.cache,r=he(t,this.size,9);pe(n,r)||(e.uniformMatrix3fv(this.addr,!1,r),this.updateCache(r))}function Ne(e,t){var n=this.cache,r=he(t,this.size,16);pe(n,r)||(e.uniformMatrix4fv(this.addr,!1,r),this.updateCache(r))}function Fe(e,t,n){var r=this.cache,i=t.length,o=de(n,i);!1===pe(r,o)&&(e.uniform1iv(this.addr,o),fe(r,o));for(var a=0;a!==i;++a)n.setTexture2D(t[a]||nc,o[a])}function Be(e,t,n){var r=this.cache,i=t.length,o=de(n,i);!1===pe(r,o)&&(e.uniform1iv(this.addr,o),fe(r,o));for(var a=0;a!==i;++a)n.setTextureCube(t[a]||ic,o[a])}function Ue(e,t,n){this.id=e,this.addr=n,this.cache=[],this.setValue=function(e){return 5126===e?me:35664===e?ve:35665===e?ye:35666===e?xe:35674===e?be:35675===e?we:35676===e?_e:35678===e||36198===e?Ee:35679===e?Se:35680===e?Te:5124===e||35670===e?ge:35667===e||35671===e?Ae:35668===e||35672===e?Me:35669===e||35673===e?Ce:void 0}(t.type)}function ze(e,t,n){this.id=e,this.addr=n,this.cache=[],this.size=t.size,this.setValue=function(e){return 5126===e?De:35664===e?Pe:35665===e?Re:35666===e?Oe:35674===e?Ie:35675===e?ke:35676===e?Ne:35678===e?Fe:35680===e?Be:5124===e||35670===e?Le:35667===e||35671===e?Ae:35668===e||35672===e?Me:35669===e||35673===e?Ce:void 0}(t.type)}function je(e){this.id=e,le.call(this)}function Ge(e,t){e.seq.push(t),e.map[t.id]=t}function He(e,t,n){var r=e.name,i=r.length;for(lc.lastIndex=0;;){var o=lc.exec(r),a=lc.lastIndex,s=o[1],u="]"===o[2],c=o[3];if(u&&(s|=0),void 0===c||"["===c&&a+2===i){Ge(n,void 0===c?new Ue(s,e,t):new ze(s,e,t));break}var l=n.map[s];void 0===l&&Ge(n,l=new je(s)),n=l}}function Ve(e,t,n){le.call(this),this.renderer=n;for(var r=e.getProgramParameter(t,35718),i=0;i<r;++i){var o=e.getActiveUniform(t,i);He(o,e.getUniformLocation(t,o.name),this)}}function We(e,t,n){var r=e.createShader(t);return e.shaderSource(r,n),e.compileShader(r),!1===e.getShaderParameter(r,35713)&&console.error("THREE.WebGLShader: Shader couldn't compile."),""!==e.getShaderInfoLog(r)&&console.warn("THREE.WebGLShader: gl.getShaderInfoLog()",35633===t?"vertex":"fragment",e.getShaderInfoLog(r),function(e){for(var t=e.split("\n"),n=0;n<t.length;n++)t[n]=n+1+": "+t[n];return t.join("\n")}(n)),r}function Xe(e){switch(e){case Pu:return["Linear","( value )"];case Ru:return["sRGB","( value )"];case Iu:return["RGBE","( value )"];case Nu:return["RGBM","( value, 7.0 )"];case Fu:return["RGBM","( value, 16.0 )"];case Bu:return["RGBD","( value, 256.0 )"];case Ou:return["Gamma","( value, float( GAMMA_FACTOR ) )"];default:throw new Error("unsupported encoding: "+e)}}function qe(e,t){var n=Xe(t);return"vec4 "+e+"( vec4 value ) { return "+n[0]+"ToLinear"+n[1]+"; }"}function Ye(e,t){var n=Xe(t);return"vec4 "+e+"( vec4 value ) { return LinearTo"+n[0]+n[1]+"; }"}function Je(e,t){var n;switch(t){case ss:n="Linear";break;case us:n="Reinhard";break;case cs:n="Uncharted2";break;case ls:n="OptimizedCineon";break;case hs:n="ACESFilmic";break;default:throw new Error("unsupported toneMapping: "+t)}return"vec3 "+e+"( vec3 color ) { return "+n+"ToneMapping( color ); }"}function Ze(e){return""!==e}function Ke(e,t){return e.replace(/NUM_DIR_LIGHTS/g,t.numDirLights).replace(/NUM_SPOT_LIGHTS/g,t.numSpotLights).replace(/NUM_RECT_AREA_LIGHTS/g,t.numRectAreaLights).replace(/NUM_POINT_LIGHTS/g,t.numPointLights).replace(/NUM_HEMI_LIGHTS/g,t.numHemiLights)}function $e(e,t){return e.replace(/NUM_CLIPPING_PLANES/g,t.numClippingPlanes).replace(/UNION_CLIPPING_PLANES/g,t.numClippingPlanes-t.numClipIntersection)}function Qe(e){return e.replace(/^[ \t]*#include +<([\w\d./]+)>/gm,function(e,t){var n=qu[t];if(void 0===n)throw new Error("Can not resolve #include <"+t+">");return Qe(n)})}function et(e){return e.replace(/#pragma unroll_loop[\s]+?for \( int i \= (\d+)\; i < (\d+)\; i \+\+ \) \{([\s\S]+?)(?=\})\}/g,function(e,t,n,r){for(var i="",o=parseInt(t);o<parseInt(n);o++)i+=r.replace(/\[ i \]/g,"[ "+o+" ]");return i})}function tt(e,t,n,r,i,o,a){var s=e.context,u=r.defines,c=i.vertexShader,l=i.fragmentShader,h="SHADOWMAP_TYPE_BASIC";o.shadowMapType===va?h="SHADOWMAP_TYPE_PCF":o.shadowMapType===ya&&(h="SHADOWMAP_TYPE_PCF_SOFT");var p="ENVMAP_TYPE_CUBE",f="ENVMAP_MODE_REFLECTION",d="ENVMAP_BLENDING_MULTIPLY";if(o.envMap){switch(r.envMap.mapping){case fs:case ds:p="ENVMAP_TYPE_CUBE";break;case ys:case xs:p="ENVMAP_TYPE_CUBE_UV";break;case ms:case gs:p="ENVMAP_TYPE_EQUIREC";break;case vs:p="ENVMAP_TYPE_SPHERE"}switch(r.envMap.mapping){case ds:case gs:f="ENVMAP_MODE_REFRACTION"}switch(r.combine){case rs:d="ENVMAP_BLENDING_MULTIPLY";break;case is:d="ENVMAP_BLENDING_MIX";break;case os:d="ENVMAP_BLENDING_ADD"}}var m,g,v=0<e.gammaFactor?e.gammaFactor:1,y=a.isWebGL2?"":function(e,t,n){return[(e=e||{}).derivatives||t.envMapCubeUV||t.bumpMap||t.normalMap&&!t.objectSpaceNormalMap||t.flatShading?"#extension GL_OES_standard_derivatives : enable":"",(e.fragDepth||t.logarithmicDepthBuffer)&&n.get("EXT_frag_depth")?"#extension GL_EXT_frag_depth : enable":"",e.drawBuffers&&n.get("WEBGL_draw_buffers")?"#extension GL_EXT_draw_buffers : require":"",(e.shaderTextureLOD||t.envMap)&&n.get("EXT_shader_texture_lod")?"#extension GL_EXT_shader_texture_lod : enable":""].filter(Ze).join("\n")}(r.extensions,o,t),x=function(e){var t=[];for(var n in e){var r=e[n];!1===r||t.push("#define "+n+" "+r)}return t.join("\n")}(u),b=s.createProgram();if(r.isRawShaderMaterial?(0<(m=[x].filter(Ze).join("\n")).length&&(m+="\n"),0<(g=[y,x].filter(Ze).join("\n")).length&&(g+="\n")):(m=["precision "+o.precision+" float;","precision "+o.precision+" int;","#define SHADER_NAME "+i.name,x,o.supportsVertexTextures?"#define VERTEX_TEXTURES":"","#define GAMMA_FACTOR "+v,"#define MAX_BONES "+o.maxBones,o.useFog&&o.fog?"#define USE_FOG":"",o.useFog&&o.fogExp?"#define FOG_EXP2":"",o.map?"#define USE_MAP":"",o.envMap?"#define USE_ENVMAP":"",o.envMap?"#define "+f:"",o.lightMap?"#define USE_LIGHTMAP":"",o.aoMap?"#define USE_AOMAP":"",o.emissiveMap?"#define USE_EMISSIVEMAP":"",o.bumpMap?"#define USE_BUMPMAP":"",o.normalMap?"#define USE_NORMALMAP":"",o.normalMap&&o.objectSpaceNormalMap?"#define OBJECTSPACE_NORMALMAP":"",o.displacementMap&&o.supportsVertexTextures?"#define USE_DISPLACEMENTMAP":"",o.specularMap?"#define USE_SPECULARMAP":"",o.roughnessMap?"#define USE_ROUGHNESSMAP":"",o.metalnessMap?"#define USE_METALNESSMAP":"",o.alphaMap?"#define USE_ALPHAMAP":"",o.vertexColors?"#define USE_COLOR":"",o.flatShading?"#define FLAT_SHADED":"",o.skinning?"#define USE_SKINNING":"",o.useVertexTexture?"#define BONE_TEXTURE":"",o.morphTargets?"#define USE_MORPHTARGETS":"",o.morphNormals&&!1===o.flatShading?"#define USE_MORPHNORMALS":"",o.doubleSided?"#define DOUBLE_SIDED":"",o.flipSided?"#define FLIP_SIDED":"",o.shadowMapEnabled?"#define USE_SHADOWMAP":"",o.shadowMapEnabled?"#define "+h:"",o.sizeAttenuation?"#define USE_SIZEATTENUATION":"",o.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",o.logarithmicDepthBuffer&&(a.isWebGL2||t.get("EXT_frag_depth"))?"#define USE_LOGDEPTHBUF_EXT":"","uniform mat4 modelMatrix;","uniform mat4 modelViewMatrix;","uniform mat4 projectionMatrix;","uniform mat4 viewMatrix;","uniform mat3 normalMatrix;","uniform vec3 cameraPosition;","attribute vec3 position;","attribute vec3 normal;","attribute vec2 uv;","#ifdef USE_COLOR","\tattribute vec3 color;","#endif","#ifdef USE_MORPHTARGETS","\tattribute vec3 morphTarget0;","\tattribute vec3 morphTarget1;","\tattribute vec3 morphTarget2;","\tattribute vec3 morphTarget3;","\t#ifdef USE_MORPHNORMALS","\t\tattribute vec3 morphNormal0;","\t\tattribute vec3 morphNormal1;","\t\tattribute vec3 morphNormal2;","\t\tattribute vec3 morphNormal3;","\t#else","\t\tattribute vec3 morphTarget4;","\t\tattribute vec3 morphTarget5;","\t\tattribute vec3 morphTarget6;","\t\tattribute vec3 morphTarget7;","\t#endif","#endif","#ifdef USE_SKINNING","\tattribute vec4 skinIndex;","\tattribute vec4 skinWeight;","#endif","\n"].filter(Ze).join("\n"),g=[y,"precision "+o.precision+" float;","precision "+o.precision+" int;","#define SHADER_NAME "+i.name,x,o.alphaTest?"#define ALPHATEST "+o.alphaTest+(o.alphaTest%1?"":".0"):"","#define GAMMA_FACTOR "+v,o.useFog&&o.fog?"#define USE_FOG":"",o.useFog&&o.fogExp?"#define FOG_EXP2":"",o.map?"#define USE_MAP":"",o.matcap?"#define USE_MATCAP":"",o.envMap?"#define USE_ENVMAP":"",o.envMap?"#define "+p:"",o.envMap?"#define "+f:"",o.envMap?"#define "+d:"",o.lightMap?"#define USE_LIGHTMAP":"",o.aoMap?"#define USE_AOMAP":"",o.emissiveMap?"#define USE_EMISSIVEMAP":"",o.bumpMap?"#define USE_BUMPMAP":"",o.normalMap?"#define USE_NORMALMAP":"",o.normalMap&&o.objectSpaceNormalMap?"#define OBJECTSPACE_NORMALMAP":"",o.specularMap?"#define USE_SPECULARMAP":"",o.roughnessMap?"#define USE_ROUGHNESSMAP":"",o.metalnessMap?"#define USE_METALNESSMAP":"",o.alphaMap?"#define USE_ALPHAMAP":"",o.vertexColors?"#define USE_COLOR":"",o.gradientMap?"#define USE_GRADIENTMAP":"",o.flatShading?"#define FLAT_SHADED":"",o.doubleSided?"#define DOUBLE_SIDED":"",o.flipSided?"#define FLIP_SIDED":"",o.shadowMapEnabled?"#define USE_SHADOWMAP":"",o.shadowMapEnabled?"#define "+h:"",o.premultipliedAlpha?"#define PREMULTIPLIED_ALPHA":"",o.physicallyCorrectLights?"#define PHYSICALLY_CORRECT_LIGHTS":"",o.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",o.logarithmicDepthBuffer&&(a.isWebGL2||t.get("EXT_frag_depth"))?"#define USE_LOGDEPTHBUF_EXT":"",o.envMap&&(a.isWebGL2||t.get("EXT_shader_texture_lod"))?"#define TEXTURE_LOD_EXT":"","uniform mat4 viewMatrix;","uniform vec3 cameraPosition;",o.toneMapping===as?"":"#define TONE_MAPPING",o.toneMapping===as?"":qu.tonemapping_pars_fragment,o.toneMapping===as?"":Je("toneMapping",o.toneMapping),o.dithering?"#define DITHERING":"",o.outputEncoding||o.mapEncoding||o.matcapEncoding||o.envMapEncoding||o.emissiveMapEncoding?qu.encodings_pars_fragment:"",o.mapEncoding?qe("mapTexelToLinear",o.mapEncoding):"",o.matcapEncoding?qe("matcapTexelToLinear",o.matcapEncoding):"",o.envMapEncoding?qe("envMapTexelToLinear",o.envMapEncoding):"",o.emissiveMapEncoding?qe("emissiveMapTexelToLinear",o.emissiveMapEncoding):"",o.outputEncoding?Ye("linearToOutputTexel",o.outputEncoding):"",o.depthPacking?"#define DEPTH_PACKING "+r.depthPacking:"","\n"].filter(Ze).join("\n")),c=$e(c=Ke(c=Qe(c),o),o),l=$e(l=Ke(l=Qe(l),o),o),c=et(c),l=et(l),a.isWebGL2&&!r.isRawShaderMaterial){var w=!1,_=/^\s*#version\s+300\s+es\s*\n/;r.isShaderMaterial&&null!==c.match(_)&&null!==l.match(_)&&(w=!0,c=c.replace(_,""),l=l.replace(_,"")),m="#version 300 es\n\n#define attribute in\n#define varying out\n#define texture2D texture\n"+m,g=["#version 300 es\n","#define varying in",w?"":"out highp vec4 pc_fragColor;",w?"":"#define gl_FragColor pc_fragColor","#define gl_FragDepthEXT gl_FragDepth","#define texture2D texture","#define textureCube texture","#define texture2DProj textureProj","#define texture2DLodEXT textureLod","#define texture2DProjLodEXT textureProjLod","#define textureCubeLodEXT textureLod","#define texture2DGradEXT textureGrad","#define texture2DProjGradEXT textureProjGrad","#define textureCubeGradEXT textureGrad"].join("\n")+"\n"+g}var E=g+l,S=We(s,35633,m+c),T=We(s,35632,E);s.attachShader(b,S),s.attachShader(b,T),void 0===r.index0AttributeName?!0===o.morphTargets&&s.bindAttribLocation(b,0,"position"):s.bindAttribLocation(b,0,r.index0AttributeName),s.linkProgram(b);var A,M,C=s.getProgramInfoLog(b).trim(),D=s.getShaderInfoLog(S).trim(),L=s.getShaderInfoLog(T).trim(),P=!0,R=!0;return!1===s.getProgramParameter(b,35714)?(P=!1,console.error("THREE.WebGLProgram: shader error: ",s.getError(),"35715",s.getProgramParameter(b,35715),"gl.getProgramInfoLog",C,D,L)):""===C?(""===D||""===L)&&(R=!1):console.warn("THREE.WebGLProgram: gl.getProgramInfoLog()",C),R&&(this.diagnostics={runnable:P,material:r,programLog:C,vertexShader:{log:D,prefix:m},fragmentShader:{log:L,prefix:g}}),s.deleteShader(S),s.deleteShader(T),this.getUniforms=function(){return null==A&&(A=new Ve(s,b,e)),A},this.getAttributes=function(){return void 0===M&&(M=function(e,t){for(var n={},r=e.getProgramParameter(t,35721),i=0;i<r;i++){var o=e.getActiveAttrib(t,i).name;n[o]=e.getAttribLocation(t,o)}return n}(s,b)),M},this.destroy=function(){s.deleteProgram(b),this.program=void 0},Object.defineProperties(this,{uniforms:{get:function(){return console.warn("THREE.WebGLProgram: .uniforms is now .getUniforms()."),this.getUniforms()}},attributes:{get:function(){return console.warn("THREE.WebGLProgram: .attributes is now .getAttributes()."),this.getAttributes()}}}),this.name=i.name,this.id=hc++,this.code=n,this.usedTimes=1,this.program=b,this.vertexShader=S,this.fragmentShader=T,this}function nt(e,t,n){function r(e,t){var n;return e?e.isTexture?n=e.encoding:e.isWebGLRenderTarget&&(console.warn("THREE.WebGLPrograms.getTextureEncodingFromMap: don't use render targets as textures. Use their .texture property instead."),n=e.texture.encoding):n=Pu,n===Pu&&t&&(n=Ou),n}var i=[],o={MeshDepthMaterial:"depth",MeshDistanceMaterial:"distanceRGBA",MeshNormalMaterial:"normal",MeshBasicMaterial:"basic",MeshLambertMaterial:"lambert",MeshPhongMaterial:"phong",MeshToonMaterial:"phong",MeshStandardMaterial:"physical",MeshPhysicalMaterial:"physical",MeshMatcapMaterial:"matcap",LineBasicMaterial:"basic",LineDashedMaterial:"dashed",PointsMaterial:"points",ShadowMaterial:"shadow",SpriteMaterial:"sprite"},a=["precision","supportsVertexTextures","map","mapEncoding","matcap","matcapEncoding","envMap","envMapMode","envMapEncoding","lightMap","aoMap","emissiveMap","emissiveMapEncoding","bumpMap","normalMap","objectSpaceNormalMap","displacementMap","specularMap","roughnessMap","metalnessMap","gradientMap","alphaMap","combine","vertexColors","fog","useFog","fogExp","flatShading","sizeAttenuation","logarithmicDepthBuffer","skinning","maxBones","useVertexTexture","morphTargets","morphNormals","maxMorphTargets","maxMorphNormals","premultipliedAlpha","numDirLights","numPointLights","numSpotLights","numHemiLights","numRectAreaLights","shadowMapEnabled","shadowMapType","toneMapping","physicallyCorrectLights","alphaTest","doubleSided","flipSided","numClippingPlanes","numClipIntersection","depthPacking","dithering"];this.getParameters=function(t,i,a,s,u,c,l){var h=o[t.type],p=l.isSkinnedMesh?function(e){var t=e.skeleton.bones;if(n.floatVertexTextures)return 1024;var r=n.maxVertexUniforms,i=sa((r-20)/4),o=aa(i,t.length);return o<t.length?(console.warn("THREE.WebGLRenderer: Skeleton has "+t.length+" bones. This GPU supports "+o+"."),0):o}(l):0,f=n.precision;null!==t.precision&&((f=n.getMaxPrecision(t.precision))!==t.precision&&console.warn("THREE.WebGLProgram.getParameters:",t.precision,"not supported, using",f,"instead."));var d=e.getRenderTarget();return{shaderID:h,precision:f,supportsVertexTextures:n.vertexTextures,outputEncoding:r(d?d.texture:null,e.gammaOutput),map:!!t.map,mapEncoding:r(t.map,e.gammaInput),matcap:!!t.matcap,matcapEncoding:r(t.matcap,e.gammaInput),envMap:!!t.envMap,envMapMode:t.envMap&&t.envMap.mapping,envMapEncoding:r(t.envMap,e.gammaInput),envMapCubeUV:!!t.envMap&&(t.envMap.mapping===ys||t.envMap.mapping===xs),lightMap:!!t.lightMap,aoMap:!!t.aoMap,emissiveMap:!!t.emissiveMap,emissiveMapEncoding:r(t.emissiveMap,e.gammaInput),bumpMap:!!t.bumpMap,normalMap:!!t.normalMap,objectSpaceNormalMap:t.normalMapType===Gu,displacementMap:!!t.displacementMap,roughnessMap:!!t.roughnessMap,metalnessMap:!!t.metalnessMap,specularMap:!!t.specularMap,alphaMap:!!t.alphaMap,gradientMap:!!t.gradientMap,combine:t.combine,vertexColors:t.vertexColors,fog:!!s,useFog:t.fog,fogExp:s&&s.isFogExp2,flatShading:t.flatShading,sizeAttenuation:t.sizeAttenuation,logarithmicDepthBuffer:n.logarithmicDepthBuffer,skinning:t.skinning&&0<p,maxBones:p,useVertexTexture:n.floatVertexTextures,morphTargets:t.morphTargets,morphNormals:t.morphNormals,maxMorphTargets:e.maxMorphTargets,maxMorphNormals:e.maxMorphNormals,numDirLights:i.directional.length,numPointLights:i.point.length,numSpotLights:i.spot.length,numRectAreaLights:i.rectArea.length,numHemiLights:i.hemi.length,numClippingPlanes:u,numClipIntersection:c,dithering:t.dithering,shadowMapEnabled:e.shadowMap.enabled&&l.receiveShadow&&0<a.length,shadowMapType:e.shadowMap.type,toneMapping:e.toneMapping,physicallyCorrectLights:e.physicallyCorrectLights,premultipliedAlpha:t.premultipliedAlpha,alphaTest:t.alphaTest,doubleSided:t.side===wa,flipSided:t.side===ba,depthPacking:void 0!==t.depthPacking&&t.depthPacking}},this.getProgramCode=function(t,n){var r=[];if(n.shaderID?r.push(n.shaderID):(r.push(t.fragmentShader),r.push(t.vertexShader)),void 0!==t.defines)for(var i in t.defines)r.push(i),r.push(t.defines[i]);for(var o=0;o<a.length;o++)r.push(n[a[o]]);return r.push(t.onBeforeCompile.toString()),r.push(e.gammaOutput),r.push(e.gammaFactor),r.join()},this.acquireProgram=function(r,o,a,s){for(var u,c,l=0,h=i.length;l<h;l++)if((c=i[l]).code===s){++(u=c).usedTimes;break}return void 0===u&&(u=new tt(e,t,s,r,o,a,n),i.push(u)),u},this.releaseProgram=function(e){if(0==--e.usedTimes){var t=i.indexOf(e);i[t]=i[i.length-1],i.pop(),e.destroy()}},this.programs=i}function rt(){var e=new WeakMap;return{get:function(t){var n=e.get(t);return void 0===n&&(n={},e.set(t,n)),n},remove:function(t){e.delete(t)},update:function(t,n,r){e.get(t)[n]=r},dispose:function(){e=new WeakMap}}}function it(e,t){return e.renderOrder===t.renderOrder?e.program&&t.program&&e.program!==t.program?e.program.id-t.program.id:e.material.id===t.material.id?e.z===t.z?e.id-t.id:e.z-t.z:e.material.id-t.material.id:e.renderOrder-t.renderOrder}function ot(e,t){return e.renderOrder===t.renderOrder?e.z===t.z?e.id-t.id:t.z-e.z:e.renderOrder-t.renderOrder}function at(){function e(e,r,i,o,a){var s=t[n];return void 0===s?(s={id:e.id,object:e,geometry:r,material:i,program:i.program,renderOrder:e.renderOrder,z:o,group:a},t[n]=s):(s.id=e.id,s.object=e,s.geometry=r,s.material=i,s.program=i.program,s.renderOrder=e.renderOrder,s.z=o,s.group=a),n++,s}var t=[],n=0,r=[],i=[];return{opaque:r,transparent:i,init:function(){n=0,r.length=0,i.length=0},push:function(t,n,o,a,s){var u=e(t,n,o,a,s);(!0===o.transparent?i:r).push(u)},unshift:function(t,n,o,a,s){var u=e(t,n,o,a,s);(!0===o.transparent?i:r).unshift(u)},sort:function(){1<r.length&&r.sort(it),1<i.length&&i.sort(ot)}}}function st(){var e={};return{get:function(t,n){var r,i=e[t.id];return void 0===i?(r=new at,e[t.id]={},e[t.id][n.id]=r):void 0===(r=i[n.id])&&(r=new at,i[n.id]=r),r},dispose:function(){e={}}}}function ut(){var e={};return{get:function(t){if(void 0!==e[t.id])return e[t.id];var n;switch(t.type){case"DirectionalLight":n={direction:new s,color:new b,shadow:!1,shadowBias:0,shadowRadius:1,shadowMapSize:new i};break;case"SpotLight":n={position:new s,direction:new s,color:new b,distance:0,coneCos:0,penumbraCos:0,decay:0,shadow:!1,shadowBias:0,shadowRadius:1,shadowMapSize:new i};break;case"PointLight":n={position:new s,color:new b,distance:0,decay:0,shadow:!1,shadowBias:0,shadowRadius:1,shadowMapSize:new i,shadowCameraNear:1,shadowCameraFar:1e3};break;case"HemisphereLight":n={direction:new s,skyColor:new b,groundColor:new b};break;case"RectAreaLight":n={color:new b,position:new s,halfWidth:new s,halfHeight:new s}}return e[t.id]=n,n}}}function ct(){var e=new ut,t={id:pc++,hash:{stateID:-1,directionalLength:-1,pointLength:-1,spotLength:-1,rectAreaLength:-1,hemiLength:-1,shadowsLength:-1},ambient:[0,0,0],directional:[],directionalShadowMap:[],directionalShadowMatrix:[],spot:[],spotShadowMap:[],spotShadowMatrix:[],rectArea:[],point:[],pointShadowMap:[],pointShadowMatrix:[],hemi:[]},n=new s,r=new o,i=new o;return{setup:function(o,a,s){for(var u=0,c=0,l=0,h=0,p=0,f=0,d=0,m=0,g=s.matrixWorldInverse,v=0,y=o.length;v<y;v++){var x=o[v],b=x.color,w=x.intensity,_=x.distance,E=x.shadow&&x.shadow.map?x.shadow.map.texture:null;if(x.isAmbientLight)u+=b.r*w,c+=b.g*w,l+=b.b*w;else if(x.isDirectionalLight){if((T=e.get(x)).color.copy(x.color).multiplyScalar(x.intensity),T.direction.setFromMatrixPosition(x.matrixWorld),n.setFromMatrixPosition(x.target.matrixWorld),T.direction.sub(n),T.direction.transformDirection(g),T.shadow=x.castShadow,x.castShadow){var S=x.shadow;T.shadowBias=S.bias,T.shadowRadius=S.radius,T.shadowMapSize=S.mapSize}t.directionalShadowMap[h]=E,t.directionalShadowMatrix[h]=x.shadow.matrix,t.directional[h]=T,h++}else if(x.isSpotLight){if((T=e.get(x)).position.setFromMatrixPosition(x.matrixWorld),T.position.applyMatrix4(g),T.color.copy(b).multiplyScalar(w),T.distance=_,T.direction.setFromMatrixPosition(x.matrixWorld),n.setFromMatrixPosition(x.target.matrixWorld),T.direction.sub(n),T.direction.transformDirection(g),T.coneCos=Xo(x.angle),T.penumbraCos=Xo(x.angle*(1-x.penumbra)),T.decay=x.decay,T.shadow=x.castShadow,x.castShadow){S=x.shadow;T.shadowBias=S.bias,T.shadowRadius=S.radius,T.shadowMapSize=S.mapSize}t.spotShadowMap[f]=E,t.spotShadowMatrix[f]=x.shadow.matrix,t.spot[f]=T,f++}else if(x.isRectAreaLight){(T=e.get(x)).color.copy(b).multiplyScalar(w),T.position.setFromMatrixPosition(x.matrixWorld),T.position.applyMatrix4(g),i.identity(),r.copy(x.matrixWorld),r.premultiply(g),i.extractRotation(r),T.halfWidth.set(.5*x.width,0,0),T.halfHeight.set(0,.5*x.height,0),T.halfWidth.applyMatrix4(i),T.halfHeight.applyMatrix4(i),t.rectArea[d]=T,d++}else if(x.isPointLight){if((T=e.get(x)).position.setFromMatrixPosition(x.matrixWorld),T.position.applyMatrix4(g),T.color.copy(x.color).multiplyScalar(x.intensity),T.distance=x.distance,T.decay=x.decay,T.shadow=x.castShadow,x.castShadow){S=x.shadow;T.shadowBias=S.bias,T.shadowRadius=S.radius,T.shadowMapSize=S.mapSize,T.shadowCameraNear=S.camera.near,T.shadowCameraFar=S.camera.far}t.pointShadowMap[p]=E,t.pointShadowMatrix[p]=x.shadow.matrix,t.point[p]=T,p++}else if(x.isHemisphereLight){var T;(T=e.get(x)).direction.setFromMatrixPosition(x.matrixWorld),T.direction.transformDirection(g),T.direction.normalize(),T.skyColor.copy(x.color).multiplyScalar(w),T.groundColor.copy(x.groundColor).multiplyScalar(w),t.hemi[m]=T,m++}}t.ambient[0]=u,t.ambient[1]=c,t.ambient[2]=l,t.directional.length=h,t.spot.length=f,t.rectArea.length=d,t.point.length=p,t.hemi.length=m,t.hash.stateID=t.id,t.hash.directionalLength=h,t.hash.pointLength=p,t.hash.spotLength=f,t.hash.rectAreaLength=d,t.hash.hemiLength=m,t.hash.shadowsLength=a.length},state:t}}function lt(){var e=new ct,t=[],n=[];return{init:function(){t.length=0,n.length=0},state:{lightsArray:t,shadowsArray:n,lights:e},setupLights:function(r){e.setup(t,n,r)},pushLight:function(e){t.push(e)},pushShadow:function(e){n.push(e)}}}function ht(){var e={};return{get:function(t,n){var r;return void 0===e[t.id]?(r=new lt,e[t.id]={},e[t.id][n.id]=r):void 0===e[t.id][n.id]?(r=new lt,e[t.id][n.id]=r):r=e[t.id][n.id],r},dispose:function(){e={}}}}function pt(e){W.call(this),this.type="MeshDepthMaterial",this.depthPacking=Uu,this.skinning=!1,this.morphTargets=!1,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.lights=!1,this.setValues(e)}function ft(e){W.call(this),this.type="MeshDistanceMaterial",this.referencePosition=new s,this.nearDistance=1,this.farDistance=1e3,this.skinning=!1,this.morphTargets=!1,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.fog=!1,this.lights=!1,this.setValues(e)}function dt(e,t,n){function r(t,n,r,i,o,a){var s=t.geometry,u=null,c=x,l=t.customDepthMaterial;if(r&&(c=b,l=t.customDistanceMaterial),l)u=l;else{var h=!1;n.morphTargets&&(s&&s.isBufferGeometry?h=s.morphAttributes&&s.morphAttributes.position&&0<s.morphAttributes.position.length:s&&s.isGeometry&&(h=s.morphTargets&&0<s.morphTargets.length)),t.isSkinnedMesh&&!1===n.skinning&&console.warn("THREE.WebGLShadowMap: THREE.SkinnedMesh with material.skinning set to false:",t);var p=t.isSkinnedMesh&&n.skinning,f=0;h&&(f|=g),p&&(f|=y),u=c[f]}if(e.localClippingEnabled&&!0===n.clipShadows&&0!==n.clippingPlanes.length){var d=u.uuid,m=n.uuid,v=w[d];void 0===v&&(v={},w[d]=v);var E=v[m];void 0===E&&(E=u.clone(),v[m]=E),u=E}return u.visible=n.visible,u.wireframe=n.wireframe,u.side=null==n.shadowSide?_[n.side]:n.shadowSide,u.clipShadows=n.clipShadows,u.clippingPlanes=n.clippingPlanes,u.clipIntersection=n.clipIntersection,u.wireframeLinewidth=n.wireframeLinewidth,u.linewidth=n.linewidth,r&&u.isMeshDistanceMaterial&&(u.referencePosition.copy(i),u.nearDistance=o,u.farDistance=a),u}function a(n,i,o,s){if(!1!==n.visible){if(n.layers.test(i.layers)&&(n.isMesh||n.isLine||n.isPoints)&&n.castShadow&&(!n.frustumCulled||u.intersectsObject(n))){n.modelViewMatrix.multiplyMatrices(o.matrixWorldInverse,n.matrixWorld);var c=t.update(n),l=n.material;if(Array.isArray(l))for(var h=c.groups,p=0,f=h.length;p<f;p++){var d=h[p],g=l[d.materialIndex];if(g&&g.visible){var v=r(n,g,s,m,o.near,o.far);e.renderBufferDirect(o,null,c,v,n,d)}}else if(l.visible){v=r(n,l,s,m,o.near,o.far);e.renderBufferDirect(o,null,c,v,n,null)}}for(var y=n.children,x=0,b=y.length;x<b;x++)a(y[x],i,o,s)}}for(var u=new v,c=new o,p=new i,f=new i(n,n),d=new s,m=new s,g=1,y=2,x=[,,,,],b=[,,,,],w={},_={0:ba,1:xa,2:wa},E=[new s(1,0,0),new s(-1,0,0),new s(0,0,1),new s(0,0,-1),new s(0,1,0),new s(0,-1,0)],S=[new s(0,1,0),new s(0,1,0),new s(0,1,0),new s(0,1,0),new s(0,0,1),new s(0,0,-1)],T=[new l,new l,new l,new l,new l,new l],A=0;A!==1+(g|y);++A){var M=0!=(A&g),C=0!=(A&y),D=new pt({depthPacking:zu,morphTargets:M,skinning:C});x[A]=D;var L=new ft({morphTargets:M,skinning:C});b[A]=L}var P=this;this.enabled=!1,this.autoUpdate=!0,this.needsUpdate=!1,this.type=va,this.render=function(t,n,r){if(!1!==P.enabled&&(!1!==P.autoUpdate||!1!==P.needsUpdate)&&0!==t.length){e.context;var i=e.state;i.disable(3042),i.buffers.color.setClear(1,1,1,1),i.buffers.depth.setTest(!0),i.setScissorTest(!1);for(var o,s=0,l=t.length;s<l;s++){var g=t[s],v=g.shadow,y=g&&g.isPointLight;if(void 0!==v){var x=v.camera;if(p.copy(v.mapSize),p.min(f),y){var b=p.x,w=p.y;T[0].set(2*b,w,b,w),T[1].set(0,w,b,w),T[2].set(3*b,w,b,w),T[3].set(b,w,b,w),T[4].set(3*b,0,b,w),T[5].set(b,0,b,w),p.x*=4,p.y*=2}null===v.map&&(v.map=new h(p.x,p.y,{minFilter:Es,magFilter:Es,format:Hs}),v.map.texture.name=g.name+".shadowMap",x.updateProjectionMatrix()),v.isSpotLightShadow&&v.update(g);var _=v.map,A=v.matrix;m.setFromMatrixPosition(g.matrixWorld),x.position.copy(m),y?(o=6,A.makeTranslation(-m.x,-m.y,-m.z)):(o=1,d.setFromMatrixPosition(g.target.matrixWorld),x.lookAt(d),x.updateMatrixWorld(),A.set(.5,0,0,.5,0,.5,0,.5,0,0,.5,.5,0,0,0,1),A.multiply(x.projectionMatrix),A.multiply(x.matrixWorldInverse)),e.setRenderTarget(_),e.clear();for(var M=0;M<o;M++){if(y){d.copy(x.position),d.add(E[M]),x.up.copy(S[M]),x.lookAt(d),x.updateMatrixWorld();var C=T[M];i.viewport(C)}c.multiplyMatrices(x.projectionMatrix,x.matrixWorldInverse),u.setFromMatrix(c),a(n,r,x,y)}}else console.warn("THREE.WebGLShadowMap:",g,"has no shadow.")}P.needsUpdate=!1}}}function mt(e,t,n,r){function i(t,n,r){var i=new Uint8Array(4),o=e.createTexture();e.bindTexture(t,o),e.texParameteri(t,10241,9728),e.texParameteri(t,10240,9728);for(var a=0;a<r;a++)e.texImage2D(n+a,0,6408,1,1,0,6408,5121,i);return o}function o(n,i){(y[n]=1,0===x[n]&&(e.enableVertexAttribArray(n),x[n]=1),b[n]!==i)&&((r.isWebGL2?e:t.get("ANGLE_instanced_arrays"))[r.isWebGL2?"vertexAttribDivisor":"vertexAttribDivisorANGLE"](n,i),b[n]=i)}function a(t){!0!==w[t]&&(e.enable(t),w[t]=!0)}function s(t){!1!==w[t]&&(e.disable(t),w[t]=!1)}function u(t,r,i,o,u,c,l,h){return t===Ma?void(S&&(s(3042),S=!1)):(S||(a(3042),S=!0),t===Ra?(u=u||r,c=c||i,l=l||o,(r!==A||u!==D)&&(e.blendEquationSeparate(n.convert(r),n.convert(u)),A=r,D=u),(i!==M||o!==C||c!==L||l!==P)&&(e.blendFuncSeparate(n.convert(i),n.convert(o),n.convert(c),n.convert(l)),M=i,C=o,L=c,P=l),T=t,void(R=null)):void((t!==T||h!==R)&&((A!==Oa||D!==Oa)&&(e.blendEquation(32774),A=Oa,D=Oa),h?t===Ca?e.blendFuncSeparate(1,771,1,771):t===Da?e.blendFunc(1,1):t===La?e.blendFuncSeparate(0,0,769,771):t===Pa?e.blendFuncSeparate(0,768,0,770):console.error("THREE.WebGLState: Invalid blending: ",t):t===Ca?e.blendFuncSeparate(770,771,1,771):t===Da?e.blendFunc(770,1):t===La?e.blendFunc(0,769):t===Pa?e.blendFunc(0,768):console.error("THREE.WebGLState: Invalid blending: ",t),M=null,C=null,L=null,P=null,T=t,R=h)))}function c(t){O!==t&&(t?e.frontFace(2304):e.frontFace(2305),O=t)}function h(t){t===la?s(2884):(a(2884),t!==I&&(t===ha?e.cullFace(1029):t===pa?e.cullFace(1028):e.cullFace(1032))),I=t}function p(t,n,r){t?(a(32823),(N!==n||F!==r)&&(e.polygonOffset(n,r),N=n,F=r)):s(32823)}function f(t){void 0===t&&(t=33984+B-1),G!==t&&(e.activeTexture(t),G=t)}var d=new function(){var t=!1,n=new l,r=null,i=new l(0,0,0,0);return{setMask:function(n){r===n||t||(e.colorMask(n,n,n,n),r=n)},setLocked:function(e){t=e},setClear:function(t,r,o,a,s){!0===s&&(t*=a,r*=a,o*=a),n.set(t,r,o,a),!1===i.equals(n)&&(e.clearColor(t,r,o,a),i.copy(n))},reset:function(){t=!1,r=null,i.set(-1,0,0,0)}}},m=new function(){var t=!1,n=null,r=null,i=null;return{setTest:function(e){e?a(2929):s(2929)},setMask:function(r){n===r||t||(e.depthMask(r),n=r)},setFunc:function(t){r!==t&&(t?t===Ja?e.depthFunc(512):t===Za?e.depthFunc(519):t===Ka?e.depthFunc(513):t===$a?e.depthFunc(515):t===Qa?e.depthFunc(514):t===es?e.depthFunc(518):t===ts?e.depthFunc(516):t===ns?e.depthFunc(517):e.depthFunc(515):e.depthFunc(515),r=t)},setLocked:function(e){t=e},setClear:function(t){i!==t&&(e.clearDepth(t),i=t)},reset:function(){t=!1,n=null,r=null,i=null}}},g=new function(){var t=!1,n=null,r=null,i=null,o=null,u=null,c=null,l=null,h=null;return{setTest:function(e){e?a(2960):s(2960)},setMask:function(r){n===r||t||(e.stencilMask(r),n=r)},setFunc:function(t,n,a){(r!==t||i!==n||o!==a)&&(e.stencilFunc(t,n,a),r=t,i=n,o=a)},setOp:function(t,n,r){(u!==t||c!==n||l!==r)&&(e.stencilOp(t,n,r),u=t,c=n,l=r)},setLocked:function(e){t=e},setClear:function(t){h!==t&&(e.clearStencil(t),h=t)},reset:function(){t=!1,n=null,r=null,i=null,o=null,u=null,c=null,l=null,h=null}}},v=e.getParameter(34921),y=new Uint8Array(v),x=new Uint8Array(v),b=new Uint8Array(v),w={},_=null,E=null,S=null,T=null,A=null,M=null,C=null,D=null,L=null,P=null,R=!1,O=null,I=null,k=null,N=null,F=null,B=e.getParameter(35661),U=!1,z=0,j=e.getParameter(7938);-1===j.indexOf("WebGL")?-1!==j.indexOf("OpenGL ES")&&(z=parseFloat(/^OpenGL\ ES\ ([0-9])/.exec(j)[1]),U=2<=z):(z=parseFloat(/^WebGL\ ([0-9])/.exec(j)[1]),U=1<=z);var G=null,H={},V=new l,W=new l,X={};return X[3553]=i(3553,3553,1),X[34067]=i(34067,34069,6),d.setClear(0,0,0,1),m.setClear(1),g.setClear(0),a(2929),m.setFunc($a),c(!1),h(ha),a(2884),u(Ma),{buffers:{color:d,depth:m,stencil:g},initAttributes:function(){for(var e=0,t=y.length;e<t;e++)y[e]=0},enableAttribute:function(e){o(e,0)},enableAttributeAndDivisor:o,disableUnusedAttributes:function(){for(var t=0,n=x.length;t!==n;++t)x[t]!==y[t]&&(e.disableVertexAttribArray(t),x[t]=0)},enable:a,disable:s,getCompressedTextureFormats:function(){if(null===_&&(_=[],t.get("WEBGL_compressed_texture_pvrtc")||t.get("WEBGL_compressed_texture_s3tc")||t.get("WEBGL_compressed_texture_etc1")||t.get("WEBGL_compressed_texture_astc")))for(var n=e.getParameter(34467),r=0;r<n.length;r++)_.push(n[r]);return _},useProgram:function(t){return E!==t&&(e.useProgram(t),E=t,!0)},setBlending:u,setMaterial:function(e,t){e.side===wa?s(2884):a(2884);var n=e.side===ba;t&&(n=!n),c(n),e.blending===Ca&&!1===e.transparent?u(Ma):u(e.blending,e.blendEquation,e.blendSrc,e.blendDst,e.blendEquationAlpha,e.blendSrcAlpha,e.blendDstAlpha,e.premultipliedAlpha),m.setFunc(e.depthFunc),m.setTest(e.depthTest),m.setMask(e.depthWrite),d.setMask(e.colorWrite),p(e.polygonOffset,e.polygonOffsetFactor,e.polygonOffsetUnits)},setFlipSided:c,setCullFace:h,setLineWidth:function(t){t!==k&&(U&&e.lineWidth(t),k=t)},setPolygonOffset:p,setScissorTest:function(e){e?a(3089):s(3089)},activeTexture:f,bindTexture:function(t,n){null===G&&f();var r=H[G];void 0===r&&(r={type:void 0,texture:void 0},H[G]=r),(r.type!==t||r.texture!==n)&&(e.bindTexture(t,n||X[t]),r.type=t,r.texture=n)},compressedTexImage2D:function(){try{e.compressedTexImage2D.apply(e,arguments)}catch(e){console.error("THREE.WebGLState:",e)}},texImage2D:function(){try{e.texImage2D.apply(e,arguments)}catch(e){console.error("THREE.WebGLState:",e)}},texImage3D:function(){try{e.texImage3D.apply(e,arguments)}catch(e){console.error("THREE.WebGLState:",e)}},scissor:function(t){!1===V.equals(t)&&(e.scissor(t.x,t.y,t.z,t.w),V.copy(t))},viewport:function(t){!1===W.equals(t)&&(e.viewport(t.x,t.y,t.z,t.w),W.copy(t))},reset:function(){for(var t=0;t<x.length;t++)1===x[t]&&(e.disableVertexAttribArray(t),x[t]=0);w={},_=null,G=null,H={},E=null,T=null,O=null,I=null,d.reset(),m.reset(),g.reset()}}}function gt(e,t,n,r,i,o,a){function s(e,t){if(e.width>t||e.height>t){if("data"in e)return void console.warn("THREE.WebGLRenderer: image in DataTexture is too big ("+e.width+"x"+e.height+").");var n=t/oa(e.width,e.height),r=document.createElementNS("http://www.w3.org/1999/xhtml","canvas");return r.width=sa(e.width*n),r.height=sa(e.height*n),r.getContext("2d").drawImage(e,0,0,e.width,e.height,0,0,r.width,r.height),console.warn("THREE.WebGLRenderer: image is too big ("+e.width+"x"+e.height+"). Resized to "+r.width+"x"+r.height),r}return e}function u(e){return Hu.isPowerOfTwo(e.width)&&Hu.isPowerOfTwo(e.height)}function c(e,t){return e.generateMipmaps&&t&&e.minFilter!==Es&&e.minFilter!==As}function l(t,n,i,o){e.generateMipmap(t),r.get(n).__maxMipLevel=Qo(oa(i,o))*Math.LOG2E}function h(e,t){if(!i.isWebGL2)return e;if(6403===e){if(5126===t)return 33326;if(5131===t)return 33325;if(5121===t)return 33321}if(6407===e){if(5126===t)return 34837;if(5131===t)return 34843;if(5121===t)return 32849}if(6408===e){if(5126===t)return 34836;if(5131===t)return 34842;if(5121===t)return 32856}return e}function p(e){return e===Es||e===Ss||e===Ts?9728:9729}function f(e){var t=e.target;t.removeEventListener("dispose",f),m(t),t.isVideoTexture&&delete S[t.id],a.memory.textures--}function d(e){var t=e.target;t.removeEventListener("dispose",d),g(t),a.memory.textures--}function m(t){var n=r.get(t);if(t.image&&n.__image__webglTextureCube)e.deleteTexture(n.__image__webglTextureCube);else{if(void 0===n.__webglInit)return;e.deleteTexture(n.__webglTexture)}r.remove(t)}function g(t){var n=r.get(t),i=r.get(t.texture);if(t){if(void 0!==i.__webglTexture&&e.deleteTexture(i.__webglTexture),t.depthTexture&&t.depthTexture.dispose(),t.isWebGLRenderTargetCube)for(var o=0;6>o;o++)e.deleteFramebuffer(n.__webglFramebuffer[o]),n.__webglDepthbuffer&&e.deleteRenderbuffer(n.__webglDepthbuffer[o]);else e.deleteFramebuffer(n.__webglFramebuffer),n.__webglDepthbuffer&&e.deleteRenderbuffer(n.__webglDepthbuffer);r.remove(t.texture),r.remove(t)}}function v(e,t){var i=r.get(e);if(e.isVideoTexture&&function(e){var t=e.id,n=a.render.frame;S[t]!==n&&(S[t]=n,e.update())}(e),0<e.version&&i.__version!==e.version){var o=e.image;if(void 0===o)console.warn("THREE.WebGLRenderer: Texture marked for update but image is undefined");else{if(!1!==o.complete)return void x(i,e,t);console.warn("THREE.WebGLRenderer: Texture marked for update but image is incomplete")}}n.activeTexture(33984+t),n.bindTexture(3553,i.__webglTexture)}function y(n,a,s){var u;if(s?(e.texParameteri(n,10242,o.convert(a.wrapS)),e.texParameteri(n,10243,o.convert(a.wrapT)),e.texParameteri(n,10240,o.convert(a.magFilter)),e.texParameteri(n,10241,o.convert(a.minFilter))):(e.texParameteri(n,10242,33071),e.texParameteri(n,10243,33071),(a.wrapS!==ws||a.wrapT!==ws)&&console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.wrapS and Texture.wrapT should be set to THREE.ClampToEdgeWrapping."),e.texParameteri(n,10240,p(a.magFilter)),e.texParameteri(n,10241,p(a.minFilter)),a.minFilter!==Es&&a.minFilter!==As&&console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.minFilter should be set to THREE.NearestFilter or THREE.LinearFilter.")),u=t.get("EXT_texture_filter_anisotropic")){if(a.type===ks&&null===t.get("OES_texture_float_linear"))return;if(a.type===Ns&&null===(i.isWebGL2||t.get("OES_texture_half_float_linear")))return;(1<a.anisotropy||r.get(a).__currentAnisotropy)&&(e.texParameterf(n,u.TEXTURE_MAX_ANISOTROPY_EXT,aa(a.anisotropy,i.getMaxAnisotropy())),r.get(a).__currentAnisotropy=a.anisotropy)}}function x(t,r,p){var d;d=r.isDataTexture3D?32879:3553,void 0===t.__webglInit&&(t.__webglInit=!0,r.addEventListener("dispose",f),t.__webglTexture=e.createTexture(),a.memory.textures++),n.activeTexture(33984+p),n.bindTexture(d,t.__webglTexture),e.pixelStorei(37440,r.flipY),e.pixelStorei(37441,r.premultiplyAlpha),e.pixelStorei(3317,r.unpackAlignment);var m=s(r.image,i.maxTextureSize);(function(e){return!i.isWebGL2&&(e.wrapS!==ws||e.wrapT!==ws||e.minFilter!==Es&&e.minFilter!==As)})(r)&&!1===u(m)&&(m=function(e){return e instanceof HTMLImageElement||e instanceof HTMLCanvasElement||e instanceof ImageBitmap?(void 0===E&&(E=document.createElementNS("http://www.w3.org/1999/xhtml","canvas")),E.width=Hu.floorPowerOfTwo(e.width),E.height=Hu.floorPowerOfTwo(e.height),E.getContext("2d").drawImage(e,0,0,E.width,E.height),console.warn("THREE.WebGLRenderer: image is not power of two ("+e.width+"x"+e.height+"). Resized to "+E.width+"x"+E.height),E):e}(m));var g=u(m),v=o.convert(r.format),x=o.convert(r.type),b=h(v,x);y(d,r,g);var w,_=r.mipmaps;if(r.isDepthTexture){if(b=6402,r.type===ks){if(!i.isWebGL2)throw new Error("Float Depth Texture only supported in WebGL2.0");b=36012}else i.isWebGL2&&(b=33189);r.format===qs&&6402===b&&r.type!==Rs&&r.type!==Is&&(console.warn("THREE.WebGLRenderer: Use UnsignedShortType or UnsignedIntType for DepthFormat DepthTexture."),r.type=Rs,x=o.convert(r.type)),r.format===Ys&&(b=34041,r.type!==zs&&(console.warn("THREE.WebGLRenderer: Use UnsignedInt248Type for DepthStencilFormat DepthTexture."),r.type=zs,x=o.convert(r.type))),n.texImage2D(3553,0,b,m.width,m.height,0,v,x,null)}else if(r.isDataTexture)if(0<_.length&&g){for(var S=0,T=_.length;S<T;S++)w=_[S],n.texImage2D(3553,S,b,w.width,w.height,0,v,x,w.data);r.generateMipmaps=!1,t.__maxMipLevel=_.length-1}else n.texImage2D(3553,0,b,m.width,m.height,0,v,x,m.data),t.__maxMipLevel=0;else if(r.isCompressedTexture){for(S=0,T=_.length;S<T;S++)w=_[S],r.format!==Hs&&r.format!==Gs?-1<n.getCompressedTextureFormats().indexOf(v)?n.compressedTexImage2D(3553,S,b,w.width,w.height,0,w.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"):n.texImage2D(3553,S,b,w.width,w.height,0,v,x,w.data);t.__maxMipLevel=_.length-1}else if(r.isDataTexture3D)n.texImage3D(32879,0,b,m.width,m.height,m.depth,0,v,x,m.data),t.__maxMipLevel=0;else if(0<_.length&&g){for(S=0,T=_.length;S<T;S++)w=_[S],n.texImage2D(3553,S,b,v,x,w);r.generateMipmaps=!1,t.__maxMipLevel=_.length-1}else n.texImage2D(3553,0,b,v,x,m),t.__maxMipLevel=0;c(r,g)&&l(3553,r,m.width,m.height),t.__version=r.version,r.onUpdate&&r.onUpdate(r)}function b(t,i,a,s){var u=o.convert(i.texture.format),c=o.convert(i.texture.type),l=h(u,c);n.texImage2D(s,0,l,i.width,i.height,0,u,c,null),e.bindFramebuffer(36160,t),e.framebufferTexture2D(36160,a,s,r.get(i.texture).__webglTexture,0),e.bindFramebuffer(36160,null)}function w(t,n){e.bindRenderbuffer(36161,t),n.depthBuffer&&!n.stencilBuffer?(e.renderbufferStorage(36161,33189,n.width,n.height),e.framebufferRenderbuffer(36160,36096,36161,t)):n.depthBuffer&&n.stencilBuffer?(e.renderbufferStorage(36161,34041,n.width,n.height),e.framebufferRenderbuffer(36160,33306,36161,t)):e.renderbufferStorage(36161,32854,n.width,n.height),e.bindRenderbuffer(36161,null)}function _(t){var n=r.get(t),i=!0===t.isWebGLRenderTargetCube;if(t.depthTexture){if(i)throw new Error("target.depthTexture not supported in Cube render targets");!function(t,n){if(n&&n.isWebGLRenderTargetCube)throw new Error("Depth Texture with cube render targets is not supported");if(e.bindFramebuffer(36160,t),!n.depthTexture||!n.depthTexture.isDepthTexture)throw new Error("renderTarget.depthTexture must be an instance of THREE.DepthTexture");r.get(n.depthTexture).__webglTexture&&n.depthTexture.image.width===n.width&&n.depthTexture.image.height===n.height||(n.depthTexture.image.width=n.width,n.depthTexture.image.height=n.height,n.depthTexture.needsUpdate=!0),v(n.depthTexture,0);var i=r.get(n.depthTexture).__webglTexture;if(n.depthTexture.format===qs)e.framebufferTexture2D(36160,36096,3553,i,0);else{if(n.depthTexture.format!==Ys)throw new Error("Unknown depthTexture format");e.framebufferTexture2D(36160,33306,3553,i,0)}}(n.__webglFramebuffer,t)}else if(i){n.__webglDepthbuffer=[];for(var o=0;6>o;o++)e.bindFramebuffer(36160,n.__webglFramebuffer[o]),n.__webglDepthbuffer[o]=e.createRenderbuffer(),w(n.__webglDepthbuffer[o],t)}else e.bindFramebuffer(36160,n.__webglFramebuffer),n.__webglDepthbuffer=e.createRenderbuffer(),w(n.__webglDepthbuffer,t);e.bindFramebuffer(36160,null)}var E,S={};this.setTexture2D=v,this.setTexture3D=function(e,t){var i=r.get(e);return 0<e.version&&i.__version!==e.version?void x(i,e,t):(n.activeTexture(33984+t),void n.bindTexture(32879,i.__webglTexture))},this.setTextureCube=function(t,p){var d=r.get(t);if(6===t.image.length)if(0<t.version&&d.__version!==t.version){d.__image__webglTextureCube||(t.addEventListener("dispose",f),d.__image__webglTextureCube=e.createTexture(),a.memory.textures++),n.activeTexture(33984+p),n.bindTexture(34067,d.__image__webglTextureCube),e.pixelStorei(37440,t.flipY);for(var m=t&&t.isCompressedTexture,g=t.image[0]&&t.image[0].isDataTexture,v=[],x=0;6>x;x++)v[x]=m||g?g?t.image[x].image:t.image[x]:s(t.image[x],i.maxCubemapSize);var b=v[0],w=u(b),_=o.convert(t.format),E=o.convert(t.type),S=h(_,E);y(34067,t,w);for(x=0;6>x;x++)if(m)for(var T,A=v[x].mipmaps,M=0,C=A.length;M<C;M++)T=A[M],t.format!==Hs&&t.format!==Gs?-1<n.getCompressedTextureFormats().indexOf(_)?n.compressedTexImage2D(34069+x,M,S,T.width,T.height,0,T.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .setTextureCube()"):n.texImage2D(34069+x,M,S,T.width,T.height,0,_,E,T.data);else g?n.texImage2D(34069+x,0,S,v[x].width,v[x].height,0,_,E,v[x].data):n.texImage2D(34069+x,0,S,_,E,v[x]);d.__maxMipLevel=m?A.length-1:0,c(t,w)&&l(34067,t,b.width,b.height),d.__version=t.version,t.onUpdate&&t.onUpdate(t)}else n.activeTexture(33984+p),n.bindTexture(34067,d.__image__webglTextureCube)},this.setTextureCubeDynamic=function(e,t){n.activeTexture(33984+t),n.bindTexture(34067,r.get(e).__webglTexture)},this.setupRenderTarget=function(t){var i=r.get(t),o=r.get(t.texture);t.addEventListener("dispose",d),o.__webglTexture=e.createTexture(),a.memory.textures++;var s=!0===t.isWebGLRenderTargetCube,h=u(t);if(s){i.__webglFramebuffer=[];for(var p=0;6>p;p++)i.__webglFramebuffer[p]=e.createFramebuffer()}else i.__webglFramebuffer=e.createFramebuffer();if(s){n.bindTexture(34067,o.__webglTexture),y(34067,t.texture,h);for(p=0;6>p;p++)b(i.__webglFramebuffer[p],t,36064,34069+p);c(t.texture,h)&&l(34067,t.texture,t.width,t.height),n.bindTexture(34067,null)}else n.bindTexture(3553,o.__webglTexture),y(3553,t.texture,h),b(i.__webglFramebuffer,t,36064,3553),c(t.texture,h)&&l(3553,t.texture,t.width,t.height),n.bindTexture(3553,null);t.depthBuffer&&_(t)},this.updateRenderTargetMipmap=function(e){var t=e.texture;if(c(t,u(e))){var i=e.isWebGLRenderTargetCube?34067:3553,o=r.get(t).__webglTexture;n.bindTexture(i,o),l(i,t,e.width,e.height),n.bindTexture(i,null)}}}function vt(e,t,n){return{convert:function(e){var r;if(e===bs)return 10497;if(e===ws)return 33071;if(e===_s)return 33648;if(e===Es)return 9728;if(e===Ss)return 9984;if(e===Ts)return 9986;if(e===As)return 9729;if(e===Ms)return 9985;if(e===Cs)return 9987;if(e===Ds)return 5121;if(e===Fs)return 32819;if(e===Bs)return 32820;if(e===Us)return 33635;if(e===Ls)return 5120;if(e===Ps)return 5122;if(e===Rs)return 5123;if(e===Os)return 5124;if(e===Is)return 5125;if(e===ks)return 5126;if(e===Ns){if(n.isWebGL2)return 5131;if(null!==(r=t.get("OES_texture_half_float")))return r.HALF_FLOAT_OES}if(e===js)return 6406;if(e===Gs)return 6407;if(e===Hs)return 6408;if(e===Vs)return 6409;if(e===Ws)return 6410;if(e===qs)return 6402;if(e===Ys)return 34041;if(e===Js)return 6403;if(e===Oa)return 32774;if(e===Ia)return 32778;if(e===ka)return 32779;if(e===Ba)return 0;if(e===Ua)return 1;if(e===za)return 768;if(e===ja)return 769;if(e===Ga)return 770;if(e===Ha)return 771;if(e===Va)return 772;if(e===Wa)return 773;if(e===Xa)return 774;if(e===qa)return 775;if(e===Ya)return 776;if((e===Zs||e===Ks||e===$s||e===Qs)&&null!==(r=t.get("WEBGL_compressed_texture_s3tc"))){if(e===Zs)return r.COMPRESSED_RGB_S3TC_DXT1_EXT;if(e===Ks)return r.COMPRESSED_RGBA_S3TC_DXT1_EXT;if(e===$s)return r.COMPRESSED_RGBA_S3TC_DXT3_EXT;if(e===Qs)return r.COMPRESSED_RGBA_S3TC_DXT5_EXT}if((e===eu||e===tu||e===nu||e===ru)&&null!==(r=t.get("WEBGL_compressed_texture_pvrtc"))){if(e===eu)return r.COMPRESSED_RGB_PVRTC_4BPPV1_IMG;if(e===tu)return r.COMPRESSED_RGB_PVRTC_2BPPV1_IMG;if(e===nu)return r.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG;if(e===ru)return r.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG}if(e===iu&&null!==(r=t.get("WEBGL_compressed_texture_etc1")))return r.COMPRESSED_RGB_ETC1_WEBGL;if((e===ou||e===au||e===su||e===uu||e===cu||e===lu||e===hu||e===pu||e===fu||e===du||e===mu||e===gu||e===vu||e===yu)&&null!==(r=t.get("WEBGL_compressed_texture_astc")))return e;if(e===Na||e===Fa){if(n.isWebGL2){if(e===Na)return 32775;if(e===Fa)return 32776}if(null!==(r=t.get("EXT_blend_minmax"))){if(e===Na)return r.MIN_EXT;if(e===Fa)return r.MAX_EXT}}if(e===zs){if(n.isWebGL2)return 34042;if(null!==(r=t.get("WEBGL_depth_texture")))return r.UNSIGNED_INT_24_8_WEBGL}return 0}}}function yt(){A.call(this),this.type="Group"}function xt(){A.call(this),this.type="Camera",this.matrixWorldInverse=new o,this.projectionMatrix=new o,this.projectionMatrixInverse=new o}function bt(e,t,n,r){xt.call(this),this.type="PerspectiveCamera",this.fov=void 0===e?50:e,this.zoom=1,this.near=void 0===n?.1:n,this.far=void 0===r?2e3:r,this.focus=10,this.aspect=void 0===t?1:t,this.view=null,this.filmGauge=35,this.filmOffset=0,this.updateProjectionMatrix()}function wt(e){bt.call(this),this.cameras=e||[]}function _t(e,t,n){dc.setFromMatrixPosition(t.matrixWorld),mc.setFromMatrixPosition(n.matrixWorld);var r=dc.distanceTo(mc),i=t.projectionMatrix.elements,o=n.projectionMatrix.elements,a=i[14]/(i[10]-1),s=i[14]/(i[10]+1),u=(i[9]+1)/i[5],c=(i[9]-1)/i[5],l=(i[8]-1)/i[0],h=(o[8]+1)/o[0],p=r/(-l+h),f=p*-l;t.matrixWorld.decompose(e.position,e.quaternion,e.scale),e.translateX(f),e.translateZ(p),e.matrixWorld.compose(e.position,e.quaternion,e.scale),e.matrixWorldInverse.getInverse(e.matrixWorld);var d=a+p,m=s+p;e.projectionMatrix.makePerspective(a*l-f,a*h+(r-f),u*s/m*d,c*s/m*d,d,m)}function Et(e){function t(){return null!==c&&!0===c.isPresenting}function n(){if(t()){var n=c.getEyeParameters("left"),r=n.renderWidth*g,i=n.renderHeight*g;A=e.getPixelRatio(),T=e.getSize(),e.setDrawingBufferSize(2*r,i,1),C.start()}else u.enabled&&e.setDrawingBufferSize(T.width,T.height,A),C.stop()}function r(e){for(var t,n=navigator.getGamepads&&navigator.getGamepads(),r=0,i=0,o=n.length;r<o;r++)if((t=n[r])&&("Daydream Controller"===t.id||"Gear VR Controller"===t.id||"Oculus Go Controller"===t.id||"OpenVR Gamepad"===t.id||t.id.startsWith("Oculus Touch")||t.id.startsWith("Spatial Controller"))){if(i===e)return t;i++}}function i(){for(var e=0;e<f.length;e++){var t=f[e],n=r(e);if(void 0!==n&&void 0!==n.pose){if(null===n.pose)return;var i=n.pose;!1===i.hasPosition&&t.position.set(.2,-.6,-.05),null!==i.position&&t.position.fromArray(i.position),null!==i.orientation&&t.quaternion.fromArray(i.orientation),t.matrix.compose(t.position,t.quaternion,t.scale),t.matrix.premultiply(d),t.matrix.decompose(t.position,t.quaternion,t.scale),t.matrixWorldNeedsUpdate=!0,t.visible=!0;var o="Daydream Controller"===n.id?0:1;M[e]!==n.buttons[o].pressed&&(M[e]=n.buttons[o].pressed,!0===M[e]?t.dispatchEvent({type:"selectstart"}):(t.dispatchEvent({type:"selectend"}),t.dispatchEvent({type:"select"})))}else t.visible=!1}}var u=this,c=null,h=null,p=null,f=[],d=new o,m=new o,g=1,v="stage";"undefined"!=typeof window&&"VRFrameData"in window&&(h=new window.VRFrameData,window.addEventListener("vrdisplaypresentchange",n,!1));var y=new o,x=new a,b=new s,_=new bt;_.bounds=new l(0,0,.5,1),_.layers.enable(1);var E=new bt;E.bounds=new l(.5,0,.5,1),E.layers.enable(2);var S=new wt([_,E]);S.layers.enable(1),S.layers.enable(2);var T,A,M=[];this.enabled=!1,this.getController=function(e){var t=f[e];return void 0===t&&((t=new yt).matrixAutoUpdate=!1,t.visible=!1,f[e]=t),t},this.getDevice=function(){return c},this.setDevice=function(e){void 0!==e&&(c=e),C.setContext(e)},this.setFramebufferScaleFactor=function(e){g=e},this.setFrameOfReferenceType=function(e){v=e},this.setPoseTarget=function(e){void 0!==e&&(p=e)},this.getCamera=function(e){var t="stage"===v?1.6:0;if(null===c)return e.position.set(0,t,0),e;if(c.depthNear=e.near,c.depthFar=e.far,c.getFrameData(h),"stage"===v){var n=c.stageParameters;n?d.fromArray(n.sittingToStandingTransform):d.makeTranslation(0,t,0)}var r=h.pose,o=null===p?e:p;if(o.matrix.copy(d),o.matrix.decompose(o.position,o.quaternion,o.scale),null!==r.orientation&&(x.fromArray(r.orientation),o.quaternion.multiply(x)),null!==r.position&&(x.setFromRotationMatrix(d),b.fromArray(r.position),b.applyQuaternion(x),o.position.add(b)),o.updateMatrixWorld(),!1===c.isPresenting)return e;_.near=e.near,E.near=e.near,_.far=e.far,E.far=e.far,_.matrixWorldInverse.fromArray(h.leftViewMatrix),E.matrixWorldInverse.fromArray(h.rightViewMatrix),m.getInverse(d),"stage"===v&&(_.matrixWorldInverse.multiply(m),E.matrixWorldInverse.multiply(m));var a=o.parent;null!==a&&(y.getInverse(a.matrixWorld),_.matrixWorldInverse.multiply(y),E.matrixWorldInverse.multiply(y)),_.matrixWorld.getInverse(_.matrixWorldInverse),E.matrixWorld.getInverse(E.matrixWorldInverse),_.projectionMatrix.fromArray(h.leftProjectionMatrix),E.projectionMatrix.fromArray(h.rightProjectionMatrix),_t(S,_,E);var s=c.getLayers();if(s.length){var u=s[0];null!==u.leftBounds&&4===u.leftBounds.length&&_.bounds.fromArray(u.leftBounds),null!==u.rightBounds&&4===u.rightBounds.length&&E.bounds.fromArray(u.rightBounds)}return i(),S},this.getStandingMatrix=function(){return d},this.isPresenting=t;var C=new w;this.setAnimationLoop=function(e){C.setAnimationLoop(e)},this.submitFrame=function(){t()&&c.submitFrame()},this.dispose=function(){"undefined"!=typeof window&&window.removeEventListener("vrdisplaypresentchange",n)}}function St(e){function t(){return null!==s&&null!==c}function n(e){var t=f[d.indexOf(e.inputSource)];t&&t.dispatchEvent({type:e.type})}function r(){e.setFramebuffer(null),x.stop()}function i(e,t){null===t?e.matrixWorld.copy(e.matrix):e.matrixWorld.multiplyMatrices(t.matrixWorld,e.matrix),e.matrixWorldInverse.getInverse(e.matrixWorld)}var o=e.context,a=null,s=null,u=1,c=null,h="stage",p=null,f=[],d=[],m=new bt;m.layers.enable(1),m.viewport=new l;var g=new bt;g.layers.enable(2),g.viewport=new l;var v=new wt([m,g]);v.layers.enable(1),v.layers.enable(2),this.enabled=!1,this.getController=function(e){var t=f[e];return void 0===t&&((t=new yt).matrixAutoUpdate=!1,t.visible=!1,f[e]=t),t},this.getDevice=function(){return a},this.setDevice=function(e){void 0!==e&&(a=e),e instanceof XRDevice&&o.setCompatibleXRDevice(e)},this.setFramebufferScaleFactor=function(e){u=e},this.setFrameOfReferenceType=function(e){h=e},this.setSession=function(t){null!==(s=t)&&(s.addEventListener("select",n),s.addEventListener("selectstart",n),s.addEventListener("selectend",n),s.addEventListener("end",r),s.baseLayer=new XRWebGLLayer(s,o,{framebufferScaleFactor:u}),s.requestFrameOfReference(h).then(function(t){c=t,e.setFramebuffer(s.baseLayer.framebuffer),x.setContext(s),x.start()}),d=s.getInputSources(),s.addEventListener("inputsourceschange",function(){d=s.getInputSources(),console.log(d);for(var e=0;e<f.length;e++)f[e].userData.inputSource=d[e]}))},this.getCamera=function(e){if(t()){var n=e.parent,r=v.cameras;i(v,n);for(var o=0;o<r.length;o++)i(r[o],n);e.matrixWorld.copy(v.matrixWorld);for(var a=e.children,s=(o=0,a.length);o<s;o++)a[o].updateMatrixWorld(!0);return _t(v,m,g),v}return e},this.isPresenting=t;var y=null,x=new w;x.setAnimationLoop(function(e,t){if(null!==(p=t.getDevicePose(c)))for(var n=s.baseLayer,r=t.views,i=0;i<r.length;i++){var o=r[i],a=n.getViewport(o),u=p.getViewMatrix(o),l=v.cameras[i];l.matrix.fromArray(u).getInverse(l.matrix),l.projectionMatrix.fromArray(o.projectionMatrix),l.viewport.set(a.x,a.y,a.width,a.height),0===i&&v.matrix.copy(l.matrix)}for(i=0;i<f.length;i++){var h=f[i],m=d[i];if(m){var g=t.getInputPose(m,c);if(null!==g){"targetRay"in g?h.matrix.elements=g.targetRay.transformMatrix:"pointerMatrix"in g&&(h.matrix.elements=g.pointerMatrix),h.matrix.decompose(h.position,h.rotation,h.scale),h.visible=!0;continue}}h.visible=!1}y&&y(e)}),this.setAnimationLoop=function(e){y=e},this.dispose=function(){},this.getStandingMatrix=function(){return console.warn("THREE.WebXRManager: getStandingMatrix() is no longer needed."),new THREE.Matrix4},this.submitFrame=function(){}}function Tt(e){function t(){return null===le?_e:1}function n(){I=new te(O),(k=new Q(O,I,e)).isWebGL2||(I.get("WEBGL_depth_texture"),I.get("OES_texture_float"),I.get("OES_texture_half_float"),I.get("OES_texture_half_float_linear"),I.get("OES_standard_derivatives"),I.get("OES_element_index_uint"),I.get("ANGLE_instanced_arrays")),I.get("OES_texture_float_linear"),Z=new vt(O,I,k),(N=new mt(O,I,Z,k)).scissor(ve.copy(Se).multiplyScalar(_e)),N.viewport(ge.copy(Ee).multiplyScalar(_e)),F=new ie(O),B=new rt,U=new gt(O,I,N,B,k,Z,F),z=new _(O),j=new ne(O,z,F),G=new se(j,F),q=new ae(O),H=new nt(oe,I,k),V=new st,W=new ht,X=new K(oe,N,G,C),Y=new $(O,I,F,k),J=new re(O,I,F,k),F.programs=H.programs,oe.context=O,oe.capabilities=k,oe.extensions=I,oe.properties=B,oe.renderLists=V,oe.state=N,oe.info=F}function r(e){e.preventDefault(),console.log("THREE.WebGLRenderer: Context Lost."),ue=!0}function i(){console.log("THREE.WebGLRenderer: Context Restored."),ue=!1,n()}function a(e){var t=e.target;t.removeEventListener("dispose",a),function(e){u(e),B.remove(e)}(t)}function u(e){var t=B.get(e).program;e.program=void 0,void 0!==t&&H.releaseProgram(t)}function c(e,t,n,r){for(var i=0,o=e.length;i<o;i++){var a=e[i],s=a.object,u=a.geometry,c=void 0===r?a.material:r,l=a.group;if(n.isArrayCamera){me=n;for(var p,f=n.cameras,d=0,m=f.length;d<m;d++)if(p=f[d],s.layers.test(p.layers)){if("viewport"in p)N.viewport(ge.copy(p.viewport));else{var g=p.bounds,v=g.x*be,y=g.y*we,x=g.z*be,b=g.w*we;N.viewport(ge.set(v,y,x,b).multiplyScalar(_e))}R.setupLights(p),h(s,t,p,u,c,l)}}else me=null,h(s,t,n,u,c,l)}}function h(e,t,n,r,i,o){if(e.onBeforeRender(oe,t,n,r,i,o),R=W.get(t,me||n),e.modelViewMatrix.multiplyMatrices(n.matrixWorldInverse,e.matrixWorld),e.normalMatrix.getNormalMatrix(e.modelViewMatrix),e.isImmediateRenderObject){N.setMaterial(i);var a=d(n,t.fog,i,e);fe.geometry=null,fe.program=null,fe.wireframe=!1,function(e,t){e.render(function(e){oe.renderBufferImmediate(e,t)})}(e,a)}else oe.renderBufferDirect(n,t.fog,r,i,e,o);e.onAfterRender(oe,t,n,r,i,o),R=W.get(t,me||n)}function p(e,t,n){var r=B.get(e),i=R.state.lights,o=R.state.shadowsArray,s=r.lightsHash,c=i.state.hash,l=H.getParameters(e,i.state,o,t,Me.numPlanes,Me.numIntersection,n),h=H.getProgramCode(e,l),p=r.program,f=!0;if(void 0===p)e.addEventListener("dispose",a);else if(p.code!==h)u(e);else if(s.stateID!==c.stateID||s.directionalLength!==c.directionalLength||s.pointLength!==c.pointLength||s.spotLength!==c.spotLength||s.rectAreaLength!==c.rectAreaLength||s.hemiLength!==c.hemiLength||s.shadowsLength!==c.shadowsLength)s.stateID=c.stateID,s.directionalLength=c.directionalLength,s.pointLength=c.pointLength,s.spotLength=c.spotLength,s.rectAreaLength=c.rectAreaLength,s.hemiLength=c.hemiLength,s.shadowsLength=c.shadowsLength,f=!1;else{if(void 0!==l.shaderID)return;f=!1}if(f){if(l.shaderID){var d=Ku[l.shaderID];r.shader={name:e.type,uniforms:y(d.uniforms),vertexShader:d.vertexShader,fragmentShader:d.fragmentShader}}else r.shader={name:e.type,uniforms:e.uniforms,vertexShader:e.vertexShader,fragmentShader:e.fragmentShader};e.onBeforeCompile(r.shader,oe),h=H.getProgramCode(e,l),p=H.acquireProgram(e,r.shader,l,h),r.program=p,e.program=p}var m=p.getAttributes();if(e.morphTargets){e.numSupportedMorphTargets=0;for(var g=0;g<oe.maxMorphTargets;g++)0<=m["morphTarget"+g]&&e.numSupportedMorphTargets++}if(e.morphNormals){e.numSupportedMorphNormals=0;for(g=0;g<oe.maxMorphNormals;g++)0<=m["morphNormal"+g]&&e.numSupportedMorphNormals++}var v=r.shader.uniforms;(e.isShaderMaterial||e.isRawShaderMaterial)&&!0!==e.clipping||(r.numClippingPlanes=Me.numPlanes,r.numIntersection=Me.numIntersection,v.clippingPlanes=Me.uniform),r.fog=t,void 0===s&&(r.lightsHash=s={}),s.stateID=c.stateID,s.directionalLength=c.directionalLength,s.pointLength=c.pointLength,s.spotLength=c.spotLength,s.rectAreaLength=c.rectAreaLength,s.hemiLength=c.hemiLength,s.shadowsLength=c.shadowsLength,e.lights&&(v.ambientLightColor.value=i.state.ambient,v.directionalLights.value=i.state.directional,v.spotLights.value=i.state.spot,v.rectAreaLights.value=i.state.rectArea,v.pointLights.value=i.state.point,v.hemisphereLights.value=i.state.hemi,v.directionalShadowMap.value=i.state.directionalShadowMap,v.directionalShadowMatrix.value=i.state.directionalShadowMatrix,v.spotShadowMap.value=i.state.spotShadowMap,v.spotShadowMatrix.value=i.state.spotShadowMatrix,v.pointShadowMap.value=i.state.pointShadowMap,v.pointShadowMatrix.value=i.state.pointShadowMatrix);var x=r.program.getUniforms(),b=Ve.seqWithValue(x.seq,v);r.uniformsList=b}function d(e,t,n,r){xe=0;var i=B.get(n),o=R.state.lights,a=i.lightsHash,s=o.state.hash;if(Ce&&(De||e!==de)){var u=e===de&&n.id===pe;Me.setState(n.clippingPlanes,n.clipIntersection,n.clipShadows,e,i,u)}!1===n.needsUpdate&&(void 0===i.program?n.needsUpdate=!0:n.fog&&i.fog!==t?n.needsUpdate=!0:!n.lights||a.stateID===s.stateID&&a.directionalLength===s.directionalLength&&a.pointLength===s.pointLength&&a.spotLength===s.spotLength&&a.rectAreaLength===s.rectAreaLength&&a.hemiLength===s.hemiLength&&a.shadowsLength===s.shadowsLength?void 0!==i.numClippingPlanes&&(i.numClippingPlanes!==Me.numPlanes||i.numIntersection!==Me.numIntersection)&&(n.needsUpdate=!0):n.needsUpdate=!0),n.needsUpdate&&(p(n,t,r),n.needsUpdate=!1);var c=!1,l=!1,h=!1,d=i.program,v=d.getUniforms(),y=i.shader.uniforms;if(N.useProgram(d.program)&&(c=!0,l=!0,h=!0),n.id!==pe&&(pe=n.id,l=!0),c||de!==e){if(v.setValue(O,"projectionMatrix",e.projectionMatrix),k.logarithmicDepthBuffer&&v.setValue(O,"logDepthBufFC",2/(Qo(e.far+1)/$o)),de!==e&&(de=e,l=!0,h=!0),n.isShaderMaterial||n.isMeshPhongMaterial||n.isMeshStandardMaterial||n.envMap){var b=v.map.cameraPosition;void 0!==b&&b.setValue(O,Pe.setFromMatrixPosition(e.matrixWorld))}(n.isMeshPhongMaterial||n.isMeshLambertMaterial||n.isMeshBasicMaterial||n.isMeshStandardMaterial||n.isShaderMaterial||n.skinning)&&v.setValue(O,"viewMatrix",e.matrixWorldInverse)}if(n.skinning){v.setOptional(O,r,"bindMatrix"),v.setOptional(O,r,"bindMatrixInverse");var w=r.skeleton;if(w){var _=w.bones;if(k.floatVertexTextures){if(void 0===w.boneTexture){var E=Jo(4*_.length);E=Hu.ceilPowerOfTwo(E),E=oa(E,4);var S=new Float32Array(E*E*4);S.set(w.boneMatrices);var T=new f(S,E,E,Hs,ks);T.needsUpdate=!0,w.boneMatrices=S,w.boneTexture=T,w.boneTextureSize=E}v.setValue(O,"boneTexture",w.boneTexture),v.setValue(O,"boneTextureSize",w.boneTextureSize)}else v.setOptional(O,w,"boneMatrices")}}return l&&(v.setValue(O,"toneMappingExposure",oe.toneMappingExposure),v.setValue(O,"toneMappingWhitePoint",oe.toneMappingWhitePoint),n.lights&&function(e,t){e.ambientLightColor.needsUpdate=t,e.directionalLights.needsUpdate=t,e.pointLights.needsUpdate=t,e.spotLights.needsUpdate=t,e.rectAreaLights.needsUpdate=t,e.hemisphereLights.needsUpdate=t}(y,h),t&&n.fog&&function(e,t){e.fogColor.value=t.color,t.isFog?(e.fogNear.value=t.near,e.fogFar.value=t.far):t.isFogExp2&&(e.fogDensity.value=t.density)}(y,t),n.isMeshBasicMaterial?m(y,n):n.isMeshLambertMaterial?(m(y,n),function(e,t){t.emissiveMap&&(e.emissiveMap.value=t.emissiveMap)}(y,n)):n.isMeshPhongMaterial?(m(y,n),n.isMeshToonMaterial?function(e,t){g(e,t),t.gradientMap&&(e.gradientMap.value=t.gradientMap)}(y,n):g(y,n)):n.isMeshStandardMaterial?(m(y,n),n.isMeshPhysicalMaterial?function(e,t){x(e,t),e.reflectivity.value=t.reflectivity,e.clearCoat.value=t.clearCoat,e.clearCoatRoughness.value=t.clearCoatRoughness}(y,n):x(y,n)):n.isMeshMatcapMaterial?(m(y,n),function(e,t){t.matcap&&(e.matcap.value=t.matcap),t.bumpMap&&(e.bumpMap.value=t.bumpMap,e.bumpScale.value=t.bumpScale,t.side===ba&&(e.bumpScale.value*=-1)),t.normalMap&&(e.normalMap.value=t.normalMap,e.normalScale.value.copy(t.normalScale),t.side===ba&&e.normalScale.value.negate()),t.displacementMap&&(e.displacementMap.value=t.displacementMap,e.displacementScale.value=t.displacementScale,e.displacementBias.value=t.displacementBias)}(y,n)):n.isMeshDepthMaterial?(m(y,n),function(e,t){t.displacementMap&&(e.displacementMap.value=t.displacementMap,e.displacementScale.value=t.displacementScale,e.displacementBias.value=t.displacementBias)}(y,n)):n.isMeshDistanceMaterial?(m(y,n),function(e,t){t.displacementMap&&(e.displacementMap.value=t.displacementMap,e.displacementScale.value=t.displacementScale,e.displacementBias.value=t.displacementBias),e.referencePosition.value.copy(t.referencePosition),e.nearDistance.value=t.nearDistance,e.farDistance.value=t.farDistance}(y,n)):n.isMeshNormalMaterial?(m(y,n),function(e,t){t.bumpMap&&(e.bumpMap.value=t.bumpMap,e.bumpScale.value=t.bumpScale,t.side===ba&&(e.bumpScale.value*=-1)),t.normalMap&&(e.normalMap.value=t.normalMap,e.normalScale.value.copy(t.normalScale),t.side===ba&&e.normalScale.value.negate()),t.displacementMap&&(e.displacementMap.value=t.displacementMap,e.displacementScale.value=t.displacementScale,e.displacementBias.value=t.displacementBias)}(y,n)):n.isLineBasicMaterial?(function(e,t){e.diffuse.value=t.color,e.opacity.value=t.opacity}(y,n),n.isLineDashedMaterial&&function(e,t){e.dashSize.value=t.dashSize,e.totalSize.value=t.dashSize+t.gapSize,e.scale.value=t.scale}(y,n)):n.isPointsMaterial?function(e,t){e.diffuse.value=t.color,e.opacity.value=t.opacity,e.size.value=t.size*_e,e.scale.value=.5*we,e.map.value=t.map,null!==t.map&&(!0===t.map.matrixAutoUpdate&&t.map.updateMatrix(),e.uvTransform.value.copy(t.map.matrix))}(y,n):n.isSpriteMaterial?function(e,t){e.diffuse.value=t.color,e.opacity.value=t.opacity,e.rotation.value=t.rotation,e.map.value=t.map,null!==t.map&&(!0===t.map.matrixAutoUpdate&&t.map.updateMatrix(),e.uvTransform.value.copy(t.map.matrix))}(y,n):n.isShadowMaterial&&(y.color.value=n.color,y.opacity.value=n.opacity),void 0!==y.ltc_1&&(y.ltc_1.value=Zu.LTC_1),void 0!==y.ltc_2&&(y.ltc_2.value=Zu.LTC_2),Ve.upload(O,i.uniformsList,y,oe)),n.isShaderMaterial&&!0===n.uniformsNeedUpdate&&(Ve.upload(O,i.uniformsList,y,oe),n.uniformsNeedUpdate=!1),n.isSpriteMaterial&&v.setValue(O,"center",r.center),v.setValue(O,"modelViewMatrix",r.modelViewMatrix),v.setValue(O,"normalMatrix",r.normalMatrix),v.setValue(O,"modelMatrix",r.matrixWorld),d}function m(e,t){var n;e.opacity.value=t.opacity,t.color&&(e.diffuse.value=t.color),t.emissive&&e.emissive.value.copy(t.emissive).multiplyScalar(t.emissiveIntensity),t.map&&(e.map.value=t.map),t.alphaMap&&(e.alphaMap.value=t.alphaMap),t.specularMap&&(e.specularMap.value=t.specularMap),t.envMap&&(e.envMap.value=t.envMap,e.flipEnvMap.value=t.envMap.isCubeTexture?-1:1,e.reflectivity.value=t.reflectivity,e.refractionRatio.value=t.refractionRatio,e.maxMipLevel.value=B.get(t.envMap).__maxMipLevel),t.lightMap&&(e.lightMap.value=t.lightMap,e.lightMapIntensity.value=t.lightMapIntensity),t.aoMap&&(e.aoMap.value=t.aoMap,e.aoMapIntensity.value=t.aoMapIntensity),t.map?n=t.map:t.specularMap?n=t.specularMap:t.displacementMap?n=t.displacementMap:t.normalMap?n=t.normalMap:t.bumpMap?n=t.bumpMap:t.roughnessMap?n=t.roughnessMap:t.metalnessMap?n=t.metalnessMap:t.alphaMap?n=t.alphaMap:t.emissiveMap&&(n=t.emissiveMap),void 0!==n&&(n.isWebGLRenderTarget&&(n=n.texture),!0===n.matrixAutoUpdate&&n.updateMatrix(),e.uvTransform.value.copy(n.matrix))}function g(e,t){e.specular.value=t.specular,e.shininess.value=oa(t.shininess,1e-4),t.emissiveMap&&(e.emissiveMap.value=t.emissiveMap),t.bumpMap&&(e.bumpMap.value=t.bumpMap,e.bumpScale.value=t.bumpScale,t.side===ba&&(e.bumpScale.value*=-1)),t.normalMap&&(e.normalMap.value=t.normalMap,e.normalScale.value.copy(t.normalScale),t.side===ba&&e.normalScale.value.negate()),t.displacementMap&&(e.displacementMap.value=t.displacementMap,e.displacementScale.value=t.displacementScale,e.displacementBias.value=t.displacementBias)}function x(e,t){e.roughness.value=t.roughness,e.metalness.value=t.metalness,t.roughnessMap&&(e.roughnessMap.value=t.roughnessMap),t.metalnessMap&&(e.metalnessMap.value=t.metalnessMap),t.emissiveMap&&(e.emissiveMap.value=t.emissiveMap),t.bumpMap&&(e.bumpMap.value=t.bumpMap,e.bumpScale.value=t.bumpScale,t.side===ba&&(e.bumpScale.value*=-1)),t.normalMap&&(e.normalMap.value=t.normalMap,e.normalScale.value.copy(t.normalScale),t.side===ba&&e.normalScale.value.negate()),t.displacementMap&&(e.displacementMap.value=t.displacementMap,e.displacementScale.value=t.displacementScale,e.displacementBias.value=t.displacementBias),t.envMap&&(e.envMapIntensity.value=t.envMapIntensity)}console.log("THREE.WebGLRenderer",ua);var b=void 0===(e=e||{}).canvas?document.createElementNS("http://www.w3.org/1999/xhtml","canvas"):e.canvas,E=void 0===e.context?null:e.context,S=void 0!==e.alpha&&e.alpha,T=void 0===e.depth||e.depth,A=void 0===e.stencil||e.stencil,M=void 0!==e.antialias&&e.antialias,C=void 0===e.premultipliedAlpha||e.premultipliedAlpha,D=void 0!==e.preserveDrawingBuffer&&e.preserveDrawingBuffer,L=void 0===e.powerPreference?"default":e.powerPreference,P=null,R=null;this.domElement=b,this.context=null,this.autoClear=!0,this.autoClearColor=!0,this.autoClearDepth=!0,this.autoClearStencil=!0,this.sortObjects=!0,this.clippingPlanes=[],this.localClippingEnabled=!1,this.gammaFactor=2,this.gammaInput=!1,this.gammaOutput=!1,this.physicallyCorrectLights=!1,this.toneMapping=ss,this.toneMappingExposure=1,this.toneMappingWhitePoint=1,this.maxMorphTargets=8,this.maxMorphNormals=4;var O,I,k,N,F,B,U,z,j,G,H,V,W,X,q,Y,J,Z,oe=this,ue=!1,ce=null,le=null,he=null,pe=-1,fe={geometry:null,program:null,wireframe:!1},de=null,me=null,ge=new l,ve=new l,ye=null,xe=0,be=b.width,we=b.height,_e=1,Ee=new l(0,0,be,we),Se=new l(0,0,be,we),Te=!1,Ae=new v,Me=new ee,Ce=!1,De=!1,Le=new o,Pe=new s;try{var Re={alpha:S,depth:T,stencil:A,antialias:M,premultipliedAlpha:C,preserveDrawingBuffer:D,powerPreference:L};if(b.addEventListener("webglcontextlost",r,!1),b.addEventListener("webglcontextrestored",i,!1),null===(O=E||b.getContext("webgl",Re)||b.getContext("experimental-webgl",Re)))throw null!==b.getContext("webgl")?new Error("Error creating WebGL context with your selected attributes."):new Error("Error creating WebGL context.");void 0===O.getShaderPrecisionFormat&&(O.getShaderPrecisionFormat=function(){return{rangeMin:1,rangeMax:1,precision:1}})}catch(e){console.error("THREE.WebGLRenderer: "+e.message)}n();var Oe=null;"undefined"!=typeof navigator&&(Oe="xr"in navigator?new St(oe):new Et(oe)),this.vr=Oe;var Ie=new dt(oe,G,k.maxTextureSize);this.shadowMap=Ie,this.getContext=function(){return O},this.getContextAttributes=function(){return O.getContextAttributes()},this.forceContextLoss=function(){var e=I.get("WEBGL_lose_context");e&&e.loseContext()},this.forceContextRestore=function(){var e=I.get("WEBGL_lose_context");e&&e.restoreContext()},this.getPixelRatio=function(){return _e},this.setPixelRatio=function(e){void 0===e||(_e=e,this.setSize(be,we,!1))},this.getSize=function(){return{width:be,height:we}},this.setSize=function(e,t,n){return Oe.isPresenting()?void console.warn("THREE.WebGLRenderer: Can't change size while VR device is presenting."):(be=e,we=t,b.width=e*_e,b.height=t*_e,!1!==n&&(b.style.width=e+"px",b.style.height=t+"px"),void this.setViewport(0,0,e,t))},this.getDrawingBufferSize=function(){return{width:be*_e,height:we*_e}},this.setDrawingBufferSize=function(e,t,n){be=e,we=t,_e=n,b.width=e*n,b.height=t*n,this.setViewport(0,0,e,t)},this.getCurrentViewport=function(){return ge},this.setViewport=function(e,t,n,r){Ee.set(e,we-t-r,n,r),N.viewport(ge.copy(Ee).multiplyScalar(_e))},this.setScissor=function(e,t,n,r){Se.set(e,we-t-r,n,r),N.scissor(ve.copy(Se).multiplyScalar(_e))},this.setScissorTest=function(e){N.setScissorTest(Te=e)},this.getClearColor=function(){return X.getClearColor()},this.setClearColor=function(){X.setClearColor.apply(X,arguments)},this.getClearAlpha=function(){return X.getClearAlpha()},this.setClearAlpha=function(){X.setClearAlpha.apply(X,arguments)},this.clear=function(e,t,n){var r=0;(void 0===e||e)&&(r|=16384),(void 0===t||t)&&(r|=256),(void 0===n||n)&&(r|=1024),O.clear(r)},this.clearColor=function(){this.clear(!0,!1,!1)},this.clearDepth=function(){this.clear(!1,!0,!1)},this.clearStencil=function(){this.clear(!1,!1,!0)},this.dispose=function(){b.removeEventListener("webglcontextlost",r,!1),b.removeEventListener("webglcontextrestored",i,!1),V.dispose(),W.dispose(),B.dispose(),G.dispose(),Oe.dispose(),Ne.stop()},this.renderBufferImmediate=function(e,t){N.initAttributes();var n=B.get(e);e.hasPositions&&!n.position&&(n.position=O.createBuffer()),e.hasNormals&&!n.normal&&(n.normal=O.createBuffer()),e.hasUvs&&!n.uv&&(n.uv=O.createBuffer()),e.hasColors&&!n.color&&(n.color=O.createBuffer());var r=t.getAttributes();e.hasPositions&&(O.bindBuffer(34962,n.position),O.bufferData(34962,e.positionArray,35048),N.enableAttribute(r.position),O.vertexAttribPointer(r.position,3,5126,!1,0,0)),e.hasNormals&&(O.bindBuffer(34962,n.normal),O.bufferData(34962,e.normalArray,35048),N.enableAttribute(r.normal),O.vertexAttribPointer(r.normal,3,5126,!1,0,0)),e.hasUvs&&(O.bindBuffer(34962,n.uv),O.bufferData(34962,e.uvArray,35048),N.enableAttribute(r.uv),O.vertexAttribPointer(r.uv,2,5126,!1,0,0)),e.hasColors&&(O.bindBuffer(34962,n.color),O.bufferData(34962,e.colorArray,35048),N.enableAttribute(r.color),O.vertexAttribPointer(r.color,3,5126,!1,0,0)),N.disableUnusedAttributes(),O.drawArrays(4,0,e.count),e.count=0},this.renderBufferDirect=function(e,n,r,i,o,a){var s=o.isMesh&&0>o.normalMatrix.determinant();N.setMaterial(i,s);var u=d(e,n,i,o),c=!1;(fe.geometry!==r.id||fe.program!==u.id||fe.wireframe!==(!0===i.wireframe))&&(fe.geometry=r.id,fe.program=u.id,fe.wireframe=!0===i.wireframe,c=!0),o.morphTargetInfluences&&(q.update(o,r,i,u),c=!0);var l=r.index,h=r.attributes.position,p=1;!0===i.wireframe&&(l=j.getWireframeAttribute(r),p=2);var f,m=Y;null!==l&&(f=z.get(l),(m=J).setIndex(f)),c&&(function(e,t,n){if(n&&n.isInstancedBufferGeometry&!k.isWebGL2&&null===I.get("ANGLE_instanced_arrays"))console.error("THREE.WebGLRenderer.setupVertexAttributes: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");else{N.initAttributes();var r=n.attributes,i=t.getAttributes(),o=e.defaultAttributeValues;for(var a in i){var s=i[a];if(0<=s){var u=r[a];if(void 0!==u){var c=u.normalized,l=u.itemSize,h=z.get(u);if(void 0===h)continue;var p=h.buffer,f=h.type,d=h.bytesPerElement;if(u.isInterleavedBufferAttribute){var m=u.data,g=m.stride,v=u.offset;m&&m.isInstancedInterleavedBuffer?(N.enableAttributeAndDivisor(s,m.meshPerAttribute),void 0===n.maxInstancedCount&&(n.maxInstancedCount=m.meshPerAttribute*m.count)):N.enableAttribute(s),O.bindBuffer(34962,p),O.vertexAttribPointer(s,l,f,c,g*d,v*d)}else u.isInstancedBufferAttribute?(N.enableAttributeAndDivisor(s,u.meshPerAttribute),void 0===n.maxInstancedCount&&(n.maxInstancedCount=u.meshPerAttribute*u.count)):N.enableAttribute(s),O.bindBuffer(34962,p),O.vertexAttribPointer(s,l,f,c,0,0)}else if(void 0!==o){var y=o[a];if(void 0!==y)switch(y.length){case 2:O.vertexAttrib2fv(s,y);break;case 3:O.vertexAttrib3fv(s,y);break;case 4:O.vertexAttrib4fv(s,y);break;default:O.vertexAttrib1fv(s,y)}}}}N.disableUnusedAttributes()}}(i,u,r),null!==l&&O.bindBuffer(34963,f.buffer));var g=1/0;null===l?void 0!==h&&(g=h.count):g=l.count;var v=r.drawRange.start*p,y=r.drawRange.count*p,x=null===a?0:a.start*p,b=null===a?1/0:a.count*p,w=oa(v,x),_=aa(g,v+y,x+b)-1,E=oa(0,_-w+1);if(0!==E){if(o.isMesh)if(!0===i.wireframe)N.setLineWidth(i.wireframeLinewidth*t()),m.setMode(1);else switch(o.drawMode){case Cu:m.setMode(4);break;case Du:m.setMode(5);break;case Lu:m.setMode(6)}else if(o.isLine){var S=i.linewidth;void 0===S&&(S=1),N.setLineWidth(S*t()),o.isLineSegments?m.setMode(1):o.isLineLoop?m.setMode(2):m.setMode(3)}else o.isPoints?m.setMode(0):o.isSprite&&m.setMode(4);r&&r.isInstancedBufferGeometry?0<r.maxInstancedCount&&m.renderInstances(r,w,E):m.render(w,E)}},this.compile=function(e,t){(R=W.get(e,t)).init(),e.traverse(function(e){e.isLight&&(R.pushLight(e),e.castShadow&&R.pushShadow(e))}),R.setupLights(t),e.traverse(function(t){if(t.material)if(Array.isArray(t.material))for(var n=0;n<t.material.length;n++)p(t.material[n],e.fog,t);else p(t.material,e.fog,t)})};var ke=null,Ne=new w;Ne.setAnimationLoop(function(e){Oe.isPresenting()||ke&&ke(e)}),"undefined"!=typeof window&&Ne.setContext(window),this.setAnimationLoop=function(e){ke=e,Oe.setAnimationLoop(e),Ne.start()},this.render=function(e,t,n,r){if(t&&t.isCamera){if(!ue){fe.geometry=null,fe.program=null,fe.wireframe=!1,pe=-1,de=null,!0===e.autoUpdate&&e.updateMatrixWorld(),null===t.parent&&t.updateMatrixWorld(),Oe.enabled&&(t=Oe.getCamera(t)),(R=W.get(e,t)).init(),e.onBeforeRender(oe,e,t,n),Le.multiplyMatrices(t.projectionMatrix,t.matrixWorldInverse),Ae.setFromMatrix(Le),De=this.localClippingEnabled,Ce=Me.init(this.clippingPlanes,De,t),(P=V.get(e,t)).init(),function e(t,n,r){if(!1!==t.visible){if(t.layers.test(n.layers))if(t.isLight)R.pushLight(t),t.castShadow&&R.pushShadow(t);else if(t.isSprite){if(!t.frustumCulled||Ae.intersectsSprite(t)){r&&Pe.setFromMatrixPosition(t.matrixWorld).applyMatrix4(Le);var i=G.update(t),o=t.material;P.push(t,i,o,Pe.z,null)}}else if(t.isImmediateRenderObject)r&&Pe.setFromMatrixPosition(t.matrixWorld).applyMatrix4(Le),P.push(t,null,t.material,Pe.z,null);else if((t.isMesh||t.isLine||t.isPoints)&&(t.isSkinnedMesh&&t.skeleton.update(),!t.frustumCulled||Ae.intersectsObject(t)))if(r&&Pe.setFromMatrixPosition(t.matrixWorld).applyMatrix4(Le),i=G.update(t),o=t.material,Array.isArray(o))for(var a=i.groups,s=0,u=a.length;s<u;s++){var c=a[s],l=o[c.materialIndex];l&&l.visible&&P.push(t,i,l,Pe.z,c)}else o.visible&&P.push(t,i,o,Pe.z,null);var h=t.children;for(s=0,u=h.length;s<u;s++)e(h[s],n,r)}}(e,t,oe.sortObjects),!0===oe.sortObjects&&P.sort(),Ce&&Me.beginShadows();var i=R.state.shadowsArray;Ie.render(i,e,t),R.setupLights(t),Ce&&Me.endShadows(),this.info.autoReset&&this.info.reset(),void 0===n&&(n=null),this.setRenderTarget(n),X.render(P,e,t,r);var o=P.opaque,a=P.transparent;if(e.overrideMaterial){var s=e.overrideMaterial;o.length&&c(o,e,t,s),a.length&&c(a,e,t,s)}else o.length&&c(o,e,t),a.length&&c(a,e,t);n&&U.updateRenderTargetMipmap(n),N.buffers.depth.setTest(!0),N.buffers.depth.setMask(!0),N.buffers.color.setMask(!0),N.setPolygonOffset(!1),e.onAfterRender(oe,e,t),Oe.enabled&&Oe.submitFrame(),P=null,R=null}}else console.error("THREE.WebGLRenderer.render: camera is not an instance of THREE.Camera.")},this.allocTextureUnit=function(){var e=xe;return e>=k.maxTextures&&console.warn("THREE.WebGLRenderer: Trying to use "+e+" texture units while this GPU supports only "+k.maxTextures),xe+=1,e},this.setTexture2D=function(){var e=!1;return function(t,n){t&&t.isWebGLRenderTarget&&(!e&&(console.warn("THREE.WebGLRenderer.setTexture2D: don't use render targets as textures. Use their .texture property instead."),e=!0),t=t.texture),U.setTexture2D(t,n)}}(),this.setTexture3D=function(e,t){U.setTexture3D(e,t)},this.setTexture=function(){var e=!1;return function(t,n){e||(console.warn("THREE.WebGLRenderer: .setTexture is deprecated, use setTexture2D instead."),e=!0),U.setTexture2D(t,n)}}(),this.setTextureCube=function(){var e=!1;return function(t,n){t&&t.isWebGLRenderTargetCube&&(!e&&(console.warn("THREE.WebGLRenderer.setTextureCube: don't use cube render targets as textures. Use their .texture property instead."),e=!0),t=t.texture),t&&t.isCubeTexture||Array.isArray(t.image)&&6===t.image.length?U.setTextureCube(t,n):U.setTextureCubeDynamic(t,n)}}(),this.setFramebuffer=function(e){ce=e},this.getRenderTarget=function(){return le},this.setRenderTarget=function(e){le=e,e&&void 0===B.get(e).__webglFramebuffer&&U.setupRenderTarget(e);var t=ce,n=!1;if(e){var r=B.get(e).__webglFramebuffer;e.isWebGLRenderTargetCube?(t=r[e.activeCubeFace],n=!0):t=r,ge.copy(e.viewport),ve.copy(e.scissor),ye=e.scissorTest}else ge.copy(Ee).multiplyScalar(_e),ve.copy(Se).multiplyScalar(_e),ye=Te;if(he!==t&&(O.bindFramebuffer(36160,t),he=t),N.viewport(ge),N.scissor(ve),N.setScissorTest(ye),n){var i=B.get(e.texture);O.framebufferTexture2D(36160,36064,34069+e.activeCubeFace,i.__webglTexture,e.activeMipMapLevel)}},this.readRenderTargetPixels=function(e,t,n,r,i,o){if(e&&e.isWebGLRenderTarget){var a=B.get(e).__webglFramebuffer;if(a){var s=!1;a!==he&&(O.bindFramebuffer(36160,a),s=!0);try{var u=e.texture,c=u.format,l=u.type;if(c!==Hs&&Z.convert(c)!==O.getParameter(35739))return void console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in RGBA or implementation defined format.");if(!(l===Ds||Z.convert(l)===O.getParameter(35738)||l===ks&&(k.isWebGL2||I.get("OES_texture_float")||I.get("WEBGL_color_buffer_float"))||l===Ns&&(k.isWebGL2?I.get("EXT_color_buffer_float"):I.get("EXT_color_buffer_half_float"))))return void console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in UnsignedByteType or implementation defined type.");36053===O.checkFramebufferStatus(36160)?0<=t&&t<=e.width-r&&0<=n&&n<=e.height-i&&O.readPixels(t,n,r,i,Z.convert(c),Z.convert(l),o):console.error("THREE.WebGLRenderer.readRenderTargetPixels: readPixels from renderTarget failed. Framebuffer not complete.")}finally{s&&O.bindFramebuffer(36160,he)}}}else console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.")},this.copyFramebufferToTexture=function(e,t,n){var r=t.image.width,i=t.image.height,o=Z.convert(t.format);this.setTexture2D(t,0),O.copyTexImage2D(3553,n||0,o,e.x,e.y,r,i,0)},this.copyTextureToTexture=function(e,t,n,r){var i=t.image.width,o=t.image.height,a=Z.convert(n.format),s=Z.convert(n.type);this.setTexture2D(n,0),t.isDataTexture?O.texSubImage2D(3553,r||0,e.x,e.y,i,o,a,s,t.image.data):O.texSubImage2D(3553,r||0,e.x,e.y,a,s,t.image)}}function At(e,t){this.name="",this.color=new b(e),this.density=void 0===t?25e-5:t}function Mt(e,t,n){this.name="",this.color=new b(e),this.near=void 0===t?1:t,this.far=void 0===n?1e3:n}function Ct(){A.call(this),this.type="Scene",this.background=null,this.fog=null,this.overrideMaterial=null,this.autoUpdate=!0}function Dt(e,t){this.array=e,this.stride=t,this.count=void 0===e?0:e.length/t,this.dynamic=!1,this.updateRange={offset:0,count:-1},this.version=0}function Lt(e,t,n,r){this.data=e,this.itemSize=t,this.offset=n,this.normalized=!0===r}function Pt(e){W.call(this),this.type="SpriteMaterial",this.color=new b(16777215),this.map=null,this.rotation=0,this.sizeAttenuation=!0,this.lights=!1,this.transparent=!0,this.setValues(e)}function Rt(e){if(A.call(this),this.type="Sprite",void 0===fc){fc=new z;var t=new Dt(new Float32Array([-.5,-.5,0,0,0,.5,-.5,0,1,0,.5,.5,0,1,1,-.5,.5,0,0,1]),5);fc.setIndex([0,1,2,0,2,3]),fc.addAttribute("position",new Lt(t,3,0,!1)),fc.addAttribute("uv",new Lt(t,2,3,!1))}this.geometry=fc,this.material=void 0===e?new Pt:e,this.center=new i(.5,.5)}function Ot(){A.call(this),this.type="LOD",Object.defineProperties(this,{levels:{enumerable:!0,value:[]}})}function It(e,t){e&&e.isGeometry&&console.error("THREE.SkinnedMesh no longer supports THREE.Geometry. Use THREE.BufferGeometry instead."),Z.call(this,e,t),this.type="SkinnedMesh",this.bindMode="attached",this.bindMatrix=new o,this.bindMatrixInverse=new o}function kt(e,t){if(e=e||[],this.bones=e.slice(0),this.boneMatrices=new Float32Array(16*this.bones.length),void 0===t)this.calculateInverses();else if(this.bones.length===t.length)this.boneInverses=t.slice(0);else{console.warn("THREE.Skeleton boneInverses is the wrong length."),this.boneInverses=[];for(var n=0,r=this.bones.length;n<r;n++)this.boneInverses.push(new o)}}function Nt(){A.call(this),this.type="Bone"}function Ft(e){W.call(this),this.type="LineBasicMaterial",this.color=new b(16777215),this.linewidth=1,this.linecap="round",this.linejoin="round",this.lights=!1,this.setValues(e)}function Bt(e,t,n){1===n&&console.error("THREE.Line: parameter THREE.LinePieces no longer supported. Use THREE.LineSegments instead."),A.call(this),this.type="Line",this.geometry=void 0===e?new z:e,this.material=void 0===t?new Ft({color:16777215*Math.random()}):t}function Ut(e,t){Bt.call(this,e,t),this.type="LineSegments"}function zt(e,t){Bt.call(this,e,t),this.type="LineLoop"}function jt(e){W.call(this),this.type="PointsMaterial",this.color=new b(16777215),this.map=null,this.size=1,this.sizeAttenuation=!0,this.morphTargets=!1,this.lights=!1,this.setValues(e)}function Gt(e,t){A.call(this),this.type="Points",this.geometry=void 0===e?new z:e,this.material=void 0===t?new jt({color:16777215*Math.random()}):t}function Ht(e,t,n,r,i,o,a,s,u){c.call(this,e,t,n,r,i,o,a,s,u),this.format=void 0===a?Gs:a,this.minFilter=void 0===o?As:o,this.magFilter=void 0===i?As:i,this.generateMipmaps=!1}function Vt(e,t,n,r,i,o,a,s,u,l,h,p){c.call(this,null,o,a,s,u,l,r,i,h,p),this.image={width:t,height:n},this.mipmaps=e,this.flipY=!1,this.generateMipmaps=!1}function Wt(e,t,n,r,i,o,a,s,u){c.call(this,e,t,n,r,i,o,a,s,u),this.needsUpdate=!0}function Xt(e,t,n,r,i,o,a,s,u,l){if((l=void 0===l?qs:l)!==qs&&l!==Ys)throw new Error("DepthTexture format must be either THREE.DepthFormat or THREE.DepthStencilFormat");void 0===n&&l===qs&&(n=Rs),void 0===n&&l===Ys&&(n=zs),c.call(this,null,r,i,o,a,s,l,n,u),this.image={width:e,height:t},this.magFilter=void 0===a?Es:a,this.minFilter=void 0===s?Es:s,this.flipY=!1,this.generateMipmaps=!1}function qt(e){z.call(this),this.type="WireframeGeometry";var t,n,r,i,o,a,u,c,l,h,p=[],f=[0,0],d={},m=["a","b","c"];if(e&&e.isGeometry){var g=e.faces;for(t=0,r=g.length;t<r;t++){var v=g[t];for(n=0;3>n;n++)u=v[m[n]],c=v[m[(n+1)%3]],f[0]=aa(u,c),f[1]=oa(u,c),void 0===d[l=f[0]+","+f[1]]&&(d[l]={index1:f[0],index2:f[1]})}for(l in d)a=d[l],h=e.vertices[a.index1],p.push(h.x,h.y,h.z),h=e.vertices[a.index2],p.push(h.x,h.y,h.z)}else if(e&&e.isBufferGeometry){var y,x,b,w,_,E,S;if(h=new s,null!==e.index){for(y=e.attributes.position,x=e.index,0===(b=e.groups).length&&(b=[{start:0,count:x.count,materialIndex:0}]),i=0,o=b.length;i<o;++i)for(t=_=(w=b[i]).start,r=_+w.count;t<r;t+=3)for(n=0;3>n;n++)u=x.getX(t+n),c=x.getX(t+(n+1)%3),f[0]=aa(u,c),f[1]=oa(u,c),void 0===d[l=f[0]+","+f[1]]&&(d[l]={index1:f[0],index2:f[1]});for(l in d)a=d[l],h.fromBufferAttribute(y,a.index1),p.push(h.x,h.y,h.z),h.fromBufferAttribute(y,a.index2),p.push(h.x,h.y,h.z)}else for(t=0,r=(y=e.attributes.position).count/3;t<r;t++)for(n=0;3>n;n++)E=3*t+n,h.fromBufferAttribute(y,E),p.push(h.x,h.y,h.z),S=3*t+(n+1)%3,h.fromBufferAttribute(y,S),p.push(h.x,h.y,h.z)}this.addAttribute("position",new N(p,3))}function Yt(e,t,n){M.call(this),this.type="ParametricGeometry",this.parameters={func:e,slices:t,stacks:n},this.fromBufferGeometry(new Jt(e,t,n)),this.mergeVertices()}function Jt(e,t,n){z.call(this),this.type="ParametricBufferGeometry",this.parameters={func:e,slices:t,stacks:n};var r,i,o=[],a=[],u=[],c=[],l=1e-5,h=new s,p=new s,f=new s,d=new s,m=new s;3>e.length&&console.error("THREE.ParametricGeometry: Function must now modify a Vector3 as third parameter.");var g=t+1;for(r=0;r<=n;r++){var v=r/n;for(i=0;i<=t;i++){var y=i/t;e(y,v,p),a.push(p.x,p.y,p.z),0<=y-l?(e(y-l,v,f),d.subVectors(p,f)):(e(y+l,v,f),d.subVectors(f,p)),0<=v-l?(e(y,v-l,f),m.subVectors(p,f)):(e(y,v+l,f),m.subVectors(f,p)),h.crossVectors(d,m).normalize(),u.push(h.x,h.y,h.z),c.push(y,v)}}for(r=0;r<n;r++)for(i=0;i<t;i++){var x=r*g+i,b=r*g+i+1,w=(r+1)*g+i+1,_=(r+1)*g+i;o.push(x,b,_),o.push(b,w,_)}this.setIndex(o),this.addAttribute("position",new N(a,3)),this.addAttribute("normal",new N(u,3)),this.addAttribute("uv",new N(c,2))}function Zt(e,t,n,r){M.call(this),this.type="PolyhedronGeometry",this.parameters={vertices:e,indices:t,radius:n,detail:r},this.fromBufferGeometry(new Kt(e,t,n,r)),this.mergeVertices()}function Kt(e,t,n,r){function o(e,t,n,r){var i,o,s=Zo(2,r),u=[];for(i=0;i<=s;i++){u[i]=[];var c=e.clone().lerp(n,i/s),l=t.clone().lerp(n,i/s),h=s-i;for(o=0;o<=h;o++)u[i][o]=0===o&&i===s?c:c.clone().lerp(l,o/h)}for(i=0;i<s;i++)for(o=0;o<2*(s-i)-1;o++){var p=sa(o/2);0==o%2?(a(u[i][p+1]),a(u[i+1][p]),a(u[i][p])):(a(u[i][p+1]),a(u[i+1][p+1]),a(u[i+1][p]))}}function a(e){p.push(e.x,e.y,e.z)}function u(t,n){var r=3*t;n.x=e[r+0],n.y=e[r+1],n.z=e[r+2]}function c(e,t,n,r){0>r&&1===e.x&&(f[t]=e.x-1),0===n.x&&0===n.z&&(f[t]=r/2/ea+.5)}function l(e){return qo(e.z,-e.x)}function h(e){return qo(-e.y,Jo(e.x*e.x+e.z*e.z))}z.call(this),this.type="PolyhedronBufferGeometry",this.parameters={vertices:e,indices:t,radius:n,detail:r},n=n||1;var p=[],f=[];(function(e){for(var n=new s,r=new s,i=new s,a=0;a<t.length;a+=3)u(t[a+0],n),u(t[a+1],r),u(t[a+2],i),o(n,r,i,e)})(r=r||0),function(e){for(var t=new s,n=0;n<p.length;n+=3)t.x=p[n+0],t.y=p[n+1],t.z=p[n+2],t.normalize().multiplyScalar(e),p[n+0]=t.x,p[n+1]=t.y,p[n+2]=t.z}(n),function(){for(var e=new s,t=0;t<p.length;t+=3){e.x=p[t+0],e.y=p[t+1],e.z=p[t+2];var n=l(e)/2/ea+.5,r=h(e)/ea+.5;f.push(n,1-r)}(function(){for(var e=new s,t=new s,n=new s,r=new s,o=new i,a=new i,u=new i,h=0,d=0;h<p.length;h+=9,d+=6){e.set(p[h+0],p[h+1],p[h+2]),t.set(p[h+3],p[h+4],p[h+5]),n.set(p[h+6],p[h+7],p[h+8]),o.set(f[d+0],f[d+1]),a.set(f[d+2],f[d+3]),u.set(f[d+4],f[d+5]),r.copy(e).add(t).add(n).divideScalar(3);var m=l(r);c(o,d+0,e,m),c(a,d+2,t,m),c(u,d+4,n,m)}})(),function(){for(var e=0;e<f.length;e+=6){var t=f[e+0],n=f[e+2],r=f[e+4],i=oa(t,n,r),o=aa(t,n,r);.9<i&&.1>o&&(.2>t&&(f[e+0]+=1),.2>n&&(f[e+2]+=1),.2>r&&(f[e+4]+=1))}}()}(),this.addAttribute("position",new N(p,3)),this.addAttribute("normal",new N(p.slice(),3)),this.addAttribute("uv",new N(f,2)),0===r?this.computeVertexNormals():this.normalizeNormals()}function $t(e,t){M.call(this),this.type="TetrahedronGeometry",this.parameters={radius:e,detail:t},this.fromBufferGeometry(new Qt(e,t)),this.mergeVertices()}function Qt(e,t){Kt.call(this,[1,1,1,-1,-1,1,-1,1,-1,1,-1,-1],[2,1,0,0,3,2,1,3,0,2,3,1],e,t),this.type="TetrahedronBufferGeometry",this.parameters={radius:e,detail:t}}function en(e,t){M.call(this),this.type="OctahedronGeometry",this.parameters={radius:e,detail:t},this.fromBufferGeometry(new tn(e,t)),this.mergeVertices()}function tn(e,t){Kt.call(this,[1,0,0,-1,0,0,0,1,0,0,-1,0,0,0,1,0,0,-1],[0,2,4,0,4,3,0,3,5,0,5,2,1,2,5,1,5,3,1,3,4,1,4,2],e,t),this.type="OctahedronBufferGeometry",this.parameters={radius:e,detail:t}}function nn(e,t){M.call(this),this.type="IcosahedronGeometry",this.parameters={radius:e,detail:t},this.fromBufferGeometry(new rn(e,t)),this.mergeVertices()}function rn(e,t){var n=1.618033988749895;Kt.call(this,[-1,n,0,1,n,0,-1,-n,0,1,-n,0,0,-1,n,0,1,n,0,-1,-n,0,1,-n,n,0,-1,n,0,1,-n,0,-1,-n,0,1],[0,11,5,0,5,1,0,1,7,0,7,10,0,10,11,1,5,9,5,11,4,11,10,2,10,7,6,7,1,8,3,9,4,3,4,2,3,2,6,3,6,8,3,8,9,4,9,5,2,4,11,6,2,10,8,6,7,9,8,1],e,t),this.type="IcosahedronBufferGeometry",this.parameters={radius:e,detail:t}}function on(e,t){M.call(this),this.type="DodecahedronGeometry",this.parameters={radius:e,detail:t},this.fromBufferGeometry(new an(e,t)),this.mergeVertices()}function an(e,t){var n=1.618033988749895,r=1/n;Kt.call(this,[-1,-1,-1,-1,-1,1,-1,1,-1,-1,1,1,1,-1,-1,1,-1,1,1,1,-1,1,1,1,0,-r,-n,0,-r,n,0,r,-n,0,r,n,-r,-n,0,-r,n,0,r,-n,0,r,n,0,-n,0,-r,n,0,-r,-n,0,r,n,0,r],[3,11,7,3,7,15,3,15,13,7,19,17,7,17,6,7,6,15,17,4,8,17,8,10,17,10,6,8,0,16,8,16,2,8,2,10,0,12,1,0,1,18,0,18,16,6,10,2,6,2,13,6,13,15,2,16,18,2,18,3,2,3,13,18,1,9,18,9,11,18,11,3,4,14,12,4,12,0,4,0,8,11,9,5,11,5,19,11,19,7,19,5,14,19,14,4,19,4,17,1,12,14,1,14,5,1,5,9],e,t),this.type="DodecahedronBufferGeometry",this.parameters={radius:e,detail:t}}function sn(e,t,n,r,i,o){M.call(this),this.type="TubeGeometry",this.parameters={path:e,tubularSegments:t,radius:n,radialSegments:r,closed:i},void 0!==o&&console.warn("THREE.TubeGeometry: taper has been removed.");var a=new un(e,t,n,r,i);this.tangents=a.tangents,this.normals=a.normals,this.binormals=a.binormals,this.fromBufferGeometry(a),this.mergeVertices()}function un(e,t,n,r,o){function a(i){d=e.getPointAt(i/t,d);var o=u.normals[i],a=u.binormals[i];for(l=0;l<=r;l++){var s=l/r*ea*2,c=Wo(s),f=-Xo(s);p.x=f*o.x+c*a.x,p.y=f*o.y+c*a.y,p.z=f*o.z+c*a.z,p.normalize(),g.push(p.x,p.y,p.z),h.x=d.x+n*p.x,h.y=d.y+n*p.y,h.z=d.z+n*p.z,m.push(h.x,h.y,h.z)}}z.call(this),this.type="TubeBufferGeometry",this.parameters={path:e,tubularSegments:t,radius:n,radialSegments:r,closed:o},t=t||64,n=n||1,r=r||8,o=o||!1;var u=e.computeFrenetFrames(t,o);this.tangents=u.tangents,this.normals=u.normals,this.binormals=u.binormals;var c,l,h=new s,p=new s,f=new i,d=new s,m=[],g=[],v=[],y=[];(function(){for(c=0;c<t;c++)a(c);a(!1===o?t:0),function(){for(c=0;c<=t;c++)for(l=0;l<=r;l++)f.x=c/t,f.y=l/r,v.push(f.x,f.y)}(),function(){for(l=1;l<=t;l++)for(c=1;c<=r;c++){var e=(r+1)*(l-1)+(c-1),n=(r+1)*l+(c-1),i=(r+1)*l+c,o=(r+1)*(l-1)+c;y.push(e,n,o),y.push(n,i,o)}}()})(),this.setIndex(y),this.addAttribute("position",new N(m,3)),this.addAttribute("normal",new N(g,3)),this.addAttribute("uv",new N(v,2))}function cn(e,t,n,r,i,o,a){M.call(this),this.type="TorusKnotGeometry",this.parameters={radius:e,tube:t,tubularSegments:n,radialSegments:r,p:i,q:o},void 0!==a&&console.warn("THREE.TorusKnotGeometry: heightScale has been deprecated. Use .scale( x, y, z ) instead."),this.fromBufferGeometry(new ln(e,t,n,r,i,o)),this.mergeVertices()}function ln(e,t,n,r,i,o){function a(e,t,n,r,i){var o=Xo(e),a=Wo(e),s=n/t*e,u=Xo(s);i.x=r*(2+u)*.5*o,i.y=r*(2+u)*a*.5,i.z=r*Wo(s)*.5}z.call(this),this.type="TorusKnotBufferGeometry",this.parameters={radius:e,tube:t,tubularSegments:n,radialSegments:r,p:i,q:o},e=e||1,t=t||.4,n=sa(n)||64,r=sa(r)||8,i=i||2,o=o||3;var u,c,l=[],h=[],p=[],f=[],d=new s,m=new s,g=new s,v=new s,y=new s,x=new s,b=new s;for(u=0;u<=n;++u){var w=u/n*i*ea*2;for(a(w,i,o,e,g),a(w+.01,i,o,e,v),x.subVectors(v,g),b.addVectors(v,g),y.crossVectors(x,b),b.crossVectors(y,x),y.normalize(),b.normalize(),c=0;c<=r;++c){var _=c/r*ea*2,E=-t*Xo(_),S=t*Wo(_);d.x=g.x+(E*b.x+S*y.x),d.y=g.y+(E*b.y+S*y.y),d.z=g.z+(E*b.z+S*y.z),h.push(d.x,d.y,d.z),m.subVectors(d,g).normalize(),p.push(m.x,m.y,m.z),f.push(u/n),f.push(c/r)}}for(c=1;c<=n;c++)for(u=1;u<=r;u++){var T=(r+1)*(c-1)+(u-1),A=(r+1)*c+(u-1),M=(r+1)*c+u,C=(r+1)*(c-1)+u;l.push(T,A,C),l.push(A,M,C)}this.setIndex(l),this.addAttribute("position",new N(h,3)),this.addAttribute("normal",new N(p,3)),this.addAttribute("uv",new N(f,2))}function hn(e,t,n,r,i){M.call(this),this.type="TorusGeometry",this.parameters={radius:e,tube:t,radialSegments:n,tubularSegments:r,arc:i},this.fromBufferGeometry(new pn(e,t,n,r,i)),this.mergeVertices()}function pn(e,t,n,r,i){z.call(this),this.type="TorusBufferGeometry",this.parameters={radius:e,tube:t,radialSegments:n,tubularSegments:r,arc:i},e=e||1,t=t||.4,n=sa(n)||8,r=sa(r)||6,i=i||2*ea;var o,a,u=[],c=[],l=[],h=[],p=new s,f=new s,d=new s;for(o=0;o<=n;o++)for(a=0;a<=r;a++){var m=a/r*i,g=o/n*ea*2;f.x=(e+t*Xo(g))*Xo(m),f.y=(e+t*Xo(g))*Wo(m),f.z=t*Wo(g),c.push(f.x,f.y,f.z),p.x=e*Xo(m),p.y=e*Wo(m),d.subVectors(f,p).normalize(),l.push(d.x,d.y,d.z),h.push(a/r),h.push(o/n)}for(o=1;o<=n;o++)for(a=1;a<=r;a++){var v=(r+1)*o+a-1,y=(r+1)*(o-1)+a-1,x=(r+1)*(o-1)+a,b=(r+1)*o+a;u.push(v,y,b),u.push(y,x,b)}this.setIndex(u),this.addAttribute("position",new N(c,3)),this.addAttribute("normal",new N(l,3)),this.addAttribute("uv",new N(h,2))}function fn(e,t,n,r,i){var o,a;if(i===0<function(e,t,n,r){for(var i=0,o=t,a=n-r;o<n;o+=r)i+=(e[a]-e[o])*(e[o+1]+e[a+1]),a=o;return i}(e,t,n,r))for(o=t;o<n;o+=r)a=Pn(o,e[o],e[o+1],a);else for(o=n-r;o>=t;o-=r)a=Pn(o,e[o],e[o+1],a);return a&&Mn(a,a.next)&&(Rn(a),a=a.next),a}function dn(e,t){if(!e)return e;t||(t=e);var n,r=e;do{if(n=!1,r.steiner||!Mn(r,r.next)&&0!==An(r.prev,r,r.next))r=r.next;else{if(Rn(r),(r=t=r.prev)===r.next)break;n=!0}}while(n||r!==t);return t}function mn(e,t,n,r,i,o,a){if(e){!a&&o&&function(e,t,n,r){var i=e;do{null===i.z&&(i.z=_n(i.x,i.y,t,n,r)),i.prevZ=i.prev,i.nextZ=i.next,i=i.next}while(i!==e);i.prevZ.nextZ=null,i.prevZ=null,function(e){var t,n,r,i,o,a,s,u,c=1;do{for(n=e,e=null,o=null,a=0;n;){for(a++,r=n,s=0,t=0;t<c&&(s++,r=r.nextZ);t++);for(u=c;0<s||0<u&&r;)0!==s&&(0===u||!r||n.z<=r.z)?(i=n,n=n.nextZ,s--):(i=r,r=r.nextZ,u--),o?o.nextZ=i:e=i,i.prevZ=o,o=i;n=r}o.nextZ=null,c*=2}while(1<a)}(i)}(e,r,i,o);for(var s,u,c=e;e.prev!==e.next;)if(s=e.prev,u=e.next,o?vn(e,r,i,o):gn(e))t.push(s.i/n),t.push(e.i/n),t.push(u.i/n),Rn(e),e=u.next,c=u.next;else if((e=u)===c){a?1===a?mn(e=yn(e,t,n),t,n,r,i,o,2):2==a&&xn(e,t,n,r,i,o):mn(dn(e),t,n,r,i,o,1);break}}}function gn(e){var t=e.prev,n=e,r=e.next;if(0<=An(t,n,r))return!1;for(var i=e.next.next;i!==e.prev;){if(Sn(t.x,t.y,n.x,n.y,r.x,r.y,i.x,i.y)&&0<=An(i.prev,i,i.next))return!1;i=i.next}return!0}function vn(e,t,n,r){var i=e.prev,o=e,a=e.next;if(0<=An(i,o,a))return!1;for(var s=i.x<o.x?i.x<a.x?i.x:a.x:o.x<a.x?o.x:a.x,u=i.y<o.y?i.y<a.y?i.y:a.y:o.y<a.y?o.y:a.y,c=i.x>o.x?i.x>a.x?i.x:a.x:o.x>a.x?o.x:a.x,l=i.y>o.y?i.y>a.y?i.y:a.y:o.y>a.y?o.y:a.y,h=_n(s,u,t,n,r),p=_n(c,l,t,n,r),f=e.nextZ;f&&f.z<=p;){if(f!==e.prev&&f!==e.next&&Sn(i.x,i.y,o.x,o.y,a.x,a.y,f.x,f.y)&&0<=An(f.prev,f,f.next))return!1;f=f.nextZ}for(f=e.prevZ;f&&f.z>=h;){if(f!==e.prev&&f!==e.next&&Sn(i.x,i.y,o.x,o.y,a.x,a.y,f.x,f.y)&&0<=An(f.prev,f,f.next))return!1;f=f.prevZ}return!0}function yn(e,t,n){var r=e;do{var i=r.prev,o=r.next.next;!Mn(i,o)&&Cn(i,r,r.next,o)&&Dn(i,o)&&Dn(o,i)&&(t.push(i.i/n),t.push(r.i/n),t.push(o.i/n),Rn(r),Rn(r.next),r=e=o),r=r.next}while(r!==e);return r}function xn(e,t,n,r,i,o){var a=e;do{for(var s=a.next.next;s!==a.prev;){if(a.i!==s.i&&Tn(a,s)){var u=Ln(a,s);return a=dn(a,a.next),u=dn(u,u.next),mn(a,t,n,r,i,o),void mn(u,t,n,r,i,o)}s=s.next}a=a.next}while(a!==e)}function bn(e,t){return e.x-t.x}function wn(e,t){if(t=function(e,t){var n,r=t,i=e.x,o=e.y,a=-1/0;do{if(o<=r.y&&o>=r.next.y&&r.next.y!==r.y){var s=r.x+(o-r.y)*(r.next.x-r.x)/(r.next.y-r.y);if(s<=i&&s>a){if(a=s,s===i){if(o===r.y)return r;if(o===r.next.y)return r.next}n=r.x<r.next.x?r:r.next}}r=r.next}while(r!==t);if(!n)return null;if(i===a)return n.prev;var u,c=n,l=n.x,h=n.y,p=1/0;for(r=n.next;r!==c;)i>=r.x&&r.x>=l&&i!==r.x&&Sn(o<h?i:a,o,l,h,o<h?a:i,o,r.x,r.y)&&((u=Yo(o-r.y)/(i-r.x))<p||u===p&&r.x>n.x)&&Dn(r,e)&&(n=r,p=u),r=r.next;return n}(e,t)){var n=Ln(t,e);dn(n,n.next)}}function _n(e,t,n,r,i){return(e=1431655765&((e=858993459&((e=252645135&((e=16711935&((e=32767*(e-n)*i)|e<<8))|e<<4))|e<<2))|e<<1))|(t=1431655765&((t=858993459&((t=252645135&((t=16711935&((t=32767*(t-r)*i)|t<<8))|t<<4))|t<<2))|t<<1))<<1}function En(e){var t=e,n=e;do{t.x<n.x&&(n=t),t=t.next}while(t!==e);return n}function Sn(e,t,n,r,i,o,a,s){return 0<=(i-a)*(t-s)-(e-a)*(o-s)&&0<=(e-a)*(r-s)-(n-a)*(t-s)&&0<=(n-a)*(o-s)-(i-a)*(r-s)}function Tn(e,t){return e.next.i!==t.i&&e.prev.i!==t.i&&!function(e,t){var n=e;do{if(n.i!==e.i&&n.next.i!==e.i&&n.i!==t.i&&n.next.i!==t.i&&Cn(n,n.next,e,t))return!0;n=n.next}while(n!==e);return!1}(e,t)&&Dn(e,t)&&Dn(t,e)&&function(e,t){var n=e,r=!1,i=(e.x+t.x)/2,o=(e.y+t.y)/2;do{n.y>o!=n.next.y>o&&n.next.y!==n.y&&i<(n.next.x-n.x)*(o-n.y)/(n.next.y-n.y)+n.x&&(r=!r),n=n.next}while(n!==e);return r}(e,t)}function An(e,t,n){return(t.y-e.y)*(n.x-t.x)-(t.x-e.x)*(n.y-t.y)}function Mn(e,t){return e.x===t.x&&e.y===t.y}function Cn(e,t,n,r){return!!(Mn(e,t)&&Mn(n,r)||Mn(e,r)&&Mn(n,t))||0<An(e,t,n)!=0<An(e,t,r)&&0<An(n,r,e)!=0<An(n,r,t)}function Dn(e,t){return 0>An(e.prev,e,e.next)?0<=An(e,t,e.next)&&0<=An(e,e.prev,t):0>An(e,t,e.prev)||0>An(e,e.next,t)}function Ln(e,t){var n=new On(e.i,e.x,e.y),r=new On(t.i,t.x,t.y),i=e.next,o=t.prev;return e.next=t,t.prev=e,n.next=i,i.prev=n,r.next=n,n.prev=r,o.next=r,r.prev=o,r}function Pn(e,t,n,r){var i=new On(e,t,n);return r?(i.next=r.next,i.prev=r,r.next.prev=i,r.next=i):(i.prev=i,i.next=i),i}function Rn(e){e.next.prev=e.prev,e.prev.next=e.next,e.prevZ&&(e.prevZ.nextZ=e.nextZ),e.nextZ&&(e.nextZ.prevZ=e.prevZ)}function On(e,t,n){this.i=e,this.x=t,this.y=n,this.prev=null,this.next=null,this.z=null,this.prevZ=null,this.nextZ=null,this.steiner=!1}function In(e){var t=e.length;2<t&&e[t-1].equals(e[0])&&e.pop()}function kn(e,t){for(var n=0;n<t.length;n++)e.push(t[n].x),e.push(t[n].y)}function Nn(e,t){M.call(this),this.type="ExtrudeGeometry",this.parameters={shapes:e,options:t},this.fromBufferGeometry(new Fn(e,t)),this.mergeVertices()}function Fn(e,t){function n(e){function n(e,t,n){return t||console.error("THREE.ExtrudeGeometry: vec does not exist"),t.clone().multiplyScalar(n).add(e)}function u(e,t,n){var r,o,a,s=e.x-t.x,u=e.y-t.y,c=n.x-e.x,l=n.y-e.y,h=s*s+u*u;if(Yo(s*l-u*c)>ra){var p=Jo(h),f=Jo(c*c+l*l),d=t.x-u/p,m=t.y+s/p,g=((n.x-l/f-d)*l-(n.y+c/f-m)*c)/(s*l-u*c),v=(r=d+s*g-e.x)*r+(o=m+u*g-e.y)*o;if(2>=v)return new i(r,o);a=Jo(v/2)}else{var y=!1;s>ra?c>ra&&(y=!0):s<-ra?c<-ra&&(y=!0):ta(u)===ta(l)&&(y=!0),y?(r=-u,o=s,a=Jo(h)):(r=s,o=u,a=Jo(h/2))}return new i(r/a,o/a)}function c(e,t){var n,r;for(Y=e.length;0<=--Y;){n=Y,0>(r=Y-1)&&(r=e.length-1);var i=0,o=v+2*_;for(i=0;i<o;i++){var a=W*i,s=W*(i+1);p(t+n+a,t+r+a,t+r+s,t+n+s)}}}function l(e,t,n){m.push(e),m.push(t),m.push(n)}function h(e,t,n){f(e),f(t),f(n);var i=o.length/3,a=S.generateTopUV(r,o,i-3,i-2,i-1);d(a[0]),d(a[1]),d(a[2])}function p(e,t,n,i){f(e),f(t),f(i),f(t),f(n),f(i);var a=o.length/3,s=S.generateSideWallUV(r,o,a-6,a-3,a-2,a-1);d(s[0]),d(s[1]),d(s[3]),d(s[1]),d(s[2]),d(s[3])}function f(e){o.push(m[3*e+0]),o.push(m[3*e+1]),o.push(m[3*e+2])}function d(e){a.push(e.x),a.push(e.y)}var m=[],g=void 0===t.curveSegments?12:t.curveSegments,v=void 0===t.steps?1:t.steps,y=void 0===t.depth?100:t.depth,x=void 0===t.bevelEnabled||t.bevelEnabled,b=void 0===t.bevelThickness?6:t.bevelThickness,w=void 0===t.bevelSize?b-2:t.bevelSize,_=void 0===t.bevelSegments?3:t.bevelSegments,E=t.extrudePath,S=void 0===t.UVGenerator?yc:t.UVGenerator;void 0!==t.amount&&(console.warn("THREE.ExtrudeBufferGeometry: amount has been renamed to depth."),y=t.amount);var T,A,M,C,D,L=!1;E&&(T=E.getSpacedPoints(v),L=!0,x=!1,A=E.computeFrenetFrames(v,!1),M=new s,C=new s,D=new s),x||(_=0,b=0,w=0);var P,R,O,I=e.extractPoints(g),k=I.shape,N=I.holes;if(!vc.isClockWise(k))for(k=k.reverse(),R=0,O=N.length;R<O;R++)P=N[R],vc.isClockWise(P)&&(N[R]=P.reverse());var F=vc.triangulateShape(k,N),B=k;for(R=0,O=N.length;R<O;R++)P=N[R],k=k.concat(P);for(var U,z,j,G,H,V,W=k.length,X=F.length,q=[],Y=0,J=B.length,Z=J-1,K=Y+1;Y<J;Y++,Z++,K++)Z===J&&(Z=0),K===J&&(K=0),q[Y]=u(B[Y],B[Z],B[K]);var $,Q,ee=[],te=q.concat();for(R=0,O=N.length;R<O;R++){for(P=N[R],$=[],Y=0,Z=(J=P.length)-1,K=Y+1;Y<J;Y++,Z++,K++)Z===J&&(Z=0),K===J&&(K=0),$[Y]=u(P[Y],P[Z],P[K]);ee.push($),te=te.concat($)}for(U=0;U<_;U++){for(G=b*Xo((j=U/_)*ea/2),z=w*Wo(j*ea/2),Y=0,J=B.length;Y<J;Y++)l((H=n(B[Y],q[Y],z)).x,H.y,-G);for(R=0,O=N.length;R<O;R++)for(P=N[R],$=ee[R],Y=0,J=P.length;Y<J;Y++)l((H=n(P[Y],$[Y],z)).x,H.y,-G)}for(z=w,Y=0;Y<W;Y++)H=x?n(k[Y],te[Y],z):k[Y],L?(C.copy(A.normals[0]).multiplyScalar(H.x),M.copy(A.binormals[0]).multiplyScalar(H.y),D.copy(T[0]).add(C).add(M),l(D.x,D.y,D.z)):l(H.x,H.y,0);for(Q=1;Q<=v;Q++)for(Y=0;Y<W;Y++)H=x?n(k[Y],te[Y],z):k[Y],L?(C.copy(A.normals[Q]).multiplyScalar(H.x),M.copy(A.binormals[Q]).multiplyScalar(H.y),D.copy(T[Q]).add(C).add(M),l(D.x,D.y,D.z)):l(H.x,H.y,y/v*Q);for(U=_-1;0<=U;U--){for(G=b*Xo((j=U/_)*ea/2),z=w*Wo(j*ea/2),Y=0,J=B.length;Y<J;Y++)l((H=n(B[Y],q[Y],z)).x,H.y,y+G);for(R=0,O=N.length;R<O;R++)for(P=N[R],$=ee[R],Y=0,J=P.length;Y<J;Y++)H=n(P[Y],$[Y],z),L?l(H.x,H.y+T[v-1].y,T[v-1].x+G):l(H.x,H.y,y+G)}(function(){var e=o.length/3;if(x){var t=0,n=W*t;for(Y=0;Y<X;Y++)h((V=F[Y])[2]+n,V[1]+n,V[0]+n);for(n=W*(t=v+2*_),Y=0;Y<X;Y++)h((V=F[Y])[0]+n,V[1]+n,V[2]+n)}else{for(Y=0;Y<X;Y++)h((V=F[Y])[2],V[1],V[0]);for(Y=0;Y<X;Y++)h((V=F[Y])[0]+W*v,V[1]+W*v,V[2]+W*v)}r.addGroup(e,o.length/3-e,0)})(),function(){var e=o.length/3,t=0;for(c(B,t),t+=B.length,R=0,O=N.length;R<O;R++)c(P=N[R],t),t+=P.length;r.addGroup(e,o.length/3-e,1)}()}z.call(this),this.type="ExtrudeBufferGeometry",this.parameters={shapes:e,options:t},e=Array.isArray(e)?e:[e];for(var r=this,o=[],a=[],u=0,c=e.length;u<c;u++)n(e[u]);this.addAttribute("position",new N(o,3)),this.addAttribute("uv",new N(a,2)),this.computeVertexNormals()}function Bn(e,t,n){if(n.shapes=[],Array.isArray(e))for(var r,i=0,o=e.length;i<o;i++)r=e[i],n.shapes.push(r.uuid);else n.shapes.push(e.uuid);return void 0!==t.extrudePath&&(n.options.extrudePath=t.extrudePath.toJSON()),n}function Un(e,t){M.call(this),this.type="TextGeometry",this.parameters={text:e,parameters:t},this.fromBufferGeometry(new zn(e,t)),this.mergeVertices()}function zn(e,t){var n=(t=t||{}).font;if(!n||!n.isFont)return console.error("THREE.TextGeometry: font parameter is not an instance of THREE.Font."),new M;var r=n.generateShapes(e,t.size);t.depth=void 0===t.height?50:t.height,void 0===t.bevelThickness&&(t.bevelThickness=10),void 0===t.bevelSize&&(t.bevelSize=8),void 0===t.bevelEnabled&&(t.bevelEnabled=!1),Fn.call(this,r,t),this.type="TextBufferGeometry"}function jn(e,t,n,r,i,o,a){M.call(this),this.type="SphereGeometry",this.parameters={radius:e,widthSegments:t,heightSegments:n,phiStart:r,phiLength:i,thetaStart:o,thetaLength:a},this.fromBufferGeometry(new Gn(e,t,n,r,i,o,a)),this.mergeVertices()}function Gn(e,t,n,r,i,o,a){z.call(this),this.type="SphereBufferGeometry",this.parameters={radius:e,widthSegments:t,heightSegments:n,phiStart:r,phiLength:i,thetaStart:o,thetaLength:a},e=e||1,t=oa(3,sa(t)||8),n=oa(2,sa(n)||6),r=void 0===r?0:r,i=void 0===i?2*ea:i;var u,c,l=(o=void 0===o?0:o)+(a=void 0===a?ea:a),h=0,p=[],f=new s,d=new s,m=[],g=[],v=[],y=[];for(c=0;c<=n;c++){var x=[],b=c/n;for(u=0;u<=t;u++){var w=u/t;f.x=-e*Xo(r+w*i)*Wo(o+b*a),f.y=e*Xo(o+b*a),f.z=e*Wo(r+w*i)*Wo(o+b*a),g.push(f.x,f.y,f.z),d.set(f.x,f.y,f.z).normalize(),v.push(d.x,d.y,d.z),y.push(w,1-b),x.push(h++)}p.push(x)}for(c=0;c<n;c++)for(u=0;u<t;u++){var _=p[c][u+1],E=p[c][u],S=p[c+1][u],T=p[c+1][u+1];(0!==c||0<o)&&m.push(_,E,T),(c!==n-1||l<ea)&&m.push(E,S,T)}this.setIndex(m),this.addAttribute("position",new N(g,3)),this.addAttribute("normal",new N(v,3)),this.addAttribute("uv",new N(y,2))}function Hn(e,t,n,r,i,o){M.call(this),this.type="RingGeometry",this.parameters={innerRadius:e,outerRadius:t,thetaSegments:n,phiSegments:r,thetaStart:i,thetaLength:o},this.fromBufferGeometry(new Vn(e,t,n,r,i,o)),this.mergeVertices()}function Vn(e,t,n,r,o,a){z.call(this),this.type="RingBufferGeometry",this.parameters={innerRadius:e,outerRadius:t,thetaSegments:n,phiSegments:r,thetaStart:o,thetaLength:a},e=e||.5,t=t||1,o=void 0===o?0:o,a=void 0===a?2*ea:a,n=void 0===n?8:oa(3,n);var u,c,l,h=[],p=[],f=[],d=[],m=e,g=(t-e)/(r=void 0===r?1:oa(1,r)),v=new s,y=new i;for(c=0;c<=r;c++){for(l=0;l<=n;l++)u=o+l/n*a,v.x=m*Xo(u),v.y=m*Wo(u),p.push(v.x,v.y,v.z),f.push(0,0,1),y.x=(v.x/t+1)/2,y.y=(v.y/t+1)/2,d.push(y.x,y.y);m+=g}for(c=0;c<r;c++){var x=c*(n+1);for(l=0;l<n;l++){var b=u=l+x,w=u+n+1,_=u+n+2,E=u+1;h.push(b,w,E),h.push(w,_,E)}}this.setIndex(h),this.addAttribute("position",new N(p,3)),this.addAttribute("normal",new N(f,3)),this.addAttribute("uv",new N(d,2))}function Wn(e,t,n,r){M.call(this),this.type="LatheGeometry",this.parameters={points:e,segments:t,phiStart:n,phiLength:r},this.fromBufferGeometry(new Xn(e,t,n,r)),this.mergeVertices()}function Xn(e,t,n,r){z.call(this),this.type="LatheBufferGeometry",this.parameters={points:e,segments:t,phiStart:n,phiLength:r},t=sa(t)||12,n=n||0,r=r||2*ea,r=Hu.clamp(r,0,2*ea);var o,a,u,c=[],l=[],h=[],p=1/t,f=new s,d=new i;for(a=0;a<=t;a++){var m=n+a*p*r,g=Wo(m),v=Xo(m);for(u=0;u<=e.length-1;u++)f.x=e[u].x*g,f.y=e[u].y,f.z=e[u].x*v,l.push(f.x,f.y,f.z),d.x=a/t,d.y=u/(e.length-1),h.push(d.x,d.y)}for(a=0;a<t;a++)for(u=0;u<e.length-1;u++){var y=o=u+a*e.length,x=o+e.length,b=o+e.length+1,w=o+1;c.push(y,x,w),c.push(x,b,w)}if(this.setIndex(c),this.addAttribute("position",new N(l,3)),this.addAttribute("uv",new N(h,2)),this.computeVertexNormals(),r===2*ea){var _=this.attributes.normal.array,E=new s,S=new s,T=new s;for(o=t*e.length*3,a=0,u=0;a<e.length;a++,u+=3)E.x=_[u+0],E.y=_[u+1],E.z=_[u+2],S.x=_[o+u+0],S.y=_[o+u+1],S.z=_[o+u+2],T.addVectors(E,S).normalize(),_[u+0]=_[o+u+0]=T.x,_[u+1]=_[o+u+1]=T.y,_[u+2]=_[o+u+2]=T.z}}function qn(e,t){M.call(this),this.type="ShapeGeometry","object"==typeof t&&(console.warn("THREE.ShapeGeometry: Options parameter has been removed."),t=t.curveSegments),this.parameters={shapes:e,curveSegments:t},this.fromBufferGeometry(new Yn(e,t)),this.mergeVertices()}function Yn(e,t){function n(e){var n,s,c,l=i.length/3,h=e.extractPoints(t),p=h.shape,f=h.holes;for(!1===vc.isClockWise(p)&&(p=p.reverse()),n=0,s=f.length;n<s;n++)c=f[n],!0===vc.isClockWise(c)&&(f[n]=c.reverse());var d=vc.triangulateShape(p,f);for(n=0,s=f.length;n<s;n++)c=f[n],p=p.concat(c);for(n=0,s=p.length;n<s;n++){var m=p[n];i.push(m.x,m.y,0),o.push(0,0,1),a.push(m.x,m.y)}for(n=0,s=d.length;n<s;n++){var g=d[n],v=g[0]+l,y=g[1]+l,x=g[2]+l;r.push(v,y,x),u+=3}}z.call(this),this.type="ShapeBufferGeometry",this.parameters={shapes:e,curveSegments:t},t=t||12;var r=[],i=[],o=[],a=[],s=0,u=0;if(!1===Array.isArray(e))n(e);else for(var c=0;c<e.length;c++)n(e[c]),this.addGroup(s,u,c),s+=u,u=0;this.setIndex(r),this.addAttribute("position",new N(i,3)),this.addAttribute("normal",new N(o,3)),this.addAttribute("uv",new N(a,2))}function Jn(e,t){if(t.shapes=[],Array.isArray(e))for(var n,r=0,i=e.length;r<i;r++)n=e[r],t.shapes.push(n.uuid);else t.shapes.push(e.uuid);return t}function Zn(e,t){z.call(this),this.type="EdgesGeometry",this.parameters={thresholdAngle:t},t=void 0===t?1:t;var n,r,i,o,a=[],s=Xo(Hu.DEG2RAD*t),u=[0,0],c={},l=["a","b","c"];e.isBufferGeometry?(o=new M).fromBufferGeometry(e):o=e.clone(),o.mergeVertices(),o.computeFaceNormals();for(var h,p=o.vertices,f=o.faces,d=0,m=f.length;d<m;d++){h=f[d];for(var g=0;3>g;g++)n=h[l[g]],r=h[l[(g+1)%3]],u[0]=aa(n,r),u[1]=oa(n,r),void 0===c[i=u[0]+","+u[1]]?c[i]={index1:u[0],index2:u[1],face1:d,face2:void 0}:c[i].face2=d}for(i in c){var v=c[i];if(void 0===v.face2||f[v.face1].normal.dot(f[v.face2].normal)<=s){var y=p[v.index1];a.push(y.x,y.y,y.z),y=p[v.index2],a.push(y.x,y.y,y.z)}}this.addAttribute("position",new N(a,3))}function Kn(e,t,n,r,i,o,a,s){M.call(this),this.type="CylinderGeometry",this.parameters={radiusTop:e,radiusBottom:t,height:n,radialSegments:r,heightSegments:i,openEnded:o,thetaStart:a,thetaLength:s},this.fromBufferGeometry(new $n(e,t,n,r,i,o,a,s)),this.mergeVertices()}function $n(e,t,n,r,o,a,u,c){function l(n){var o,a,l,v=new i,b=new s,w=0,_=!0===n?e:t,E=!0===n?1:-1;for(a=g,o=1;o<=r;o++)f.push(0,y*E,0),d.push(0,E,0),m.push(.5,.5),g++;for(l=g,o=0;o<=r;o++){var S=o/r*c+u,T=Xo(S),A=Wo(S);b.x=_*A,b.y=y*E,b.z=_*T,f.push(b.x,b.y,b.z),d.push(0,E,0),v.x=.5*T+.5,v.y=.5*A*E+.5,m.push(v.x,v.y),g++}for(o=0;o<r;o++){var M=a+o,C=l+o;!0===n?p.push(C,C+1,M):p.push(C+1,C,M),w+=3}h.addGroup(x,w,!0===n?1:2),x+=w}z.call(this),this.type="CylinderBufferGeometry",this.parameters={radiusTop:e,radiusBottom:t,height:n,radialSegments:r,heightSegments:o,openEnded:a,thetaStart:u,thetaLength:c};var h=this;e=void 0===e?1:e,t=void 0===t?1:t,n=n||1,r=sa(r)||8,o=sa(o)||1,a=void 0!==a&&a,u=void 0===u?0:u,c=void 0===c?2*ea:c;var p=[],f=[],d=[],m=[],g=0,v=[],y=n/2,x=0;(function(){var i,a,l=new s,b=new s,w=0,_=(t-e)/n;for(a=0;a<=o;a++){var E=[],S=a/o,T=S*(t-e)+e;for(i=0;i<=r;i++){var A=i/r,M=A*c+u,C=Wo(M),D=Xo(M);b.x=T*C,b.y=-S*n+y,b.z=T*D,f.push(b.x,b.y,b.z),l.set(C,_,D).normalize(),d.push(l.x,l.y,l.z),m.push(A,1-S),E.push(g++)}v.push(E)}for(i=0;i<r;i++)for(a=0;a<o;a++){var L=v[a][i],P=v[a+1][i],R=v[a+1][i+1],O=v[a][i+1];p.push(L,P,O),p.push(P,R,O),w+=6}h.addGroup(x,w,0),x+=w})(),!1===a&&(0<e&&l(!0),0<t&&l(!1)),this.setIndex(p),this.addAttribute("position",new N(f,3)),this.addAttribute("normal",new N(d,3)),this.addAttribute("uv",new N(m,2))}function Qn(e,t,n,r,i,o,a){Kn.call(this,0,e,t,n,r,i,o,a),this.type="ConeGeometry",this.parameters={radius:e,height:t,radialSegments:n,heightSegments:r,openEnded:i,thetaStart:o,thetaLength:a}}function er(e,t,n,r,i,o,a){$n.call(this,0,e,t,n,r,i,o,a),this.type="ConeBufferGeometry",this.parameters={radius:e,height:t,radialSegments:n,heightSegments:r,openEnded:i,thetaStart:o,thetaLength:a}}function tr(e,t,n,r){M.call(this),this.type="CircleGeometry",this.parameters={radius:e,segments:t,thetaStart:n,thetaLength:r},this.fromBufferGeometry(new nr(e,t,n,r)),this.mergeVertices()}function nr(e,t,n,r){z.call(this),this.type="CircleBufferGeometry",this.parameters={radius:e,segments:t,thetaStart:n,thetaLength:r},e=e||1,t=void 0===t?8:oa(3,t),n=void 0===n?0:n,r=void 0===r?2*ea:r;var o,a,u=[],c=[],l=[],h=[],p=new s,f=new i;for(c.push(0,0,0),l.push(0,0,1),h.push(.5,.5),a=0,o=3;a<=t;a++,o+=3){var d=n+a/t*r;p.x=e*Xo(d),p.y=e*Wo(d),c.push(p.x,p.y,p.z),l.push(0,0,1),f.x=(c[o]/e+1)/2,f.y=(c[o+1]/e+1)/2,h.push(f.x,f.y)}for(o=1;o<=t;o++)u.push(o,o+1,0);this.setIndex(u),this.addAttribute("position",new N(c,3)),this.addAttribute("normal",new N(l,3)),this.addAttribute("uv",new N(h,2))}function rr(e){W.call(this),this.type="ShadowMaterial",this.color=new b(0),this.transparent=!0,this.setValues(e)}function ir(e){X.call(this,e),this.type="RawShaderMaterial"}function or(e){W.call(this),this.defines={STANDARD:""},this.type="MeshStandardMaterial",this.color=new b(16777215),this.roughness=.5,this.metalness=.5,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new b(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=ju,this.normalScale=new i(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.roughnessMap=null,this.metalnessMap=null,this.alphaMap=null,this.envMap=null,this.envMapIntensity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.skinning=!1,this.morphTargets=!1,this.morphNormals=!1,this.setValues(e)}function ar(e){or.call(this),this.defines={PHYSICAL:""},this.type="MeshPhysicalMaterial",this.reflectivity=.5,this.clearCoat=0,this.clearCoatRoughness=0,this.setValues(e)}function sr(e){W.call(this),this.type="MeshPhongMaterial",this.color=new b(16777215),this.specular=new b(1118481),this.shininess=30,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new b(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=ju,this.normalScale=new i(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=rs,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.skinning=!1,this.morphTargets=!1,this.morphNormals=!1,this.setValues(e)}function ur(e){sr.call(this),this.defines={TOON:""},this.type="MeshToonMaterial",this.gradientMap=null,this.setValues(e)}function cr(e){W.call(this),this.type="MeshNormalMaterial",this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=ju,this.normalScale=new i(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.lights=!1,this.skinning=!1,this.morphTargets=!1,this.morphNormals=!1,this.setValues(e)}function lr(e){W.call(this),this.type="MeshLambertMaterial",this.color=new b(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new b(0),this.emissiveIntensity=1,this.emissiveMap=null,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=rs,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.skinning=!1,this.morphTargets=!1,this.morphNormals=!1,this.setValues(e)}function hr(e){W.call(this),this.defines={MATCAP:""},this.type="MeshMatcapMaterial",this.color=new b(16777215),this.matcap=null,this.map=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=ju,this.normalScale=new i(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.alphaMap=null,this.skinning=!1,this.morphTargets=!1,this.morphNormals=!1,this.lights=!1,this.setValues(e)}function pr(e){Ft.call(this),this.type="LineDashedMaterial",this.scale=1,this.dashSize=3,this.gapSize=1,this.setValues(e)}function fr(e,t,n,r){this.parameterPositions=e,this._cachedIndex=0,this.resultBuffer=void 0===r?new t.constructor(n):r,this.sampleValues=t,this.valueSize=n}function dr(e,t,n,r){fr.call(this,e,t,n,r),this._weightPrev=-0,this._offsetPrev=-0,this._weightNext=-0,this._offsetNext=-0}function mr(e,t,n,r){fr.call(this,e,t,n,r)}function gr(e,t,n,r){fr.call(this,e,t,n,r)}function vr(e,t,n,r){if(void 0===e)throw new Error("THREE.KeyframeTrack: track name is undefined");if(void 0===t||0===t.length)throw new Error("THREE.KeyframeTrack: no keyframes in track named "+e);this.name=e,this.times=wc.convertArray(t,this.TimeBufferType),this.values=wc.convertArray(n,this.ValueBufferType),this.setInterpolation(r||this.DefaultInterpolation)}function yr(e,t,n){vr.call(this,e,t,n)}function xr(e,t,n,r){vr.call(this,e,t,n,r)}function br(e,t,n,r){vr.call(this,e,t,n,r)}function wr(e,t,n,r){fr.call(this,e,t,n,r)}function _r(e,t,n,r){vr.call(this,e,t,n,r)}function Er(e,t,n,r){vr.call(this,e,t,n,r)}function Sr(e,t,n,r){vr.call(this,e,t,n,r)}function Tr(e,t,n){this.name=e,this.tracks=n,this.duration=void 0===t?-1:t,this.uuid=Hu.generateUUID(),0>this.duration&&this.resetDuration()}function Ar(e){if(void 0===e.type)throw new Error("THREE.KeyframeTrack: track type undefined, can not parse");var t=function(e){switch(e.toLowerCase()){case"scalar":case"double":case"float":case"number":case"integer":return br;case"vector":case"vector2":case"vector3":case"vector4":return Sr;case"color":return xr;case"quaternion":return _r;case"bool":case"boolean":return yr;case"string":return Er}throw new Error("THREE.KeyframeTrack: Unsupported typeName: "+e)}(e.type);if(void 0===e.times){var n=[],r=[];wc.flattenJSON(e.keys,n,r,"value"),e.times=n,e.values=r}return void 0===t.parse?new t(e.name,e.times,e.values,e.interpolation):t.parse(e)}function Mr(e,t,n){var r=this,i=!1,o=0,a=0,s=void 0;this.onStart=void 0,this.onLoad=e,this.onProgress=t,this.onError=n,this.itemStart=function(e){a++,0==i&&void 0!==r.onStart&&r.onStart(e,o,a),i=!0},this.itemEnd=function(e){o++,void 0!==r.onProgress&&r.onProgress(e,o,a),o==a&&(i=!1,void 0!==r.onLoad&&r.onLoad())},this.itemError=function(e){void 0!==r.onError&&r.onError(e)},this.resolveURL=function(e){return s?s(e):e},this.setURLModifier=function(e){return s=e,this}}function Cr(e){this.manager=void 0===e?Ec:e}function Dr(e){this.manager=void 0===e?Ec:e}function Lr(e){this.manager=void 0===e?Ec:e,this._parser=null}function Pr(e){this.manager=void 0===e?Ec:e,this._parser=null}function Rr(e){this.manager=void 0===e?Ec:e}function Or(e){this.manager=void 0===e?Ec:e}function Ir(e){this.manager=void 0===e?Ec:e}function kr(){this.type="Curve",this.arcLengthDivisions=200}function Nr(e,t,n,r,i,o,a,s){kr.call(this),this.type="EllipseCurve",this.aX=e||0,this.aY=t||0,this.xRadius=n||1,this.yRadius=r||1,this.aStartAngle=i||0,this.aEndAngle=o||2*ea,this.aClockwise=a||!1,this.aRotation=s||0}function Fr(e,t,n,r,i,o){Nr.call(this,e,t,n,n,r,i,o),this.type="ArcCurve"}function Br(){function e(e,o,a,s){t=e,n=a,r=-3*e+3*o-2*a-s,i=2*e-2*o+a+s}var t=0,n=0,r=0,i=0;return{initCatmullRom:function(t,n,r,i,o){e(n,r,o*(r-t),o*(i-n))},initNonuniformCatmullRom:function(t,n,r,i,o,a,s){var u=(n-t)/o-(r-t)/(o+a)+(r-n)/a,c=(r-n)/a-(i-n)/(a+s)+(i-r)/s;e(n,r,u*=a,c*=a)},calc:function(e){var o=e*e;return t+n*e+r*o+i*(o*e)}}}function Ur(e,t,n,r){kr.call(this),this.type="CatmullRomCurve3",this.points=e||[],this.closed=t||!1,this.curveType=n||"centripetal",this.tension=r||.5}function zr(e,t,n,r,i){var o=.5*(r-t),a=.5*(i-n),s=e*e;return(2*n-2*r+o+a)*(e*s)+(-3*n+3*r-2*o-a)*s+o*e+n}function jr(e,t,n,r){return function(e,t){var n=1-e;return n*n*t}(e,t)+function(e,t){return 2*(1-e)*e*t}(e,n)+function(e,t){return e*e*t}(e,r)}function Gr(e,t,n,r,i){return function(e,t){var n=1-e;return n*n*n*t}(e,t)+function(e,t){var n=1-e;return 3*n*n*e*t}(e,n)+function(e,t){return 3*(1-e)*e*e*t}(e,r)+function(e,t){return e*e*e*t}(e,i)}function Hr(e,t,n,r){kr.call(this),this.type="CubicBezierCurve",this.v0=e||new i,this.v1=t||new i,this.v2=n||new i,this.v3=r||new i}function Vr(e,t,n,r){kr.call(this),this.type="CubicBezierCurve3",this.v0=e||new s,this.v1=t||new s,this.v2=n||new s,this.v3=r||new s}function Wr(e,t){kr.call(this),this.type="LineCurve",this.v1=e||new i,this.v2=t||new i}function Xr(e,t){kr.call(this),this.type="LineCurve3",this.v1=e||new s,this.v2=t||new s}function qr(e,t,n){kr.call(this),this.type="QuadraticBezierCurve",this.v0=e||new i,this.v1=t||new i,this.v2=n||new i}function Yr(e,t,n){kr.call(this),this.type="QuadraticBezierCurve3",this.v0=e||new s,this.v1=t||new s,this.v2=n||new s}function Jr(e){kr.call(this),this.type="SplineCurve",this.points=e||[]}function Zr(){kr.call(this),this.type="CurvePath",this.curves=[],this.autoClose=!1}function Kr(e){Zr.call(this),this.type="Path",this.currentPoint=new i,e&&this.setFromPoints(e)}function $r(e){Kr.call(this,e),this.uuid=Hu.generateUUID(),this.type="Shape",this.holes=[]}function Qr(e,t){A.call(this),this.type="Light",this.color=new b(e),this.intensity=void 0===t?1:t,this.receiveShadow=void 0}function ei(e,t,n){Qr.call(this,e,n),this.type="HemisphereLight",this.castShadow=void 0,this.position.copy(A.DefaultUp),this.updateMatrix(),this.groundColor=new b(t)}function ti(e){this.camera=e,this.bias=0,this.radius=1,this.mapSize=new i(512,512),this.map=null,this.matrix=new o}function ni(){ti.call(this,new bt(50,1,.5,500))}function ri(e,t,n,r,i,o){Qr.call(this,e,t),this.type="SpotLight",this.position.copy(A.DefaultUp),this.updateMatrix(),this.target=new A,Object.defineProperty(this,"power",{get:function(){return this.intensity*ea},set:function(e){this.intensity=e/ea}}),this.distance=void 0===n?0:n,this.angle=void 0===r?ea/3:r,this.penumbra=void 0===i?0:i,this.decay=void 0===o?1:o,this.shadow=new ni}function ii(e,t,n,r){Qr.call(this,e,t),this.type="PointLight",Object.defineProperty(this,"power",{get:function(){return 4*this.intensity*ea},set:function(e){this.intensity=e/(4*ea)}}),this.distance=void 0===n?0:n,this.decay=void 0===r?1:r,this.shadow=new ti(new bt(90,1,.5,500))}function oi(e,t,n,r,i,o){xt.call(this),this.type="OrthographicCamera",this.zoom=1,this.view=null,this.left=void 0===e?-1:e,this.right=void 0===t?1:t,this.top=void 0===n?1:n,this.bottom=void 0===r?-1:r,this.near=void 0===i?.1:i,this.far=void 0===o?2e3:o,this.updateProjectionMatrix()}function ai(){ti.call(this,new oi(-5,5,5,-5,.5,500))}function si(e,t){Qr.call(this,e,t),this.type="DirectionalLight",this.position.copy(A.DefaultUp),this.updateMatrix(),this.target=new A,this.shadow=new ai}function ui(e,t){Qr.call(this,e,t),this.type="AmbientLight",this.castShadow=void 0}function ci(e,t,n,r){Qr.call(this,e,t),this.type="RectAreaLight",this.width=void 0===n?10:n,this.height=void 0===r?10:r}function li(e){this.manager=void 0===e?Ec:e,this.textures={}}function hi(e){this.manager=void 0===e?Ec:e}function pi(e){this.manager=void 0===e?Ec:e,this.resourcePath=""}function fi(e){"undefined"==typeof createImageBitmap&&console.warn("THREE.ImageBitmapLoader: createImageBitmap() not supported."),"undefined"==typeof fetch&&console.warn("THREE.ImageBitmapLoader: fetch() not supported."),this.manager=void 0===e?Ec:e,this.options=void 0}function di(){this.type="ShapePath",this.color=new b,this.subPaths=[],this.currentPath=null}function mi(e){this.type="Font",this.data=e}function gi(e,t,n,r,i){var o=i.glyphs[e]||i.glyphs["?"];if(o){var a,s,u,c,l,h,p,f,d=new di;if(o.o)for(var m,g=o._cachedOutline||(o._cachedOutline=o.o.split(" ")),v=0,y=g.length;v<y;)"m"===(m=g[v++])?(a=g[v++]*t+n,s=g[v++]*t+r,d.moveTo(a,s)):"l"===m?(a=g[v++]*t+n,s=g[v++]*t+r,d.lineTo(a,s)):"q"===m?(u=g[v++]*t+n,c=g[v++]*t+r,l=g[v++]*t+n,h=g[v++]*t+r,d.quadraticCurveTo(l,h,u,c)):"b"===m&&(u=g[v++]*t+n,c=g[v++]*t+r,l=g[v++]*t+n,h=g[v++]*t+r,p=g[v++]*t+n,f=g[v++]*t+r,d.bezierCurveTo(l,h,p,f,u,c));return{offsetX:o.ha*t,path:d}}}function vi(e){this.manager=void 0===e?Ec:e}function yi(){}function xi(e){this.manager=void 0===e?Ec:e}function bi(){this.type="StereoCamera",this.aspect=1,this.eyeSep=.064,this.cameraL=new bt,this.cameraL.layers.enable(1),this.cameraL.matrixAutoUpdate=!1,this.cameraR=new bt,this.cameraR.layers.enable(2),this.cameraR.matrixAutoUpdate=!1}function wi(e,t,n,r){A.call(this),this.type="CubeCamera";var i=90,o=new bt(i,1,e,t);o.up.set(0,-1,0),o.lookAt(new s(1,0,0)),this.add(o);var a=new bt(i,1,e,t);a.up.set(0,-1,0),a.lookAt(new s(-1,0,0)),this.add(a);var u=new bt(i,1,e,t);u.up.set(0,0,1),u.lookAt(new s(0,1,0)),this.add(u);var c=new bt(i,1,e,t);c.up.set(0,0,-1),c.lookAt(new s(0,-1,0)),this.add(c);var l=new bt(i,1,e,t);l.up.set(0,-1,0),l.lookAt(new s(0,0,1)),this.add(l);var h=new bt(i,1,e,t);h.up.set(0,-1,0),h.lookAt(new s(0,0,-1)),this.add(h),r=r||{format:Gs,magFilter:As,minFilter:As},this.renderTarget=new p(n,n,r),this.renderTarget.texture.name="CubeCamera",this.update=function(e,t){null===this.parent&&this.updateMatrixWorld();var n=this.renderTarget,r=n.texture.generateMipmaps;n.texture.generateMipmaps=!1,n.activeCubeFace=0,e.render(t,o,n),n.activeCubeFace=1,e.render(t,a,n),n.activeCubeFace=2,e.render(t,u,n),n.activeCubeFace=3,e.render(t,c,n),n.activeCubeFace=4,e.render(t,l,n),n.texture.generateMipmaps=r,n.activeCubeFace=5,e.render(t,h,n),e.setRenderTarget(null)},this.clear=function(e,t,n,r){for(var i=this.renderTarget,o=0;6>o;o++)i.activeCubeFace=o,e.setRenderTarget(i),e.clear(t,n,r);e.setRenderTarget(null)}}function _i(e){this.autoStart=void 0===e||e,this.startTime=0,this.oldTime=0,this.elapsedTime=0,this.running=!1}function Ei(){A.call(this),this.type="AudioListener",this.context=Nc.getContext(),this.gain=this.context.createGain(),this.gain.connect(this.context.destination),this.filter=null,this.timeDelta=0}function Si(e){A.call(this),this.type="Audio",this.listener=e,this.context=e.context,this.gain=this.context.createGain(),this.gain.connect(e.getInput()),this.autoplay=!1,this.buffer=null,this.detune=0,this.loop=!1,this.startTime=0,this.offset=0,this.playbackRate=1,this.isPlaying=!1,this.hasPlaybackControl=!0,this.sourceType="empty",this.filters=[]}function Ti(e){Si.call(this,e),this.panner=this.context.createPanner(),this.panner.connect(this.gain)}function Ai(e,t){this.analyser=e.context.createAnalyser(),this.analyser.fftSize=void 0===t?2048:t,this.data=new Uint8Array(this.analyser.frequencyBinCount),e.getOutput().connect(this.analyser)}function Mi(e,t,n){this.binding=e,this.valueSize=n;var r,i=Float64Array;"quaternion"===t?r=this._slerp:"string"===t||"bool"===t?(i=Array,r=this._select):r=this._lerp,this.buffer=new i(4*n),this._mixBufferRegion=r,this.cumulativeWeight=0,this.useCount=0,this.referenceCount=0}function Ci(e,t,n){var r=n||Di.parseTrackName(t);this._targetGroup=e,this._bindings=e.subscribe_(t,r)}function Di(e,t,n){this.path=t,this.parsedPath=n||Di.parseTrackName(t),this.node=Di.findNode(e,this.parsedPath.nodeName)||e,this.rootNode=e}function Li(){this.uuid=Hu.generateUUID(),this._objects=Array.prototype.slice.call(arguments),this.nCachedObjects_=0;var e={};this._indicesByUUID=e;for(var t=0,n=arguments.length;t!==n;++t)e[arguments[t].uuid]=t;this._paths=[],this._parsedPaths=[],this._bindings=[],this._bindingsIndicesByPath={};var r=this;this.stats={objects:{get total(){return r._objects.length},get inUse(){return this.total-r.nCachedObjects_}},get bindingsPerObject(){return r._bindings.length}}}function Pi(e,t,n){this._mixer=e,this._clip=t,this._localRoot=n||null;for(var r,i=t.tracks,o=i.length,a=Array(o),s={endingStart:Tu,endingEnd:Tu},u=0;u!==o;++u)r=i[u].createInterpolant(null),a[u]=r,r.settings=s;this._interpolantSettings=s,this._interpolants=a,this._propertyBindings=Array(o),this._cacheIndex=null,this._byClipCacheIndex=null,this._timeScaleInterpolant=null,this._weightInterpolant=null,this.loop=bu,this._loopCount=-1,this._startTime=null,this.time=0,this.timeScale=1,this._effectiveTimeScale=1,this.weight=1,this._effectiveWeight=1,this.repetitions=1/0,this.paused=!1,this.enabled=!0,this.clampWhenFinished=!1,this.zeroSlopeAtStart=!0,this.zeroSlopeAtEnd=!0}function Ri(e){this._root=e,this._initMemoryManager(),this._accuIndex=0,this.time=0,this.timeScale=1}function Oi(e){"string"==typeof e&&(console.warn("THREE.Uniform: Type parameter is no longer needed."),e=arguments[1]),this.value=e}function Ii(){z.call(this),this.type="InstancedBufferGeometry",this.maxInstancedCount=void 0}function ki(e,t,n){Dt.call(this,e,t),this.meshPerAttribute=n||1}function Ni(e,t,n,r){"number"==typeof n&&(r=n,n=!1,console.error("THREE.InstancedBufferAttribute: The constructor now expects normalized as the third argument.")),C.call(this,e,t,n),this.meshPerAttribute=r||1}function Fi(e,t,n,r){this.ray=new q(e,t),this.near=n||0,this.far=r||1/0,this.params={Mesh:{},Line:{},LOD:{},Points:{threshold:1},Sprite:{}},Object.defineProperties(this.params,{PointCloud:{get:function(){return console.warn("THREE.Raycaster: params.PointCloud has been renamed to params.Points."),this.Points}}})}function Bi(e,t){return e.distance-t.distance}function Ui(e,t,n,r){if(!1!==e.visible&&(e.raycast(t,n),!0===r))for(var i=e.children,o=0,a=i.length;o<a;o++)Ui(i[o],t,n,!0)}function zi(e,t,n){return this.radius=void 0===e?1:e,this.phi=void 0===t?0:t,this.theta=void 0===n?0:n,this}function ji(e,t,n){return this.radius=void 0===e?1:e,this.theta=void 0===t?0:t,this.y=void 0===n?0:n,this}function Gi(e,t){this.min=void 0===e?new i(1/0,1/0):e,this.max=void 0===t?new i(-1/0,-1/0):t}function Hi(e,t){this.start=void 0===e?new s:e,this.end=void 0===t?new s:t}function Vi(e){A.call(this),this.material=e,this.render=function(){}}function Wi(e,t,n,r){this.object=e,this.size=void 0===t?1:t;var i=void 0===n?16711680:n,o=void 0===r?1:r,a=0,s=this.object.geometry;s&&s.isGeometry?a=3*s.faces.length:s&&s.isBufferGeometry&&(a=s.attributes.normal.count);var u=new z,c=new N(2*a*3,3);u.addAttribute("position",c),Ut.call(this,u,new Ft({color:i,linewidth:o})),this.matrixAutoUpdate=!1,this.update()}function Xi(e,t){A.call(this),this.light=e,this.light.updateMatrixWorld(),this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=t;for(var n=new z,r=[0,0,0,0,0,1,0,0,0,1,0,1,0,0,0,-1,0,1,0,0,0,0,1,1,0,0,0,0,-1,1],i=0,o=1;i<32;i++,o++){var a=i/32*ea*2,s=o/32*ea*2;r.push(Xo(a),Wo(a),1,Xo(s),Wo(s),1)}n.addAttribute("position",new N(r,3));var u=new Ft({fog:!1});this.cone=new Ut(n,u),this.add(this.cone),this.update()}function qi(e){for(var t,n=function e(t){var n=[];t&&t.isBone&&n.push(t);for(var r=0;r<t.children.length;r++)n.push.apply(n,e(t.children[r]));return n}(e),r=new z,i=[],o=[],a=new b(0,0,1),s=new b(0,1,0),u=0;u<n.length;u++)(t=n[u]).parent&&t.parent.isBone&&(i.push(0,0,0),i.push(0,0,0),o.push(a.r,a.g,a.b),o.push(s.r,s.g,s.b));r.addAttribute("position",new N(i,3)),r.addAttribute("color",new N(o,3));var c=new Ft({vertexColors:Aa,depthTest:!1,depthWrite:!1,transparent:!0});Ut.call(this,r,c),this.root=e,this.bones=n,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1}function Yi(e,t,n){this.light=e,this.light.updateMatrixWorld(),this.color=n;var r=new Gn(t,4,2),i=new J({wireframe:!0,fog:!1});Z.call(this,r,i),this.matrix=this.light.matrixWorld,this.matrixAutoUpdate=!1,this.update()}function Ji(e,t){this.type="RectAreaLightHelper",this.light=e,this.color=t;var n=new z;n.addAttribute("position",new N([1,1,0,-1,1,0,-1,-1,0,1,-1,0,1,1,0],3)),n.computeBoundingSphere();var r=new Ft({fog:!1});Bt.call(this,n,r);var i=new z;i.addAttribute("position",new N([1,1,0,-1,1,0,-1,-1,0,1,1,0,-1,-1,0,1,-1,0],3)),i.computeBoundingSphere(),this.add(new Z(i,new J({side:THREE.BackSide,fog:!1}))),this.update()}function Zi(e,t,n){A.call(this),this.light=e,this.light.updateMatrixWorld(),this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=n;var r=new tn(t);r.rotateY(.5*ea),this.material=new J({wireframe:!0,fog:!1}),void 0===this.color&&(this.material.vertexColors=Aa);var i=r.getAttribute("position"),o=new Float32Array(3*i.count);r.addAttribute("color",new C(o,3)),this.add(new Z(r,this.material)),this.update()}function Ki(e,t,n,r){e=e||10,t=t||10,n=new b(void 0===n?4473924:n),r=new b(void 0===r?8947848:r);for(var i=t/2,o=e/t,a=e/2,s=[],u=[],c=0,l=0,h=-a;c<=t;c++,h+=o){s.push(-a,0,h,a,0,h),s.push(h,0,-a,h,0,a);var p=c===i?n:r;p.toArray(u,l),l+=3,p.toArray(u,l),l+=3,p.toArray(u,l),l+=3,p.toArray(u,l),l+=3}var f=new z;f.addAttribute("position",new N(s,3)),f.addAttribute("color",new N(u,3));var d=new Ft({vertexColors:Aa});Ut.call(this,f,d)}function $i(e,t,n,r,i,o){e=e||10,t=t||16,n=n||8,r=r||64,i=new b(void 0===i?4473924:i),o=new b(void 0===o?8947848:o);var a,s,u,c,l,h,p,f=[],d=[];for(c=0;c<=t;c++)a=Wo(u=c/t*(2*ea))*e,s=Xo(u)*e,f.push(0,0,0),f.push(a,0,s),p=1&c?i:o,d.push(p.r,p.g,p.b),d.push(p.r,p.g,p.b);for(c=0;c<=n;c++)for(p=1&c?i:o,h=e-e/n*c,l=0;l<r;l++)a=Wo(u=l/r*(2*ea))*h,s=Xo(u)*h,f.push(a,0,s),d.push(p.r,p.g,p.b),a=Wo(u=(l+1)/r*(2*ea))*h,s=Xo(u)*h,f.push(a,0,s),d.push(p.r,p.g,p.b);var m=new z;m.addAttribute("position",new N(f,3)),m.addAttribute("color",new N(d,3));var g=new Ft({vertexColors:Aa});Ut.call(this,m,g)}function Qi(e,t,n,r){this.object=e,this.size=void 0===t?1:t;var i=void 0===n?16776960:n,o=void 0===r?1:r,a=0,s=this.object.geometry;s&&s.isGeometry?a=s.faces.length:console.warn("THREE.FaceNormalsHelper: only THREE.Geometry is supported. Use THREE.VertexNormalsHelper, instead.");var u=new z,c=new N(2*a*3,3);u.addAttribute("position",c),Ut.call(this,u,new Ft({color:i,linewidth:o})),this.matrixAutoUpdate=!1,this.update()}function eo(e,t,n){A.call(this),this.light=e,this.light.updateMatrixWorld(),this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=n,void 0===t&&(t=1);var r=new z;r.addAttribute("position",new N([-t,t,0,t,t,0,t,-t,0,-t,-t,0,-t,t,0],3));var i=new Ft({fog:!1});this.lightPlane=new Bt(r,i),this.add(this.lightPlane),(r=new z).addAttribute("position",new N([0,0,0,0,0,1],3)),this.targetLine=new Bt(r,i),this.add(this.targetLine),this.update()}function to(e){function t(e,t,r){n(e,r),n(t,r)}function n(e,t){o.push(0,0,0),a.push(t.r,t.g,t.b),void 0===s[e]&&(s[e]=[]),s[e].push(o.length/3-1)}var r=new z,i=new Ft({color:16777215,vertexColors:Ta}),o=[],a=[],s={},u=new b(16755200),c=new b(16711680),l=new b(43775),h=new b(16777215),p=new b(3355443);t("n1","n2",u),t("n2","n4",u),t("n4","n3",u),t("n3","n1",u),t("f1","f2",u),t("f2","f4",u),t("f4","f3",u),t("f3","f1",u),t("n1","f1",u),t("n2","f2",u),t("n3","f3",u),t("n4","f4",u),t("p","n1",c),t("p","n2",c),t("p","n3",c),t("p","n4",c),t("u1","u2",l),t("u2","u3",l),t("u3","u1",l),t("c","t",h),t("p","c",p),t("cn1","cn2",p),t("cn3","cn4",p),t("cf1","cf2",p),t("cf3","cf4",p),r.addAttribute("position",new N(o,3)),r.addAttribute("color",new N(a,3)),Ut.call(this,r,i),this.camera=e,this.camera.updateProjectionMatrix&&this.camera.updateProjectionMatrix(),this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.pointMap=s,this.update()}function no(e,t){this.object=e,void 0===t&&(t=16776960);var n=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),r=new Float32Array(24),i=new z;i.setIndex(new C(n,1)),i.addAttribute("position",new C(r,3)),Ut.call(this,i,new Ft({color:t})),this.matrixAutoUpdate=!1,this.update()}function ro(e,t){this.type="Box3Helper",this.box=e;var n=void 0===t?16776960:t,r=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),i=new z;i.setIndex(new C(r,1)),i.addAttribute("position",new N([1,1,1,-1,1,1,-1,-1,1,1,-1,1,1,1,-1,-1,1,-1,-1,-1,-1,1,-1,-1],3)),Ut.call(this,i,new Ft({color:n})),this.geometry.computeBoundingSphere()}function io(e,t,n){this.type="PlaneHelper",this.plane=e,this.size=void 0===t?1:t;var r=void 0===n?16776960:n,i=new z;i.addAttribute("position",new N([1,-1,1,-1,1,1,-1,-1,1,1,1,1,-1,1,1,-1,-1,1,1,-1,1,1,1,1,0,0,1,0,0,0],3)),i.computeBoundingSphere(),Bt.call(this,i,new Ft({color:r}));var o=new z;o.addAttribute("position",new N([1,1,1,-1,1,1,-1,-1,1,1,1,1,-1,-1,1,1,-1,1],3)),o.computeBoundingSphere(),this.add(new Z(o,new J({color:r,opacity:.2,transparent:!0,depthWrite:!1})))}function oo(e,t,n,r,i,o){A.call(this),void 0===e&&(e=new THREE.Vector3(0,0,1)),void 0===t&&(t=new THREE.Vector3(0,0,0)),void 0===n&&(n=1),void 0===r&&(r=16776960),void 0===i&&(i=.2*n),void 0===o&&(o=.2*i),void 0===Fc&&((Fc=new z).addAttribute("position",new N([0,0,0,0,1,0],3)),(Bc=new $n(0,.5,1,5,1)).translate(0,-.5,0)),this.position.copy(t),this.line=new Bt(Fc,new Ft({color:r})),this.line.matrixAutoUpdate=!1,this.add(this.line),this.cone=new Z(Bc,new J({color:r})),this.cone.matrixAutoUpdate=!1,this.add(this.cone),this.setDirection(e),this.setLength(n,i,o)}function ao(e){var t=[0,0,0,e=e||1,0,0,0,0,0,0,e,0,0,0,0,0,0,e],n=new z;n.addAttribute("position",new N(t,3)),n.addAttribute("color",new N([1,0,0,1,.6,0,0,1,0,.6,1,0,0,0,1,0,.6,1],3));var r=new Ft({vertexColors:Aa});Ut.call(this,n,r)}function so(e,t,n,r,i,o,a){return console.warn("THREE.Face4 has been removed. A THREE.Face3 will be created instead."),new E(e,t,n,i,o,a)}function uo(e){return console.warn("THREE.MeshFaceMaterial has been removed. Use an Array instead."),e}function co(e){return void 0===e&&(e=[]),console.warn("THREE.MultiMaterial has been removed. Use an Array instead."),e.isMultiMaterial=!0,e.materials=e,e.clone=function(){return e.slice()},e}function lo(e,t){return console.warn("THREE.PointCloud has been renamed to THREE.Points."),new Gt(e,t)}function ho(e){return console.warn("THREE.Particle has been renamed to THREE.Sprite."),new Rt(e)}function po(e,t){return console.warn("THREE.ParticleSystem has been renamed to THREE.Points."),new Gt(e,t)}function fo(e){return console.warn("THREE.PointCloudMaterial has been renamed to THREE.PointsMaterial."),new jt(e)}function mo(e){return console.warn("THREE.ParticleBasicMaterial has been renamed to THREE.PointsMaterial."),new jt(e)}function go(e){return console.warn("THREE.ParticleSystemMaterial has been renamed to THREE.PointsMaterial."),new jt(e)}function vo(e,t,n){return console.warn("THREE.Vertex has been removed. Use THREE.Vector3 instead."),new s(e,t,n)}function yo(e,t){return console.warn("THREE.DynamicBufferAttribute has been removed. Use new THREE.BufferAttribute().setDynamic( true ) instead."),new C(e,t).setDynamic(!0)}function xo(e,t){return console.warn("THREE.Int8Attribute has been removed. Use new THREE.Int8BufferAttribute() instead."),new D(e,t)}function bo(e,t){return console.warn("THREE.Uint8Attribute has been removed. Use new THREE.Uint8BufferAttribute() instead."),new L(e,t)}function wo(e,t){return console.warn("THREE.Uint8ClampedAttribute has been removed. Use new THREE.Uint8ClampedBufferAttribute() instead."),new P(e,t)}function _o(e,t){return console.warn("THREE.Int16Attribute has been removed. Use new THREE.Int16BufferAttribute() instead."),new R(e,t)}function Eo(e,t){return console.warn("THREE.Uint16Attribute has been removed. Use new THREE.Uint16BufferAttribute() instead."),new O(e,t)}function So(e,t){return console.warn("THREE.Int32Attribute has been removed. Use new THREE.Int32BufferAttribute() instead."),new I(e,t)}function To(e,t){return console.warn("THREE.Uint32Attribute has been removed. Use new THREE.Uint32BufferAttribute() instead."),new k(e,t)}function Ao(e,t){return console.warn("THREE.Float32Attribute has been removed. Use new THREE.Float32BufferAttribute() instead."),new N(e,t)}function Mo(e,t){return console.warn("THREE.Float64Attribute has been removed. Use new THREE.Float64BufferAttribute() instead."),new F(e,t)}function Co(e){console.warn("THREE.ClosedSplineCurve3 has been deprecated. Use THREE.CatmullRomCurve3 instead."),Ur.call(this,e),this.type="catmullrom",this.closed=!0}function Do(e){console.warn("THREE.SplineCurve3 has been deprecated. Use THREE.CatmullRomCurve3 instead."),Ur.call(this,e),this.type="catmullrom"}function Lo(e){console.warn("THREE.Spline has been removed. Use THREE.CatmullRomCurve3 instead."),Ur.call(this,e),this.type="catmullrom"}function Po(e){return console.warn("THREE.AxisHelper has been renamed to THREE.AxesHelper."),new ao(e)}function Ro(e,t){return console.warn("THREE.BoundingBoxHelper has been deprecated. Creating a THREE.BoxHelper instead."),new no(e,t)}function Oo(e,t){return console.warn("THREE.EdgesHelper has been removed. Use THREE.EdgesGeometry instead."),new Ut(new Zn(e.geometry),new Ft({color:void 0===t?16777215:t}))}function Io(e,t){return console.warn("THREE.WireframeHelper has been removed. Use THREE.WireframeGeometry instead."),new Ut(new qt(e.geometry),new Ft({color:void 0===t?16777215:t}))}function ko(e){return console.warn("THREE.XHRLoader has been renamed to THREE.FileLoader."),new Cr(e)}function No(e){return console.warn("THREE.BinaryTextureLoader has been renamed to THREE.DataTextureLoader."),new Pr(e)}function Fo(){console.error("THREE.Projector has been moved to /examples/js/renderers/Projector.js."),this.projectVector=function(e,t){console.warn("THREE.Projector: .projectVector() is now vector.project()."),e.project(t)},this.unprojectVector=function(e,t){console.warn("THREE.Projector: .unprojectVector() is now vector.unproject()."),e.unproject(t)},this.pickingRay=function(){console.error("THREE.Projector: .pickingRay() is now raycaster.setFromCamera().")}}function Bo(){console.error("THREE.CanvasRenderer has been removed")}function Uo(){console.error("THREE.JSONLoader has been removed.")}function zo(){console.error("THREE.LensFlare has been moved to /examples/js/objects/Lensflare.js")}var jo=Math.tan,Go=Math.atan,Ho=Math.asin,Vo=Math.acos,Wo=Math.sin,Xo=Math.cos,qo=Math.atan2,Yo=Math.abs,Jo=Math.sqrt,Zo=Math.pow,Ko=Math.round,$o=Math.LN2,Qo=Math.log,ea=Math.PI,ta=Math.sign,na=Number.isInteger,ra=Number.EPSILON,ia=Math.ceil,oa=Math.max,aa=Math.min,sa=Math.floor;n.r(t),n.d(t,"WebGLRenderTargetCube",function(){return p}),n.d(t,"WebGLRenderTarget",function(){return h}),n.d(t,"WebGLRenderer",function(){return Tt}),n.d(t,"ShaderLib",function(){return Ku}),n.d(t,"UniformsLib",function(){return Zu}),n.d(t,"UniformsUtils",function(){return Yu}),n.d(t,"ShaderChunk",function(){return qu}),n.d(t,"FogExp2",function(){return At}),n.d(t,"Fog",function(){return Mt}),n.d(t,"Scene",function(){return Ct}),n.d(t,"Sprite",function(){return Rt}),n.d(t,"LOD",function(){return Ot}),n.d(t,"SkinnedMesh",function(){return It}),n.d(t,"Skeleton",function(){return kt}),n.d(t,"Bone",function(){return Nt}),n.d(t,"Mesh",function(){return Z}),n.d(t,"LineSegments",function(){return Ut}),n.d(t,"LineLoop",function(){return zt}),n.d(t,"Line",function(){return Bt}),n.d(t,"Points",function(){return Gt}),n.d(t,"Group",function(){return yt}),n.d(t,"VideoTexture",function(){return Ht}),n.d(t,"DataTexture",function(){return f}),n.d(t,"DataTexture3D",function(){return ce}),n.d(t,"CompressedTexture",function(){return Vt}),n.d(t,"CubeTexture",function(){return ue}),n.d(t,"CanvasTexture",function(){return Wt}),n.d(t,"DepthTexture",function(){return Xt}),n.d(t,"Texture",function(){return c}),n.d(t,"AnimationLoader",function(){return Dr}),n.d(t,"CompressedTextureLoader",function(){return Lr}),n.d(t,"DataTextureLoader",function(){return Pr}),n.d(t,"CubeTextureLoader",function(){return Or}),n.d(t,"TextureLoader",function(){return Ir}),n.d(t,"ObjectLoader",function(){return pi}),n.d(t,"MaterialLoader",function(){return li}),n.d(t,"BufferGeometryLoader",function(){return hi}),n.d(t,"DefaultLoadingManager",function(){return Ec}),n.d(t,"LoadingManager",function(){return Mr}),n.d(t,"ImageLoader",function(){return Rr}),n.d(t,"ImageBitmapLoader",function(){return fi}),n.d(t,"FontLoader",function(){return vi}),n.d(t,"FileLoader",function(){return Cr}),n.d(t,"Loader",function(){return yi}),n.d(t,"LoaderUtils",function(){return Lc}),n.d(t,"Cache",function(){return _c}),n.d(t,"AudioLoader",function(){return xi}),n.d(t,"SpotLightShadow",function(){return ni}),n.d(t,"SpotLight",function(){return ri}),n.d(t,"PointLight",function(){return ii}),n.d(t,"RectAreaLight",function(){return ci}),n.d(t,"HemisphereLight",function(){return ei}),n.d(t,"DirectionalLightShadow",function(){return ai}),n.d(t,"DirectionalLight",function(){return si}),n.d(t,"AmbientLight",function(){return ui}),n.d(t,"LightShadow",function(){return ti}),n.d(t,"Light",function(){return Qr}),n.d(t,"StereoCamera",function(){return bi}),n.d(t,"PerspectiveCamera",function(){return bt}),n.d(t,"OrthographicCamera",function(){return oi}),n.d(t,"CubeCamera",function(){return wi}),n.d(t,"ArrayCamera",function(){return wt}),n.d(t,"Camera",function(){return xt}),n.d(t,"AudioListener",function(){return Ei}),n.d(t,"PositionalAudio",function(){return Ti}),n.d(t,"AudioContext",function(){return Nc}),n.d(t,"AudioAnalyser",function(){return Ai}),n.d(t,"Audio",function(){return Si}),n.d(t,"VectorKeyframeTrack",function(){return Sr}),n.d(t,"StringKeyframeTrack",function(){return Er}),n.d(t,"QuaternionKeyframeTrack",function(){return _r}),n.d(t,"NumberKeyframeTrack",function(){return br}),n.d(t,"ColorKeyframeTrack",function(){return xr}),n.d(t,"BooleanKeyframeTrack",function(){return yr}),n.d(t,"PropertyMixer",function(){return Mi}),n.d(t,"PropertyBinding",function(){return Di}),n.d(t,"KeyframeTrack",function(){return vr}),n.d(t,"AnimationUtils",function(){return wc}),n.d(t,"AnimationObjectGroup",function(){return Li}),n.d(t,"AnimationMixer",function(){return Ri}),n.d(t,"AnimationClip",function(){return Tr}),n.d(t,"Uniform",function(){return Oi}),n.d(t,"InstancedBufferGeometry",function(){return Ii}),n.d(t,"BufferGeometry",function(){return z}),n.d(t,"Geometry",function(){return M}),n.d(t,"InterleavedBufferAttribute",function(){return Lt}),n.d(t,"InstancedInterleavedBuffer",function(){return ki}),n.d(t,"InterleavedBuffer",function(){return Dt}),n.d(t,"InstancedBufferAttribute",function(){return Ni}),n.d(t,"Face3",function(){return E}),n.d(t,"Object3D",function(){return A}),n.d(t,"Raycaster",function(){return Fi}),n.d(t,"Layers",function(){return T}),n.d(t,"EventDispatcher",function(){return r}),n.d(t,"Clock",function(){return _i}),n.d(t,"QuaternionLinearInterpolant",function(){return wr}),n.d(t,"LinearInterpolant",function(){return mr}),n.d(t,"DiscreteInterpolant",function(){return gr}),n.d(t,"CubicInterpolant",function(){return dr}),n.d(t,"Interpolant",function(){return fr}),n.d(t,"Triangle",function(){return Y}),n.d(t,"Math",function(){return Hu}),n.d(t,"Spherical",function(){return zi}),n.d(t,"Cylindrical",function(){return ji}),n.d(t,"Plane",function(){return g}),n.d(t,"Frustum",function(){return v}),n.d(t,"Sphere",function(){return m}),n.d(t,"Ray",function(){return q}),n.d(t,"Matrix4",function(){return o}),n.d(t,"Matrix3",function(){return u}),n.d(t,"Box3",function(){return d}),n.d(t,"Box2",function(){return Gi}),n.d(t,"Line3",function(){return Hi}),n.d(t,"Euler",function(){return S}),n.d(t,"Vector4",function(){return l}),n.d(t,"Vector3",function(){return s}),n.d(t,"Vector2",function(){return i}),n.d(t,"Quaternion",function(){return a}),n.d(t,"Color",function(){return b}),n.d(t,"ImmediateRenderObject",function(){return Vi}),n.d(t,"VertexNormalsHelper",function(){return Wi}),n.d(t,"SpotLightHelper",function(){return Xi}),n.d(t,"SkeletonHelper",function(){return qi}),n.d(t,"PointLightHelper",function(){return Yi}),n.d(t,"RectAreaLightHelper",function(){return Ji}),n.d(t,"HemisphereLightHelper",function(){return Zi}),n.d(t,"GridHelper",function(){return Ki}),n.d(t,"PolarGridHelper",function(){return $i}),n.d(t,"FaceNormalsHelper",function(){return Qi}),n.d(t,"DirectionalLightHelper",function(){return eo}),n.d(t,"CameraHelper",function(){return to}),n.d(t,"BoxHelper",function(){return no}),n.d(t,"Box3Helper",function(){return ro}),n.d(t,"PlaneHelper",function(){return io}),n.d(t,"ArrowHelper",function(){return oo}),n.d(t,"AxesHelper",function(){return ao}),n.d(t,"Shape",function(){return $r}),n.d(t,"Path",function(){return Kr}),n.d(t,"ShapePath",function(){return di}),n.d(t,"Font",function(){return mi}),n.d(t,"CurvePath",function(){return Zr}),n.d(t,"Curve",function(){return kr}),n.d(t,"ImageUtils",function(){return Wu}),n.d(t,"ShapeUtils",function(){return vc}),n.d(t,"WebGLUtils",function(){return vt}),n.d(t,"WireframeGeometry",function(){return qt}),n.d(t,"ParametricGeometry",function(){return Yt}),n.d(t,"ParametricBufferGeometry",function(){return Jt}),n.d(t,"TetrahedronGeometry",function(){return $t}),n.d(t,"TetrahedronBufferGeometry",function(){return Qt}),n.d(t,"OctahedronGeometry",function(){return en}),n.d(t,"OctahedronBufferGeometry",function(){return tn}),n.d(t,"IcosahedronGeometry",function(){return nn}),n.d(t,"IcosahedronBufferGeometry",function(){return rn}),n.d(t,"DodecahedronGeometry",function(){return on}),n.d(t,"DodecahedronBufferGeometry",function(){return an}),n.d(t,"PolyhedronGeometry",function(){return Zt}),n.d(t,"PolyhedronBufferGeometry",function(){return Kt}),n.d(t,"TubeGeometry",function(){return sn}),n.d(t,"TubeBufferGeometry",function(){return un}),n.d(t,"TorusKnotGeometry",function(){return cn}),n.d(t,"TorusKnotBufferGeometry",function(){return ln}),n.d(t,"TorusGeometry",function(){return hn}),n.d(t,"TorusBufferGeometry",function(){return pn}),n.d(t,"TextGeometry",function(){return Un}),n.d(t,"TextBufferGeometry",function(){return zn}),n.d(t,"SphereGeometry",function(){return jn}),n.d(t,"SphereBufferGeometry",function(){return Gn}),n.d(t,"RingGeometry",function(){return Hn}),n.d(t,"RingBufferGeometry",function(){return Vn}),n.d(t,"PlaneGeometry",function(){return H}),n.d(t,"PlaneBufferGeometry",function(){return V}),n.d(t,"LatheGeometry",function(){return Wn}),n.d(t,"LatheBufferGeometry",function(){return Xn}),n.d(t,"ShapeGeometry",function(){return qn}),n.d(t,"ShapeBufferGeometry",function(){return Yn}),n.d(t,"ExtrudeGeometry",function(){return Nn}),n.d(t,"ExtrudeBufferGeometry",function(){return Fn}),n.d(t,"EdgesGeometry",function(){return Zn}),n.d(t,"ConeGeometry",function(){return Qn}),n.d(t,"ConeBufferGeometry",function(){return er}),n.d(t,"CylinderGeometry",function(){return Kn}),n.d(t,"CylinderBufferGeometry",function(){return $n}),n.d(t,"CircleGeometry",function(){return tr}),n.d(t,"CircleBufferGeometry",function(){return nr}),n.d(t,"BoxGeometry",function(){return j}),n.d(t,"BoxBufferGeometry",function(){return G}),n.d(t,"ShadowMaterial",function(){return rr}),n.d(t,"SpriteMaterial",function(){return Pt}),n.d(t,"RawShaderMaterial",function(){return ir}),n.d(t,"ShaderMaterial",function(){return X}),n.d(t,"PointsMaterial",function(){return jt}),n.d(t,"MeshPhysicalMaterial",function(){return ar}),n.d(t,"MeshStandardMaterial",function(){return or}),n.d(t,"MeshPhongMaterial",function(){return sr}),n.d(t,"MeshToonMaterial",function(){return ur}),n.d(t,"MeshNormalMaterial",function(){return cr}),n.d(t,"MeshLambertMaterial",function(){return lr}),n.d(t,"MeshDepthMaterial",function(){return pt}),n.d(t,"MeshDistanceMaterial",function(){return ft}),n.d(t,"MeshBasicMaterial",function(){return J}),n.d(t,"MeshMatcapMaterial",function(){return hr}),n.d(t,"LineDashedMaterial",function(){return pr}),n.d(t,"LineBasicMaterial",function(){return Ft}),n.d(t,"Material",function(){return W}),n.d(t,"Float64BufferAttribute",function(){return F}),n.d(t,"Float32BufferAttribute",function(){return N}),n.d(t,"Uint32BufferAttribute",function(){return k}),n.d(t,"Int32BufferAttribute",function(){return I}),n.d(t,"Uint16BufferAttribute",function(){return O}),n.d(t,"Int16BufferAttribute",function(){return R}),n.d(t,"Uint8ClampedBufferAttribute",function(){return P}),n.d(t,"Uint8BufferAttribute",function(){return L}),n.d(t,"Int8BufferAttribute",function(){return D}),n.d(t,"BufferAttribute",function(){return C}),n.d(t,"ArcCurve",function(){return Fr}),n.d(t,"CatmullRomCurve3",function(){return Ur}),n.d(t,"CubicBezierCurve",function(){return Hr}),n.d(t,"CubicBezierCurve3",function(){return Vr}),n.d(t,"EllipseCurve",function(){return Nr}),n.d(t,"LineCurve",function(){return Wr}),n.d(t,"LineCurve3",function(){return Xr}),n.d(t,"QuadraticBezierCurve",function(){return qr}),n.d(t,"QuadraticBezierCurve3",function(){return Yr}),n.d(t,"SplineCurve",function(){return Jr}),n.d(t,"REVISION",function(){return ua}),n.d(t,"MOUSE",function(){return ca}),n.d(t,"CullFaceNone",function(){return la}),n.d(t,"CullFaceBack",function(){return ha}),n.d(t,"CullFaceFront",function(){return pa}),n.d(t,"CullFaceFrontBack",function(){return fa}),n.d(t,"FrontFaceDirectionCW",function(){return da}),n.d(t,"FrontFaceDirectionCCW",function(){return ma}),n.d(t,"BasicShadowMap",function(){return ga}),n.d(t,"PCFShadowMap",function(){return va}),n.d(t,"PCFSoftShadowMap",function(){return ya}),n.d(t,"FrontSide",function(){return xa}),n.d(t,"BackSide",function(){return ba}),n.d(t,"DoubleSide",function(){return wa}),n.d(t,"FlatShading",function(){return _a}),n.d(t,"SmoothShading",function(){return Ea}),n.d(t,"NoColors",function(){return Sa}),n.d(t,"FaceColors",function(){return Ta}),n.d(t,"VertexColors",function(){return Aa}),n.d(t,"NoBlending",function(){return Ma}),n.d(t,"NormalBlending",function(){return Ca}),n.d(t,"AdditiveBlending",function(){return Da}),n.d(t,"SubtractiveBlending",function(){return La}),n.d(t,"MultiplyBlending",function(){return Pa}),n.d(t,"CustomBlending",function(){return Ra}),n.d(t,"AddEquation",function(){return Oa}),n.d(t,"SubtractEquation",function(){return Ia}),n.d(t,"ReverseSubtractEquation",function(){return ka}),n.d(t,"MinEquation",function(){return Na}),n.d(t,"MaxEquation",function(){return Fa}),n.d(t,"ZeroFactor",function(){return Ba}),n.d(t,"OneFactor",function(){return Ua}),n.d(t,"SrcColorFactor",function(){return za}),n.d(t,"OneMinusSrcColorFactor",function(){return ja}),n.d(t,"SrcAlphaFactor",function(){return Ga}),n.d(t,"OneMinusSrcAlphaFactor",function(){return Ha}),n.d(t,"DstAlphaFactor",function(){return Va}),n.d(t,"OneMinusDstAlphaFactor",function(){return Wa}),n.d(t,"DstColorFactor",function(){return Xa}),n.d(t,"OneMinusDstColorFactor",function(){return qa}),n.d(t,"SrcAlphaSaturateFactor",function(){return Ya}),n.d(t,"NeverDepth",function(){return Ja}),n.d(t,"AlwaysDepth",function(){return Za}),n.d(t,"LessDepth",function(){return Ka}),n.d(t,"LessEqualDepth",function(){return $a}),n.d(t,"EqualDepth",function(){return Qa}),n.d(t,"GreaterEqualDepth",function(){return es}),n.d(t,"GreaterDepth",function(){return ts}),n.d(t,"NotEqualDepth",function(){return ns}),n.d(t,"MultiplyOperation",function(){return rs}),n.d(t,"MixOperation",function(){return is}),n.d(t,"AddOperation",function(){return os}),n.d(t,"NoToneMapping",function(){return as}),n.d(t,"LinearToneMapping",function(){return ss}),n.d(t,"ReinhardToneMapping",function(){return us}),n.d(t,"Uncharted2ToneMapping",function(){return cs}),n.d(t,"CineonToneMapping",function(){return ls}),n.d(t,"ACESFilmicToneMapping",function(){return hs}),n.d(t,"UVMapping",function(){return ps}),n.d(t,"CubeReflectionMapping",function(){return fs}),n.d(t,"CubeRefractionMapping",function(){return ds}),n.d(t,"EquirectangularReflectionMapping",function(){return ms}),n.d(t,"EquirectangularRefractionMapping",function(){return gs}),n.d(t,"SphericalReflectionMapping",function(){return vs}),n.d(t,"CubeUVReflectionMapping",function(){return ys}),n.d(t,"CubeUVRefractionMapping",function(){return xs}),n.d(t,"RepeatWrapping",function(){return bs}),n.d(t,"ClampToEdgeWrapping",function(){return ws}),n.d(t,"MirroredRepeatWrapping",function(){return _s}),n.d(t,"NearestFilter",function(){return Es}),n.d(t,"NearestMipMapNearestFilter",function(){return Ss}),n.d(t,"NearestMipMapLinearFilter",function(){return Ts}),n.d(t,"LinearFilter",function(){return As}),n.d(t,"LinearMipMapNearestFilter",function(){return Ms}),n.d(t,"LinearMipMapLinearFilter",function(){return Cs}),n.d(t,"UnsignedByteType",function(){return Ds}),n.d(t,"ByteType",function(){return Ls}),n.d(t,"ShortType",function(){return Ps}),n.d(t,"UnsignedShortType",function(){return Rs}),n.d(t,"IntType",function(){return Os}),n.d(t,"UnsignedIntType",function(){return Is}),n.d(t,"FloatType",function(){return ks}),n.d(t,"HalfFloatType",function(){return Ns}),n.d(t,"UnsignedShort4444Type",function(){return Fs}),n.d(t,"UnsignedShort5551Type",function(){return Bs}),n.d(t,"UnsignedShort565Type",function(){return Us}),n.d(t,"UnsignedInt248Type",function(){return zs}),n.d(t,"AlphaFormat",function(){return js}),n.d(t,"RGBFormat",function(){return Gs}),n.d(t,"RGBAFormat",function(){return Hs}),n.d(t,"LuminanceFormat",function(){return Vs}),n.d(t,"LuminanceAlphaFormat",function(){return Ws}),n.d(t,"RGBEFormat",function(){return Xs}),n.d(t,"DepthFormat",function(){return qs}),n.d(t,"DepthStencilFormat",function(){return Ys}),n.d(t,"RedFormat",function(){return Js}),n.d(t,"RGB_S3TC_DXT1_Format",function(){return Zs}),n.d(t,"RGBA_S3TC_DXT1_Format",function(){return Ks}),n.d(t,"RGBA_S3TC_DXT3_Format",function(){return $s}),n.d(t,"RGBA_S3TC_DXT5_Format",function(){return Qs}),n.d(t,"RGB_PVRTC_4BPPV1_Format",function(){return eu}),n.d(t,"RGB_PVRTC_2BPPV1_Format",function(){return tu}),n.d(t,"RGBA_PVRTC_4BPPV1_Format",function(){return nu}),n.d(t,"RGBA_PVRTC_2BPPV1_Format",function(){return ru}),n.d(t,"RGB_ETC1_Format",function(){return iu}),n.d(t,"RGBA_ASTC_4x4_Format",function(){return ou}),n.d(t,"RGBA_ASTC_5x4_Format",function(){return au}),n.d(t,"RGBA_ASTC_5x5_Format",function(){return su}),n.d(t,"RGBA_ASTC_6x5_Format",function(){return uu}),n.d(t,"RGBA_ASTC_6x6_Format",function(){return cu}),n.d(t,"RGBA_ASTC_8x5_Format",function(){return lu}),n.d(t,"RGBA_ASTC_8x6_Format",function(){return hu}),n.d(t,"RGBA_ASTC_8x8_Format",function(){return pu}),n.d(t,"RGBA_ASTC_10x5_Format",function(){return fu}),n.d(t,"RGBA_ASTC_10x6_Format",function(){return du}),n.d(t,"RGBA_ASTC_10x8_Format",function(){return mu}),n.d(t,"RGBA_ASTC_10x10_Format",function(){return gu}),n.d(t,"RGBA_ASTC_12x10_Format",function(){return vu}),n.d(t,"RGBA_ASTC_12x12_Format",function(){return yu}),n.d(t,"LoopOnce",function(){return xu}),n.d(t,"LoopRepeat",function(){return bu}),n.d(t,"LoopPingPong",function(){return wu}),n.d(t,"InterpolateDiscrete",function(){return _u}),n.d(t,"InterpolateLinear",function(){return Eu}),n.d(t,"InterpolateSmooth",function(){return Su}),n.d(t,"ZeroCurvatureEnding",function(){return Tu}),n.d(t,"ZeroSlopeEnding",function(){return Au}),n.d(t,"WrapAroundEnding",function(){return Mu}),n.d(t,"TrianglesDrawMode",function(){return Cu}),n.d(t,"TriangleStripDrawMode",function(){return Du}),n.d(t,"TriangleFanDrawMode",function(){return Lu}),n.d(t,"LinearEncoding",function(){return Pu}),n.d(t,"sRGBEncoding",function(){return Ru}),n.d(t,"GammaEncoding",function(){return Ou}),n.d(t,"RGBEEncoding",function(){return Iu}),n.d(t,"LogLuvEncoding",function(){return ku}),n.d(t,"RGBM7Encoding",function(){return Nu}),n.d(t,"RGBM16Encoding",function(){return Fu}),n.d(t,"RGBDEncoding",function(){return Bu}),n.d(t,"BasicDepthPacking",function(){return Uu}),n.d(t,"RGBADepthPacking",function(){return zu}),n.d(t,"TangentSpaceNormalMap",function(){return ju}),n.d(t,"ObjectSpaceNormalMap",function(){return Gu}),n.d(t,"CubeGeometry",function(){return j}),n.d(t,"Face4",function(){return so}),n.d(t,"LineStrip",function(){return zc}),n.d(t,"LinePieces",function(){return jc}),n.d(t,"MeshFaceMaterial",function(){return uo}),n.d(t,"MultiMaterial",function(){return co}),n.d(t,"PointCloud",function(){return lo}),n.d(t,"Particle",function(){return ho}),n.d(t,"ParticleSystem",function(){return po}),n.d(t,"PointCloudMaterial",function(){return fo}),n.d(t,"ParticleBasicMaterial",function(){return mo}),n.d(t,"ParticleSystemMaterial",function(){return go}),n.d(t,"Vertex",function(){return vo}),n.d(t,"DynamicBufferAttribute",function(){return yo}),n.d(t,"Int8Attribute",function(){return xo}),n.d(t,"Uint8Attribute",function(){return bo}),n.d(t,"Uint8ClampedAttribute",function(){return wo}),n.d(t,"Int16Attribute",function(){return _o}),n.d(t,"Uint16Attribute",function(){return Eo}),n.d(t,"Int32Attribute",function(){return So}),n.d(t,"Uint32Attribute",function(){return To}),n.d(t,"Float32Attribute",function(){return Ao}),n.d(t,"Float64Attribute",function(){return Mo}),n.d(t,"ClosedSplineCurve3",function(){return Co}),n.d(t,"SplineCurve3",function(){return Do}),n.d(t,"Spline",function(){return Lo}),n.d(t,"AxisHelper",function(){return Po}),n.d(t,"BoundingBoxHelper",function(){return Ro}),n.d(t,"EdgesHelper",function(){return Oo}),n.d(t,"WireframeHelper",function(){return Io}),n.d(t,"XHRLoader",function(){return ko}),n.d(t,"BinaryTextureLoader",function(){return No}),n.d(t,"GeometryUtils",function(){return Gc}),n.d(t,"Projector",function(){return Fo}),n.d(t,"CanvasRenderer",function(){return Bo}),n.d(t,"JSONLoader",function(){return Uo}),n.d(t,"SceneUtils",function(){return Hc}),n.d(t,"LensFlare",function(){return zo}),void 0===ra&&(ra=2.220446049250313e-16),void 0===na&&(na=function(e){return"number"==typeof e&&isFinite(e)&&sa(e)===e}),void 0===ta&&(ta=function(e){return 0>e?-1:0<e?1:+e}),0=="name"in Function.prototype&&Object.defineProperty(Function.prototype,"name",{get:function(){return this.toString().match(/^\s*function\s*([^\(\s]*)/)[1]}}),void 0===Object.assign&&(Object.assign=function(e){if(null==e)throw new TypeError("Cannot convert undefined or null to object");for(var t,n=Object(e),r=1;r<arguments.length;r++)if(null!=(t=arguments[r]))for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i]);return n}),Object.assign(r.prototype,{addEventListener:function(e,t){void 0===this._listeners&&(this._listeners={});var n=this._listeners;void 0===n[e]&&(n[e]=[]),-1===n[e].indexOf(t)&&n[e].push(t)},hasEventListener:function(e,t){if(void 0===this._listeners)return!1;var n=this._listeners;return void 0!==n[e]&&-1!==n[e].indexOf(t)},removeEventListener:function(e,t){if(void 0!==this._listeners){var n=this._listeners[e];if(void 0!==n){var r=n.indexOf(t);-1!==r&&n.splice(r,1)}}},dispatchEvent:function(e){if(void 0!==this._listeners){var t=this._listeners[e.type];if(void 0!==t){e.target=this;for(var n=t.slice(0),r=0,i=n.length;r<i;r++)n[r].call(this,e)}}}});var ua="100",ca={LEFT:0,MIDDLE:1,RIGHT:2},la=0,ha=1,pa=2,fa=3,da=0,ma=1,ga=0,va=1,ya=2,xa=0,ba=1,wa=2,_a=1,Ea=2,Sa=0,Ta=1,Aa=2,Ma=0,Ca=1,Da=2,La=3,Pa=4,Ra=5,Oa=100,Ia=101,ka=102,Na=103,Fa=104,Ba=200,Ua=201,za=202,ja=203,Ga=204,Ha=205,Va=206,Wa=207,Xa=208,qa=209,Ya=210,Ja=0,Za=1,Ka=2,$a=3,Qa=4,es=5,ts=6,ns=7,rs=0,is=1,os=2,as=0,ss=1,us=2,cs=3,ls=4,hs=5,ps=300,fs=301,ds=302,ms=303,gs=304,vs=305,ys=306,xs=307,bs=1e3,ws=1001,_s=1002,Es=1003,Ss=1004,Ts=1005,As=1006,Ms=1007,Cs=1008,Ds=1009,Ls=1010,Ps=1011,Rs=1012,Os=1013,Is=1014,ks=1015,Ns=1016,Fs=1017,Bs=1018,Us=1019,zs=1020,js=1021,Gs=1022,Hs=1023,Vs=1024,Ws=1025,Xs=Hs,qs=1026,Ys=1027,Js=1028,Zs=33776,Ks=33777,$s=33778,Qs=33779,eu=35840,tu=35841,nu=35842,ru=35843,iu=36196,ou=37808,au=37809,su=37810,uu=37811,cu=37812,lu=37813,hu=37814,pu=37815,fu=37816,du=37817,mu=37818,gu=37819,vu=37820,yu=37821,xu=2200,bu=2201,wu=2202,_u=2300,Eu=2301,Su=2302,Tu=2400,Au=2401,Mu=2402,Cu=0,Du=1,Lu=2,Pu=3e3,Ru=3001,Ou=3007,Iu=3002,ku=3003,Nu=3004,Fu=3005,Bu=3006,Uu=3200,zu=3201,ju=0,Gu=1,Hu={DEG2RAD:ea/180,RAD2DEG:180/ea,generateUUID:function(){for(var e=[],t=0;256>t;t++)e[t]=(16>t?"0":"")+t.toString(16);return function(){var t=0|4294967295*Math.random(),n=0|4294967295*Math.random(),r=0|4294967295*Math.random(),i=0|4294967295*Math.random();return(e[255&t]+e[255&t>>8]+e[255&t>>16]+e[255&t>>24]+"-"+e[255&n]+e[255&n>>8]+"-"+e[64|15&n>>16]+e[255&n>>24]+"-"+e[128|63&r]+e[255&r>>8]+"-"+e[255&r>>16]+e[255&r>>24]+e[255&i]+e[255&i>>8]+e[255&i>>16]+e[255&i>>24]).toUpperCase()}}(),clamp:function(e,t,n){return oa(t,aa(n,e))},euclideanModulo:function(e,t){return(e%t+t)%t},mapLinear:function(e,t,n,r,i){return r+(e-t)*(i-r)/(n-t)},lerp:function(e,t,n){return(1-n)*e+n*t},smoothstep:function(e,t,n){return e<=t?0:e>=n?1:(e=(e-t)/(n-t))*e*(3-2*e)},smootherstep:function(e,t,n){return e<=t?0:e>=n?1:(e=(e-t)/(n-t))*e*e*(e*(6*e-15)+10)},randInt:function(e,t){return e+sa(Math.random()*(t-e+1))},randFloat:function(e,t){return e+Math.random()*(t-e)},randFloatSpread:function(e){return e*(.5-Math.random())},degToRad:function(e){return e*Hu.DEG2RAD},radToDeg:function(e){return e*Hu.RAD2DEG},isPowerOfTwo:function(e){return 0==(e&e-1)&&0!==e},ceilPowerOfTwo:function(e){return Zo(2,ia(Qo(e)/$o))},floorPowerOfTwo:function(e){return Zo(2,sa(Qo(e)/$o))}};Object.defineProperties(i.prototype,{width:{get:function(){return this.x},set:function(e){this.x=e}},height:{get:function(){return this.y},set:function(e){this.y=e}}}),Object.assign(i.prototype,{isVector2:!0,set:function(e,t){return this.x=e,this.y=t,this},setScalar:function(e){return this.x=e,this.y=e,this},setX:function(e){return this.x=e,this},setY:function(e){return this.y=e,this},setComponent:function(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;default:throw new Error("index is out of range: "+e)}return this},getComponent:function(e){switch(e){case 0:return this.x;case 1:return this.y;default:throw new Error("index is out of range: "+e)}},clone:function(){return new this.constructor(this.x,this.y)},copy:function(e){return this.x=e.x,this.y=e.y,this},add:function(e,t){return void 0===t?(this.x+=e.x,this.y+=e.y,this):(console.warn("THREE.Vector2: .add() now only accepts one argument. Use .addVectors( a, b ) instead."),this.addVectors(e,t))},addScalar:function(e){return this.x+=e,this.y+=e,this},addVectors:function(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this},addScaledVector:function(e,t){return this.x+=e.x*t,this.y+=e.y*t,this},sub:function(e,t){return void 0===t?(this.x-=e.x,this.y-=e.y,this):(console.warn("THREE.Vector2: .sub() now only accepts one argument. Use .subVectors( a, b ) instead."),this.subVectors(e,t))},subScalar:function(e){return this.x-=e,this.y-=e,this},subVectors:function(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this},multiply:function(e){return this.x*=e.x,this.y*=e.y,this},multiplyScalar:function(e){return this.x*=e,this.y*=e,this},divide:function(e){return this.x/=e.x,this.y/=e.y,this},divideScalar:function(e){return this.multiplyScalar(1/e)},applyMatrix3:function(e){var t=this.x,n=this.y,r=e.elements;return this.x=r[0]*t+r[3]*n+r[6],this.y=r[1]*t+r[4]*n+r[7],this},min:function(e){return this.x=aa(this.x,e.x),this.y=aa(this.y,e.y),this},max:function(e){return this.x=oa(this.x,e.x),this.y=oa(this.y,e.y),this},clamp:function(e,t){return this.x=oa(e.x,aa(t.x,this.x)),this.y=oa(e.y,aa(t.y,this.y)),this},clampScalar:function(){var e=new i,t=new i;return function(n,r){return e.set(n,n),t.set(r,r),this.clamp(e,t)}}(),clampLength:function(e,t){var n=this.length();return this.divideScalar(n||1).multiplyScalar(oa(e,aa(t,n)))},floor:function(){return this.x=sa(this.x),this.y=sa(this.y),this},ceil:function(){return this.x=ia(this.x),this.y=ia(this.y),this},round:function(){return this.x=Ko(this.x),this.y=Ko(this.y),this},roundToZero:function(){return this.x=0>this.x?ia(this.x):sa(this.x),this.y=0>this.y?ia(this.y):sa(this.y),this},negate:function(){return this.x=-this.x,this.y=-this.y,this},dot:function(e){return this.x*e.x+this.y*e.y},cross:function(e){return this.x*e.y-this.y*e.x},lengthSq:function(){return this.x*this.x+this.y*this.y},length:function(){return Jo(this.x*this.x+this.y*this.y)},manhattanLength:function(){return Yo(this.x)+Yo(this.y)},normalize:function(){return this.divideScalar(this.length()||1)},angle:function(){var e=qo(this.y,this.x);return 0>e&&(e+=2*ea),e},distanceTo:function(e){return Jo(this.distanceToSquared(e))},distanceToSquared:function(e){var t=this.x-e.x,n=this.y-e.y;return t*t+n*n},manhattanDistanceTo:function(e){return Yo(this.x-e.x)+Yo(this.y-e.y)},setLength:function(e){return this.normalize().multiplyScalar(e)},lerp:function(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this},lerpVectors:function(e,t,n){return this.subVectors(t,e).multiplyScalar(n).add(e)},equals:function(e){return e.x===this.x&&e.y===this.y},fromArray:function(e,t){return void 0===t&&(t=0),this.x=e[t],this.y=e[t+1],this},toArray:function(e,t){return void 0===e&&(e=[]),void 0===t&&(t=0),e[t]=this.x,e[t+1]=this.y,e},fromBufferAttribute:function(e,t,n){return void 0!==n&&console.warn("THREE.Vector2: offset has been removed from .fromBufferAttribute()."),this.x=e.getX(t),this.y=e.getY(t),this},rotateAround:function(e,t){var n=Xo(t),r=Wo(t),i=this.x-e.x,o=this.y-e.y;return this.x=i*n-o*r+e.x,this.y=i*r+o*n+e.y,this}}),Object.assign(o.prototype,{isMatrix4:!0,set:function(e,t,n,r,i,o,a,s,u,c,l,h,p,f,d,m){var g=this.elements;return g[0]=e,g[4]=t,g[8]=n,g[12]=r,g[1]=i,g[5]=o,g[9]=a,g[13]=s,g[2]=u,g[6]=c,g[10]=l,g[14]=h,g[3]=p,g[7]=f,g[11]=d,g[15]=m,this},identity:function(){return this.set(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1),this},clone:function(){return(new o).fromArray(this.elements)},copy:function(e){var t=this.elements,n=e.elements;return t[0]=n[0],t[1]=n[1],t[2]=n[2],t[3]=n[3],t[4]=n[4],t[5]=n[5],t[6]=n[6],t[7]=n[7],t[8]=n[8],t[9]=n[9],t[10]=n[10],t[11]=n[11],t[12]=n[12],t[13]=n[13],t[14]=n[14],t[15]=n[15],this},copyPosition:function(e){var t=this.elements,n=e.elements;return t[12]=n[12],t[13]=n[13],t[14]=n[14],this},extractBasis:function(e,t,n){return e.setFromMatrixColumn(this,0),t.setFromMatrixColumn(this,1),n.setFromMatrixColumn(this,2),this},makeBasis:function(e,t,n){return this.set(e.x,t.x,n.x,0,e.y,t.y,n.y,0,e.z,t.z,n.z,0,0,0,0,1),this},extractRotation:function(){var e=new s;return function(t){var n=this.elements,r=t.elements,i=1/e.setFromMatrixColumn(t,0).length(),o=1/e.setFromMatrixColumn(t,1).length(),a=1/e.setFromMatrixColumn(t,2).length();return n[0]=r[0]*i,n[1]=r[1]*i,n[2]=r[2]*i,n[3]=0,n[4]=r[4]*o,n[5]=r[5]*o,n[6]=r[6]*o,n[7]=0,n[8]=r[8]*a,n[9]=r[9]*a,n[10]=r[10]*a,n[11]=0,n[12]=0,n[13]=0,n[14]=0,n[15]=1,this}}(),makeRotationFromEuler:function(e){e&&e.isEuler||console.error("THREE.Matrix4: .makeRotationFromEuler() now expects a Euler rotation rather than a Vector3 and order.");var t=this.elements,n=e.x,r=e.y,i=e.z,o=Xo(n),a=Wo(n),s=Xo(r),u=Wo(r),c=Xo(i),l=Wo(i);if("XYZ"===e.order){var h=o*c,p=o*l,f=a*c,d=a*l;t[0]=s*c,t[4]=-s*l,t[8]=u,t[1]=p+f*u,t[5]=h-d*u,t[9]=-a*s,t[2]=d-h*u,t[6]=f+p*u,t[10]=o*s}else if("YXZ"===e.order){var m=s*c,g=s*l,v=u*c,y=u*l;t[0]=m+y*a,t[4]=v*a-g,t[8]=o*u,t[1]=o*l,t[5]=o*c,t[9]=-a,t[2]=g*a-v,t[6]=y+m*a,t[10]=o*s}else if("ZXY"===e.order){m=s*c,g=s*l,v=u*c,y=u*l;t[0]=m-y*a,t[4]=-o*l,t[8]=v+g*a,t[1]=g+v*a,t[5]=o*c,t[9]=y-m*a,t[2]=-o*u,t[6]=a,t[10]=o*s}else if("ZYX"===e.order){h=o*c,p=o*l,f=a*c,d=a*l;t[0]=s*c,t[4]=f*u-p,t[8]=h*u+d,t[1]=s*l,t[5]=d*u+h,t[9]=p*u-f,t[2]=-u,t[6]=a*s,t[10]=o*s}else if("YZX"===e.order){var x=o*s,b=o*u,w=a*s,_=a*u;t[0]=s*c,t[4]=_-x*l,t[8]=w*l+b,t[1]=l,t[5]=o*c,t[9]=-a*c,t[2]=-u*c,t[6]=b*l+w,t[10]=x-_*l}else if("XZY"===e.order){x=o*s,b=o*u,w=a*s,_=a*u;t[0]=s*c,t[4]=-l,t[8]=u*c,t[1]=x*l+_,t[5]=o*c,t[9]=b*l-w,t[2]=w*l-b,t[6]=a*c,t[10]=_*l+x}return t[3]=0,t[7]=0,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,this},makeRotationFromQuaternion:function(){var e=new s(0,0,0),t=new s(1,1,1);return function(n){return this.compose(e,n,t)}}(),lookAt:function(){var e=new s,t=new s,n=new s;return function(r,i,o){var a=this.elements;return n.subVectors(r,i),0===n.lengthSq()&&(n.z=1),n.normalize(),e.crossVectors(o,n),0===e.lengthSq()&&(1===Yo(o.z)?n.x+=1e-4:n.z+=1e-4,n.normalize(),e.crossVectors(o,n)),e.normalize(),t.crossVectors(n,e),a[0]=e.x,a[4]=t.x,a[8]=n.x,a[1]=e.y,a[5]=t.y,a[9]=n.y,a[2]=e.z,a[6]=t.z,a[10]=n.z,this}}(),multiply:function(e,t){return void 0===t?this.multiplyMatrices(this,e):(console.warn("THREE.Matrix4: .multiply() now only accepts one argument. Use .multiplyMatrices( a, b ) instead."),this.multiplyMatrices(e,t))},premultiply:function(e){return this.multiplyMatrices(e,this)},multiplyMatrices:function(e,t){var n=e.elements,r=t.elements,i=this.elements,o=n[0],a=n[4],s=n[8],u=n[12],c=n[1],l=n[5],h=n[9],p=n[13],f=n[2],d=n[6],m=n[10],g=n[14],v=n[3],y=n[7],x=n[11],b=n[15],w=r[0],_=r[4],E=r[8],S=r[12],T=r[1],A=r[5],M=r[9],C=r[13],D=r[2],L=r[6],P=r[10],R=r[14],O=r[3],I=r[7],k=r[11],N=r[15];return i[0]=o*w+a*T+s*D+u*O,i[4]=o*_+a*A+s*L+u*I,i[8]=o*E+a*M+s*P+u*k,i[12]=o*S+a*C+s*R+u*N,i[1]=c*w+l*T+h*D+p*O,i[5]=c*_+l*A+h*L+p*I,i[9]=c*E+l*M+h*P+p*k,i[13]=c*S+l*C+h*R+p*N,i[2]=f*w+d*T+m*D+g*O,i[6]=f*_+d*A+m*L+g*I,i[10]=f*E+d*M+m*P+g*k,i[14]=f*S+d*C+m*R+g*N,i[3]=v*w+y*T+x*D+b*O,i[7]=v*_+y*A+x*L+b*I,i[11]=v*E+y*M+x*P+b*k,i[15]=v*S+y*C+x*R+b*N,this},multiplyScalar:function(e){var t=this.elements;return t[0]*=e,t[4]*=e,t[8]*=e,t[12]*=e,t[1]*=e,t[5]*=e,t[9]*=e,t[13]*=e,t[2]*=e,t[6]*=e,t[10]*=e,t[14]*=e,t[3]*=e,t[7]*=e,t[11]*=e,t[15]*=e,this},applyToBufferAttribute:function(){var e=new s;return function(t){for(var n=0,r=t.count;n<r;n++)e.x=t.getX(n),e.y=t.getY(n),e.z=t.getZ(n),e.applyMatrix4(this),t.setXYZ(n,e.x,e.y,e.z);return t}}(),determinant:function(){var e=this.elements,t=e[0],n=e[4],r=e[8],i=e[12],o=e[1],a=e[5],s=e[9],u=e[13],c=e[2],l=e[6],h=e[10],p=e[14];return e[3]*(+i*s*l-r*u*l-i*a*h+n*u*h+r*a*p-n*s*p)+e[7]*(+t*s*p-t*u*h+i*o*h-r*o*p+r*u*c-i*s*c)+e[11]*(+t*u*l-t*a*p-i*o*l+n*o*p+i*a*c-n*u*c)+e[15]*(-r*a*c-t*s*l+t*a*h+r*o*l-n*o*h+n*s*c)},transpose:function(){var e,t=this.elements;return e=t[1],t[1]=t[4],t[4]=e,e=t[2],t[2]=t[8],t[8]=e,e=t[6],t[6]=t[9],t[9]=e,e=t[3],t[3]=t[12],t[12]=e,e=t[7],t[7]=t[13],t[13]=e,e=t[11],t[11]=t[14],t[14]=e,this},setPosition:function(e){var t=this.elements;return t[12]=e.x,t[13]=e.y,t[14]=e.z,this},getInverse:function(e,t){var n=this.elements,r=e.elements,i=r[0],o=r[1],a=r[2],s=r[3],u=r[4],c=r[5],l=r[6],h=r[7],p=r[8],f=r[9],d=r[10],m=r[11],g=r[12],v=r[13],y=r[14],x=r[15],b=f*y*h-v*d*h+v*l*m-c*y*m-f*l*x+c*d*x,w=g*d*h-p*y*h-g*l*m+u*y*m+p*l*x-u*d*x,_=p*v*h-g*f*h+g*c*m-u*v*m-p*c*x+u*f*x,E=g*f*l-p*v*l-g*c*d+u*v*d+p*c*y-u*f*y,S=i*b+o*w+a*_+s*E;if(0==S){var T="THREE.Matrix4: .getInverse() can't invert matrix, determinant is 0";if(!0===t)throw new Error(T);return console.warn(T),this.identity()}var A=1/S;return n[0]=b*A,n[1]=(v*d*s-f*y*s-v*a*m+o*y*m+f*a*x-o*d*x)*A,n[2]=(c*y*s-v*l*s+v*a*h-o*y*h-c*a*x+o*l*x)*A,n[3]=(f*l*s-c*d*s-f*a*h+o*d*h+c*a*m-o*l*m)*A,n[4]=w*A,n[5]=(p*y*s-g*d*s+g*a*m-i*y*m-p*a*x+i*d*x)*A,n[6]=(g*l*s-u*y*s-g*a*h+i*y*h+u*a*x-i*l*x)*A,n[7]=(u*d*s-p*l*s+p*a*h-i*d*h-u*a*m+i*l*m)*A,n[8]=_*A,n[9]=(g*f*s-p*v*s-g*o*m+i*v*m+p*o*x-i*f*x)*A,n[10]=(u*v*s-g*c*s+g*o*h-i*v*h-u*o*x+i*c*x)*A,n[11]=(p*c*s-u*f*s-p*o*h+i*f*h+u*o*m-i*c*m)*A,n[12]=E*A,n[13]=(p*v*a-g*f*a+g*o*d-i*v*d-p*o*y+i*f*y)*A,n[14]=(g*c*a-u*v*a-g*o*l+i*v*l+u*o*y-i*c*y)*A,n[15]=(u*f*a-p*c*a+p*o*l-i*f*l-u*o*d+i*c*d)*A,this},scale:function(e){var t=this.elements,n=e.x,r=e.y,i=e.z;return t[0]*=n,t[4]*=r,t[8]*=i,t[1]*=n,t[5]*=r,t[9]*=i,t[2]*=n,t[6]*=r,t[10]*=i,t[3]*=n,t[7]*=r,t[11]*=i,this},getMaxScaleOnAxis:function(){var e=this.elements,t=e[0]*e[0]+e[1]*e[1]+e[2]*e[2],n=e[4]*e[4]+e[5]*e[5]+e[6]*e[6],r=e[8]*e[8]+e[9]*e[9]+e[10]*e[10];return Jo(oa(t,n,r))},makeTranslation:function(e,t,n){return this.set(1,0,0,e,0,1,0,t,0,0,1,n,0,0,0,1),this},makeRotationX:function(e){var t=Xo(e),n=Wo(e);return this.set(1,0,0,0,0,t,-n,0,0,n,t,0,0,0,0,1),this},makeRotationY:function(e){var t=Xo(e),n=Wo(e);return this.set(t,0,n,0,0,1,0,0,-n,0,t,0,0,0,0,1),this},makeRotationZ:function(e){var t=Xo(e),n=Wo(e);return this.set(t,-n,0,0,n,t,0,0,0,0,1,0,0,0,0,1),this},makeRotationAxis:function(e,t){var n=Xo(t),r=Wo(t),i=1-n,o=e.x,a=e.y,s=e.z,u=i*o,c=i*a;return this.set(u*o+n,u*a-r*s,u*s+r*a,0,u*a+r*s,c*a+n,c*s-r*o,0,u*s-r*a,c*s+r*o,i*s*s+n,0,0,0,0,1),this},makeScale:function(e,t,n){return this.set(e,0,0,0,0,t,0,0,0,0,n,0,0,0,0,1),this},makeShear:function(e,t,n){return this.set(1,t,n,0,e,1,n,0,e,t,1,0,0,0,0,1),this},compose:function(e,t,n){var r=this.elements,i=t._x,o=t._y,a=t._z,s=t._w,u=i+i,c=o+o,l=a+a,h=i*u,p=i*c,f=i*l,d=o*c,m=o*l,g=a*l,v=s*u,y=s*c,x=s*l,b=n.x,w=n.y,_=n.z;return r[0]=(1-(d+g))*b,r[1]=(p+x)*b,r[2]=(f-y)*b,r[3]=0,r[4]=(p-x)*w,r[5]=(1-(h+g))*w,r[6]=(m+v)*w,r[7]=0,r[8]=(f+y)*_,r[9]=(m-v)*_,r[10]=(1-(h+d))*_,r[11]=0,r[12]=e.x,r[13]=e.y,r[14]=e.z,r[15]=1,this},decompose:function(){var e=new s,t=new o;return function(n,r,i){var o=this.elements,a=e.set(o[0],o[1],o[2]).length(),s=e.set(o[4],o[5],o[6]).length(),u=e.set(o[8],o[9],o[10]).length();0>this.determinant()&&(a=-a),n.x=o[12],n.y=o[13],n.z=o[14],t.copy(this);var c=1/a,l=1/s,h=1/u;return t.elements[0]*=c,t.elements[1]*=c,t.elements[2]*=c,t.elements[4]*=l,t.elements[5]*=l,t.elements[6]*=l,t.elements[8]*=h,t.elements[9]*=h,t.elements[10]*=h,r.setFromRotationMatrix(t),i.x=a,i.y=s,i.z=u,this}}(),makePerspective:function(e,t,n,r,i,o){void 0===o&&console.warn("THREE.Matrix4: .makePerspective() has been redefined and has a new signature. Please check the docs.");var a=this.elements;return a[0]=2*i/(t-e),a[4]=0,a[8]=(t+e)/(t-e),a[12]=0,a[1]=0,a[5]=2*i/(n-r),a[9]=(n+r)/(n-r),a[13]=0,a[2]=0,a[6]=0,a[10]=-(o+i)/(o-i),a[14]=-2*o*i/(o-i),a[3]=0,a[7]=0,a[11]=-1,a[15]=0,this},makeOrthographic:function(e,t,n,r,i,o){var a=this.elements,s=1/(t-e),u=1/(n-r),c=1/(o-i);return a[0]=2*s,a[4]=0,a[8]=0,a[12]=-(t+e)*s,a[1]=0,a[5]=2*u,a[9]=0,a[13]=-(n+r)*u,a[2]=0,a[6]=0,a[10]=-2*c,a[14]=-(o+i)*c,a[3]=0,a[7]=0,a[11]=0,a[15]=1,this},equals:function(e){for(var t=this.elements,n=e.elements,r=0;16>r;r++)if(t[r]!==n[r])return!1;return!0},fromArray:function(e,t){void 0===t&&(t=0);for(var n=0;16>n;n++)this.elements[n]=e[n+t];return this},toArray:function(e,t){void 0===e&&(e=[]),void 0===t&&(t=0);var n=this.elements;return e[t]=n[0],e[t+1]=n[1],e[t+2]=n[2],e[t+3]=n[3],e[t+4]=n[4],e[t+5]=n[5],e[t+6]=n[6],e[t+7]=n[7],e[t+8]=n[8],e[t+9]=n[9],e[t+10]=n[10],e[t+11]=n[11],e[t+12]=n[12],e[t+13]=n[13],e[t+14]=n[14],e[t+15]=n[15],e}}),Object.assign(a,{slerp:function(e,t,n,r){return n.copy(e).slerp(t,r)},slerpFlat:function(e,t,n,r,i,o,a){var s=n[r+0],u=n[r+1],c=n[r+2],l=n[r+3],h=i[o+0],p=i[o+1],f=i[o+2],d=i[o+3];if(l!==d||s!==h||u!==p||c!==f){var m=1-a,g=s*h+u*p+c*f+l*d,v=0<=g?1:-1,y=1-g*g;if(y>ra){var x=Jo(y),b=qo(x,g*v);m=Wo(m*b)/x,a=Wo(a*b)/x}var w=a*v;if(s=s*m+h*w,u=u*m+p*w,c=c*m+f*w,l=l*m+d*w,m==1-a){var _=1/Jo(s*s+u*u+c*c+l*l);s*=_,u*=_,c*=_,l*=_}}e[t]=s,e[t+1]=u,e[t+2]=c,e[t+3]=l}}),Object.defineProperties(a.prototype,{x:{get:function(){return this._x},set:function(e){this._x=e,this.onChangeCallback()}},y:{get:function(){return this._y},set:function(e){this._y=e,this.onChangeCallback()}},z:{get:function(){return this._z},set:function(e){this._z=e,this.onChangeCallback()}},w:{get:function(){return this._w},set:function(e){this._w=e,this.onChangeCallback()}}}),Object.assign(a.prototype,{isQuaternion:!0,set:function(e,t,n,r){return this._x=e,this._y=t,this._z=n,this._w=r,this.onChangeCallback(),this},clone:function(){return new this.constructor(this._x,this._y,this._z,this._w)},copy:function(e){return this._x=e.x,this._y=e.y,this._z=e.z,this._w=e.w,this.onChangeCallback(),this},setFromEuler:function(e,t){if(!e||!e.isEuler)throw new Error("THREE.Quaternion: .setFromEuler() now expects an Euler rotation rather than a Vector3 and order.");var n=e._x,r=e._y,i=e._z,o=e.order,a=Xo,s=Wo,u=a(n/2),c=a(r/2),l=a(i/2),h=s(n/2),p=s(r/2),f=s(i/2);return"XYZ"===o?(this._x=h*c*l+u*p*f,this._y=u*p*l-h*c*f,this._z=u*c*f+h*p*l,this._w=u*c*l-h*p*f):"YXZ"===o?(this._x=h*c*l+u*p*f,this._y=u*p*l-h*c*f,this._z=u*c*f-h*p*l,this._w=u*c*l+h*p*f):"ZXY"===o?(this._x=h*c*l-u*p*f,this._y=u*p*l+h*c*f,this._z=u*c*f+h*p*l,this._w=u*c*l-h*p*f):"ZYX"===o?(this._x=h*c*l-u*p*f,this._y=u*p*l+h*c*f,this._z=u*c*f-h*p*l,this._w=u*c*l+h*p*f):"YZX"===o?(this._x=h*c*l+u*p*f,this._y=u*p*l+h*c*f,this._z=u*c*f-h*p*l,this._w=u*c*l-h*p*f):"XZY"===o&&(this._x=h*c*l-u*p*f,this._y=u*p*l-h*c*f,this._z=u*c*f+h*p*l,this._w=u*c*l+h*p*f),!1!==t&&this.onChangeCallback(),this},setFromAxisAngle:function(e,t){var n=t/2,r=Wo(n);return this._x=e.x*r,this._y=e.y*r,this._z=e.z*r,this._w=Xo(n),this.onChangeCallback(),this},setFromRotationMatrix:function(e){var t,n=e.elements,r=n[0],i=n[4],o=n[8],a=n[1],s=n[5],u=n[9],c=n[2],l=n[6],h=n[10],p=r+s+h;return 0<p?(t=.5/Jo(p+1),this._w=.25/t,this._x=(l-u)*t,this._y=(o-c)*t,this._z=(a-i)*t):r>s&&r>h?(t=2*Jo(1+r-s-h),this._w=(l-u)/t,this._x=.25*t,this._y=(i+a)/t,this._z=(o+c)/t):s>h?(t=2*Jo(1+s-r-h),this._w=(o-c)/t,this._x=(i+a)/t,this._y=.25*t,this._z=(u+l)/t):(t=2*Jo(1+h-r-s),this._w=(a-i)/t,this._x=(o+c)/t,this._y=(u+l)/t,this._z=.25*t),this.onChangeCallback(),this},setFromUnitVectors:function(){var e,t=new s;return function(n,r){return void 0===t&&(t=new s),(e=n.dot(r)+1)<1e-6?(e=0,Yo(n.x)>Yo(n.z)?t.set(-n.y,n.x,0):t.set(0,-n.z,n.y)):t.crossVectors(n,r),this._x=t.x,this._y=t.y,this._z=t.z,this._w=e,this.normalize()}}(),angleTo:function(e){return 2*Vo(Yo(Hu.clamp(this.dot(e),-1,1)))},rotateTowards:function(e,t){var n=this.angleTo(e);if(0===n)return this;var r=aa(1,t/n);return this.slerp(e,r),this},inverse:function(){return this.conjugate()},conjugate:function(){return this._x*=-1,this._y*=-1,this._z*=-1,this.onChangeCallback(),this},dot:function(e){return this._x*e._x+this._y*e._y+this._z*e._z+this._w*e._w},lengthSq:function(){return this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w},length:function(){return Jo(this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w)},normalize:function(){var e=this.length();return 0===e?(this._x=0,this._y=0,this._z=0,this._w=1):(e=1/e,this._x*=e,this._y*=e,this._z*=e,this._w*=e),this.onChangeCallback(),this},multiply:function(e,t){return void 0===t?this.multiplyQuaternions(this,e):(console.warn("THREE.Quaternion: .multiply() now only accepts one argument. Use .multiplyQuaternions( a, b ) instead."),this.multiplyQuaternions(e,t))},premultiply:function(e){return this.multiplyQuaternions(e,this)},multiplyQuaternions:function(e,t){var n=e._x,r=e._y,i=e._z,o=e._w,a=t._x,s=t._y,u=t._z,c=t._w;return this._x=n*c+o*a+r*u-i*s,this._y=r*c+o*s+i*a-n*u,this._z=i*c+o*u+n*s-r*a,this._w=o*c-n*a-r*s-i*u,this.onChangeCallback(),this},slerp:function(e,t){if(0===t)return this;if(1===t)return this.copy(e);var n=this._x,r=this._y,i=this._z,o=this._w,a=o*e._w+n*e._x+r*e._y+i*e._z;if(0>a?(this._w=-e._w,this._x=-e._x,this._y=-e._y,this._z=-e._z,a=-a):this.copy(e),1<=a)return this._w=o,this._x=n,this._y=r,this._z=i,this;var s=1-a*a;if(s<=ra){var u=1-t;return this._w=u*o+t*this._w,this._x=u*n+t*this._x,this._y=u*r+t*this._y,this._z=u*i+t*this._z,this.normalize()}var c=Jo(s),l=qo(c,a),h=Wo((1-t)*l)/c,p=Wo(t*l)/c;return this._w=o*h+this._w*p,this._x=n*h+this._x*p,this._y=r*h+this._y*p,this._z=i*h+this._z*p,this.onChangeCallback(),this},equals:function(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._w===this._w},fromArray:function(e,t){return void 0===t&&(t=0),this._x=e[t],this._y=e[t+1],this._z=e[t+2],this._w=e[t+3],this.onChangeCallback(),this},toArray:function(e,t){return void 0===e&&(e=[]),void 0===t&&(t=0),e[t]=this._x,e[t+1]=this._y,e[t+2]=this._z,e[t+3]=this._w,e},onChange:function(e){return this.onChangeCallback=e,this},onChangeCallback:function(){}}),Object.assign(s.prototype,{isVector3:!0,set:function(e,t,n){return this.x=e,this.y=t,this.z=n,this},setScalar:function(e){return this.x=e,this.y=e,this.z=e,this},setX:function(e){return this.x=e,this},setY:function(e){return this.y=e,this},setZ:function(e){return this.z=e,this},setComponent:function(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;case 2:this.z=t;break;default:throw new Error("index is out of range: "+e)}return this},getComponent:function(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;default:throw new Error("index is out of range: "+e)}},clone:function(){return new this.constructor(this.x,this.y,this.z)},copy:function(e){return this.x=e.x,this.y=e.y,this.z=e.z,this},add:function(e,t){return void 0===t?(this.x+=e.x,this.y+=e.y,this.z+=e.z,this):(console.warn("THREE.Vector3: .add() now only accepts one argument. Use .addVectors( a, b ) instead."),this.addVectors(e,t))},addScalar:function(e){return this.x+=e,this.y+=e,this.z+=e,this},addVectors:function(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this.z=e.z+t.z,this},addScaledVector:function(e,t){return this.x+=e.x*t,this.y+=e.y*t,this.z+=e.z*t,this},sub:function(e,t){return void 0===t?(this.x-=e.x,this.y-=e.y,this.z-=e.z,this):(console.warn("THREE.Vector3: .sub() now only accepts one argument. Use .subVectors( a, b ) instead."),this.subVectors(e,t))},subScalar:function(e){return this.x-=e,this.y-=e,this.z-=e,this},subVectors:function(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this.z=e.z-t.z,this},multiply:function(e,t){return void 0===t?(this.x*=e.x,this.y*=e.y,this.z*=e.z,this):(console.warn("THREE.Vector3: .multiply() now only accepts one argument. Use .multiplyVectors( a, b ) instead."),this.multiplyVectors(e,t))},multiplyScalar:function(e){return this.x*=e,this.y*=e,this.z*=e,this},multiplyVectors:function(e,t){return this.x=e.x*t.x,this.y=e.y*t.y,this.z=e.z*t.z,this},applyEuler:function(){var e=new a;return function(t){return t&&t.isEuler||console.error("THREE.Vector3: .applyEuler() now expects an Euler rotation rather than a Vector3 and order."),this.applyQuaternion(e.setFromEuler(t))}}(),applyAxisAngle:function(){var e=new a;return function(t,n){return this.applyQuaternion(e.setFromAxisAngle(t,n))}}(),applyMatrix3:function(e){var t=this.x,n=this.y,r=this.z,i=e.elements;return this.x=i[0]*t+i[3]*n+i[6]*r,this.y=i[1]*t+i[4]*n+i[7]*r,this.z=i[2]*t+i[5]*n+i[8]*r,this},applyMatrix4:function(e){var t=this.x,n=this.y,r=this.z,i=e.elements,o=1/(i[3]*t+i[7]*n+i[11]*r+i[15]);return this.x=(i[0]*t+i[4]*n+i[8]*r+i[12])*o,this.y=(i[1]*t+i[5]*n+i[9]*r+i[13])*o,this.z=(i[2]*t+i[6]*n+i[10]*r+i[14])*o,this},applyQuaternion:function(e){var t=this.x,n=this.y,r=this.z,i=e.x,o=e.y,a=e.z,s=e.w,u=s*t+o*r-a*n,c=s*n+a*t-i*r,l=s*r+i*n-o*t,h=-i*t-o*n-a*r;return this.x=u*s+h*-i+c*-a-l*-o,this.y=c*s+h*-o+l*-i-u*-a,this.z=l*s+h*-a+u*-o-c*-i,this},project:function(e){return this.applyMatrix4(e.matrixWorldInverse).applyMatrix4(e.projectionMatrix)},unproject:function(){var e=new o;return function(t){return this.applyMatrix4(e.getInverse(t.projectionMatrix)).applyMatrix4(t.matrixWorld)}}(),transformDirection:function(e){var t=this.x,n=this.y,r=this.z,i=e.elements;return this.x=i[0]*t+i[4]*n+i[8]*r,this.y=i[1]*t+i[5]*n+i[9]*r,this.z=i[2]*t+i[6]*n+i[10]*r,this.normalize()},divide:function(e){return this.x/=e.x,this.y/=e.y,this.z/=e.z,this},divideScalar:function(e){return this.multiplyScalar(1/e)},min:function(e){return this.x=aa(this.x,e.x),this.y=aa(this.y,e.y),this.z=aa(this.z,e.z),this},max:function(e){return this.x=oa(this.x,e.x),this.y=oa(this.y,e.y),this.z=oa(this.z,e.z),this},clamp:function(e,t){return this.x=oa(e.x,aa(t.x,this.x)),this.y=oa(e.y,aa(t.y,this.y)),this.z=oa(e.z,aa(t.z,this.z)),this},clampScalar:function(){var e=new s,t=new s;return function(n,r){return e.set(n,n,n),t.set(r,r,r),this.clamp(e,t)}}(),clampLength:function(e,t){var n=this.length();return this.divideScalar(n||1).multiplyScalar(oa(e,aa(t,n)))},floor:function(){return this.x=sa(this.x),this.y=sa(this.y),this.z=sa(this.z),this},ceil:function(){return this.x=ia(this.x),this.y=ia(this.y),this.z=ia(this.z),this},round:function(){return this.x=Ko(this.x),this.y=Ko(this.y),this.z=Ko(this.z),this},roundToZero:function(){return this.x=0>this.x?ia(this.x):sa(this.x),this.y=0>this.y?ia(this.y):sa(this.y),this.z=0>this.z?ia(this.z):sa(this.z),this},negate:function(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this},dot:function(e){return this.x*e.x+this.y*e.y+this.z*e.z},lengthSq:function(){return this.x*this.x+this.y*this.y+this.z*this.z},length:function(){return Jo(this.x*this.x+this.y*this.y+this.z*this.z)},manhattanLength:function(){return Yo(this.x)+Yo(this.y)+Yo(this.z)},normalize:function(){return this.divideScalar(this.length()||1)},setLength:function(e){return this.normalize().multiplyScalar(e)},lerp:function(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this.z+=(e.z-this.z)*t,this},lerpVectors:function(e,t,n){return this.subVectors(t,e).multiplyScalar(n).add(e)},cross:function(e,t){return void 0===t?this.crossVectors(this,e):(console.warn("THREE.Vector3: .cross() now only accepts one argument. Use .crossVectors( a, b ) instead."),this.crossVectors(e,t))},crossVectors:function(e,t){var n=e.x,r=e.y,i=e.z,o=t.x,a=t.y,s=t.z;return this.x=r*s-i*a,this.y=i*o-n*s,this.z=n*a-r*o,this},projectOnVector:function(e){var t=e.dot(this)/e.lengthSq();return this.copy(e).multiplyScalar(t)},projectOnPlane:function(){var e=new s;return function(t){return e.copy(this).projectOnVector(t),this.sub(e)}}(),reflect:function(){var e=new s;return function(t){return this.sub(e.copy(t).multiplyScalar(2*this.dot(t)))}}(),angleTo:function(e){var t=this.dot(e)/Jo(this.lengthSq()*e.lengthSq());return Vo(Hu.clamp(t,-1,1))},distanceTo:function(e){return Jo(this.distanceToSquared(e))},distanceToSquared:function(e){var t=this.x-e.x,n=this.y-e.y,r=this.z-e.z;return t*t+n*n+r*r},manhattanDistanceTo:function(e){return Yo(this.x-e.x)+Yo(this.y-e.y)+Yo(this.z-e.z)},setFromSpherical:function(e){return this.setFromSphericalCoords(e.radius,e.phi,e.theta)},setFromSphericalCoords:function(e,t,n){var r=Wo(t)*e;return this.x=r*Wo(n),this.y=Xo(t)*e,this.z=r*Xo(n),this},setFromCylindrical:function(e){return this.setFromCylindricalCoords(e.radius,e.theta,e.y)},setFromCylindricalCoords:function(e,t,n){return this.x=e*Wo(t),this.y=n,this.z=e*Xo(t),this},setFromMatrixPosition:function(e){var t=e.elements;return this.x=t[12],this.y=t[13],this.z=t[14],this},setFromMatrixScale:function(e){var t=this.setFromMatrixColumn(e,0).length(),n=this.setFromMatrixColumn(e,1).length(),r=this.setFromMatrixColumn(e,2).length();return this.x=t,this.y=n,this.z=r,this},setFromMatrixColumn:function(e,t){return this.fromArray(e.elements,4*t)},equals:function(e){return e.x===this.x&&e.y===this.y&&e.z===this.z},fromArray:function(e,t){return void 0===t&&(t=0),this.x=e[t],this.y=e[t+1],this.z=e[t+2],this},toArray:function(e,t){return void 0===e&&(e=[]),void 0===t&&(t=0),e[t]=this.x,e[t+1]=this.y,e[t+2]=this.z,e},fromBufferAttribute:function(e,t,n){return void 0!==n&&console.warn("THREE.Vector3: offset has been removed from .fromBufferAttribute()."),this.x=e.getX(t),this.y=e.getY(t),this.z=e.getZ(t),this}}),Object.assign(u.prototype,{isMatrix3:!0,set:function(e,t,n,r,i,o,a,s,u){var c=this.elements;return c[0]=e,c[1]=r,c[2]=a,c[3]=t,c[4]=i,c[5]=s,c[6]=n,c[7]=o,c[8]=u,this},identity:function(){return this.set(1,0,0,0,1,0,0,0,1),this},clone:function(){return(new this.constructor).fromArray(this.elements)},copy:function(e){var t=this.elements,n=e.elements;return t[0]=n[0],t[1]=n[1],t[2]=n[2],t[3]=n[3],t[4]=n[4],t[5]=n[5],t[6]=n[6],t[7]=n[7],t[8]=n[8],this},setFromMatrix4:function(e){var t=e.elements;return this.set(t[0],t[4],t[8],t[1],t[5],t[9],t[2],t[6],t[10]),this},applyToBufferAttribute:function(){var e=new s;return function(t){for(var n=0,r=t.count;n<r;n++)e.x=t.getX(n),e.y=t.getY(n),e.z=t.getZ(n),e.applyMatrix3(this),t.setXYZ(n,e.x,e.y,e.z);return t}}(),multiply:function(e){return this.multiplyMatrices(this,e)},premultiply:function(e){return this.multiplyMatrices(e,this)},multiplyMatrices:function(e,t){var n=e.elements,r=t.elements,i=this.elements,o=n[0],a=n[3],s=n[6],u=n[1],c=n[4],l=n[7],h=n[2],p=n[5],f=n[8],d=r[0],m=r[3],g=r[6],v=r[1],y=r[4],x=r[7],b=r[2],w=r[5],_=r[8];return i[0]=o*d+a*v+s*b,i[3]=o*m+a*y+s*w,i[6]=o*g+a*x+s*_,i[1]=u*d+c*v+l*b,i[4]=u*m+c*y+l*w,i[7]=u*g+c*x+l*_,i[2]=h*d+p*v+f*b,i[5]=h*m+p*y+f*w,i[8]=h*g+p*x+f*_,this},multiplyScalar:function(e){var t=this.elements;return t[0]*=e,t[3]*=e,t[6]*=e,t[1]*=e,t[4]*=e,t[7]*=e,t[2]*=e,t[5]*=e,t[8]*=e,this},determinant:function(){var e=this.elements,t=e[0],n=e[1],r=e[2],i=e[3],o=e[4],a=e[5],s=e[6],u=e[7],c=e[8];return t*o*c-t*a*u-n*i*c+n*a*s+r*i*u-r*o*s},getInverse:function(e,t){e&&e.isMatrix4&&console.error("THREE.Matrix3: .getInverse() no longer takes a Matrix4 argument.");var n=e.elements,r=this.elements,i=n[0],o=n[1],a=n[2],s=n[3],u=n[4],c=n[5],l=n[6],h=n[7],p=n[8],f=p*u-c*h,d=c*l-p*s,m=h*s-u*l,g=i*f+o*d+a*m;if(0==g){var v="THREE.Matrix3: .getInverse() can't invert matrix, determinant is 0";if(!0===t)throw new Error(v);return console.warn(v),this.identity()}var y=1/g;return r[0]=f*y,r[1]=(a*h-p*o)*y,r[2]=(c*o-a*u)*y,r[3]=d*y,r[4]=(p*i-a*l)*y,r[5]=(a*s-c*i)*y,r[6]=m*y,r[7]=(o*l-h*i)*y,r[8]=(u*i-o*s)*y,this},transpose:function(){var e,t=this.elements;return e=t[1],t[1]=t[3],t[3]=e,e=t[2],t[2]=t[6],t[6]=e,e=t[5],t[5]=t[7],t[7]=e,this},getNormalMatrix:function(e){return this.setFromMatrix4(e).getInverse(this).transpose()},transposeIntoArray:function(e){var t=this.elements;return e[0]=t[0],e[1]=t[3],e[2]=t[6],e[3]=t[1],e[4]=t[4],e[5]=t[7],e[6]=t[2],e[7]=t[5],e[8]=t[8],this},setUvTransform:function(e,t,n,r,i,o,a){var s=Xo(i),u=Wo(i);this.set(n*s,n*u,-n*(s*o+u*a)+o+e,-r*u,r*s,-r*(-u*o+s*a)+a+t,0,0,1)},scale:function(e,t){var n=this.elements;return n[0]*=e,n[3]*=e,n[6]*=e,n[1]*=t,n[4]*=t,n[7]*=t,this},rotate:function(e){var t=Xo(e),n=Wo(e),r=this.elements,i=r[0],o=r[3],a=r[6],s=r[1],u=r[4],c=r[7];return r[0]=t*i+n*s,r[3]=t*o+n*u,r[6]=t*a+n*c,r[1]=-n*i+t*s,r[4]=-n*o+t*u,r[7]=-n*a+t*c,this},translate:function(e,t){var n=this.elements;return n[0]+=e*n[2],n[3]+=e*n[5],n[6]+=e*n[8],n[1]+=t*n[2],n[4]+=t*n[5],n[7]+=t*n[8],this},equals:function(e){for(var t=this.elements,n=e.elements,r=0;9>r;r++)if(t[r]!==n[r])return!1;return!0},fromArray:function(e,t){void 0===t&&(t=0);for(var n=0;9>n;n++)this.elements[n]=e[n+t];return this},toArray:function(e,t){void 0===e&&(e=[]),void 0===t&&(t=0);var n=this.elements;return e[t]=n[0],e[t+1]=n[1],e[t+2]=n[2],e[t+3]=n[3],e[t+4]=n[4],e[t+5]=n[5],e[t+6]=n[6],e[t+7]=n[7],e[t+8]=n[8],e}});var Vu,Wu={getDataURL:function(e){var t;if("undefined"==typeof HTMLCanvasElement)return e.src;if(e instanceof HTMLCanvasElement)t=e;else{void 0===Vu&&(Vu=document.createElementNS("http://www.w3.org/1999/xhtml","canvas")),Vu.width=e.width,Vu.height=e.height;var n=Vu.getContext("2d");e instanceof ImageData?n.putImageData(e,0,0):n.drawImage(e,0,0,e.width,e.height),t=Vu}return 2048<t.width||2048<t.height?t.toDataURL("image/jpeg",.6):t.toDataURL("image/png")}},Xu=0;c.DEFAULT_IMAGE=void 0,c.DEFAULT_MAPPING=ps,c.prototype=Object.assign(Object.create(r.prototype),{constructor:c,isTexture:!0,updateMatrix:function(){this.matrix.setUvTransform(this.offset.x,this.offset.y,this.repeat.x,this.repeat.y,this.rotation,this.center.x,this.center.y)},clone:function(){return(new this.constructor).copy(this)},copy:function(e){return this.name=e.name,this.image=e.image,this.mipmaps=e.mipmaps.slice(0),this.mapping=e.mapping,this.wrapS=e.wrapS,this.wrapT=e.wrapT,this.magFilter=e.magFilter,this.minFilter=e.minFilter,this.anisotropy=e.anisotropy,this.format=e.format,this.type=e.type,this.offset.copy(e.offset),this.repeat.copy(e.repeat),this.center.copy(e.center),this.rotation=e.rotation,this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrix.copy(e.matrix),this.generateMipmaps=e.generateMipmaps,this.premultiplyAlpha=e.premultiplyAlpha,this.flipY=e.flipY,this.unpackAlignment=e.unpackAlignment,this.encoding=e.encoding,this},toJSON:function(e){var t=void 0===e||"string"==typeof e;if(!t&&void 0!==e.textures[this.uuid])return e.textures[this.uuid];var n={metadata:{version:4.5,type:"Texture",generator:"Texture.toJSON"},uuid:this.uuid,name:this.name,mapping:this.mapping,repeat:[this.repeat.x,this.repeat.y],offset:[this.offset.x,this.offset.y],center:[this.center.x,this.center.y],rotation:this.rotation,wrap:[this.wrapS,this.wrapT],format:this.format,type:this.type,encoding:this.encoding,minFilter:this.minFilter,magFilter:this.magFilter,anisotropy:this.anisotropy,flipY:this.flipY,premultiplyAlpha:this.premultiplyAlpha,unpackAlignment:this.unpackAlignment};if(void 0!==this.image){var r=this.image;if(void 0===r.uuid&&(r.uuid=Hu.generateUUID()),!t&&void 0===e.images[r.uuid]){var i;if(Array.isArray(r)){i=[];for(var o=0,a=r.length;o<a;o++)i.push(Wu.getDataURL(r[o]))}else i=Wu.getDataURL(r);e.images[r.uuid]={uuid:r.uuid,url:i}}n.image=r.uuid}return t||(e.textures[this.uuid]=n),n},dispose:function(){this.dispatchEvent({type:"dispose"})},transformUv:function(e){if(this.mapping!==ps)return e;if(e.applyMatrix3(this.matrix),0>e.x||1<e.x)switch(this.wrapS){case bs:e.x-=sa(e.x);break;case ws:e.x=0>e.x?0:1;break;case _s:1===Yo(sa(e.x)%2)?e.x=ia(e.x)-e.x:e.x-=sa(e.x)}if(0>e.y||1<e.y)switch(this.wrapT){case bs:e.y-=sa(e.y);break;case ws:e.y=0>e.y?0:1;break;case _s:1===Yo(sa(e.y)%2)?e.y=ia(e.y)-e.y:e.y-=sa(e.y)}return this.flipY&&(e.y=1-e.y),e}}),Object.defineProperty(c.prototype,"needsUpdate",{set:function(e){!0===e&&this.version++}}),Object.assign(l.prototype,{isVector4:!0,set:function(e,t,n,r){return this.x=e,this.y=t,this.z=n,this.w=r,this},setScalar:function(e){return this.x=e,this.y=e,this.z=e,this.w=e,this},setX:function(e){return this.x=e,this},setY:function(e){return this.y=e,this},setZ:function(e){return this.z=e,this},setW:function(e){return this.w=e,this},setComponent:function(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;case 2:this.z=t;break;case 3:this.w=t;break;default:throw new Error("index is out of range: "+e)}return this},getComponent:function(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;case 3:return this.w;default:throw new Error("index is out of range: "+e)}},clone:function(){return new this.constructor(this.x,this.y,this.z,this.w)},copy:function(e){return this.x=e.x,this.y=e.y,this.z=e.z,this.w=void 0===e.w?1:e.w,this},add:function(e,t){return void 0===t?(this.x+=e.x,this.y+=e.y,this.z+=e.z,this.w+=e.w,this):(console.warn("THREE.Vector4: .add() now only accepts one argument. Use .addVectors( a, b ) instead."),this.addVectors(e,t))},addScalar:function(e){return this.x+=e,this.y+=e,this.z+=e,this.w+=e,this},addVectors:function(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this.z=e.z+t.z,this.w=e.w+t.w,this},addScaledVector:function(e,t){return this.x+=e.x*t,this.y+=e.y*t,this.z+=e.z*t,this.w+=e.w*t,this},sub:function(e,t){return void 0===t?(this.x-=e.x,this.y-=e.y,this.z-=e.z,this.w-=e.w,this):(console.warn("THREE.Vector4: .sub() now only accepts one argument. Use .subVectors( a, b ) instead."),this.subVectors(e,t))},subScalar:function(e){return this.x-=e,this.y-=e,this.z-=e,this.w-=e,this},subVectors:function(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this.z=e.z-t.z,this.w=e.w-t.w,this},multiplyScalar:function(e){return this.x*=e,this.y*=e,this.z*=e,this.w*=e,this},applyMatrix4:function(e){var t=this.x,n=this.y,r=this.z,i=this.w,o=e.elements;return this.x=o[0]*t+o[4]*n+o[8]*r+o[12]*i,this.y=o[1]*t+o[5]*n+o[9]*r+o[13]*i,this.z=o[2]*t+o[6]*n+o[10]*r+o[14]*i,this.w=o[3]*t+o[7]*n+o[11]*r+o[15]*i,this},divideScalar:function(e){return this.multiplyScalar(1/e)},setAxisAngleFromQuaternion:function(e){this.w=2*Vo(e.w);var t=Jo(1-e.w*e.w);return 1e-4>t?(this.x=1,this.y=0,this.z=0):(this.x=e.x/t,this.y=e.y/t,this.z=e.z/t),this},setAxisAngleFromRotationMatrix:function(e){var t,n,r,i,o=.01,a=e.elements,s=a[0],u=a[4],c=a[8],l=a[1],h=a[5],p=a[9],f=a[2],d=a[6],m=a[10];if(Yo(u-l)<o&&Yo(c-f)<o&&Yo(p-d)<o){if(Yo(u+l)<.1&&Yo(c+f)<.1&&Yo(p+d)<.1&&Yo(s+h+m-3)<.1)return this.set(1,0,0,0),this;t=ea;var g=(s+1)/2,v=(h+1)/2,y=(m+1)/2,x=(u+l)/4,b=(c+f)/4,w=(p+d)/4;return g>v&&g>y?g<o?(n=0,r=.707106781,i=.707106781):(r=x/(n=Jo(g)),i=b/n):v>y?v<o?(n=.707106781,r=0,i=.707106781):(n=x/(r=Jo(v)),i=w/r):y<o?(n=.707106781,r=.707106781,i=0):(n=b/(i=Jo(y)),r=w/i),this.set(n,r,i,t),this}var _=Jo((d-p)*(d-p)+(c-f)*(c-f)+(l-u)*(l-u));return.001>Yo(_)&&(_=1),this.x=(d-p)/_,this.y=(c-f)/_,this.z=(l-u)/_,this.w=Vo((s+h+m-1)/2),this},min:function(e){return this.x=aa(this.x,e.x),this.y=aa(this.y,e.y),this.z=aa(this.z,e.z),this.w=aa(this.w,e.w),this},max:function(e){return this.x=oa(this.x,e.x),this.y=oa(this.y,e.y),this.z=oa(this.z,e.z),this.w=oa(this.w,e.w),this},clamp:function(e,t){return this.x=oa(e.x,aa(t.x,this.x)),this.y=oa(e.y,aa(t.y,this.y)),this.z=oa(e.z,aa(t.z,this.z)),this.w=oa(e.w,aa(t.w,this.w)),this},clampScalar:function(){var e,t;return function(n,r){return null==e&&(e=new l,t=new l),e.set(n,n,n,n),t.set(r,r,r,r),this.clamp(e,t)}}(),clampLength:function(e,t){var n=this.length();return this.divideScalar(n||1).multiplyScalar(oa(e,aa(t,n)))},floor:function(){return this.x=sa(this.x),this.y=sa(this.y),this.z=sa(this.z),this.w=sa(this.w),this},ceil:function(){return this.x=ia(this.x),this.y=ia(this.y),this.z=ia(this.z),this.w=ia(this.w),this},round:function(){return this.x=Ko(this.x),this.y=Ko(this.y),this.z=Ko(this.z),this.w=Ko(this.w),this},roundToZero:function(){return this.x=0>this.x?ia(this.x):sa(this.x),this.y=0>this.y?ia(this.y):sa(this.y),this.z=0>this.z?ia(this.z):sa(this.z),this.w=0>this.w?ia(this.w):sa(this.w),this},negate:function(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this.w=-this.w,this},dot:function(e){return this.x*e.x+this.y*e.y+this.z*e.z+this.w*e.w},lengthSq:function(){return this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w},length:function(){return Jo(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w)},manhattanLength:function(){return Yo(this.x)+Yo(this.y)+Yo(this.z)+Yo(this.w)},normalize:function(){return this.divideScalar(this.length()||1)},setLength:function(e){return this.normalize().multiplyScalar(e)},lerp:function(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this.z+=(e.z-this.z)*t,this.w+=(e.w-this.w)*t,this},lerpVectors:function(e,t,n){return this.subVectors(t,e).multiplyScalar(n).add(e)},equals:function(e){return e.x===this.x&&e.y===this.y&&e.z===this.z&&e.w===this.w},fromArray:function(e,t){return void 0===t&&(t=0),this.x=e[t],this.y=e[t+1],this.z=e[t+2],this.w=e[t+3],this},toArray:function(e,t){return void 0===e&&(e=[]),void 0===t&&(t=0),e[t]=this.x,e[t+1]=this.y,e[t+2]=this.z,e[t+3]=this.w,e},fromBufferAttribute:function(e,t,n){return void 0!==n&&console.warn("THREE.Vector4: offset has been removed from .fromBufferAttribute()."),this.x=e.getX(t),this.y=e.getY(t),this.z=e.getZ(t),this.w=e.getW(t),this}}),h.prototype=Object.assign(Object.create(r.prototype),{constructor:h,isWebGLRenderTarget:!0,setSize:function(e,t){(this.width!==e||this.height!==t)&&(this.width=e,this.height=t,this.dispose()),this.viewport.set(0,0,e,t),this.scissor.set(0,0,e,t)},clone:function(){return(new this.constructor).copy(this)},copy:function(e){return this.width=e.width,this.height=e.height,this.viewport.copy(e.viewport),this.texture=e.texture.clone(),this.depthBuffer=e.depthBuffer,this.stencilBuffer=e.stencilBuffer,this.depthTexture=e.depthTexture,this},dispose:function(){this.dispatchEvent({type:"dispose"})}}),p.prototype=Object.create(h.prototype),p.prototype.constructor=p,p.prototype.isWebGLRenderTargetCube=!0,f.prototype=Object.create(c.prototype),f.prototype.constructor=f,f.prototype.isDataTexture=!0,Object.assign(d.prototype,{isBox3:!0,set:function(e,t){return this.min.copy(e),this.max.copy(t),this},setFromArray:function(e){for(var t=1/0,n=1/0,r=1/0,i=-1/0,o=-1/0,a=-1/0,s=0,u=e.length;s<u;s+=3){var c=e[s],l=e[s+1],h=e[s+2];c<t&&(t=c),l<n&&(n=l),h<r&&(r=h),c>i&&(i=c),l>o&&(o=l),h>a&&(a=h)}return this.min.set(t,n,r),this.max.set(i,o,a),this},setFromBufferAttribute:function(e){for(var t=1/0,n=1/0,r=1/0,i=-1/0,o=-1/0,a=-1/0,s=0,u=e.count;s<u;s++){var c=e.getX(s),l=e.getY(s),h=e.getZ(s);c<t&&(t=c),l<n&&(n=l),h<r&&(r=h),c>i&&(i=c),l>o&&(o=l),h>a&&(a=h)}return this.min.set(t,n,r),this.max.set(i,o,a),this},setFromPoints:function(e){this.makeEmpty();for(var t=0,n=e.length;t<n;t++)this.expandByPoint(e[t]);return this},setFromCenterAndSize:function(){var e=new s;return function(t,n){var r=e.copy(n).multiplyScalar(.5);return this.min.copy(t).sub(r),this.max.copy(t).add(r),this}}(),setFromObject:function(e){return this.makeEmpty(),this.expandByObject(e)},clone:function(){return(new this.constructor).copy(this)},copy:function(e){return this.min.copy(e.min),this.max.copy(e.max),this},makeEmpty:function(){return this.min.x=this.min.y=this.min.z=1/0,this.max.x=this.max.y=this.max.z=-1/0,this},isEmpty:function(){return this.max.x<this.min.x||this.max.y<this.min.y||this.max.z<this.min.z},getCenter:function(e){return void 0===e&&(console.warn("THREE.Box3: .getCenter() target is now required"),e=new s),this.isEmpty()?e.set(0,0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)},getSize:function(e){return void 0===e&&(console.warn("THREE.Box3: .getSize() target is now required"),e=new s),this.isEmpty()?e.set(0,0,0):e.subVectors(this.max,this.min)},expandByPoint:function(e){return this.min.min(e),this.max.max(e),this},expandByVector:function(e){return this.min.sub(e),this.max.add(e),this},expandByScalar:function(e){return this.min.addScalar(-e),this.max.addScalar(e),this},expandByObject:function(){function e(e){var o=e.geometry;if(void 0!==o)if(o.isGeometry){var a=o.vertices;for(n=0,r=a.length;n<r;n++)i.copy(a[n]),i.applyMatrix4(e.matrixWorld),t.expandByPoint(i)}else if(o.isBufferGeometry){var s=o.attributes.position;if(void 0!==s)for(n=0,r=s.count;n<r;n++)i.fromBufferAttribute(s,n).applyMatrix4(e.matrixWorld),t.expandByPoint(i)}}var t,n,r,i=new s;return function(n){return t=this,n.updateMatrixWorld(!0),n.traverse(e),this}}(),containsPoint:function(e){return!(e.x<this.min.x||e.x>this.max.x||e.y<this.min.y||e.y>this.max.y||e.z<this.min.z||e.z>this.max.z)},containsBox:function(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y&&this.min.z<=e.min.z&&e.max.z<=this.max.z},getParameter:function(e,t){return void 0===t&&(console.warn("THREE.Box3: .getParameter() target is now required"),t=new s),t.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y),(e.z-this.min.z)/(this.max.z-this.min.z))},intersectsBox:function(e){return!(e.max.x<this.min.x||e.min.x>this.max.x||e.max.y<this.min.y||e.min.y>this.max.y||e.max.z<this.min.z||e.min.z>this.max.z)},intersectsSphere:function(){var e=new s;return function(t){return this.clampPoint(t.center,e),e.distanceToSquared(t.center)<=t.radius*t.radius}}(),intersectsPlane:function(e){var t,n;return 0<e.normal.x?(t=e.normal.x*this.min.x,n=e.normal.x*this.max.x):(t=e.normal.x*this.max.x,n=e.normal.x*this.min.x),0<e.normal.y?(t+=e.normal.y*this.min.y,n+=e.normal.y*this.max.y):(t+=e.normal.y*this.max.y,n+=e.normal.y*this.min.y),0<e.normal.z?(t+=e.normal.z*this.min.z,n+=e.normal.z*this.max.z):(t+=e.normal.z*this.max.z,n+=e.normal.z*this.min.z),t<=-e.constant&&n>=-e.constant},intersectsTriangle:function(){function e(e){var i,o;for(i=0,o=e.length-3;i<=o;i+=3){u.fromArray(e,i);var a=l.x*Yo(u.x)+l.y*Yo(u.y)+l.z*Yo(u.z),s=t.dot(u),c=n.dot(u),h=r.dot(u);if(oa(-oa(s,c,h),aa(s,c,h))>a)return!1}return!0}var t=new s,n=new s,r=new s,i=new s,o=new s,a=new s,u=new s,c=new s,l=new s,h=new s;return function(s){if(this.isEmpty())return!1;this.getCenter(c),l.subVectors(this.max,c),t.subVectors(s.a,c),n.subVectors(s.b,c),r.subVectors(s.c,c),i.subVectors(n,t),o.subVectors(r,n),a.subVectors(t,r);var u=[0,-i.z,i.y,0,-o.z,o.y,0,-a.z,a.y,i.z,0,-i.x,o.z,0,-o.x,a.z,0,-a.x,-i.y,i.x,0,-o.y,o.x,0,-a.y,a.x,0];return!!e(u)&&!!e(u=[1,0,0,0,1,0,0,0,1])&&(h.crossVectors(i,o),e(u=[h.x,h.y,h.z]))}}(),clampPoint:function(e,t){return void 0===t&&(console.warn("THREE.Box3: .clampPoint() target is now required"),t=new s),t.copy(e).clamp(this.min,this.max)},distanceToPoint:function(){var e=new s;return function(t){return e.copy(t).clamp(this.min,this.max).sub(t).length()}}(),getBoundingSphere:function(){var e=new s;return function(t){return void 0===t&&(console.warn("THREE.Box3: .getBoundingSphere() target is now required"),t=new m),this.getCenter(t.center),t.radius=.5*this.getSize(e).length(),t}}(),intersect:function(e){return this.min.max(e.min),this.max.min(e.max),this.isEmpty()&&this.makeEmpty(),this},union:function(e){return this.min.min(e.min),this.max.max(e.max),this},applyMatrix4:function(){var e=[new s,new s,new s,new s,new s,new s,new s,new s];return function(t){return this.isEmpty()?this:(e[0].set(this.min.x,this.min.y,this.min.z).applyMatrix4(t),e[1].set(this.min.x,this.min.y,this.max.z).applyMatrix4(t),e[2].set(this.min.x,this.max.y,this.min.z).applyMatrix4(t),e[3].set(this.min.x,this.max.y,this.max.z).applyMatrix4(t),e[4].set(this.max.x,this.min.y,this.min.z).applyMatrix4(t),e[5].set(this.max.x,this.min.y,this.max.z).applyMatrix4(t),e[6].set(this.max.x,this.max.y,this.min.z).applyMatrix4(t),e[7].set(this.max.x,this.max.y,this.max.z).applyMatrix4(t),this.setFromPoints(e),this)}}(),translate:function(e){return this.min.add(e),this.max.add(e),this},equals:function(e){return e.min.equals(this.min)&&e.max.equals(this.max)}}),Object.assign(m.prototype,{set:function(e,t){return this.center.copy(e),this.radius=t,this},setFromPoints:function(){var e=new d;return function(t,n){var r=this.center;void 0===n?e.setFromPoints(t).getCenter(r):r.copy(n);for(var i=0,o=0,a=t.length;o<a;o++)i=oa(i,r.distanceToSquared(t[o]));return this.radius=Jo(i),this}}(),clone:function(){return(new this.constructor).copy(this)},copy:function(e){return this.center.copy(e.center),this.radius=e.radius,this},empty:function(){return 0>=this.radius},containsPoint:function(e){return e.distanceToSquared(this.center)<=this.radius*this.radius},distanceToPoint:function(e){return e.distanceTo(this.center)-this.radius},intersectsSphere:function(e){var t=this.radius+e.radius;return e.center.distanceToSquared(this.center)<=t*t},intersectsBox:function(e){return e.intersectsSphere(this)},intersectsPlane:function(e){return Yo(e.distanceToPoint(this.center))<=this.radius},clampPoint:function(e,t){var n=this.center.distanceToSquared(e);return void 0===t&&(console.warn("THREE.Sphere: .clampPoint() target is now required"),t=new s),t.copy(e),n>this.radius*this.radius&&(t.sub(this.center).normalize(),t.multiplyScalar(this.radius).add(this.center)),t},getBoundingBox:function(e){return void 0===e&&(console.warn("THREE.Sphere: .getBoundingBox() target is now required"),e=new d),e.set(this.center,this.center),e.expandByScalar(this.radius),e},applyMatrix4:function(e){return this.center.applyMatrix4(e),this.radius*=e.getMaxScaleOnAxis(),this},translate:function(e){return this.center.add(e),this},equals:function(e){return e.center.equals(this.center)&&e.radius===this.radius}}),Object.assign(g.prototype,{set:function(e,t){return this.normal.copy(e),this.constant=t,this},setComponents:function(e,t,n,r){return this.normal.set(e,t,n),this.constant=r,this},setFromNormalAndCoplanarPoint:function(e,t){return this.normal.copy(e),this.constant=-t.dot(this.normal),this},setFromCoplanarPoints:function(){var e=new s,t=new s;return function(n,r,i){var o=e.subVectors(i,r).cross(t.subVectors(n,r)).normalize();return this.setFromNormalAndCoplanarPoint(o,n),this}}(),clone:function(){return(new this.constructor).copy(this)},copy:function(e){return this.normal.copy(e.normal),this.constant=e.constant,this},normalize:function(){var e=1/this.normal.length();return this.normal.multiplyScalar(e),this.constant*=e,this},negate:function(){return this.constant*=-1,this.normal.negate(),this},distanceToPoint:function(e){return this.normal.dot(e)+this.constant},distanceToSphere:function(e){return this.distanceToPoint(e.center)-e.radius},projectPoint:function(e,t){return void 0===t&&(console.warn("THREE.Plane: .projectPoint() target is now required"),t=new s),t.copy(this.normal).multiplyScalar(-this.distanceToPoint(e)).add(e)},intersectLine:function(){var e=new s;return function(t,n){void 0===n&&(console.warn("THREE.Plane: .intersectLine() target is now required"),n=new s);var r=t.delta(e),i=this.normal.dot(r);if(0===i)return 0===this.distanceToPoint(t.start)?n.copy(t.start):void 0;var o=-(t.start.dot(this.normal)+this.constant)/i;return 0>o||1<o?void 0:n.copy(r).multiplyScalar(o).add(t.start)}}(),intersectsLine:function(e){var t=this.distanceToPoint(e.start),n=this.distanceToPoint(e.end);return 0>t&&0<n||0>n&&0<t},intersectsBox:function(e){return e.intersectsPlane(this)},intersectsSphere:function(e){return e.intersectsPlane(this)},coplanarPoint:function(e){return void 0===e&&(console.warn("THREE.Plane: .coplanarPoint() target is now required"),e=new s),e.copy(this.normal).multiplyScalar(-this.constant)},applyMatrix4:function(){var e=new s,t=new u;return function(n,r){var i=r||t.getNormalMatrix(n),o=this.coplanarPoint(e).applyMatrix4(n),a=this.normal.applyMatrix3(i).normalize();return this.constant=-o.dot(a),this}}(),translate:function(e){return this.constant-=e.dot(this.normal),this},equals:function(e){return e.normal.equals(this.normal)&&e.constant===this.constant}}),Object.assign(v.prototype,{set:function(e,t,n,r,i,o){var a=this.planes;return a[0].copy(e),a[1].copy(t),a[2].copy(n),a[3].copy(r),a[4].copy(i),a[5].copy(o),this},clone:function(){return(new this.constructor).copy(this)},copy:function(e){for(var t=this.planes,n=0;6>n;n++)t[n].copy(e.planes[n]);return this},setFromMatrix:function(e){var t=this.planes,n=e.elements,r=n[0],i=n[1],o=n[2],a=n[3],s=n[4],u=n[5],c=n[6],l=n[7],h=n[8],p=n[9],f=n[10],d=n[11],m=n[12],g=n[13],v=n[14],y=n[15];return t[0].setComponents(a-r,l-s,d-h,y-m).normalize(),t[1].setComponents(a+r,l+s,d+h,y+m).normalize(),t[2].setComponents(a+i,l+u,d+p,y+g).normalize(),t[3].setComponents(a-i,l-u,d-p,y-g).normalize(),t[4].setComponents(a-o,l-c,d-f,y-v).normalize(),t[5].setComponents(a+o,l+c,d+f,y+v).normalize(),this},intersectsObject:function(){var e=new m;return function(t){var n=t.geometry;return null===n.boundingSphere&&n.computeBoundingSphere(),e.copy(n.boundingSphere).applyMatrix4(t.matrixWorld),this.intersectsSphere(e)}}(),intersectsSprite:function(){var e=new m;return function(t){return e.center.set(0,0,0),e.radius=.7071067811865476,e.applyMatrix4(t.matrixWorld),this.intersectsSphere(e)}}(),intersectsSphere:function(e){for(var t=this.planes,n=e.center,r=-e.radius,i=0;6>i;i++)if(t[i].distanceToPoint(n)<r)return!1;return!0},intersectsBox:function(){var e=new s;return function(t){for(var n,r=this.planes,i=0;6>i;i++)if(n=r[i],e.x=0<n.normal.x?t.max.x:t.min.x,e.y=0<n.normal.y?t.max.y:t.min.y,e.z=0<n.normal.z?t.max.z:t.min.z,0>n.distanceToPoint(e))return!1;return!0}}(),containsPoint:function(e){for(var t=this.planes,n=0;6>n;n++)if(0>t[n].distanceToPoint(e))return!1;return!0}});var qu={alphamap_fragment:"#ifdef USE_ALPHAMAP\n\tdiffuseColor.a *= texture2D( alphaMap, vUv ).g;\n#endif",alphamap_pars_fragment:"#ifdef USE_ALPHAMAP\n\tuniform sampler2D alphaMap;\n#endif",alphatest_fragment:"#ifdef ALPHATEST\n\tif ( diffuseColor.a < ALPHATEST ) discard;\n#endif",aomap_fragment:"#ifdef USE_AOMAP\n\tfloat ambientOcclusion = ( texture2D( aoMap, vUv2 ).r - 1.0 ) * aoMapIntensity + 1.0;\n\treflectedLight.indirectDiffuse *= ambientOcclusion;\n\t#if defined( USE_ENVMAP ) && defined( PHYSICAL )\n\t\tfloat dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );\n\t\treflectedLight.indirectSpecular *= computeSpecularOcclusion( dotNV, ambientOcclusion, material.specularRoughness );\n\t#endif\n#endif",aomap_pars_fragment:"#ifdef USE_AOMAP\n\tuniform sampler2D aoMap;\n\tuniform float aoMapIntensity;\n#endif",begin_vertex:"vec3 transformed = vec3( position );",beginnormal_vertex:"vec3 objectNormal = vec3( normal );",bsdfs:"float punctualLightIntensityToIrradianceFactor( const in float lightDistance, const in float cutoffDistance, const in float decayExponent ) {\n#if defined ( PHYSICALLY_CORRECT_LIGHTS )\n\tfloat distanceFalloff = 1.0 / max( pow( lightDistance, decayExponent ), 0.01 );\n\tif( cutoffDistance > 0.0 ) {\n\t\tdistanceFalloff *= pow2( saturate( 1.0 - pow4( lightDistance / cutoffDistance ) ) );\n\t}\n\treturn distanceFalloff;\n#else\n\tif( cutoffDistance > 0.0 && decayExponent > 0.0 ) {\n\t\treturn pow( saturate( -lightDistance / cutoffDistance + 1.0 ), decayExponent );\n\t}\n\treturn 1.0;\n#endif\n}\nvec3 BRDF_Diffuse_Lambert( const in vec3 diffuseColor ) {\n\treturn RECIPROCAL_PI * diffuseColor;\n}\nvec3 F_Schlick( const in vec3 specularColor, const in float dotLH ) {\n\tfloat fresnel = exp2( ( -5.55473 * dotLH - 6.98316 ) * dotLH );\n\treturn ( 1.0 - specularColor ) * fresnel + specularColor;\n}\nfloat G_GGX_Smith( const in float alpha, const in float dotNL, const in float dotNV ) {\n\tfloat a2 = pow2( alpha );\n\tfloat gl = dotNL + sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );\n\tfloat gv = dotNV + sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );\n\treturn 1.0 / ( gl * gv );\n}\nfloat G_GGX_SmithCorrelated( const in float alpha, const in float dotNL, const in float dotNV ) {\n\tfloat a2 = pow2( alpha );\n\tfloat gv = dotNL * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );\n\tfloat gl = dotNV * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );\n\treturn 0.5 / max( gv + gl, EPSILON );\n}\nfloat D_GGX( const in float alpha, const in float dotNH ) {\n\tfloat a2 = pow2( alpha );\n\tfloat denom = pow2( dotNH ) * ( a2 - 1.0 ) + 1.0;\n\treturn RECIPROCAL_PI * a2 / pow2( denom );\n}\nvec3 BRDF_Specular_GGX( const in IncidentLight incidentLight, const in GeometricContext geometry, const in vec3 specularColor, const in float roughness ) {\n\tfloat alpha = pow2( roughness );\n\tvec3 halfDir = normalize( incidentLight.direction + geometry.viewDir );\n\tfloat dotNL = saturate( dot( geometry.normal, incidentLight.direction ) );\n\tfloat dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );\n\tfloat dotNH = saturate( dot( geometry.normal, halfDir ) );\n\tfloat dotLH = saturate( dot( incidentLight.direction, halfDir ) );\n\tvec3 F = F_Schlick( specularColor, dotLH );\n\tfloat G = G_GGX_SmithCorrelated( alpha, dotNL, dotNV );\n\tfloat D = D_GGX( alpha, dotNH );\n\treturn F * ( G * D );\n}\nvec2 LTC_Uv( const in vec3 N, const in vec3 V, const in float roughness ) {\n\tconst float LUT_SIZE  = 64.0;\n\tconst float LUT_SCALE = ( LUT_SIZE - 1.0 ) / LUT_SIZE;\n\tconst float LUT_BIAS  = 0.5 / LUT_SIZE;\n\tfloat dotNV = saturate( dot( N, V ) );\n\tvec2 uv = vec2( roughness, sqrt( 1.0 - dotNV ) );\n\tuv = uv * LUT_SCALE + LUT_BIAS;\n\treturn uv;\n}\nfloat LTC_ClippedSphereFormFactor( const in vec3 f ) {\n\tfloat l = length( f );\n\treturn max( ( l * l + f.z ) / ( l + 1.0 ), 0.0 );\n}\nvec3 LTC_EdgeVectorFormFactor( const in vec3 v1, const in vec3 v2 ) {\n\tfloat x = dot( v1, v2 );\n\tfloat y = abs( x );\n\tfloat a = 0.8543985 + ( 0.4965155 + 0.0145206 * y ) * y;\n\tfloat b = 3.4175940 + ( 4.1616724 + y ) * y;\n\tfloat v = a / b;\n\tfloat theta_sintheta = ( x > 0.0 ) ? v : 0.5 * inversesqrt( max( 1.0 - x * x, 1e-7 ) ) - v;\n\treturn cross( v1, v2 ) * theta_sintheta;\n}\nvec3 LTC_Evaluate( const in vec3 N, const in vec3 V, const in vec3 P, const in mat3 mInv, const in vec3 rectCoords[ 4 ] ) {\n\tvec3 v1 = rectCoords[ 1 ] - rectCoords[ 0 ];\n\tvec3 v2 = rectCoords[ 3 ] - rectCoords[ 0 ];\n\tvec3 lightNormal = cross( v1, v2 );\n\tif( dot( lightNormal, P - rectCoords[ 0 ] ) < 0.0 ) return vec3( 0.0 );\n\tvec3 T1, T2;\n\tT1 = normalize( V - N * dot( V, N ) );\n\tT2 = - cross( N, T1 );\n\tmat3 mat = mInv * transposeMat3( mat3( T1, T2, N ) );\n\tvec3 coords[ 4 ];\n\tcoords[ 0 ] = mat * ( rectCoords[ 0 ] - P );\n\tcoords[ 1 ] = mat * ( rectCoords[ 1 ] - P );\n\tcoords[ 2 ] = mat * ( rectCoords[ 2 ] - P );\n\tcoords[ 3 ] = mat * ( rectCoords[ 3 ] - P );\n\tcoords[ 0 ] = normalize( coords[ 0 ] );\n\tcoords[ 1 ] = normalize( coords[ 1 ] );\n\tcoords[ 2 ] = normalize( coords[ 2 ] );\n\tcoords[ 3 ] = normalize( coords[ 3 ] );\n\tvec3 vectorFormFactor = vec3( 0.0 );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 0 ], coords[ 1 ] );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 1 ], coords[ 2 ] );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 2 ], coords[ 3 ] );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 3 ], coords[ 0 ] );\n\tfloat result = LTC_ClippedSphereFormFactor( vectorFormFactor );\n\treturn vec3( result );\n}\nvec3 BRDF_Specular_GGX_Environment( const in GeometricContext geometry, const in vec3 specularColor, const in float roughness ) {\n\tfloat dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );\n\tconst vec4 c0 = vec4( - 1, - 0.0275, - 0.572, 0.022 );\n\tconst vec4 c1 = vec4( 1, 0.0425, 1.04, - 0.04 );\n\tvec4 r = roughness * c0 + c1;\n\tfloat a004 = min( r.x * r.x, exp2( - 9.28 * dotNV ) ) * r.x + r.y;\n\tvec2 AB = vec2( -1.04, 1.04 ) * a004 + r.zw;\n\treturn specularColor * AB.x + AB.y;\n}\nfloat G_BlinnPhong_Implicit( ) {\n\treturn 0.25;\n}\nfloat D_BlinnPhong( const in float shininess, const in float dotNH ) {\n\treturn RECIPROCAL_PI * ( shininess * 0.5 + 1.0 ) * pow( dotNH, shininess );\n}\nvec3 BRDF_Specular_BlinnPhong( const in IncidentLight incidentLight, const in GeometricContext geometry, const in vec3 specularColor, const in float shininess ) {\n\tvec3 halfDir = normalize( incidentLight.direction + geometry.viewDir );\n\tfloat dotNH = saturate( dot( geometry.normal, halfDir ) );\n\tfloat dotLH = saturate( dot( incidentLight.direction, halfDir ) );\n\tvec3 F = F_Schlick( specularColor, dotLH );\n\tfloat G = G_BlinnPhong_Implicit( );\n\tfloat D = D_BlinnPhong( shininess, dotNH );\n\treturn F * ( G * D );\n}\nfloat GGXRoughnessToBlinnExponent( const in float ggxRoughness ) {\n\treturn ( 2.0 / pow2( ggxRoughness + 0.0001 ) - 2.0 );\n}\nfloat BlinnExponentToGGXRoughness( const in float blinnExponent ) {\n\treturn sqrt( 2.0 / ( blinnExponent + 2.0 ) );\n}",bumpmap_pars_fragment:"#ifdef USE_BUMPMAP\n\tuniform sampler2D bumpMap;\n\tuniform float bumpScale;\n\tvec2 dHdxy_fwd() {\n\t\tvec2 dSTdx = dFdx( vUv );\n\t\tvec2 dSTdy = dFdy( vUv );\n\t\tfloat Hll = bumpScale * texture2D( bumpMap, vUv ).x;\n\t\tfloat dBx = bumpScale * texture2D( bumpMap, vUv + dSTdx ).x - Hll;\n\t\tfloat dBy = bumpScale * texture2D( bumpMap, vUv + dSTdy ).x - Hll;\n\t\treturn vec2( dBx, dBy );\n\t}\n\tvec3 perturbNormalArb( vec3 surf_pos, vec3 surf_norm, vec2 dHdxy ) {\n\t\tvec3 vSigmaX = vec3( dFdx( surf_pos.x ), dFdx( surf_pos.y ), dFdx( surf_pos.z ) );\n\t\tvec3 vSigmaY = vec3( dFdy( surf_pos.x ), dFdy( surf_pos.y ), dFdy( surf_pos.z ) );\n\t\tvec3 vN = surf_norm;\n\t\tvec3 R1 = cross( vSigmaY, vN );\n\t\tvec3 R2 = cross( vN, vSigmaX );\n\t\tfloat fDet = dot( vSigmaX, R1 );\n\t\tfDet *= ( float( gl_FrontFacing ) * 2.0 - 1.0 );\n\t\tvec3 vGrad = sign( fDet ) * ( dHdxy.x * R1 + dHdxy.y * R2 );\n\t\treturn normalize( abs( fDet ) * surf_norm - vGrad );\n\t}\n#endif",clipping_planes_fragment:"#if NUM_CLIPPING_PLANES > 0\n\tvec4 plane;\n\t#pragma unroll_loop\n\tfor ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {\n\t\tplane = clippingPlanes[ i ];\n\t\tif ( dot( vViewPosition, plane.xyz ) > plane.w ) discard;\n\t}\n\t#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES\n\t\tbool clipped = true;\n\t\t#pragma unroll_loop\n\t\tfor ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {\n\t\t\tplane = clippingPlanes[ i ];\n\t\t\tclipped = ( dot( vViewPosition, plane.xyz ) > plane.w ) && clipped;\n\t\t}\n\t\tif ( clipped ) discard;\n\t#endif\n#endif",clipping_planes_pars_fragment:"#if NUM_CLIPPING_PLANES > 0\n\t#if ! defined( PHYSICAL ) && ! defined( PHONG ) && ! defined( MATCAP )\n\t\tvarying vec3 vViewPosition;\n\t#endif\n\tuniform vec4 clippingPlanes[ NUM_CLIPPING_PLANES ];\n#endif",clipping_planes_pars_vertex:"#if NUM_CLIPPING_PLANES > 0 && ! defined( PHYSICAL ) && ! defined( PHONG ) && ! defined( MATCAP )\n\tvarying vec3 vViewPosition;\n#endif",clipping_planes_vertex:"#if NUM_CLIPPING_PLANES > 0 && ! defined( PHYSICAL ) && ! defined( PHONG ) && ! defined( MATCAP )\n\tvViewPosition = - mvPosition.xyz;\n#endif",color_fragment:"#ifdef USE_COLOR\n\tdiffuseColor.rgb *= vColor;\n#endif",color_pars_fragment:"#ifdef USE_COLOR\n\tvarying vec3 vColor;\n#endif",color_pars_vertex:"#ifdef USE_COLOR\n\tvarying vec3 vColor;\n#endif",color_vertex:"#ifdef USE_COLOR\n\tvColor.xyz = color.xyz;\n#endif",common:"#define PI 3.14159265359\n#define PI2 6.28318530718\n#define PI_HALF 1.5707963267949\n#define RECIPROCAL_PI 0.31830988618\n#define RECIPROCAL_PI2 0.15915494\n#define LOG2 1.442695\n#define EPSILON 1e-6\n#define saturate(a) clamp( a, 0.0, 1.0 )\n#define whiteCompliment(a) ( 1.0 - saturate( a ) )\nfloat pow2( const in float x ) { return x*x; }\nfloat pow3( const in float x ) { return x*x*x; }\nfloat pow4( const in float x ) { float x2 = x*x; return x2*x2; }\nfloat average( const in vec3 color ) { return dot( color, vec3( 0.3333 ) ); }\nhighp float rand( const in vec2 uv ) {\n\tconst highp float a = 12.9898, b = 78.233, c = 43758.5453;\n\thighp float dt = dot( uv.xy, vec2( a,b ) ), sn = mod( dt, PI );\n\treturn fract(sin(sn) * c);\n}\nstruct IncidentLight {\n\tvec3 color;\n\tvec3 direction;\n\tbool visible;\n};\nstruct ReflectedLight {\n\tvec3 directDiffuse;\n\tvec3 directSpecular;\n\tvec3 indirectDiffuse;\n\tvec3 indirectSpecular;\n};\nstruct GeometricContext {\n\tvec3 position;\n\tvec3 normal;\n\tvec3 viewDir;\n};\nvec3 transformDirection( in vec3 dir, in mat4 matrix ) {\n\treturn normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );\n}\nvec3 inverseTransformDirection( in vec3 dir, in mat4 matrix ) {\n\treturn normalize( ( vec4( dir, 0.0 ) * matrix ).xyz );\n}\nvec3 projectOnPlane(in vec3 point, in vec3 pointOnPlane, in vec3 planeNormal ) {\n\tfloat distance = dot( planeNormal, point - pointOnPlane );\n\treturn - distance * planeNormal + point;\n}\nfloat sideOfPlane( in vec3 point, in vec3 pointOnPlane, in vec3 planeNormal ) {\n\treturn sign( dot( point - pointOnPlane, planeNormal ) );\n}\nvec3 linePlaneIntersect( in vec3 pointOnLine, in vec3 lineDirection, in vec3 pointOnPlane, in vec3 planeNormal ) {\n\treturn lineDirection * ( dot( planeNormal, pointOnPlane - pointOnLine ) / dot( planeNormal, lineDirection ) ) + pointOnLine;\n}\nmat3 transposeMat3( const in mat3 m ) {\n\tmat3 tmp;\n\ttmp[ 0 ] = vec3( m[ 0 ].x, m[ 1 ].x, m[ 2 ].x );\n\ttmp[ 1 ] = vec3( m[ 0 ].y, m[ 1 ].y, m[ 2 ].y );\n\ttmp[ 2 ] = vec3( m[ 0 ].z, m[ 1 ].z, m[ 2 ].z );\n\treturn tmp;\n}\nfloat linearToRelativeLuminance( const in vec3 color ) {\n\tvec3 weights = vec3( 0.2126, 0.7152, 0.0722 );\n\treturn dot( weights, color.rgb );\n}",cube_uv_reflection_fragment:"#ifdef ENVMAP_TYPE_CUBE_UV\n#define cubeUV_textureSize (1024.0)\nint getFaceFromDirection(vec3 direction) {\n\tvec3 absDirection = abs(direction);\n\tint face = -1;\n\tif( absDirection.x > absDirection.z ) {\n\t\tif(absDirection.x > absDirection.y )\n\t\t\tface = direction.x > 0.0 ? 0 : 3;\n\t\telse\n\t\t\tface = direction.y > 0.0 ? 1 : 4;\n\t}\n\telse {\n\t\tif(absDirection.z > absDirection.y )\n\t\t\tface = direction.z > 0.0 ? 2 : 5;\n\t\telse\n\t\t\tface = direction.y > 0.0 ? 1 : 4;\n\t}\n\treturn face;\n}\n#define cubeUV_maxLods1  (log2(cubeUV_textureSize*0.25) - 1.0)\n#define cubeUV_rangeClamp (exp2((6.0 - 1.0) * 2.0))\nvec2 MipLevelInfo( vec3 vec, float roughnessLevel, float roughness ) {\n\tfloat scale = exp2(cubeUV_maxLods1 - roughnessLevel);\n\tfloat dxRoughness = dFdx(roughness);\n\tfloat dyRoughness = dFdy(roughness);\n\tvec3 dx = dFdx( vec * scale * dxRoughness );\n\tvec3 dy = dFdy( vec * scale * dyRoughness );\n\tfloat d = max( dot( dx, dx ), dot( dy, dy ) );\n\td = clamp(d, 1.0, cubeUV_rangeClamp);\n\tfloat mipLevel = 0.5 * log2(d);\n\treturn vec2(floor(mipLevel), fract(mipLevel));\n}\n#define cubeUV_maxLods2 (log2(cubeUV_textureSize*0.25) - 2.0)\n#define cubeUV_rcpTextureSize (1.0 / cubeUV_textureSize)\nvec2 getCubeUV(vec3 direction, float roughnessLevel, float mipLevel) {\n\tmipLevel = roughnessLevel > cubeUV_maxLods2 - 3.0 ? 0.0 : mipLevel;\n\tfloat a = 16.0 * cubeUV_rcpTextureSize;\n\tvec2 exp2_packed = exp2( vec2( roughnessLevel, mipLevel ) );\n\tvec2 rcp_exp2_packed = vec2( 1.0 ) / exp2_packed;\n\tfloat powScale = exp2_packed.x * exp2_packed.y;\n\tfloat scale = rcp_exp2_packed.x * rcp_exp2_packed.y * 0.25;\n\tfloat mipOffset = 0.75*(1.0 - rcp_exp2_packed.y) * rcp_exp2_packed.x;\n\tbool bRes = mipLevel == 0.0;\n\tscale =  bRes && (scale < a) ? a : scale;\n\tvec3 r;\n\tvec2 offset;\n\tint face = getFaceFromDirection(direction);\n\tfloat rcpPowScale = 1.0 / powScale;\n\tif( face == 0) {\n\t\tr = vec3(direction.x, -direction.z, direction.y);\n\t\toffset = vec2(0.0+mipOffset,0.75 * rcpPowScale);\n\t\toffset.y = bRes && (offset.y < 2.0*a) ? a : offset.y;\n\t}\n\telse if( face == 1) {\n\t\tr = vec3(direction.y, direction.x, direction.z);\n\t\toffset = vec2(scale+mipOffset, 0.75 * rcpPowScale);\n\t\toffset.y = bRes && (offset.y < 2.0*a) ? a : offset.y;\n\t}\n\telse if( face == 2) {\n\t\tr = vec3(direction.z, direction.x, direction.y);\n\t\toffset = vec2(2.0*scale+mipOffset, 0.75 * rcpPowScale);\n\t\toffset.y = bRes && (offset.y < 2.0*a) ? a : offset.y;\n\t}\n\telse if( face == 3) {\n\t\tr = vec3(direction.x, direction.z, direction.y);\n\t\toffset = vec2(0.0+mipOffset,0.5 * rcpPowScale);\n\t\toffset.y = bRes && (offset.y < 2.0*a) ? 0.0 : offset.y;\n\t}\n\telse if( face == 4) {\n\t\tr = vec3(direction.y, direction.x, -direction.z);\n\t\toffset = vec2(scale+mipOffset, 0.5 * rcpPowScale);\n\t\toffset.y = bRes && (offset.y < 2.0*a) ? 0.0 : offset.y;\n\t}\n\telse {\n\t\tr = vec3(direction.z, -direction.x, direction.y);\n\t\toffset = vec2(2.0*scale+mipOffset, 0.5 * rcpPowScale);\n\t\toffset.y = bRes && (offset.y < 2.0*a) ? 0.0 : offset.y;\n\t}\n\tr = normalize(r);\n\tfloat texelOffset = 0.5 * cubeUV_rcpTextureSize;\n\tvec2 s = ( r.yz / abs( r.x ) + vec2( 1.0 ) ) * 0.5;\n\tvec2 base = offset + vec2( texelOffset );\n\treturn base + s * ( scale - 2.0 * texelOffset );\n}\n#define cubeUV_maxLods3 (log2(cubeUV_textureSize*0.25) - 3.0)\nvec4 textureCubeUV( sampler2D envMap, vec3 reflectedDirection, float roughness ) {\n\tfloat roughnessVal = roughness* cubeUV_maxLods3;\n\tfloat r1 = floor(roughnessVal);\n\tfloat r2 = r1 + 1.0;\n\tfloat t = fract(roughnessVal);\n\tvec2 mipInfo = MipLevelInfo(reflectedDirection, r1, roughness);\n\tfloat s = mipInfo.y;\n\tfloat level0 = mipInfo.x;\n\tfloat level1 = level0 + 1.0;\n\tlevel1 = level1 > 5.0 ? 5.0 : level1;\n\tlevel0 += min( floor( s + 0.5 ), 5.0 );\n\tvec2 uv_10 = getCubeUV(reflectedDirection, r1, level0);\n\tvec4 color10 = envMapTexelToLinear(texture2D(envMap, uv_10));\n\tvec2 uv_20 = getCubeUV(reflectedDirection, r2, level0);\n\tvec4 color20 = envMapTexelToLinear(texture2D(envMap, uv_20));\n\tvec4 result = mix(color10, color20, t);\n\treturn vec4(result.rgb, 1.0);\n}\n#endif",defaultnormal_vertex:"vec3 transformedNormal = normalMatrix * objectNormal;\n#ifdef FLIP_SIDED\n\ttransformedNormal = - transformedNormal;\n#endif",displacementmap_pars_vertex:"#ifdef USE_DISPLACEMENTMAP\n\tuniform sampler2D displacementMap;\n\tuniform float displacementScale;\n\tuniform float displacementBias;\n#endif",displacementmap_vertex:"#ifdef USE_DISPLACEMENTMAP\n\ttransformed += normalize( objectNormal ) * ( texture2D( displacementMap, uv ).x * displacementScale + displacementBias );\n#endif",emissivemap_fragment:"#ifdef USE_EMISSIVEMAP\n\tvec4 emissiveColor = texture2D( emissiveMap, vUv );\n\temissiveColor.rgb = emissiveMapTexelToLinear( emissiveColor ).rgb;\n\ttotalEmissiveRadiance *= emissiveColor.rgb;\n#endif",emissivemap_pars_fragment:"#ifdef USE_EMISSIVEMAP\n\tuniform sampler2D emissiveMap;\n#endif",encodings_fragment:"gl_FragColor = linearToOutputTexel( gl_FragColor );",encodings_pars_fragment:"\nvec4 LinearToLinear( in vec4 value ) {\n\treturn value;\n}\nvec4 GammaToLinear( in vec4 value, in float gammaFactor ) {\n\treturn vec4( pow( value.rgb, vec3( gammaFactor ) ), value.a );\n}\nvec4 LinearToGamma( in vec4 value, in float gammaFactor ) {\n\treturn vec4( pow( value.rgb, vec3( 1.0 / gammaFactor ) ), value.a );\n}\nvec4 sRGBToLinear( in vec4 value ) {\n\treturn vec4( mix( pow( value.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), value.rgb * 0.0773993808, vec3( lessThanEqual( value.rgb, vec3( 0.04045 ) ) ) ), value.a );\n}\nvec4 LinearTosRGB( in vec4 value ) {\n\treturn vec4( mix( pow( value.rgb, vec3( 0.41666 ) ) * 1.055 - vec3( 0.055 ), value.rgb * 12.92, vec3( lessThanEqual( value.rgb, vec3( 0.0031308 ) ) ) ), value.a );\n}\nvec4 RGBEToLinear( in vec4 value ) {\n\treturn vec4( value.rgb * exp2( value.a * 255.0 - 128.0 ), 1.0 );\n}\nvec4 LinearToRGBE( in vec4 value ) {\n\tfloat maxComponent = max( max( value.r, value.g ), value.b );\n\tfloat fExp = clamp( ceil( log2( maxComponent ) ), -128.0, 127.0 );\n\treturn vec4( value.rgb / exp2( fExp ), ( fExp + 128.0 ) / 255.0 );\n}\nvec4 RGBMToLinear( in vec4 value, in float maxRange ) {\n\treturn vec4( value.rgb * value.a * maxRange, 1.0 );\n}\nvec4 LinearToRGBM( in vec4 value, in float maxRange ) {\n\tfloat maxRGB = max( value.r, max( value.g, value.b ) );\n\tfloat M = clamp( maxRGB / maxRange, 0.0, 1.0 );\n\tM = ceil( M * 255.0 ) / 255.0;\n\treturn vec4( value.rgb / ( M * maxRange ), M );\n}\nvec4 RGBDToLinear( in vec4 value, in float maxRange ) {\n\treturn vec4( value.rgb * ( ( maxRange / 255.0 ) / value.a ), 1.0 );\n}\nvec4 LinearToRGBD( in vec4 value, in float maxRange ) {\n\tfloat maxRGB = max( value.r, max( value.g, value.b ) );\n\tfloat D = max( maxRange / maxRGB, 1.0 );\n\tD = min( floor( D ) / 255.0, 1.0 );\n\treturn vec4( value.rgb * ( D * ( 255.0 / maxRange ) ), D );\n}\nconst mat3 cLogLuvM = mat3( 0.2209, 0.3390, 0.4184, 0.1138, 0.6780, 0.7319, 0.0102, 0.1130, 0.2969 );\nvec4 LinearToLogLuv( in vec4 value )  {\n\tvec3 Xp_Y_XYZp = value.rgb * cLogLuvM;\n\tXp_Y_XYZp = max( Xp_Y_XYZp, vec3( 1e-6, 1e-6, 1e-6 ) );\n\tvec4 vResult;\n\tvResult.xy = Xp_Y_XYZp.xy / Xp_Y_XYZp.z;\n\tfloat Le = 2.0 * log2(Xp_Y_XYZp.y) + 127.0;\n\tvResult.w = fract( Le );\n\tvResult.z = ( Le - ( floor( vResult.w * 255.0 ) ) / 255.0 ) / 255.0;\n\treturn vResult;\n}\nconst mat3 cLogLuvInverseM = mat3( 6.0014, -2.7008, -1.7996, -1.3320, 3.1029, -5.7721, 0.3008, -1.0882, 5.6268 );\nvec4 LogLuvToLinear( in vec4 value ) {\n\tfloat Le = value.z * 255.0 + value.w;\n\tvec3 Xp_Y_XYZp;\n\tXp_Y_XYZp.y = exp2( ( Le - 127.0 ) / 2.0 );\n\tXp_Y_XYZp.z = Xp_Y_XYZp.y / value.y;\n\tXp_Y_XYZp.x = value.x * Xp_Y_XYZp.z;\n\tvec3 vRGB = Xp_Y_XYZp.rgb * cLogLuvInverseM;\n\treturn vec4( max( vRGB, 0.0 ), 1.0 );\n}",envmap_fragment:"#ifdef USE_ENVMAP\n\t#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG )\n\t\tvec3 cameraToVertex = normalize( vWorldPosition - cameraPosition );\n\t\tvec3 worldNormal = inverseTransformDirection( normal, viewMatrix );\n\t\t#ifdef ENVMAP_MODE_REFLECTION\n\t\t\tvec3 reflectVec = reflect( cameraToVertex, worldNormal );\n\t\t#else\n\t\t\tvec3 reflectVec = refract( cameraToVertex, worldNormal, refractionRatio );\n\t\t#endif\n\t#else\n\t\tvec3 reflectVec = vReflect;\n\t#endif\n\t#ifdef ENVMAP_TYPE_CUBE\n\t\tvec4 envColor = textureCube( envMap, vec3( flipEnvMap * reflectVec.x, reflectVec.yz ) );\n\t#elif defined( ENVMAP_TYPE_EQUIREC )\n\t\tvec2 sampleUV;\n\t\treflectVec = normalize( reflectVec );\n\t\tsampleUV.y = asin( clamp( reflectVec.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;\n\t\tsampleUV.x = atan( reflectVec.z, reflectVec.x ) * RECIPROCAL_PI2 + 0.5;\n\t\tvec4 envColor = texture2D( envMap, sampleUV );\n\t#elif defined( ENVMAP_TYPE_SPHERE )\n\t\treflectVec = normalize( reflectVec );\n\t\tvec3 reflectView = normalize( ( viewMatrix * vec4( reflectVec, 0.0 ) ).xyz + vec3( 0.0, 0.0, 1.0 ) );\n\t\tvec4 envColor = texture2D( envMap, reflectView.xy * 0.5 + 0.5 );\n\t#else\n\t\tvec4 envColor = vec4( 0.0 );\n\t#endif\n\tenvColor = envMapTexelToLinear( envColor );\n\t#ifdef ENVMAP_BLENDING_MULTIPLY\n\t\toutgoingLight = mix( outgoingLight, outgoingLight * envColor.xyz, specularStrength * reflectivity );\n\t#elif defined( ENVMAP_BLENDING_MIX )\n\t\toutgoingLight = mix( outgoingLight, envColor.xyz, specularStrength * reflectivity );\n\t#elif defined( ENVMAP_BLENDING_ADD )\n\t\toutgoingLight += envColor.xyz * specularStrength * reflectivity;\n\t#endif\n#endif",envmap_pars_fragment:"#if defined( USE_ENVMAP ) || defined( PHYSICAL )\n\tuniform float reflectivity;\n\tuniform float envMapIntensity;\n#endif\n#ifdef USE_ENVMAP\n\t#if ! defined( PHYSICAL ) && ( defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) )\n\t\tvarying vec3 vWorldPosition;\n\t#endif\n\t#ifdef ENVMAP_TYPE_CUBE\n\t\tuniform samplerCube envMap;\n\t#else\n\t\tuniform sampler2D envMap;\n\t#endif\n\tuniform float flipEnvMap;\n\tuniform int maxMipLevel;\n\t#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( PHYSICAL )\n\t\tuniform float refractionRatio;\n\t#else\n\t\tvarying vec3 vReflect;\n\t#endif\n#endif",envmap_pars_vertex:"#ifdef USE_ENVMAP\n\t#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG )\n\t\tvarying vec3 vWorldPosition;\n\t#else\n\t\tvarying vec3 vReflect;\n\t\tuniform float refractionRatio;\n\t#endif\n#endif",envmap_physical_pars_fragment:"#if defined( USE_ENVMAP ) && defined( PHYSICAL )\n\tvec3 getLightProbeIndirectIrradiance( const in GeometricContext geometry, const in int maxMIPLevel ) {\n\t\tvec3 worldNormal = inverseTransformDirection( geometry.normal, viewMatrix );\n\t\t#ifdef ENVMAP_TYPE_CUBE\n\t\t\tvec3 queryVec = vec3( flipEnvMap * worldNormal.x, worldNormal.yz );\n\t\t\t#ifdef TEXTURE_LOD_EXT\n\t\t\t\tvec4 envMapColor = textureCubeLodEXT( envMap, queryVec, float( maxMIPLevel ) );\n\t\t\t#else\n\t\t\t\tvec4 envMapColor = textureCube( envMap, queryVec, float( maxMIPLevel ) );\n\t\t\t#endif\n\t\t\tenvMapColor.rgb = envMapTexelToLinear( envMapColor ).rgb;\n\t\t#elif defined( ENVMAP_TYPE_CUBE_UV )\n\t\t\tvec3 queryVec = vec3( flipEnvMap * worldNormal.x, worldNormal.yz );\n\t\t\tvec4 envMapColor = textureCubeUV( envMap, queryVec, 1.0 );\n\t\t#else\n\t\t\tvec4 envMapColor = vec4( 0.0 );\n\t\t#endif\n\t\treturn PI * envMapColor.rgb * envMapIntensity;\n\t}\n\tfloat getSpecularMIPLevel( const in float blinnShininessExponent, const in int maxMIPLevel ) {\n\t\tfloat maxMIPLevelScalar = float( maxMIPLevel );\n\t\tfloat desiredMIPLevel = maxMIPLevelScalar + 0.79248 - 0.5 * log2( pow2( blinnShininessExponent ) + 1.0 );\n\t\treturn clamp( desiredMIPLevel, 0.0, maxMIPLevelScalar );\n\t}\n\tvec3 getLightProbeIndirectRadiance( const in GeometricContext geometry, const in float blinnShininessExponent, const in int maxMIPLevel ) {\n\t\t#ifdef ENVMAP_MODE_REFLECTION\n\t\t\tvec3 reflectVec = reflect( -geometry.viewDir, geometry.normal );\n\t\t#else\n\t\t\tvec3 reflectVec = refract( -geometry.viewDir, geometry.normal, refractionRatio );\n\t\t#endif\n\t\treflectVec = inverseTransformDirection( reflectVec, viewMatrix );\n\t\tfloat specularMIPLevel = getSpecularMIPLevel( blinnShininessExponent, maxMIPLevel );\n\t\t#ifdef ENVMAP_TYPE_CUBE\n\t\t\tvec3 queryReflectVec = vec3( flipEnvMap * reflectVec.x, reflectVec.yz );\n\t\t\t#ifdef TEXTURE_LOD_EXT\n\t\t\t\tvec4 envMapColor = textureCubeLodEXT( envMap, queryReflectVec, specularMIPLevel );\n\t\t\t#else\n\t\t\t\tvec4 envMapColor = textureCube( envMap, queryReflectVec, specularMIPLevel );\n\t\t\t#endif\n\t\t\tenvMapColor.rgb = envMapTexelToLinear( envMapColor ).rgb;\n\t\t#elif defined( ENVMAP_TYPE_CUBE_UV )\n\t\t\tvec3 queryReflectVec = vec3( flipEnvMap * reflectVec.x, reflectVec.yz );\n\t\t\tvec4 envMapColor = textureCubeUV( envMap, queryReflectVec, BlinnExponentToGGXRoughness(blinnShininessExponent ));\n\t\t#elif defined( ENVMAP_TYPE_EQUIREC )\n\t\t\tvec2 sampleUV;\n\t\t\tsampleUV.y = asin( clamp( reflectVec.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;\n\t\t\tsampleUV.x = atan( reflectVec.z, reflectVec.x ) * RECIPROCAL_PI2 + 0.5;\n\t\t\t#ifdef TEXTURE_LOD_EXT\n\t\t\t\tvec4 envMapColor = texture2DLodEXT( envMap, sampleUV, specularMIPLevel );\n\t\t\t#else\n\t\t\t\tvec4 envMapColor = texture2D( envMap, sampleUV, specularMIPLevel );\n\t\t\t#endif\n\t\t\tenvMapColor.rgb = envMapTexelToLinear( envMapColor ).rgb;\n\t\t#elif defined( ENVMAP_TYPE_SPHERE )\n\t\t\tvec3 reflectView = normalize( ( viewMatrix * vec4( reflectVec, 0.0 ) ).xyz + vec3( 0.0,0.0,1.0 ) );\n\t\t\t#ifdef TEXTURE_LOD_EXT\n\t\t\t\tvec4 envMapColor = texture2DLodEXT( envMap, reflectView.xy * 0.5 + 0.5, specularMIPLevel );\n\t\t\t#else\n\t\t\t\tvec4 envMapColor = texture2D( envMap, reflectView.xy * 0.5 + 0.5, specularMIPLevel );\n\t\t\t#endif\n\t\t\tenvMapColor.rgb = envMapTexelToLinear( envMapColor ).rgb;\n\t\t#endif\n\t\treturn envMapColor.rgb * envMapIntensity;\n\t}\n#endif",envmap_vertex:"#ifdef USE_ENVMAP\n\t#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG )\n\t\tvWorldPosition = worldPosition.xyz;\n\t#else\n\t\tvec3 cameraToVertex = normalize( worldPosition.xyz - cameraPosition );\n\t\tvec3 worldNormal = inverseTransformDirection( transformedNormal, viewMatrix );\n\t\t#ifdef ENVMAP_MODE_REFLECTION\n\t\t\tvReflect = reflect( cameraToVertex, worldNormal );\n\t\t#else\n\t\t\tvReflect = refract( cameraToVertex, worldNormal, refractionRatio );\n\t\t#endif\n\t#endif\n#endif",fog_vertex:"#ifdef USE_FOG\n\tfogDepth = -mvPosition.z;\n#endif",fog_pars_vertex:"#ifdef USE_FOG\n\tvarying float fogDepth;\n#endif",fog_fragment:"#ifdef USE_FOG\n\t#ifdef FOG_EXP2\n\t\tfloat fogFactor = whiteCompliment( exp2( - fogDensity * fogDensity * fogDepth * fogDepth * LOG2 ) );\n\t#else\n\t\tfloat fogFactor = smoothstep( fogNear, fogFar, fogDepth );\n\t#endif\n\tgl_FragColor.rgb = mix( gl_FragColor.rgb, fogColor, fogFactor );\n#endif",fog_pars_fragment:"#ifdef USE_FOG\n\tuniform vec3 fogColor;\n\tvarying float fogDepth;\n\t#ifdef FOG_EXP2\n\t\tuniform float fogDensity;\n\t#else\n\t\tuniform float fogNear;\n\t\tuniform float fogFar;\n\t#endif\n#endif",gradientmap_pars_fragment:"#ifdef TOON\n\tuniform sampler2D gradientMap;\n\tvec3 getGradientIrradiance( vec3 normal, vec3 lightDirection ) {\n\t\tfloat dotNL = dot( normal, lightDirection );\n\t\tvec2 coord = vec2( dotNL * 0.5 + 0.5, 0.0 );\n\t\t#ifdef USE_GRADIENTMAP\n\t\t\treturn texture2D( gradientMap, coord ).rgb;\n\t\t#else\n\t\t\treturn ( coord.x < 0.7 ) ? vec3( 0.7 ) : vec3( 1.0 );\n\t\t#endif\n\t}\n#endif",lightmap_fragment:"#ifdef USE_LIGHTMAP\n\treflectedLight.indirectDiffuse += PI * texture2D( lightMap, vUv2 ).xyz * lightMapIntensity;\n#endif",lightmap_pars_fragment:"#ifdef USE_LIGHTMAP\n\tuniform sampler2D lightMap;\n\tuniform float lightMapIntensity;\n#endif",lights_lambert_vertex:"vec3 diffuse = vec3( 1.0 );\nGeometricContext geometry;\ngeometry.position = mvPosition.xyz;\ngeometry.normal = normalize( transformedNormal );\ngeometry.viewDir = normalize( -mvPosition.xyz );\nGeometricContext backGeometry;\nbackGeometry.position = geometry.position;\nbackGeometry.normal = -geometry.normal;\nbackGeometry.viewDir = geometry.viewDir;\nvLightFront = vec3( 0.0 );\n#ifdef DOUBLE_SIDED\n\tvLightBack = vec3( 0.0 );\n#endif\nIncidentLight directLight;\nfloat dotNL;\nvec3 directLightColor_Diffuse;\n#if NUM_POINT_LIGHTS > 0\n\t#pragma unroll_loop\n\tfor ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {\n\t\tgetPointDirectLightIrradiance( pointLights[ i ], geometry, directLight );\n\t\tdotNL = dot( geometry.normal, directLight.direction );\n\t\tdirectLightColor_Diffuse = PI * directLight.color;\n\t\tvLightFront += saturate( dotNL ) * directLightColor_Diffuse;\n\t\t#ifdef DOUBLE_SIDED\n\t\t\tvLightBack += saturate( -dotNL ) * directLightColor_Diffuse;\n\t\t#endif\n\t}\n#endif\n#if NUM_SPOT_LIGHTS > 0\n\t#pragma unroll_loop\n\tfor ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {\n\t\tgetSpotDirectLightIrradiance( spotLights[ i ], geometry, directLight );\n\t\tdotNL = dot( geometry.normal, directLight.direction );\n\t\tdirectLightColor_Diffuse = PI * directLight.color;\n\t\tvLightFront += saturate( dotNL ) * directLightColor_Diffuse;\n\t\t#ifdef DOUBLE_SIDED\n\t\t\tvLightBack += saturate( -dotNL ) * directLightColor_Diffuse;\n\t\t#endif\n\t}\n#endif\n#if NUM_DIR_LIGHTS > 0\n\t#pragma unroll_loop\n\tfor ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {\n\t\tgetDirectionalDirectLightIrradiance( directionalLights[ i ], geometry, directLight );\n\t\tdotNL = dot( geometry.normal, directLight.direction );\n\t\tdirectLightColor_Diffuse = PI * directLight.color;\n\t\tvLightFront += saturate( dotNL ) * directLightColor_Diffuse;\n\t\t#ifdef DOUBLE_SIDED\n\t\t\tvLightBack += saturate( -dotNL ) * directLightColor_Diffuse;\n\t\t#endif\n\t}\n#endif\n#if NUM_HEMI_LIGHTS > 0\n\t#pragma unroll_loop\n\tfor ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {\n\t\tvLightFront += getHemisphereLightIrradiance( hemisphereLights[ i ], geometry );\n\t\t#ifdef DOUBLE_SIDED\n\t\t\tvLightBack += getHemisphereLightIrradiance( hemisphereLights[ i ], backGeometry );\n\t\t#endif\n\t}\n#endif",lights_pars_begin:"uniform vec3 ambientLightColor;\nvec3 getAmbientLightIrradiance( const in vec3 ambientLightColor ) {\n\tvec3 irradiance = ambientLightColor;\n\t#ifndef PHYSICALLY_CORRECT_LIGHTS\n\t\tirradiance *= PI;\n\t#endif\n\treturn irradiance;\n}\n#if NUM_DIR_LIGHTS > 0\n\tstruct DirectionalLight {\n\t\tvec3 direction;\n\t\tvec3 color;\n\t\tint shadow;\n\t\tfloat shadowBias;\n\t\tfloat shadowRadius;\n\t\tvec2 shadowMapSize;\n\t};\n\tuniform DirectionalLight directionalLights[ NUM_DIR_LIGHTS ];\n\tvoid getDirectionalDirectLightIrradiance( const in DirectionalLight directionalLight, const in GeometricContext geometry, out IncidentLight directLight ) {\n\t\tdirectLight.color = directionalLight.color;\n\t\tdirectLight.direction = directionalLight.direction;\n\t\tdirectLight.visible = true;\n\t}\n#endif\n#if NUM_POINT_LIGHTS > 0\n\tstruct PointLight {\n\t\tvec3 position;\n\t\tvec3 color;\n\t\tfloat distance;\n\t\tfloat decay;\n\t\tint shadow;\n\t\tfloat shadowBias;\n\t\tfloat shadowRadius;\n\t\tvec2 shadowMapSize;\n\t\tfloat shadowCameraNear;\n\t\tfloat shadowCameraFar;\n\t};\n\tuniform PointLight pointLights[ NUM_POINT_LIGHTS ];\n\tvoid getPointDirectLightIrradiance( const in PointLight pointLight, const in GeometricContext geometry, out IncidentLight directLight ) {\n\t\tvec3 lVector = pointLight.position - geometry.position;\n\t\tdirectLight.direction = normalize( lVector );\n\t\tfloat lightDistance = length( lVector );\n\t\tdirectLight.color = pointLight.color;\n\t\tdirectLight.color *= punctualLightIntensityToIrradianceFactor( lightDistance, pointLight.distance, pointLight.decay );\n\t\tdirectLight.visible = ( directLight.color != vec3( 0.0 ) );\n\t}\n#endif\n#if NUM_SPOT_LIGHTS > 0\n\tstruct SpotLight {\n\t\tvec3 position;\n\t\tvec3 direction;\n\t\tvec3 color;\n\t\tfloat distance;\n\t\tfloat decay;\n\t\tfloat coneCos;\n\t\tfloat penumbraCos;\n\t\tint shadow;\n\t\tfloat shadowBias;\n\t\tfloat shadowRadius;\n\t\tvec2 shadowMapSize;\n\t};\n\tuniform SpotLight spotLights[ NUM_SPOT_LIGHTS ];\n\tvoid getSpotDirectLightIrradiance( const in SpotLight spotLight, const in GeometricContext geometry, out IncidentLight directLight  ) {\n\t\tvec3 lVector = spotLight.position - geometry.position;\n\t\tdirectLight.direction = normalize( lVector );\n\t\tfloat lightDistance = length( lVector );\n\t\tfloat angleCos = dot( directLight.direction, spotLight.direction );\n\t\tif ( angleCos > spotLight.coneCos ) {\n\t\t\tfloat spotEffect = smoothstep( spotLight.coneCos, spotLight.penumbraCos, angleCos );\n\t\t\tdirectLight.color = spotLight.color;\n\t\t\tdirectLight.color *= spotEffect * punctualLightIntensityToIrradianceFactor( lightDistance, spotLight.distance, spotLight.decay );\n\t\t\tdirectLight.visible = true;\n\t\t} else {\n\t\t\tdirectLight.color = vec3( 0.0 );\n\t\t\tdirectLight.visible = false;\n\t\t}\n\t}\n#endif\n#if NUM_RECT_AREA_LIGHTS > 0\n\tstruct RectAreaLight {\n\t\tvec3 color;\n\t\tvec3 position;\n\t\tvec3 halfWidth;\n\t\tvec3 halfHeight;\n\t};\n\tuniform sampler2D ltc_1;\tuniform sampler2D ltc_2;\n\tuniform RectAreaLight rectAreaLights[ NUM_RECT_AREA_LIGHTS ];\n#endif\n#if NUM_HEMI_LIGHTS > 0\n\tstruct HemisphereLight {\n\t\tvec3 direction;\n\t\tvec3 skyColor;\n\t\tvec3 groundColor;\n\t};\n\tuniform HemisphereLight hemisphereLights[ NUM_HEMI_LIGHTS ];\n\tvec3 getHemisphereLightIrradiance( const in HemisphereLight hemiLight, const in GeometricContext geometry ) {\n\t\tfloat dotNL = dot( geometry.normal, hemiLight.direction );\n\t\tfloat hemiDiffuseWeight = 0.5 * dotNL + 0.5;\n\t\tvec3 irradiance = mix( hemiLight.groundColor, hemiLight.skyColor, hemiDiffuseWeight );\n\t\t#ifndef PHYSICALLY_CORRECT_LIGHTS\n\t\t\tirradiance *= PI;\n\t\t#endif\n\t\treturn irradiance;\n\t}\n#endif",lights_phong_fragment:"BlinnPhongMaterial material;\nmaterial.diffuseColor = diffuseColor.rgb;\nmaterial.specularColor = specular;\nmaterial.specularShininess = shininess;\nmaterial.specularStrength = specularStrength;",lights_phong_pars_fragment:"varying vec3 vViewPosition;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\nstruct BlinnPhongMaterial {\n\tvec3\tdiffuseColor;\n\tvec3\tspecularColor;\n\tfloat\tspecularShininess;\n\tfloat\tspecularStrength;\n};\nvoid RE_Direct_BlinnPhong( const in IncidentLight directLight, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {\n\t#ifdef TOON\n\t\tvec3 irradiance = getGradientIrradiance( geometry.normal, directLight.direction ) * directLight.color;\n\t#else\n\t\tfloat dotNL = saturate( dot( geometry.normal, directLight.direction ) );\n\t\tvec3 irradiance = dotNL * directLight.color;\n\t#endif\n\t#ifndef PHYSICALLY_CORRECT_LIGHTS\n\t\tirradiance *= PI;\n\t#endif\n\treflectedLight.directDiffuse += irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );\n\treflectedLight.directSpecular += irradiance * BRDF_Specular_BlinnPhong( directLight, geometry, material.specularColor, material.specularShininess ) * material.specularStrength;\n}\nvoid RE_IndirectDiffuse_BlinnPhong( const in vec3 irradiance, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {\n\treflectedLight.indirectDiffuse += irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );\n}\n#define RE_Direct\t\t\t\tRE_Direct_BlinnPhong\n#define RE_IndirectDiffuse\t\tRE_IndirectDiffuse_BlinnPhong\n#define Material_LightProbeLOD( material )\t(0)",lights_physical_fragment:"PhysicalMaterial material;\nmaterial.diffuseColor = diffuseColor.rgb * ( 1.0 - metalnessFactor );\nmaterial.specularRoughness = clamp( roughnessFactor, 0.04, 1.0 );\n#ifdef STANDARD\n\tmaterial.specularColor = mix( vec3( DEFAULT_SPECULAR_COEFFICIENT ), diffuseColor.rgb, metalnessFactor );\n#else\n\tmaterial.specularColor = mix( vec3( MAXIMUM_SPECULAR_COEFFICIENT * pow2( reflectivity ) ), diffuseColor.rgb, metalnessFactor );\n\tmaterial.clearCoat = saturate( clearCoat );\tmaterial.clearCoatRoughness = clamp( clearCoatRoughness, 0.04, 1.0 );\n#endif",lights_physical_pars_fragment:"struct PhysicalMaterial {\n\tvec3\tdiffuseColor;\n\tfloat\tspecularRoughness;\n\tvec3\tspecularColor;\n\t#ifndef STANDARD\n\t\tfloat clearCoat;\n\t\tfloat clearCoatRoughness;\n\t#endif\n};\n#define MAXIMUM_SPECULAR_COEFFICIENT 0.16\n#define DEFAULT_SPECULAR_COEFFICIENT 0.04\nfloat clearCoatDHRApprox( const in float roughness, const in float dotNL ) {\n\treturn DEFAULT_SPECULAR_COEFFICIENT + ( 1.0 - DEFAULT_SPECULAR_COEFFICIENT ) * ( pow( 1.0 - dotNL, 5.0 ) * pow( 1.0 - roughness, 2.0 ) );\n}\n#if NUM_RECT_AREA_LIGHTS > 0\n\tvoid RE_Direct_RectArea_Physical( const in RectAreaLight rectAreaLight, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\n\t\tvec3 normal = geometry.normal;\n\t\tvec3 viewDir = geometry.viewDir;\n\t\tvec3 position = geometry.position;\n\t\tvec3 lightPos = rectAreaLight.position;\n\t\tvec3 halfWidth = rectAreaLight.halfWidth;\n\t\tvec3 halfHeight = rectAreaLight.halfHeight;\n\t\tvec3 lightColor = rectAreaLight.color;\n\t\tfloat roughness = material.specularRoughness;\n\t\tvec3 rectCoords[ 4 ];\n\t\trectCoords[ 0 ] = lightPos + halfWidth - halfHeight;\t\trectCoords[ 1 ] = lightPos - halfWidth - halfHeight;\n\t\trectCoords[ 2 ] = lightPos - halfWidth + halfHeight;\n\t\trectCoords[ 3 ] = lightPos + halfWidth + halfHeight;\n\t\tvec2 uv = LTC_Uv( normal, viewDir, roughness );\n\t\tvec4 t1 = texture2D( ltc_1, uv );\n\t\tvec4 t2 = texture2D( ltc_2, uv );\n\t\tmat3 mInv = mat3(\n\t\t\tvec3( t1.x, 0, t1.y ),\n\t\t\tvec3(    0, 1,    0 ),\n\t\t\tvec3( t1.z, 0, t1.w )\n\t\t);\n\t\tvec3 fresnel = ( material.specularColor * t2.x + ( vec3( 1.0 ) - material.specularColor ) * t2.y );\n\t\treflectedLight.directSpecular += lightColor * fresnel * LTC_Evaluate( normal, viewDir, position, mInv, rectCoords );\n\t\treflectedLight.directDiffuse += lightColor * material.diffuseColor * LTC_Evaluate( normal, viewDir, position, mat3( 1.0 ), rectCoords );\n\t}\n#endif\nvoid RE_Direct_Physical( const in IncidentLight directLight, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\n\tfloat dotNL = saturate( dot( geometry.normal, directLight.direction ) );\n\tvec3 irradiance = dotNL * directLight.color;\n\t#ifndef PHYSICALLY_CORRECT_LIGHTS\n\t\tirradiance *= PI;\n\t#endif\n\t#ifndef STANDARD\n\t\tfloat clearCoatDHR = material.clearCoat * clearCoatDHRApprox( material.clearCoatRoughness, dotNL );\n\t#else\n\t\tfloat clearCoatDHR = 0.0;\n\t#endif\n\treflectedLight.directSpecular += ( 1.0 - clearCoatDHR ) * irradiance * BRDF_Specular_GGX( directLight, geometry, material.specularColor, material.specularRoughness );\n\treflectedLight.directDiffuse += ( 1.0 - clearCoatDHR ) * irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );\n\t#ifndef STANDARD\n\t\treflectedLight.directSpecular += irradiance * material.clearCoat * BRDF_Specular_GGX( directLight, geometry, vec3( DEFAULT_SPECULAR_COEFFICIENT ), material.clearCoatRoughness );\n\t#endif\n}\nvoid RE_IndirectDiffuse_Physical( const in vec3 irradiance, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\n\treflectedLight.indirectDiffuse += irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );\n}\nvoid RE_IndirectSpecular_Physical( const in vec3 radiance, const in vec3 clearCoatRadiance, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\n\t#ifndef STANDARD\n\t\tfloat dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );\n\t\tfloat dotNL = dotNV;\n\t\tfloat clearCoatDHR = material.clearCoat * clearCoatDHRApprox( material.clearCoatRoughness, dotNL );\n\t#else\n\t\tfloat clearCoatDHR = 0.0;\n\t#endif\n\treflectedLight.indirectSpecular += ( 1.0 - clearCoatDHR ) * radiance * BRDF_Specular_GGX_Environment( geometry, material.specularColor, material.specularRoughness );\n\t#ifndef STANDARD\n\t\treflectedLight.indirectSpecular += clearCoatRadiance * material.clearCoat * BRDF_Specular_GGX_Environment( geometry, vec3( DEFAULT_SPECULAR_COEFFICIENT ), material.clearCoatRoughness );\n\t#endif\n}\n#define RE_Direct\t\t\t\tRE_Direct_Physical\n#define RE_Direct_RectArea\t\tRE_Direct_RectArea_Physical\n#define RE_IndirectDiffuse\t\tRE_IndirectDiffuse_Physical\n#define RE_IndirectSpecular\t\tRE_IndirectSpecular_Physical\n#define Material_BlinnShininessExponent( material )   GGXRoughnessToBlinnExponent( material.specularRoughness )\n#define Material_ClearCoat_BlinnShininessExponent( material )   GGXRoughnessToBlinnExponent( material.clearCoatRoughness )\nfloat computeSpecularOcclusion( const in float dotNV, const in float ambientOcclusion, const in float roughness ) {\n\treturn saturate( pow( dotNV + ambientOcclusion, exp2( - 16.0 * roughness - 1.0 ) ) - 1.0 + ambientOcclusion );\n}",lights_fragment_begin:"\nGeometricContext geometry;\ngeometry.position = - vViewPosition;\ngeometry.normal = normal;\ngeometry.viewDir = normalize( vViewPosition );\nIncidentLight directLight;\n#if ( NUM_POINT_LIGHTS > 0 ) && defined( RE_Direct )\n\tPointLight pointLight;\n\t#pragma unroll_loop\n\tfor ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {\n\t\tpointLight = pointLights[ i ];\n\t\tgetPointDirectLightIrradiance( pointLight, geometry, directLight );\n\t\t#ifdef USE_SHADOWMAP\n\t\tdirectLight.color *= all( bvec2( pointLight.shadow, directLight.visible ) ) ? getPointShadow( pointShadowMap[ i ], pointLight.shadowMapSize, pointLight.shadowBias, pointLight.shadowRadius, vPointShadowCoord[ i ], pointLight.shadowCameraNear, pointLight.shadowCameraFar ) : 1.0;\n\t\t#endif\n\t\tRE_Direct( directLight, geometry, material, reflectedLight );\n\t}\n#endif\n#if ( NUM_SPOT_LIGHTS > 0 ) && defined( RE_Direct )\n\tSpotLight spotLight;\n\t#pragma unroll_loop\n\tfor ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {\n\t\tspotLight = spotLights[ i ];\n\t\tgetSpotDirectLightIrradiance( spotLight, geometry, directLight );\n\t\t#ifdef USE_SHADOWMAP\n\t\tdirectLight.color *= all( bvec2( spotLight.shadow, directLight.visible ) ) ? getShadow( spotShadowMap[ i ], spotLight.shadowMapSize, spotLight.shadowBias, spotLight.shadowRadius, vSpotShadowCoord[ i ] ) : 1.0;\n\t\t#endif\n\t\tRE_Direct( directLight, geometry, material, reflectedLight );\n\t}\n#endif\n#if ( NUM_DIR_LIGHTS > 0 ) && defined( RE_Direct )\n\tDirectionalLight directionalLight;\n\t#pragma unroll_loop\n\tfor ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {\n\t\tdirectionalLight = directionalLights[ i ];\n\t\tgetDirectionalDirectLightIrradiance( directionalLight, geometry, directLight );\n\t\t#ifdef USE_SHADOWMAP\n\t\tdirectLight.color *= all( bvec2( directionalLight.shadow, directLight.visible ) ) ? getShadow( directionalShadowMap[ i ], directionalLight.shadowMapSize, directionalLight.shadowBias, directionalLight.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;\n\t\t#endif\n\t\tRE_Direct( directLight, geometry, material, reflectedLight );\n\t}\n#endif\n#if ( NUM_RECT_AREA_LIGHTS > 0 ) && defined( RE_Direct_RectArea )\n\tRectAreaLight rectAreaLight;\n\t#pragma unroll_loop\n\tfor ( int i = 0; i < NUM_RECT_AREA_LIGHTS; i ++ ) {\n\t\trectAreaLight = rectAreaLights[ i ];\n\t\tRE_Direct_RectArea( rectAreaLight, geometry, material, reflectedLight );\n\t}\n#endif\n#if defined( RE_IndirectDiffuse )\n\tvec3 irradiance = getAmbientLightIrradiance( ambientLightColor );\n\t#if ( NUM_HEMI_LIGHTS > 0 )\n\t\t#pragma unroll_loop\n\t\tfor ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {\n\t\t\tirradiance += getHemisphereLightIrradiance( hemisphereLights[ i ], geometry );\n\t\t}\n\t#endif\n#endif\n#if defined( RE_IndirectSpecular )\n\tvec3 radiance = vec3( 0.0 );\n\tvec3 clearCoatRadiance = vec3( 0.0 );\n#endif",lights_fragment_maps:"#if defined( RE_IndirectDiffuse )\n\t#ifdef USE_LIGHTMAP\n\t\tvec3 lightMapIrradiance = texture2D( lightMap, vUv2 ).xyz * lightMapIntensity;\n\t\t#ifndef PHYSICALLY_CORRECT_LIGHTS\n\t\t\tlightMapIrradiance *= PI;\n\t\t#endif\n\t\tirradiance += lightMapIrradiance;\n\t#endif\n\t#if defined( USE_ENVMAP ) && defined( PHYSICAL ) && defined( ENVMAP_TYPE_CUBE_UV )\n\t\tirradiance += getLightProbeIndirectIrradiance( geometry, maxMipLevel );\n\t#endif\n#endif\n#if defined( USE_ENVMAP ) && defined( RE_IndirectSpecular )\n\tradiance += getLightProbeIndirectRadiance( geometry, Material_BlinnShininessExponent( material ), maxMipLevel );\n\t#ifndef STANDARD\n\t\tclearCoatRadiance += getLightProbeIndirectRadiance( geometry, Material_ClearCoat_BlinnShininessExponent( material ), maxMipLevel );\n\t#endif\n#endif",lights_fragment_end:"#if defined( RE_IndirectDiffuse )\n\tRE_IndirectDiffuse( irradiance, geometry, material, reflectedLight );\n#endif\n#if defined( RE_IndirectSpecular )\n\tRE_IndirectSpecular( radiance, clearCoatRadiance, geometry, material, reflectedLight );\n#endif",logdepthbuf_fragment:"#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )\n\tgl_FragDepthEXT = log2( vFragDepth ) * logDepthBufFC * 0.5;\n#endif",logdepthbuf_pars_fragment:"#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )\n\tuniform float logDepthBufFC;\n\tvarying float vFragDepth;\n#endif",logdepthbuf_pars_vertex:"#ifdef USE_LOGDEPTHBUF\n\t#ifdef USE_LOGDEPTHBUF_EXT\n\t\tvarying float vFragDepth;\n\t#else\n\t\tuniform float logDepthBufFC;\n\t#endif\n#endif",logdepthbuf_vertex:"#ifdef USE_LOGDEPTHBUF\n\t#ifdef USE_LOGDEPTHBUF_EXT\n\t\tvFragDepth = 1.0 + gl_Position.w;\n\t#else\n\t\tgl_Position.z = log2( max( EPSILON, gl_Position.w + 1.0 ) ) * logDepthBufFC - 1.0;\n\t\tgl_Position.z *= gl_Position.w;\n\t#endif\n#endif",map_fragment:"#ifdef USE_MAP\n\tvec4 texelColor = texture2D( map, vUv );\n\ttexelColor = mapTexelToLinear( texelColor );\n\tdiffuseColor *= texelColor;\n#endif",map_pars_fragment:"#ifdef USE_MAP\n\tuniform sampler2D map;\n#endif",map_particle_fragment:"#ifdef USE_MAP\n\tvec2 uv = ( uvTransform * vec3( gl_PointCoord.x, 1.0 - gl_PointCoord.y, 1 ) ).xy;\n\tvec4 mapTexel = texture2D( map, uv );\n\tdiffuseColor *= mapTexelToLinear( mapTexel );\n#endif",map_particle_pars_fragment:"#ifdef USE_MAP\n\tuniform mat3 uvTransform;\n\tuniform sampler2D map;\n#endif",metalnessmap_fragment:"float metalnessFactor = metalness;\n#ifdef USE_METALNESSMAP\n\tvec4 texelMetalness = texture2D( metalnessMap, vUv );\n\tmetalnessFactor *= texelMetalness.b;\n#endif",metalnessmap_pars_fragment:"#ifdef USE_METALNESSMAP\n\tuniform sampler2D metalnessMap;\n#endif",morphnormal_vertex:"#ifdef USE_MORPHNORMALS\n\tobjectNormal += ( morphNormal0 - normal ) * morphTargetInfluences[ 0 ];\n\tobjectNormal += ( morphNormal1 - normal ) * morphTargetInfluences[ 1 ];\n\tobjectNormal += ( morphNormal2 - normal ) * morphTargetInfluences[ 2 ];\n\tobjectNormal += ( morphNormal3 - normal ) * morphTargetInfluences[ 3 ];\n#endif",morphtarget_pars_vertex:"#ifdef USE_MORPHTARGETS\n\t#ifndef USE_MORPHNORMALS\n\tuniform float morphTargetInfluences[ 8 ];\n\t#else\n\tuniform float morphTargetInfluences[ 4 ];\n\t#endif\n#endif",morphtarget_vertex:"#ifdef USE_MORPHTARGETS\n\ttransformed += ( morphTarget0 - position ) * morphTargetInfluences[ 0 ];\n\ttransformed += ( morphTarget1 - position ) * morphTargetInfluences[ 1 ];\n\ttransformed += ( morphTarget2 - position ) * morphTargetInfluences[ 2 ];\n\ttransformed += ( morphTarget3 - position ) * morphTargetInfluences[ 3 ];\n\t#ifndef USE_MORPHNORMALS\n\ttransformed += ( morphTarget4 - position ) * morphTargetInfluences[ 4 ];\n\ttransformed += ( morphTarget5 - position ) * morphTargetInfluences[ 5 ];\n\ttransformed += ( morphTarget6 - position ) * morphTargetInfluences[ 6 ];\n\ttransformed += ( morphTarget7 - position ) * morphTargetInfluences[ 7 ];\n\t#endif\n#endif",normal_fragment_begin:"#ifdef FLAT_SHADED\n\tvec3 fdx = vec3( dFdx( vViewPosition.x ), dFdx( vViewPosition.y ), dFdx( vViewPosition.z ) );\n\tvec3 fdy = vec3( dFdy( vViewPosition.x ), dFdy( vViewPosition.y ), dFdy( vViewPosition.z ) );\n\tvec3 normal = normalize( cross( fdx, fdy ) );\n#else\n\tvec3 normal = normalize( vNormal );\n\t#ifdef DOUBLE_SIDED\n\t\tnormal = normal * ( float( gl_FrontFacing ) * 2.0 - 1.0 );\n\t#endif\n#endif",normal_fragment_maps:"#ifdef USE_NORMALMAP\n\t#ifdef OBJECTSPACE_NORMALMAP\n\t\tnormal = texture2D( normalMap, vUv ).xyz * 2.0 - 1.0;\n\t\t#ifdef FLIP_SIDED\n\t\t\tnormal = - normal;\n\t\t#endif\n\t\t#ifdef DOUBLE_SIDED\n\t\t\tnormal = normal * ( float( gl_FrontFacing ) * 2.0 - 1.0 );\n\t\t#endif\n\t\tnormal = normalize( normalMatrix * normal );\n\t#else\n\t\tnormal = perturbNormal2Arb( -vViewPosition, normal );\n\t#endif\n#elif defined( USE_BUMPMAP )\n\tnormal = perturbNormalArb( -vViewPosition, normal, dHdxy_fwd() );\n#endif",normalmap_pars_fragment:"#ifdef USE_NORMALMAP\n\tuniform sampler2D normalMap;\n\tuniform vec2 normalScale;\n\t#ifdef OBJECTSPACE_NORMALMAP\n\t\tuniform mat3 normalMatrix;\n\t#else\n\t\tvec3 perturbNormal2Arb( vec3 eye_pos, vec3 surf_norm ) {\n\t\t\tvec3 q0 = vec3( dFdx( eye_pos.x ), dFdx( eye_pos.y ), dFdx( eye_pos.z ) );\n\t\t\tvec3 q1 = vec3( dFdy( eye_pos.x ), dFdy( eye_pos.y ), dFdy( eye_pos.z ) );\n\t\t\tvec2 st0 = dFdx( vUv.st );\n\t\t\tvec2 st1 = dFdy( vUv.st );\n\t\t\tfloat scale = sign( st1.t * st0.s - st0.t * st1.s );\n\t\t\tvec3 S = normalize( ( q0 * st1.t - q1 * st0.t ) * scale );\n\t\t\tvec3 T = normalize( ( - q0 * st1.s + q1 * st0.s ) * scale );\n\t\t\tvec3 N = normalize( surf_norm );\n\t\t\tmat3 tsn = mat3( S, T, N );\n\t\t\tvec3 mapN = texture2D( normalMap, vUv ).xyz * 2.0 - 1.0;\n\t\t\tmapN.xy *= normalScale;\n\t\t\tmapN.xy *= ( float( gl_FrontFacing ) * 2.0 - 1.0 );\n\t\t\treturn normalize( tsn * mapN );\n\t\t}\n\t#endif\n#endif",packing:"vec3 packNormalToRGB( const in vec3 normal ) {\n\treturn normalize( normal ) * 0.5 + 0.5;\n}\nvec3 unpackRGBToNormal( const in vec3 rgb ) {\n\treturn 2.0 * rgb.xyz - 1.0;\n}\nconst float PackUpscale = 256. / 255.;const float UnpackDownscale = 255. / 256.;\nconst vec3 PackFactors = vec3( 256. * 256. * 256., 256. * 256.,  256. );\nconst vec4 UnpackFactors = UnpackDownscale / vec4( PackFactors, 1. );\nconst float ShiftRight8 = 1. / 256.;\nvec4 packDepthToRGBA( const in float v ) {\n\tvec4 r = vec4( fract( v * PackFactors ), v );\n\tr.yzw -= r.xyz * ShiftRight8;\treturn r * PackUpscale;\n}\nfloat unpackRGBAToDepth( const in vec4 v ) {\n\treturn dot( v, UnpackFactors );\n}\nfloat viewZToOrthographicDepth( const in float viewZ, const in float near, const in float far ) {\n\treturn ( viewZ + near ) / ( near - far );\n}\nfloat orthographicDepthToViewZ( const in float linearClipZ, const in float near, const in float far ) {\n\treturn linearClipZ * ( near - far ) - near;\n}\nfloat viewZToPerspectiveDepth( const in float viewZ, const in float near, const in float far ) {\n\treturn (( near + viewZ ) * far ) / (( far - near ) * viewZ );\n}\nfloat perspectiveDepthToViewZ( const in float invClipZ, const in float near, const in float far ) {\n\treturn ( near * far ) / ( ( far - near ) * invClipZ - far );\n}",premultiplied_alpha_fragment:"#ifdef PREMULTIPLIED_ALPHA\n\tgl_FragColor.rgb *= gl_FragColor.a;\n#endif",project_vertex:"vec4 mvPosition = modelViewMatrix * vec4( transformed, 1.0 );\ngl_Position = projectionMatrix * mvPosition;",dithering_fragment:"#if defined( DITHERING )\n  gl_FragColor.rgb = dithering( gl_FragColor.rgb );\n#endif",dithering_pars_fragment:"#if defined( DITHERING )\n\tvec3 dithering( vec3 color ) {\n\t\tfloat grid_position = rand( gl_FragCoord.xy );\n\t\tvec3 dither_shift_RGB = vec3( 0.25 / 255.0, -0.25 / 255.0, 0.25 / 255.0 );\n\t\tdither_shift_RGB = mix( 2.0 * dither_shift_RGB, -2.0 * dither_shift_RGB, grid_position );\n\t\treturn color + dither_shift_RGB;\n\t}\n#endif",roughnessmap_fragment:"float roughnessFactor = roughness;\n#ifdef USE_ROUGHNESSMAP\n\tvec4 texelRoughness = texture2D( roughnessMap, vUv );\n\troughnessFactor *= texelRoughness.g;\n#endif",roughnessmap_pars_fragment:"#ifdef USE_ROUGHNESSMAP\n\tuniform sampler2D roughnessMap;\n#endif",shadowmap_pars_fragment:"#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHTS > 0\n\t\tuniform sampler2D directionalShadowMap[ NUM_DIR_LIGHTS ];\n\t\tvarying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHTS ];\n\t#endif\n\t#if NUM_SPOT_LIGHTS > 0\n\t\tuniform sampler2D spotShadowMap[ NUM_SPOT_LIGHTS ];\n\t\tvarying vec4 vSpotShadowCoord[ NUM_SPOT_LIGHTS ];\n\t#endif\n\t#if NUM_POINT_LIGHTS > 0\n\t\tuniform sampler2D pointShadowMap[ NUM_POINT_LIGHTS ];\n\t\tvarying vec4 vPointShadowCoord[ NUM_POINT_LIGHTS ];\n\t#endif\n\tfloat texture2DCompare( sampler2D depths, vec2 uv, float compare ) {\n\t\treturn step( compare, unpackRGBAToDepth( texture2D( depths, uv ) ) );\n\t}\n\tfloat texture2DShadowLerp( sampler2D depths, vec2 size, vec2 uv, float compare ) {\n\t\tconst vec2 offset = vec2( 0.0, 1.0 );\n\t\tvec2 texelSize = vec2( 1.0 ) / size;\n\t\tvec2 centroidUV = floor( uv * size + 0.5 ) / size;\n\t\tfloat lb = texture2DCompare( depths, centroidUV + texelSize * offset.xx, compare );\n\t\tfloat lt = texture2DCompare( depths, centroidUV + texelSize * offset.xy, compare );\n\t\tfloat rb = texture2DCompare( depths, centroidUV + texelSize * offset.yx, compare );\n\t\tfloat rt = texture2DCompare( depths, centroidUV + texelSize * offset.yy, compare );\n\t\tvec2 f = fract( uv * size + 0.5 );\n\t\tfloat a = mix( lb, lt, f.y );\n\t\tfloat b = mix( rb, rt, f.y );\n\t\tfloat c = mix( a, b, f.x );\n\t\treturn c;\n\t}\n\tfloat getShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord ) {\n\t\tfloat shadow = 1.0;\n\t\tshadowCoord.xyz /= shadowCoord.w;\n\t\tshadowCoord.z += shadowBias;\n\t\tbvec4 inFrustumVec = bvec4 ( shadowCoord.x >= 0.0, shadowCoord.x <= 1.0, shadowCoord.y >= 0.0, shadowCoord.y <= 1.0 );\n\t\tbool inFrustum = all( inFrustumVec );\n\t\tbvec2 frustumTestVec = bvec2( inFrustum, shadowCoord.z <= 1.0 );\n\t\tbool frustumTest = all( frustumTestVec );\n\t\tif ( frustumTest ) {\n\t\t#if defined( SHADOWMAP_TYPE_PCF )\n\t\t\tvec2 texelSize = vec2( 1.0 ) / shadowMapSize;\n\t\t\tfloat dx0 = - texelSize.x * shadowRadius;\n\t\t\tfloat dy0 = - texelSize.y * shadowRadius;\n\t\t\tfloat dx1 = + texelSize.x * shadowRadius;\n\t\t\tfloat dy1 = + texelSize.y * shadowRadius;\n\t\t\tshadow = (\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy1 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy1 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy1 ), shadowCoord.z )\n\t\t\t) * ( 1.0 / 9.0 );\n\t\t#elif defined( SHADOWMAP_TYPE_PCF_SOFT )\n\t\t\tvec2 texelSize = vec2( 1.0 ) / shadowMapSize;\n\t\t\tfloat dx0 = - texelSize.x * shadowRadius;\n\t\t\tfloat dy0 = - texelSize.y * shadowRadius;\n\t\t\tfloat dx1 = + texelSize.x * shadowRadius;\n\t\t\tfloat dy1 = + texelSize.y * shadowRadius;\n\t\t\tshadow = (\n\t\t\t\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( dx0, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( 0.0, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( dx1, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( dx0, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy, shadowCoord.z ) +\n\t\t\t\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( dx1, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( dx0, dy1 ), shadowCoord.z ) +\n\t\t\t\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( 0.0, dy1 ), shadowCoord.z ) +\n\t\t\t\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( dx1, dy1 ), shadowCoord.z )\n\t\t\t) * ( 1.0 / 9.0 );\n\t\t#else\n\t\t\tshadow = texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z );\n\t\t#endif\n\t\t}\n\t\treturn shadow;\n\t}\n\tvec2 cubeToUV( vec3 v, float texelSizeY ) {\n\t\tvec3 absV = abs( v );\n\t\tfloat scaleToCube = 1.0 / max( absV.x, max( absV.y, absV.z ) );\n\t\tabsV *= scaleToCube;\n\t\tv *= scaleToCube * ( 1.0 - 2.0 * texelSizeY );\n\t\tvec2 planar = v.xy;\n\t\tfloat almostATexel = 1.5 * texelSizeY;\n\t\tfloat almostOne = 1.0 - almostATexel;\n\t\tif ( absV.z >= almostOne ) {\n\t\t\tif ( v.z > 0.0 )\n\t\t\t\tplanar.x = 4.0 - v.x;\n\t\t} else if ( absV.x >= almostOne ) {\n\t\t\tfloat signX = sign( v.x );\n\t\t\tplanar.x = v.z * signX + 2.0 * signX;\n\t\t} else if ( absV.y >= almostOne ) {\n\t\t\tfloat signY = sign( v.y );\n\t\t\tplanar.x = v.x + 2.0 * signY + 2.0;\n\t\t\tplanar.y = v.z * signY - 2.0;\n\t\t}\n\t\treturn vec2( 0.125, 0.25 ) * planar + vec2( 0.375, 0.75 );\n\t}\n\tfloat getPointShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord, float shadowCameraNear, float shadowCameraFar ) {\n\t\tvec2 texelSize = vec2( 1.0 ) / ( shadowMapSize * vec2( 4.0, 2.0 ) );\n\t\tvec3 lightToPosition = shadowCoord.xyz;\n\t\tfloat dp = ( length( lightToPosition ) - shadowCameraNear ) / ( shadowCameraFar - shadowCameraNear );\t\tdp += shadowBias;\n\t\tvec3 bd3D = normalize( lightToPosition );\n\t\t#if defined( SHADOWMAP_TYPE_PCF ) || defined( SHADOWMAP_TYPE_PCF_SOFT )\n\t\t\tvec2 offset = vec2( - 1, 1 ) * shadowRadius * texelSize.y;\n\t\t\treturn (\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyx, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyx, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxx, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxx, texelSize.y ), dp )\n\t\t\t) * ( 1.0 / 9.0 );\n\t\t#else\n\t\t\treturn texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp );\n\t\t#endif\n\t}\n#endif",shadowmap_pars_vertex:"#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHTS > 0\n\t\tuniform mat4 directionalShadowMatrix[ NUM_DIR_LIGHTS ];\n\t\tvarying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHTS ];\n\t#endif\n\t#if NUM_SPOT_LIGHTS > 0\n\t\tuniform mat4 spotShadowMatrix[ NUM_SPOT_LIGHTS ];\n\t\tvarying vec4 vSpotShadowCoord[ NUM_SPOT_LIGHTS ];\n\t#endif\n\t#if NUM_POINT_LIGHTS > 0\n\t\tuniform mat4 pointShadowMatrix[ NUM_POINT_LIGHTS ];\n\t\tvarying vec4 vPointShadowCoord[ NUM_POINT_LIGHTS ];\n\t#endif\n#endif",shadowmap_vertex:"#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHTS > 0\n\t#pragma unroll_loop\n\tfor ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {\n\t\tvDirectionalShadowCoord[ i ] = directionalShadowMatrix[ i ] * worldPosition;\n\t}\n\t#endif\n\t#if NUM_SPOT_LIGHTS > 0\n\t#pragma unroll_loop\n\tfor ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {\n\t\tvSpotShadowCoord[ i ] = spotShadowMatrix[ i ] * worldPosition;\n\t}\n\t#endif\n\t#if NUM_POINT_LIGHTS > 0\n\t#pragma unroll_loop\n\tfor ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {\n\t\tvPointShadowCoord[ i ] = pointShadowMatrix[ i ] * worldPosition;\n\t}\n\t#endif\n#endif",shadowmask_pars_fragment:"float getShadowMask() {\n\tfloat shadow = 1.0;\n\t#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHTS > 0\n\tDirectionalLight directionalLight;\n\t#pragma unroll_loop\n\tfor ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {\n\t\tdirectionalLight = directionalLights[ i ];\n\t\tshadow *= bool( directionalLight.shadow ) ? getShadow( directionalShadowMap[ i ], directionalLight.shadowMapSize, directionalLight.shadowBias, directionalLight.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;\n\t}\n\t#endif\n\t#if NUM_SPOT_LIGHTS > 0\n\tSpotLight spotLight;\n\t#pragma unroll_loop\n\tfor ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {\n\t\tspotLight = spotLights[ i ];\n\t\tshadow *= bool( spotLight.shadow ) ? getShadow( spotShadowMap[ i ], spotLight.shadowMapSize, spotLight.shadowBias, spotLight.shadowRadius, vSpotShadowCoord[ i ] ) : 1.0;\n\t}\n\t#endif\n\t#if NUM_POINT_LIGHTS > 0\n\tPointLight pointLight;\n\t#pragma unroll_loop\n\tfor ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {\n\t\tpointLight = pointLights[ i ];\n\t\tshadow *= bool( pointLight.shadow ) ? getPointShadow( pointShadowMap[ i ], pointLight.shadowMapSize, pointLight.shadowBias, pointLight.shadowRadius, vPointShadowCoord[ i ], pointLight.shadowCameraNear, pointLight.shadowCameraFar ) : 1.0;\n\t}\n\t#endif\n\t#endif\n\treturn shadow;\n}",skinbase_vertex:"#ifdef USE_SKINNING\n\tmat4 boneMatX = getBoneMatrix( skinIndex.x );\n\tmat4 boneMatY = getBoneMatrix( skinIndex.y );\n\tmat4 boneMatZ = getBoneMatrix( skinIndex.z );\n\tmat4 boneMatW = getBoneMatrix( skinIndex.w );\n#endif",skinning_pars_vertex:"#ifdef USE_SKINNING\n\tuniform mat4 bindMatrix;\n\tuniform mat4 bindMatrixInverse;\n\t#ifdef BONE_TEXTURE\n\t\tuniform sampler2D boneTexture;\n\t\tuniform int boneTextureSize;\n\t\tmat4 getBoneMatrix( const in float i ) {\n\t\t\tfloat j = i * 4.0;\n\t\t\tfloat x = mod( j, float( boneTextureSize ) );\n\t\t\tfloat y = floor( j / float( boneTextureSize ) );\n\t\t\tfloat dx = 1.0 / float( boneTextureSize );\n\t\t\tfloat dy = 1.0 / float( boneTextureSize );\n\t\t\ty = dy * ( y + 0.5 );\n\t\t\tvec4 v1 = texture2D( boneTexture, vec2( dx * ( x + 0.5 ), y ) );\n\t\t\tvec4 v2 = texture2D( boneTexture, vec2( dx * ( x + 1.5 ), y ) );\n\t\t\tvec4 v3 = texture2D( boneTexture, vec2( dx * ( x + 2.5 ), y ) );\n\t\t\tvec4 v4 = texture2D( boneTexture, vec2( dx * ( x + 3.5 ), y ) );\n\t\t\tmat4 bone = mat4( v1, v2, v3, v4 );\n\t\t\treturn bone;\n\t\t}\n\t#else\n\t\tuniform mat4 boneMatrices[ MAX_BONES ];\n\t\tmat4 getBoneMatrix( const in float i ) {\n\t\t\tmat4 bone = boneMatrices[ int(i) ];\n\t\t\treturn bone;\n\t\t}\n\t#endif\n#endif",skinning_vertex:"#ifdef USE_SKINNING\n\tvec4 skinVertex = bindMatrix * vec4( transformed, 1.0 );\n\tvec4 skinned = vec4( 0.0 );\n\tskinned += boneMatX * skinVertex * skinWeight.x;\n\tskinned += boneMatY * skinVertex * skinWeight.y;\n\tskinned += boneMatZ * skinVertex * skinWeight.z;\n\tskinned += boneMatW * skinVertex * skinWeight.w;\n\ttransformed = ( bindMatrixInverse * skinned ).xyz;\n#endif",skinnormal_vertex:"#ifdef USE_SKINNING\n\tmat4 skinMatrix = mat4( 0.0 );\n\tskinMatrix += skinWeight.x * boneMatX;\n\tskinMatrix += skinWeight.y * boneMatY;\n\tskinMatrix += skinWeight.z * boneMatZ;\n\tskinMatrix += skinWeight.w * boneMatW;\n\tskinMatrix  = bindMatrixInverse * skinMatrix * bindMatrix;\n\tobjectNormal = vec4( skinMatrix * vec4( objectNormal, 0.0 ) ).xyz;\n#endif",specularmap_fragment:"float specularStrength;\n#ifdef USE_SPECULARMAP\n\tvec4 texelSpecular = texture2D( specularMap, vUv );\n\tspecularStrength = texelSpecular.r;\n#else\n\tspecularStrength = 1.0;\n#endif",specularmap_pars_fragment:"#ifdef USE_SPECULARMAP\n\tuniform sampler2D specularMap;\n#endif",tonemapping_fragment:"#if defined( TONE_MAPPING )\n  gl_FragColor.rgb = toneMapping( gl_FragColor.rgb );\n#endif",tonemapping_pars_fragment:"#ifndef saturate\n\t#define saturate(a) clamp( a, 0.0, 1.0 )\n#endif\nuniform float toneMappingExposure;\nuniform float toneMappingWhitePoint;\nvec3 LinearToneMapping( vec3 color ) {\n\treturn toneMappingExposure * color;\n}\nvec3 ReinhardToneMapping( vec3 color ) {\n\tcolor *= toneMappingExposure;\n\treturn saturate( color / ( vec3( 1.0 ) + color ) );\n}\n#define Uncharted2Helper( x ) max( ( ( x * ( 0.15 * x + 0.10 * 0.50 ) + 0.20 * 0.02 ) / ( x * ( 0.15 * x + 0.50 ) + 0.20 * 0.30 ) ) - 0.02 / 0.30, vec3( 0.0 ) )\nvec3 Uncharted2ToneMapping( vec3 color ) {\n\tcolor *= toneMappingExposure;\n\treturn saturate( Uncharted2Helper( color ) / Uncharted2Helper( vec3( toneMappingWhitePoint ) ) );\n}\nvec3 OptimizedCineonToneMapping( vec3 color ) {\n\tcolor *= toneMappingExposure;\n\tcolor = max( vec3( 0.0 ), color - 0.004 );\n\treturn pow( ( color * ( 6.2 * color + 0.5 ) ) / ( color * ( 6.2 * color + 1.7 ) + 0.06 ), vec3( 2.2 ) );\n}\nvec3 ACESFilmicToneMapping( vec3 color ) {\n\tcolor *= toneMappingExposure;\n\treturn saturate( ( color * ( 2.51 * color + 0.03 ) ) / ( color * ( 2.43 * color + 0.59 ) + 0.14 ) );\n}",uv_pars_fragment:"#if defined( USE_MAP ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( USE_SPECULARMAP ) || defined( USE_ALPHAMAP ) || defined( USE_EMISSIVEMAP ) || defined( USE_ROUGHNESSMAP ) || defined( USE_METALNESSMAP )\n\tvarying vec2 vUv;\n#endif",uv_pars_vertex:"#if defined( USE_MAP ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( USE_SPECULARMAP ) || defined( USE_ALPHAMAP ) || defined( USE_EMISSIVEMAP ) || defined( USE_ROUGHNESSMAP ) || defined( USE_METALNESSMAP )\n\tvarying vec2 vUv;\n\tuniform mat3 uvTransform;\n#endif",uv_vertex:"#if defined( USE_MAP ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( USE_SPECULARMAP ) || defined( USE_ALPHAMAP ) || defined( USE_EMISSIVEMAP ) || defined( USE_ROUGHNESSMAP ) || defined( USE_METALNESSMAP )\n\tvUv = ( uvTransform * vec3( uv, 1 ) ).xy;\n#endif",uv2_pars_fragment:"#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )\n\tvarying vec2 vUv2;\n#endif",uv2_pars_vertex:"#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )\n\tattribute vec2 uv2;\n\tvarying vec2 vUv2;\n#endif",uv2_vertex:"#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )\n\tvUv2 = uv2;\n#endif",worldpos_vertex:"#if defined( USE_ENVMAP ) || defined( DISTANCE ) || defined ( USE_SHADOWMAP )\n\tvec4 worldPosition = modelMatrix * vec4( transformed, 1.0 );\n#endif",background_frag:"uniform sampler2D t2D;\nvarying vec2 vUv;\nvoid main() {\n\tvec4 texColor = texture2D( t2D, vUv );\n\tgl_FragColor = mapTexelToLinear( texColor );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n}",background_vert:"varying vec2 vUv;\nuniform mat3 uvTransform;\nvoid main() {\n\tvUv = ( uvTransform * vec3( uv, 1 ) ).xy;\n\tgl_Position = vec4( position.xy, 1.0, 1.0 );\n}",cube_frag:"uniform samplerCube tCube;\nuniform float tFlip;\nuniform float opacity;\nvarying vec3 vWorldDirection;\nvoid main() {\n\tvec4 texColor = textureCube( tCube, vec3( tFlip * vWorldDirection.x, vWorldDirection.yz ) );\n\tgl_FragColor = mapTexelToLinear( texColor );\n\tgl_FragColor.a *= opacity;\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n}",cube_vert:"varying vec3 vWorldDirection;\n#include <common>\nvoid main() {\n\tvWorldDirection = transformDirection( position, modelMatrix );\n\t#include <begin_vertex>\n\t#include <project_vertex>\n\tgl_Position.z = gl_Position.w;\n}",depth_frag:"#if DEPTH_PACKING == 3200\n\tuniform float opacity;\n#endif\n#include <common>\n#include <packing>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( 1.0 );\n\t#if DEPTH_PACKING == 3200\n\t\tdiffuseColor.a = opacity;\n\t#endif\n\t#include <map_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <logdepthbuf_fragment>\n\t#if DEPTH_PACKING == 3200\n\t\tgl_FragColor = vec4( vec3( 1.0 - gl_FragCoord.z ), opacity );\n\t#elif DEPTH_PACKING == 3201\n\t\tgl_FragColor = packDepthToRGBA( gl_FragCoord.z );\n\t#endif\n}",depth_vert:"#include <common>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <skinbase_vertex>\n\t#ifdef USE_DISPLACEMENTMAP\n\t\t#include <beginnormal_vertex>\n\t\t#include <morphnormal_vertex>\n\t\t#include <skinnormal_vertex>\n\t#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n}",distanceRGBA_frag:"#define DISTANCE\nuniform vec3 referencePosition;\nuniform float nearDistance;\nuniform float farDistance;\nvarying vec3 vWorldPosition;\n#include <common>\n#include <packing>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main () {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( 1.0 );\n\t#include <map_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\tfloat dist = length( vWorldPosition - referencePosition );\n\tdist = ( dist - nearDistance ) / ( farDistance - nearDistance );\n\tdist = saturate( dist );\n\tgl_FragColor = packDepthToRGBA( dist );\n}",distanceRGBA_vert:"#define DISTANCE\nvarying vec3 vWorldPosition;\n#include <common>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <skinbase_vertex>\n\t#ifdef USE_DISPLACEMENTMAP\n\t\t#include <beginnormal_vertex>\n\t\t#include <morphnormal_vertex>\n\t\t#include <skinnormal_vertex>\n\t#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <worldpos_vertex>\n\t#include <clipping_planes_vertex>\n\tvWorldPosition = worldPosition.xyz;\n}",equirect_frag:"uniform sampler2D tEquirect;\nvarying vec3 vWorldDirection;\n#include <common>\nvoid main() {\n\tvec3 direction = normalize( vWorldDirection );\n\tvec2 sampleUV;\n\tsampleUV.y = asin( clamp( direction.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;\n\tsampleUV.x = atan( direction.z, direction.x ) * RECIPROCAL_PI2 + 0.5;\n\tvec4 texColor = texture2D( tEquirect, sampleUV );\n\tgl_FragColor = mapTexelToLinear( texColor );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n}",equirect_vert:"varying vec3 vWorldDirection;\n#include <common>\nvoid main() {\n\tvWorldDirection = transformDirection( position, modelMatrix );\n\t#include <begin_vertex>\n\t#include <project_vertex>\n}",linedashed_frag:"uniform vec3 diffuse;\nuniform float opacity;\nuniform float dashSize;\nuniform float totalSize;\nvarying float vLineDistance;\n#include <common>\n#include <color_pars_fragment>\n#include <fog_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tif ( mod( vLineDistance, totalSize ) > dashSize ) {\n\t\tdiscard;\n\t}\n\tvec3 outgoingLight = vec3( 0.0 );\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <color_fragment>\n\toutgoingLight = diffuseColor.rgb;\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <premultiplied_alpha_fragment>\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n}",linedashed_vert:"uniform float scale;\nattribute float lineDistance;\nvarying float vLineDistance;\n#include <common>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <color_vertex>\n\tvLineDistance = scale * lineDistance;\n\tvec4 mvPosition = modelViewMatrix * vec4( position, 1.0 );\n\tgl_Position = projectionMatrix * mvPosition;\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <fog_vertex>\n}",meshbasic_frag:"uniform vec3 diffuse;\nuniform float opacity;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\n#include <common>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <envmap_pars_fragment>\n#include <fog_pars_fragment>\n#include <specularmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <specularmap_fragment>\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\t#ifdef USE_LIGHTMAP\n\t\treflectedLight.indirectDiffuse += texture2D( lightMap, vUv2 ).xyz * lightMapIntensity;\n\t#else\n\t\treflectedLight.indirectDiffuse += vec3( 1.0 );\n\t#endif\n\t#include <aomap_fragment>\n\treflectedLight.indirectDiffuse *= diffuseColor.rgb;\n\tvec3 outgoingLight = reflectedLight.indirectDiffuse;\n\t#include <envmap_fragment>\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <premultiplied_alpha_fragment>\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n}",meshbasic_vert:"#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <envmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <uv2_vertex>\n\t#include <color_vertex>\n\t#include <skinbase_vertex>\n\t#ifdef USE_ENVMAP\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <worldpos_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <envmap_vertex>\n\t#include <fog_vertex>\n}",meshlambert_frag:"uniform vec3 diffuse;\nuniform vec3 emissive;\nuniform float opacity;\nvarying vec3 vLightFront;\n#ifdef DOUBLE_SIDED\n\tvarying vec3 vLightBack;\n#endif\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <envmap_pars_fragment>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <fog_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <shadowmask_pars_fragment>\n#include <specularmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <specularmap_fragment>\n\t#include <emissivemap_fragment>\n\treflectedLight.indirectDiffuse = getAmbientLightIrradiance( ambientLightColor );\n\t#include <lightmap_fragment>\n\treflectedLight.indirectDiffuse *= BRDF_Diffuse_Lambert( diffuseColor.rgb );\n\t#ifdef DOUBLE_SIDED\n\t\treflectedLight.directDiffuse = ( gl_FrontFacing ) ? vLightFront : vLightBack;\n\t#else\n\t\treflectedLight.directDiffuse = vLightFront;\n\t#endif\n\treflectedLight.directDiffuse *= BRDF_Diffuse_Lambert( diffuseColor.rgb ) * getShadowMask();\n\t#include <aomap_fragment>\n\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;\n\t#include <envmap_fragment>\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",meshlambert_vert:"#define LAMBERT\nvarying vec3 vLightFront;\n#ifdef DOUBLE_SIDED\n\tvarying vec3 vLightBack;\n#endif\n#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <envmap_pars_vertex>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <uv2_vertex>\n\t#include <color_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <worldpos_vertex>\n\t#include <envmap_vertex>\n\t#include <lights_lambert_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}",meshmatcap_frag:"#define MATCAP\nuniform vec3 diffuse;\nuniform float opacity;\nuniform sampler2D matcap;\nvarying vec3 vViewPosition;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\n#include <common>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <fog_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\tvec3 viewDir = normalize( vViewPosition );\n\tvec3 x = normalize( vec3( viewDir.z, 0.0, - viewDir.x ) );\n\tvec3 y = cross( viewDir, x );\n\tvec2 uv = vec2( dot( x, normal ), dot( y, normal ) ) * 0.495 + 0.5;\n\t#ifdef USE_MATCAP\n\t\tvec4 matcapColor = texture2D( matcap, uv );\n\t\tmatcapColor = matcapTexelToLinear( matcapColor );\n\t#else\n\t\tvec4 matcapColor = vec4( 1.0 );\n\t#endif\n\tvec3 outgoingLight = diffuseColor.rgb * matcapColor.rgb;\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <premultiplied_alpha_fragment>\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n}",meshmatcap_vert:"#define MATCAP\nvarying vec3 vViewPosition;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\n#include <common>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#ifndef FLAT_SHADED\n\t\tvNormal = normalize( transformedNormal );\n\t#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <fog_vertex>\n\tvViewPosition = - mvPosition.xyz;\n}",meshphong_frag:"#define PHONG\nuniform vec3 diffuse;\nuniform vec3 emissive;\nuniform vec3 specular;\nuniform float shininess;\nuniform float opacity;\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <envmap_pars_fragment>\n#include <gradientmap_pars_fragment>\n#include <fog_pars_fragment>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <lights_phong_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <specularmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <specularmap_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\t#include <emissivemap_fragment>\n\t#include <lights_phong_fragment>\n\t#include <lights_fragment_begin>\n\t#include <lights_fragment_maps>\n\t#include <lights_fragment_end>\n\t#include <aomap_fragment>\n\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;\n\t#include <envmap_fragment>\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",meshphong_vert:"#define PHONG\nvarying vec3 vViewPosition;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\n#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <envmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <uv2_vertex>\n\t#include <color_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n#ifndef FLAT_SHADED\n\tvNormal = normalize( transformedNormal );\n#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvViewPosition = - mvPosition.xyz;\n\t#include <worldpos_vertex>\n\t#include <envmap_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}",meshphysical_frag:"#define PHYSICAL\nuniform vec3 diffuse;\nuniform vec3 emissive;\nuniform float roughness;\nuniform float metalness;\nuniform float opacity;\n#ifndef STANDARD\n\tuniform float clearCoat;\n\tuniform float clearCoatRoughness;\n#endif\nvarying vec3 vViewPosition;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <bsdfs>\n#include <cube_uv_reflection_fragment>\n#include <envmap_pars_fragment>\n#include <envmap_physical_pars_fragment>\n#include <fog_pars_fragment>\n#include <lights_pars_begin>\n#include <lights_physical_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <roughnessmap_pars_fragment>\n#include <metalnessmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <roughnessmap_fragment>\n\t#include <metalnessmap_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\t#include <emissivemap_fragment>\n\t#include <lights_physical_fragment>\n\t#include <lights_fragment_begin>\n\t#include <lights_fragment_maps>\n\t#include <lights_fragment_end>\n\t#include <aomap_fragment>\n\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",meshphysical_vert:"#define PHYSICAL\nvarying vec3 vViewPosition;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\n#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <uv2_vertex>\n\t#include <color_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n#ifndef FLAT_SHADED\n\tvNormal = normalize( transformedNormal );\n#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvViewPosition = - mvPosition.xyz;\n\t#include <worldpos_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}",normal_frag:"#define NORMAL\nuniform float opacity;\n#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || ( defined( USE_NORMALMAP ) && ! defined( OBJECTSPACE_NORMALMAP ) )\n\tvarying vec3 vViewPosition;\n#endif\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\n#include <packing>\n#include <uv_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\nvoid main() {\n\t#include <logdepthbuf_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\tgl_FragColor = vec4( packNormalToRGB( normal ), opacity );\n}",normal_vert:"#define NORMAL\n#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || ( defined( USE_NORMALMAP ) && ! defined( OBJECTSPACE_NORMALMAP ) )\n\tvarying vec3 vViewPosition;\n#endif\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n#ifndef FLAT_SHADED\n\tvNormal = normalize( transformedNormal );\n#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || ( defined( USE_NORMALMAP ) && ! defined( OBJECTSPACE_NORMALMAP ) )\n\tvViewPosition = - mvPosition.xyz;\n#endif\n}",points_frag:"uniform vec3 diffuse;\nuniform float opacity;\n#include <common>\n#include <color_pars_fragment>\n#include <map_particle_pars_fragment>\n#include <fog_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec3 outgoingLight = vec3( 0.0 );\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <map_particle_fragment>\n\t#include <color_fragment>\n\t#include <alphatest_fragment>\n\toutgoingLight = diffuseColor.rgb;\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <premultiplied_alpha_fragment>\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n}",points_vert:"uniform float size;\nuniform float scale;\n#include <common>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <color_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <project_vertex>\n\tgl_PointSize = size;\n\t#ifdef USE_SIZEATTENUATION\n\t\tbool isPerspective = ( projectionMatrix[ 2 ][ 3 ] == - 1.0 );\n\t\tif ( isPerspective ) gl_PointSize *= ( scale / - mvPosition.z );\n\t#endif\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <worldpos_vertex>\n\t#include <fog_vertex>\n}",shadow_frag:"uniform vec3 color;\nuniform float opacity;\n#include <common>\n#include <packing>\n#include <fog_pars_fragment>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <shadowmap_pars_fragment>\n#include <shadowmask_pars_fragment>\nvoid main() {\n\tgl_FragColor = vec4( color, opacity * ( 1.0 - getShadowMask() ) );\n\t#include <fog_fragment>\n}",shadow_vert:"#include <fog_pars_vertex>\n#include <shadowmap_pars_vertex>\nvoid main() {\n\t#include <begin_vertex>\n\t#include <project_vertex>\n\t#include <worldpos_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}",sprite_frag:"uniform vec3 diffuse;\nuniform float opacity;\n#include <common>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <fog_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec3 outgoingLight = vec3( 0.0 );\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <alphatest_fragment>\n\toutgoingLight = diffuseColor.rgb;\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n}",sprite_vert:"uniform float rotation;\nuniform vec2 center;\n#include <common>\n#include <uv_pars_vertex>\n#include <fog_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\tvec4 mvPosition = modelViewMatrix * vec4( 0.0, 0.0, 0.0, 1.0 );\n\tvec2 scale;\n\tscale.x = length( vec3( modelMatrix[ 0 ].x, modelMatrix[ 0 ].y, modelMatrix[ 0 ].z ) );\n\tscale.y = length( vec3( modelMatrix[ 1 ].x, modelMatrix[ 1 ].y, modelMatrix[ 1 ].z ) );\n\t#ifndef USE_SIZEATTENUATION\n\t\tbool isPerspective = ( projectionMatrix[ 2 ][ 3 ] == - 1.0 );\n\t\tif ( isPerspective ) scale *= - mvPosition.z;\n\t#endif\n\tvec2 alignedPosition = ( position.xy - ( center - vec2( 0.5 ) ) ) * scale;\n\tvec2 rotatedPosition;\n\trotatedPosition.x = cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;\n\trotatedPosition.y = sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;\n\tmvPosition.xy += rotatedPosition;\n\tgl_Position = projectionMatrix * mvPosition;\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <fog_vertex>\n}"},Yu={clone:y,merge:x},Ju={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};Object.assign(b.prototype,{isColor:!0,r:1,g:1,b:1,set:function(e){return e&&e.isColor?this.copy(e):"number"==typeof e?this.setHex(e):"string"==typeof e&&this.setStyle(e),this},setScalar:function(e){return this.r=e,this.g=e,this.b=e,this},setHex:function(e){return e=sa(e),this.r=(255&e>>16)/255,this.g=(255&e>>8)/255,this.b=(255&e)/255,this},setRGB:function(e,t,n){return this.r=e,this.g=t,this.b=n,this},setHSL:function(){function e(e,t,n){return 0>n&&(n+=1),1<n&&(n-=1),n<1/6?e+6*(t-e)*n:n<.5?t:n<2/3?e+6*(t-e)*(2/3-n):e}return function(t,n,r){if(t=Hu.euclideanModulo(t,1),n=Hu.clamp(n,0,1),r=Hu.clamp(r,0,1),0===n)this.r=this.g=this.b=r;else{var i=.5>=r?r*(1+n):r+n-r*n,o=2*r-i;this.r=e(o,i,t+1/3),this.g=e(o,i,t),this.b=e(o,i,t-1/3)}return this}}(),setStyle:function(e){function t(t){void 0===t||1>parseFloat(t)&&console.warn("THREE.Color: Alpha component of "+e+" will be ignored.")}var n;if(n=/^((?:rgb|hsl)a?)\(\s*([^\)]*)\)/.exec(e)){var r,i=n[1],o=n[2];switch(i){case"rgb":case"rgba":if(r=/^(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(,\s*([0-9]*\.?[0-9]+)\s*)?$/.exec(o))return this.r=aa(255,parseInt(r[1],10))/255,this.g=aa(255,parseInt(r[2],10))/255,this.b=aa(255,parseInt(r[3],10))/255,t(r[5]),this;if(r=/^(\d+)\%\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(,\s*([0-9]*\.?[0-9]+)\s*)?$/.exec(o))return this.r=aa(100,parseInt(r[1],10))/100,this.g=aa(100,parseInt(r[2],10))/100,this.b=aa(100,parseInt(r[3],10))/100,t(r[5]),this;break;case"hsl":case"hsla":if(r=/^([0-9]*\.?[0-9]+)\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(,\s*([0-9]*\.?[0-9]+)\s*)?$/.exec(o)){var a=parseFloat(r[1])/360,s=parseInt(r[2],10)/100,u=parseInt(r[3],10)/100;return t(r[5]),this.setHSL(a,s,u)}}}else if(n=/^\#([A-Fa-f0-9]+)$/.exec(e)){var c,l=(c=n[1]).length;if(3===l)return this.r=parseInt(c.charAt(0)+c.charAt(0),16)/255,this.g=parseInt(c.charAt(1)+c.charAt(1),16)/255,this.b=parseInt(c.charAt(2)+c.charAt(2),16)/255,this;if(6===l)return this.r=parseInt(c.charAt(0)+c.charAt(1),16)/255,this.g=parseInt(c.charAt(2)+c.charAt(3),16)/255,this.b=parseInt(c.charAt(4)+c.charAt(5),16)/255,this}e&&0<e.length&&(void 0===(c=Ju[e])?console.warn("THREE.Color: Unknown color "+e):this.setHex(c));return this},clone:function(){return new this.constructor(this.r,this.g,this.b)},copy:function(e){return this.r=e.r,this.g=e.g,this.b=e.b,this},copyGammaToLinear:function(e,t){return void 0===t&&(t=2),this.r=Zo(e.r,t),this.g=Zo(e.g,t),this.b=Zo(e.b,t),this},copyLinearToGamma:function(e,t){void 0===t&&(t=2);var n=0<t?1/t:1;return this.r=Zo(e.r,n),this.g=Zo(e.g,n),this.b=Zo(e.b,n),this},convertGammaToLinear:function(e){return this.copyGammaToLinear(this,e),this},convertLinearToGamma:function(e){return this.copyLinearToGamma(this,e),this},copySRGBToLinear:function(){function e(e){return.04045>e?.0773993808*e:Zo(.9478672986*e+.0521327014,2.4)}return function(t){return this.r=e(t.r),this.g=e(t.g),this.b=e(t.b),this}}(),copyLinearToSRGB:function(){function e(e){return.0031308>e?12.92*e:1.055*Zo(e,.41666)-.055}return function(t){return this.r=e(t.r),this.g=e(t.g),this.b=e(t.b),this}}(),convertSRGBToLinear:function(){return this.copySRGBToLinear(this),this},convertLinearToSRGB:function(){return this.copyLinearToSRGB(this),this},getHex:function(){return 255*this.r<<16^255*this.g<<8^255*this.b<<0},getHexString:function(){return("000000"+this.getHex().toString(16)).slice(-6)},getHSL:function(e){void 0===e&&(console.warn("THREE.Color: .getHSL() target is now required"),e={h:0,s:0,l:0});var t,n,r=this.r,i=this.g,o=this.b,a=oa(r,i,o),s=aa(r,i,o),u=(s+a)/2;if(s===a)t=0,n=0;else{var c=a-s;n=.5>=u?c/(a+s):c/(2-a-s),a===r?t=(i-o)/c+(i<o?6:0):a===i?t=(o-r)/c+2:a===o&&(t=(r-i)/c+4),t/=6}return e.h=t,e.s=n,e.l=u,e},getStyle:function(){return"rgb("+(0|255*this.r)+","+(0|255*this.g)+","+(0|255*this.b)+")"},offsetHSL:function(){var e={};return function(t,n,r){return this.getHSL(e),e.h+=t,e.s+=n,e.l+=r,this.setHSL(e.h,e.s,e.l),this}}(),add:function(e){return this.r+=e.r,this.g+=e.g,this.b+=e.b,this},addColors:function(e,t){return this.r=e.r+t.r,this.g=e.g+t.g,this.b=e.b+t.b,this},addScalar:function(e){return this.r+=e,this.g+=e,this.b+=e,this},sub:function(e){return this.r=oa(0,this.r-e.r),this.g=oa(0,this.g-e.g),this.b=oa(0,this.b-e.b),this},multiply:function(e){return this.r*=e.r,this.g*=e.g,this.b*=e.b,this},multiplyScalar:function(e){return this.r*=e,this.g*=e,this.b*=e,this},lerp:function(e,t){return this.r+=(e.r-this.r)*t,this.g+=(e.g-this.g)*t,this.b+=(e.b-this.b)*t,this},lerpHSL:function(){var e={h:0,s:0,l:0},t={h:0,s:0,l:0};return function(n,r){this.getHSL(e),n.getHSL(t);var i=Hu.lerp(e.h,t.h,r),o=Hu.lerp(e.s,t.s,r),a=Hu.lerp(e.l,t.l,r);return this.setHSL(i,o,a),this}}(),equals:function(e){return e.r===this.r&&e.g===this.g&&e.b===this.b},fromArray:function(e,t){return void 0===t&&(t=0),this.r=e[t],this.g=e[t+1],this.b=e[t+2],this},toArray:function(e,t){return void 0===e&&(e=[]),void 0===t&&(t=0),e[t]=this.r,e[t+1]=this.g,e[t+2]=this.b,e},toJSON:function(){return this.getHex()}});var Zu={common:{diffuse:{value:new b(15658734)},opacity:{value:1},map:{value:null},uvTransform:{value:new u},alphaMap:{value:null}},specularmap:{specularMap:{value:null}},envmap:{envMap:{value:null},flipEnvMap:{value:-1},reflectivity:{value:1},refractionRatio:{value:.98},maxMipLevel:{value:0}},aomap:{aoMap:{value:null},aoMapIntensity:{value:1}},lightmap:{lightMap:{value:null},lightMapIntensity:{value:1}},emissivemap:{emissiveMap:{value:null}},bumpmap:{bumpMap:{value:null},bumpScale:{value:1}},normalmap:{normalMap:{value:null},normalScale:{value:new i(1,1)}},displacementmap:{displacementMap:{value:null},displacementScale:{value:1},displacementBias:{value:0}},roughnessmap:{roughnessMap:{value:null}},metalnessmap:{metalnessMap:{value:null}},gradientmap:{gradientMap:{value:null}},fog:{fogDensity:{value:25e-5},fogNear:{value:1},fogFar:{value:2e3},fogColor:{value:new b(16777215)}},lights:{ambientLightColor:{value:[]},directionalLights:{value:[],properties:{direction:{},color:{},shadow:{},shadowBias:{},shadowRadius:{},shadowMapSize:{}}},directionalShadowMap:{value:[]},directionalShadowMatrix:{value:[]},spotLights:{value:[],properties:{color:{},position:{},direction:{},distance:{},coneCos:{},penumbraCos:{},decay:{},shadow:{},shadowBias:{},shadowRadius:{},shadowMapSize:{}}},spotShadowMap:{value:[]},spotShadowMatrix:{value:[]},pointLights:{value:[],properties:{color:{},position:{},decay:{},distance:{},shadow:{},shadowBias:{},shadowRadius:{},shadowMapSize:{},shadowCameraNear:{},shadowCameraFar:{}}},pointShadowMap:{value:[]},pointShadowMatrix:{value:[]},hemisphereLights:{value:[],properties:{direction:{},skyColor:{},groundColor:{}}},rectAreaLights:{value:[],properties:{color:{},position:{},width:{},height:{}}}},points:{diffuse:{value:new b(15658734)},opacity:{value:1},size:{value:1},scale:{value:1},map:{value:null},uvTransform:{value:new u}},sprite:{diffuse:{value:new b(15658734)},opacity:{value:1},center:{value:new i(.5,.5)},rotation:{value:0},map:{value:null},uvTransform:{value:new u}}},Ku={basic:{uniforms:x([Zu.common,Zu.specularmap,Zu.envmap,Zu.aomap,Zu.lightmap,Zu.fog]),vertexShader:qu.meshbasic_vert,fragmentShader:qu.meshbasic_frag},lambert:{uniforms:x([Zu.common,Zu.specularmap,Zu.envmap,Zu.aomap,Zu.lightmap,Zu.emissivemap,Zu.fog,Zu.lights,{emissive:{value:new b(0)}}]),vertexShader:qu.meshlambert_vert,fragmentShader:qu.meshlambert_frag},phong:{uniforms:x([Zu.common,Zu.specularmap,Zu.envmap,Zu.aomap,Zu.lightmap,Zu.emissivemap,Zu.bumpmap,Zu.normalmap,Zu.displacementmap,Zu.gradientmap,Zu.fog,Zu.lights,{emissive:{value:new b(0)},specular:{value:new b(1118481)},shininess:{value:30}}]),vertexShader:qu.meshphong_vert,fragmentShader:qu.meshphong_frag},standard:{uniforms:x([Zu.common,Zu.envmap,Zu.aomap,Zu.lightmap,Zu.emissivemap,Zu.bumpmap,Zu.normalmap,Zu.displacementmap,Zu.roughnessmap,Zu.metalnessmap,Zu.fog,Zu.lights,{emissive:{value:new b(0)},roughness:{value:.5},metalness:{value:.5},envMapIntensity:{value:1}}]),vertexShader:qu.meshphysical_vert,fragmentShader:qu.meshphysical_frag},matcap:{uniforms:x([Zu.common,Zu.bumpmap,Zu.normalmap,Zu.displacementmap,Zu.fog,{matcap:{value:null}}]),vertexShader:qu.meshmatcap_vert,fragmentShader:qu.meshmatcap_frag},points:{uniforms:x([Zu.points,Zu.fog]),vertexShader:qu.points_vert,fragmentShader:qu.points_frag},dashed:{uniforms:x([Zu.common,Zu.fog,{scale:{value:1},dashSize:{value:1},totalSize:{value:2}}]),vertexShader:qu.linedashed_vert,fragmentShader:qu.linedashed_frag},depth:{uniforms:x([Zu.common,Zu.displacementmap]),vertexShader:qu.depth_vert,fragmentShader:qu.depth_frag},normal:{uniforms:x([Zu.common,Zu.bumpmap,Zu.normalmap,Zu.displacementmap,{opacity:{value:1}}]),vertexShader:qu.normal_vert,fragmentShader:qu.normal_frag},sprite:{uniforms:x([Zu.sprite,Zu.fog]),vertexShader:qu.sprite_vert,fragmentShader:qu.sprite_frag},background:{uniforms:{uvTransform:{value:new u},t2D:{value:null}},vertexShader:qu.background_vert,fragmentShader:qu.background_frag},cube:{uniforms:{tCube:{value:null},tFlip:{value:-1},opacity:{value:1}},vertexShader:qu.cube_vert,fragmentShader:qu.cube_frag},equirect:{uniforms:{tEquirect:{value:null}},vertexShader:qu.equirect_vert,fragmentShader:qu.equirect_frag},distanceRGBA:{uniforms:x([Zu.common,Zu.displacementmap,{referencePosition:{value:new s},nearDistance:{value:1},farDistance:{value:1e3}}]),vertexShader:qu.distanceRGBA_vert,fragmentShader:qu.distanceRGBA_frag},shadow:{uniforms:x([Zu.lights,Zu.fog,{color:{value:new b(0)},opacity:{value:1}}]),vertexShader:qu.shadow_vert,fragmentShader:qu.shadow_frag}};Ku.physical={uniforms:x([Ku.standard.uniforms,{clearCoat:{value:0},clearCoatRoughness:{value:0}}]),vertexShader:qu.meshphysical_vert,fragmentShader:qu.meshphysical_frag},Object.assign(E.prototype,{clone:function(){return(new this.constructor).copy(this)},copy:function(e){this.a=e.a,this.b=e.b,this.c=e.c,this.normal.copy(e.normal),this.color.copy(e.color),this.materialIndex=e.materialIndex;for(var t=0,n=e.vertexNormals.length;t<n;t++)this.vertexNormals[t]=e.vertexNormals[t].clone();for(t=0,n=e.vertexColors.length;t<n;t++)this.vertexColors[t]=e.vertexColors[t].clone();return this}}),S.RotationOrders=["XYZ","YZX","ZXY","XZY","YXZ","ZYX"],S.DefaultOrder="XYZ",Object.defineProperties(S.prototype,{x:{get:function(){return this._x},set:function(e){this._x=e,this.onChangeCallback()}},y:{get:function(){return this._y},set:function(e){this._y=e,this.onChangeCallback()}},z:{get:function(){return this._z},set:function(e){this._z=e,this.onChangeCallback()}},order:{get:function(){return this._order},set:function(e){this._order=e,this.onChangeCallback()}}}),Object.assign(S.prototype,{isEuler:!0,set:function(e,t,n,r){return this._x=e,this._y=t,this._z=n,this._order=r||this._order,this.onChangeCallback(),this},clone:function(){return new this.constructor(this._x,this._y,this._z,this._order)},copy:function(e){return this._x=e._x,this._y=e._y,this._z=e._z,this._order=e._order,this.onChangeCallback(),this},setFromRotationMatrix:function(e,t,n){var r=Hu.clamp,i=e.elements,o=i[0],a=i[4],s=i[8],u=i[1],c=i[5],l=i[9],h=i[2],p=i[6],f=i[10];return"XYZ"===(t=t||this._order)?(this._y=Ho(r(s,-1,1)),.99999>Yo(s)?(this._x=qo(-l,f),this._z=qo(-a,o)):(this._x=qo(p,c),this._z=0)):"YXZ"===t?(this._x=Ho(-r(l,-1,1)),.99999>Yo(l)?(this._y=qo(s,f),this._z=qo(u,c)):(this._y=qo(-h,o),this._z=0)):"ZXY"===t?(this._x=Ho(r(p,-1,1)),.99999>Yo(p)?(this._y=qo(-h,f),this._z=qo(-a,c)):(this._y=0,this._z=qo(u,o))):"ZYX"===t?(this._y=Ho(-r(h,-1,1)),.99999>Yo(h)?(this._x=qo(p,f),this._z=qo(u,o)):(this._x=0,this._z=qo(-a,c))):"YZX"===t?(this._z=Ho(r(u,-1,1)),.99999>Yo(u)?(this._x=qo(-l,c),this._y=qo(-h,o)):(this._x=0,this._y=qo(s,f))):"XZY"===t?(this._z=Ho(-r(a,-1,1)),.99999>Yo(a)?(this._x=qo(p,c),this._y=qo(s,o)):(this._x=qo(-l,f),this._y=0)):console.warn("THREE.Euler: .setFromRotationMatrix() given unsupported order: "+t),this._order=t,!1!==n&&this.onChangeCallback(),this},setFromQuaternion:function(){var e=new o;return function(t,n,r){return e.makeRotationFromQuaternion(t),this.setFromRotationMatrix(e,n,r)}}(),setFromVector3:function(e,t){return this.set(e.x,e.y,e.z,t||this._order)},reorder:function(){var e=new a;return function(t){return e.setFromEuler(this),this.setFromQuaternion(e,t)}}(),equals:function(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._order===this._order},fromArray:function(e){return this._x=e[0],this._y=e[1],this._z=e[2],void 0!==e[3]&&(this._order=e[3]),this.onChangeCallback(),this},toArray:function(e,t){return void 0===e&&(e=[]),void 0===t&&(t=0),e[t]=this._x,e[t+1]=this._y,e[t+2]=this._z,e[t+3]=this._order,e},toVector3:function(e){return e?e.set(this._x,this._y,this._z):new s(this._x,this._y,this._z)},onChange:function(e){return this.onChangeCallback=e,this},onChangeCallback:function(){}}),Object.assign(T.prototype,{set:function(e){this.mask=0|1<<e},enable:function(e){this.mask|=0|1<<e},toggle:function(e){this.mask^=0|1<<e},disable:function(e){this.mask&=~(0|1<<e)},test:function(e){return 0!=(this.mask&e.mask)}});var $u=0;A.DefaultUp=new s(0,1,0),A.DefaultMatrixAutoUpdate=!0,A.prototype=Object.assign(Object.create(r.prototype),{constructor:A,isObject3D:!0,onBeforeRender:function(){},onAfterRender:function(){},applyMatrix:function(e){this.matrix.multiplyMatrices(e,this.matrix),this.matrix.decompose(this.position,this.quaternion,this.scale)},applyQuaternion:function(e){return this.quaternion.premultiply(e),this},setRotationFromAxisAngle:function(e,t){this.quaternion.setFromAxisAngle(e,t)},setRotationFromEuler:function(e){this.quaternion.setFromEuler(e,!0)},setRotationFromMatrix:function(e){this.quaternion.setFromRotationMatrix(e)},setRotationFromQuaternion:function(e){this.quaternion.copy(e)},rotateOnAxis:function(){var e=new a;return function(t,n){return e.setFromAxisAngle(t,n),this.quaternion.multiply(e),this}}(),rotateOnWorldAxis:function(){var e=new a;return function(t,n){return e.setFromAxisAngle(t,n),this.quaternion.premultiply(e),this}}(),rotateX:function(){var e=new s(1,0,0);return function(t){return this.rotateOnAxis(e,t)}}(),rotateY:function(){var e=new s(0,1,0);return function(t){return this.rotateOnAxis(e,t)}}(),rotateZ:function(){var e=new s(0,0,1);return function(t){return this.rotateOnAxis(e,t)}}(),translateOnAxis:function(){var e=new s;return function(t,n){return e.copy(t).applyQuaternion(this.quaternion),this.position.add(e.multiplyScalar(n)),this}}(),translateX:function(){var e=new s(1,0,0);return function(t){return this.translateOnAxis(e,t)}}(),translateY:function(){var e=new s(0,1,0);return function(t){return this.translateOnAxis(e,t)}}(),translateZ:function(){var e=new s(0,0,1);return function(t){return this.translateOnAxis(e,t)}}(),localToWorld:function(e){return e.applyMatrix4(this.matrixWorld)},worldToLocal:function(){var e=new o;return function(t){return t.applyMatrix4(e.getInverse(this.matrixWorld))}}(),lookAt:function(){var e=new a,t=new o,n=new s,r=new s;return function(i,o,a){i.isVector3?n.copy(i):n.set(i,o,a);var s=this.parent;this.updateWorldMatrix(!0,!1),r.setFromMatrixPosition(this.matrixWorld),this.isCamera||this.isLight?t.lookAt(r,n,this.up):t.lookAt(n,r,this.up),this.quaternion.setFromRotationMatrix(t),s&&(t.extractRotation(s.matrixWorld),e.setFromRotationMatrix(t),this.quaternion.premultiply(e.inverse()))}}(),add:function(e){if(1<arguments.length){for(var t=0;t<arguments.length;t++)this.add(arguments[t]);return this}return e===this?(console.error("THREE.Object3D.add: object can't be added as a child of itself.",e),this):(e&&e.isObject3D?(null!==e.parent&&e.parent.remove(e),e.parent=this,e.dispatchEvent({type:"added"}),this.children.push(e)):console.error("THREE.Object3D.add: object not an instance of THREE.Object3D.",e),this)},remove:function(e){if(1<arguments.length){for(var t=0;t<arguments.length;t++)this.remove(arguments[t]);return this}var n=this.children.indexOf(e);return-1!==n&&(e.parent=null,e.dispatchEvent({type:"removed"}),this.children.splice(n,1)),this},getObjectById:function(e){return this.getObjectByProperty("id",e)},getObjectByName:function(e){return this.getObjectByProperty("name",e)},getObjectByProperty:function(e,t){if(this[e]===t)return this;for(var n=0,r=this.children.length;n<r;n++){var i=this.children[n].getObjectByProperty(e,t);if(void 0!==i)return i}},getWorldPosition:function(e){return void 0===e&&(console.warn("THREE.Object3D: .getWorldPosition() target is now required"),e=new s),this.updateMatrixWorld(!0),e.setFromMatrixPosition(this.matrixWorld)},getWorldQuaternion:function(){var e=new s,t=new s;return function(n){return void 0===n&&(console.warn("THREE.Object3D: .getWorldQuaternion() target is now required"),n=new a),this.updateMatrixWorld(!0),this.matrixWorld.decompose(e,n,t),n}}(),getWorldScale:function(){var e=new s,t=new a;return function(n){return void 0===n&&(console.warn("THREE.Object3D: .getWorldScale() target is now required"),n=new s),this.updateMatrixWorld(!0),this.matrixWorld.decompose(e,t,n),n}}(),getWorldDirection:function(e){void 0===e&&(console.warn("THREE.Object3D: .getWorldDirection() target is now required"),e=new s),this.updateMatrixWorld(!0);var t=this.matrixWorld.elements;return e.set(t[8],t[9],t[10]).normalize()},raycast:function(){},traverse:function(e){e(this);for(var t=this.children,n=0,r=t.length;n<r;n++)t[n].traverse(e)},traverseVisible:function(e){if(!1!==this.visible){e(this);for(var t=this.children,n=0,r=t.length;n<r;n++)t[n].traverseVisible(e)}},traverseAncestors:function(e){var t=this.parent;null!==t&&(e(t),t.traverseAncestors(e))},updateMatrix:function(){this.matrix.compose(this.position,this.quaternion,this.scale),this.matrixWorldNeedsUpdate=!0},updateMatrixWorld:function(e){this.matrixAutoUpdate&&this.updateMatrix(),(this.matrixWorldNeedsUpdate||e)&&(null===this.parent?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),this.matrixWorldNeedsUpdate=!1,e=!0);for(var t=this.children,n=0,r=t.length;n<r;n++)t[n].updateMatrixWorld(e)},updateWorldMatrix:function(e,t){var n=this.parent;if(!0===e&&null!==n&&n.updateWorldMatrix(!0,!1),this.matrixAutoUpdate&&this.updateMatrix(),null===this.parent?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),!0===t)for(var r=this.children,i=0,o=r.length;i<o;i++)r[i].updateWorldMatrix(!1,!0)},toJSON:function(e){function t(t,n){return void 0===t[n.uuid]&&(t[n.uuid]=n.toJSON(e)),n.uuid}function n(e){var t=[];for(var n in e){var r=e[n];delete r.metadata,t.push(r)}return t}var r=void 0===e||"string"==typeof e,i={};r&&(e={geometries:{},materials:{},textures:{},images:{},shapes:{}},i.metadata={version:4.5,type:"Object",generator:"Object3D.toJSON"});var o={};if(o.uuid=this.uuid,o.type=this.type,""!==this.name&&(o.name=this.name),!0===this.castShadow&&(o.castShadow=!0),!0===this.receiveShadow&&(o.receiveShadow=!0),!1===this.visible&&(o.visible=!1),!1===this.frustumCulled&&(o.frustumCulled=!1),0!==this.renderOrder&&(o.renderOrder=this.renderOrder),"{}"!==JSON.stringify(this.userData)&&(o.userData=this.userData),o.layers=this.layers.mask,o.matrix=this.matrix.toArray(),!1===this.matrixAutoUpdate&&(o.matrixAutoUpdate=!1),this.isMesh||this.isLine||this.isPoints){o.geometry=t(e.geometries,this.geometry);var a=this.geometry.parameters;if(void 0!==a&&void 0!==a.shapes){var s=a.shapes;if(Array.isArray(s))for(var u,c=0,l=s.length;c<l;c++)u=s[c],t(e.shapes,u);else t(e.shapes,s)}}if(void 0!==this.material)if(Array.isArray(this.material)){var h=[];for(c=0,l=this.material.length;c<l;c++)h.push(t(e.materials,this.material[c]));o.material=h}else o.material=t(e.materials,this.material);if(0<this.children.length){o.children=[];for(c=0;c<this.children.length;c++)o.children.push(this.children[c].toJSON(e).object)}if(r){var p=n(e.geometries),f=n(e.materials),d=n(e.textures),m=n(e.images);s=n(e.shapes);0<p.length&&(i.geometries=p),0<f.length&&(i.materials=f),0<d.length&&(i.textures=d),0<m.length&&(i.images=m),0<s.length&&(i.shapes=s)}return i.object=o,i},clone:function(e){return(new this.constructor).copy(this,e)},copy:function(e,t){if(void 0===t&&(t=!0),this.name=e.name,this.up.copy(e.up),this.position.copy(e.position),this.quaternion.copy(e.quaternion),this.scale.copy(e.scale),this.matrix.copy(e.matrix),this.matrixWorld.copy(e.matrixWorld),this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrixWorldNeedsUpdate=e.matrixWorldNeedsUpdate,this.layers.mask=e.layers.mask,this.visible=e.visible,this.castShadow=e.castShadow,this.receiveShadow=e.receiveShadow,this.frustumCulled=e.frustumCulled,this.renderOrder=e.renderOrder,this.userData=JSON.parse(JSON.stringify(e.userData)),!0===t)for(var n,r=0;r<e.children.length;r++)n=e.children[r],this.add(n.clone());return this}});var Qu=0;M.prototype=Object.assign(Object.create(r.prototype),{constructor:M,isGeometry:!0,applyMatrix:function(e){for(var t=(new u).getNormalMatrix(e),n=0,r=this.vertices.length;n<r;n++)this.vertices[n].applyMatrix4(e);var i;for(n=0,r=this.faces.length;n<r;n++){(i=this.faces[n]).normal.applyMatrix3(t).normalize();for(var o=0,a=i.vertexNormals.length;o<a;o++)i.vertexNormals[o].applyMatrix3(t).normalize()}return null!==this.boundingBox&&this.computeBoundingBox(),null!==this.boundingSphere&&this.computeBoundingSphere(),this.verticesNeedUpdate=!0,this.normalsNeedUpdate=!0,this},rotateX:function(){var e=new o;return function(t){return e.makeRotationX(t),this.applyMatrix(e),this}}(),rotateY:function(){var e=new o;return function(t){return e.makeRotationY(t),this.applyMatrix(e),this}}(),rotateZ:function(){var e=new o;return function(t){return e.makeRotationZ(t),this.applyMatrix(e),this}}(),translate:function(){var e=new o;return function(t,n,r){return e.makeTranslation(t,n,r),this.applyMatrix(e),this}}(),scale:function(){var e=new o;return function(t,n,r){return e.makeScale(t,n,r),this.applyMatrix(e),this}}(),lookAt:function(){var e=new A;return function(t){e.lookAt(t),e.updateMatrix(),this.applyMatrix(e.matrix)}}(),fromBufferGeometry:function(e){function t(e,t,r,o){var a=void 0===c?[]:[n.colors[e].clone(),n.colors[t].clone(),n.colors[r].clone()],p=new E(e,t,r,void 0===u?[]:[(new s).fromArray(u,3*e),(new s).fromArray(u,3*t),(new s).fromArray(u,3*r)],a,o);n.faces.push(p),void 0!==l&&n.faceVertexUvs[0].push([(new i).fromArray(l,2*e),(new i).fromArray(l,2*t),(new i).fromArray(l,2*r)]),void 0!==h&&n.faceVertexUvs[1].push([(new i).fromArray(h,2*e),(new i).fromArray(h,2*t),(new i).fromArray(h,2*r)])}var n=this,r=null===e.index?void 0:e.index.array,o=e.attributes,a=o.position.array,u=void 0===o.normal?void 0:o.normal.array,c=void 0===o.color?void 0:o.color.array,l=void 0===o.uv?void 0:o.uv.array,h=void 0===o.uv2?void 0:o.uv2.array;void 0!==h&&(this.faceVertexUvs[1]=[]);for(var p=0,f=0;p<a.length;p+=3,f+=2)n.vertices.push((new s).fromArray(a,p)),void 0!==c&&n.colors.push((new b).fromArray(c,p));var d=e.groups;if(0<d.length)for(p=0;p<d.length;p++){var m=d[p],g=m.start,v=m.count;for(f=g;f<g+v;f+=3)void 0===r?t(f,f+1,f+2,m.materialIndex):t(r[f],r[f+1],r[f+2],m.materialIndex)}else if(void 0!==r)for(p=0;p<r.length;p+=3)t(r[p],r[p+1],r[p+2]);else for(p=0;p<a.length/3;p+=3)t(p,p+1,p+2);return this.computeFaceNormals(),null!==e.boundingBox&&(this.boundingBox=e.boundingBox.clone()),null!==e.boundingSphere&&(this.boundingSphere=e.boundingSphere.clone()),this},center:function(){var e=new s;return function(){return this.computeBoundingBox(),this.boundingBox.getCenter(e).negate(),this.translate(e.x,e.y,e.z),this}}(),normalize:function(){this.computeBoundingSphere();var e=this.boundingSphere.center,t=this.boundingSphere.radius,n=0===t?1:1/t,r=new o;return r.set(n,0,0,-n*e.x,0,n,0,-n*e.y,0,0,n,-n*e.z,0,0,0,1),this.applyMatrix(r),this},computeFaceNormals:function(){for(var e=new s,t=new s,n=0,r=this.faces.length;n<r;n++){var i=this.faces[n],o=this.vertices[i.a],a=this.vertices[i.b],u=this.vertices[i.c];e.subVectors(u,a),t.subVectors(o,a),e.cross(t),e.normalize(),i.normal.copy(e)}},computeVertexNormals:function(e){var t,n,r,i,o,a;for(void 0===e&&(e=!0),a=Array(this.vertices.length),t=0,n=this.vertices.length;t<n;t++)a[t]=new s;if(e){var u,c,l,h=new s,p=new s;for(r=0,i=this.faces.length;r<i;r++)o=this.faces[r],u=this.vertices[o.a],c=this.vertices[o.b],l=this.vertices[o.c],h.subVectors(l,c),p.subVectors(u,c),h.cross(p),a[o.a].add(h),a[o.b].add(h),a[o.c].add(h)}else for(this.computeFaceNormals(),r=0,i=this.faces.length;r<i;r++)a[(o=this.faces[r]).a].add(o.normal),a[o.b].add(o.normal),a[o.c].add(o.normal);for(t=0,n=this.vertices.length;t<n;t++)a[t].normalize();for(r=0,i=this.faces.length;r<i;r++){var f=(o=this.faces[r]).vertexNormals;3===f.length?(f[0].copy(a[o.a]),f[1].copy(a[o.b]),f[2].copy(a[o.c])):(f[0]=a[o.a].clone(),f[1]=a[o.b].clone(),f[2]=a[o.c].clone())}0<this.faces.length&&(this.normalsNeedUpdate=!0)},computeFlatVertexNormals:function(){var e,t,n;for(this.computeFaceNormals(),e=0,t=this.faces.length;e<t;e++){var r=(n=this.faces[e]).vertexNormals;3===r.length?(r[0].copy(n.normal),r[1].copy(n.normal),r[2].copy(n.normal)):(r[0]=n.normal.clone(),r[1]=n.normal.clone(),r[2]=n.normal.clone())}0<this.faces.length&&(this.normalsNeedUpdate=!0)},computeMorphNormals:function(){var e,t,n,r,i;for(n=0,r=this.faces.length;n<r;n++)for((i=this.faces[n]).__originalFaceNormal?i.__originalFaceNormal.copy(i.normal):i.__originalFaceNormal=i.normal.clone(),i.__originalVertexNormals||(i.__originalVertexNormals=[]),e=0,t=i.vertexNormals.length;e<t;e++)i.__originalVertexNormals[e]?i.__originalVertexNormals[e].copy(i.vertexNormals[e]):i.__originalVertexNormals[e]=i.vertexNormals[e].clone();var o=new M;for(o.faces=this.faces,e=0,t=this.morphTargets.length;e<t;e++){if(!this.morphNormals[e]){this.morphNormals[e]={},this.morphNormals[e].faceNormals=[],this.morphNormals[e].vertexNormals=[];var a=this.morphNormals[e].faceNormals,u=this.morphNormals[e].vertexNormals;for(n=0,r=this.faces.length;n<r;n++)c=new s,l={a:new s,b:new s,c:new s},a.push(c),u.push(l)}var c,l,h=this.morphNormals[e];for(o.vertices=this.morphTargets[e].vertices,o.computeFaceNormals(),o.computeVertexNormals(),n=0,r=this.faces.length;n<r;n++)i=this.faces[n],c=h.faceNormals[n],l=h.vertexNormals[n],c.copy(i.normal),l.a.copy(i.vertexNormals[0]),l.b.copy(i.vertexNormals[1]),l.c.copy(i.vertexNormals[2])}for(n=0,r=this.faces.length;n<r;n++)(i=this.faces[n]).normal=i.__originalFaceNormal,i.vertexNormals=i.__originalVertexNormals},computeBoundingBox:function(){null===this.boundingBox&&(this.boundingBox=new d),this.boundingBox.setFromPoints(this.vertices)},computeBoundingSphere:function(){null===this.boundingSphere&&(this.boundingSphere=new m),this.boundingSphere.setFromPoints(this.vertices)},merge:function(e,t,n){if(e&&e.isGeometry){var r,i=this.vertices.length,o=this.vertices,a=e.vertices,s=this.faces,c=e.faces,l=this.faceVertexUvs[0],h=e.faceVertexUvs[0],p=this.colors,f=e.colors;void 0===n&&(n=0),void 0!==t&&(r=(new u).getNormalMatrix(t));for(var d=0,m=a.length;d<m;d++){var g=a[d].clone();void 0!==t&&g.applyMatrix4(t),o.push(g)}for(d=0,m=f.length;d<m;d++)p.push(f[d].clone());for(d=0,m=c.length;d<m;d++){var v,y,x,b=c[d],w=b.vertexNormals,_=b.vertexColors;(v=new E(b.a+i,b.b+i,b.c+i)).normal.copy(b.normal),void 0!==r&&v.normal.applyMatrix3(r).normalize();for(var S=0,T=w.length;S<T;S++)y=w[S].clone(),void 0!==r&&y.applyMatrix3(r).normalize(),v.vertexNormals.push(y);v.color.copy(b.color);for(S=0,T=_.length;S<T;S++)x=_[S],v.vertexColors.push(x.clone());v.materialIndex=b.materialIndex+n,s.push(v)}for(d=0,m=h.length;d<m;d++){var A=h[d],M=[];if(void 0!==A){for(S=0,T=A.length;S<T;S++)M.push(A[S].clone());l.push(M)}}}else console.error("THREE.Geometry.merge(): geometry not an instance of THREE.Geometry.",e)},mergeMesh:function(e){return e&&e.isMesh?(e.matrixAutoUpdate&&e.updateMatrix(),void this.merge(e.geometry,e.matrix)):void console.error("THREE.Geometry.mergeMesh(): mesh not an instance of THREE.Mesh.",e)},mergeVertices:function(){var e,t,n,r,i,o,a,s,u={},c=[],l=[];for(n=0,r=this.vertices.length;n<r;n++)e=this.vertices[n],void 0===u[t=Ko(1e4*e.x)+"_"+Ko(1e4*e.y)+"_"+Ko(1e4*e.z)]?(u[t]=n,c.push(this.vertices[n]),l[n]=c.length-1):l[n]=l[u[t]];var h=[];for(n=0,r=this.faces.length;n<r;n++){(i=this.faces[n]).a=l[i.a],i.b=l[i.b],i.c=l[i.c],o=[i.a,i.b,i.c];for(var p=0;3>p;p++)if(o[p]===o[(p+1)%3]){h.push(n);break}}for(n=h.length-1;0<=n;n--){var f=h[n];for(this.faces.splice(f,1),a=0,s=this.faceVertexUvs.length;a<s;a++)this.faceVertexUvs[a].splice(f,1)}var d=this.vertices.length-c.length;return this.vertices=c,d},setFromPoints:function(e){this.vertices=[];for(var t,n=0,r=e.length;n<r;n++)t=e[n],this.vertices.push(new s(t.x,t.y,t.z||0));return this},sortFacesByMaterialIndex:function(){for(var e=this.faces,t=e.length,n=0;n<t;n++)e[n]._id=n;e.sort(function(e,t){return e.materialIndex-t.materialIndex});var r,i,o=this.faceVertexUvs[0],a=this.faceVertexUvs[1];o&&o.length===t&&(r=[]),a&&a.length===t&&(i=[]);var s;for(n=0;n<t;n++)s=e[n]._id,r&&r.push(o[s]),i&&i.push(a[s]);r&&(this.faceVertexUvs[0]=r),i&&(this.faceVertexUvs[1]=i)},toJSON:function(){function e(e,t,n){return n?e|1<<t:e&~(1<<t)}function t(e){var t=e.x.toString()+e.y.toString()+e.z.toString();return void 0===p[t]?(p[t]=h.length/3,h.push(e.x,e.y,e.z),p[t]):p[t]}function n(e){var t=e.r.toString()+e.g.toString()+e.b.toString();return void 0===d[t]?(d[t]=f.length,f.push(e.getHex()),d[t]):d[t]}function r(e){var t=e.x.toString()+e.y.toString();return void 0===g[t]?(g[t]=m.length/2,m.push(e.x,e.y),g[t]):g[t]}var i={metadata:{version:4.5,type:"Geometry",generator:"Geometry.toJSON"}};if(i.uuid=this.uuid,i.type=this.type,""!==this.name&&(i.name=this.name),void 0!==this.parameters){var o=this.parameters;for(var a in o)void 0!==o[a]&&(i[a]=o[a]);return i}for(var s,u=[],c=0;c<this.vertices.length;c++)s=this.vertices[c],u.push(s.x,s.y,s.z);var l=[],h=[],p={},f=[],d={},m=[],g={};for(c=0;c<this.faces.length;c++){var v=this.faces[c],y=void 0!==this.faceVertexUvs[0][c],x=0<v.normal.length(),b=0<v.vertexNormals.length,w=1!==v.color.r||1!==v.color.g||1!==v.color.b,_=0<v.vertexColors.length,E=0;if(E=e(E,0,0),E=e(E,1,!0),E=e(E,2,!1),E=e(E,3,y),E=e(E,4,x),E=e(E,5,b),E=e(E,6,w),E=e(E,7,_),l.push(E),l.push(v.a,v.b,v.c),l.push(v.materialIndex),y){var S=this.faceVertexUvs[0][c];l.push(r(S[0]),r(S[1]),r(S[2]))}if(x&&l.push(t(v.normal)),b){var T=v.vertexNormals;l.push(t(T[0]),t(T[1]),t(T[2]))}if(w&&l.push(n(v.color)),_){var A=v.vertexColors;l.push(n(A[0]),n(A[1]),n(A[2]))}}return i.data={},i.data.vertices=u,i.data.normals=h,0<f.length&&(i.data.colors=f),0<m.length&&(i.data.uvs=[m]),i.data.faces=l,i},clone:function(){return(new M).copy(this)},copy:function(e){var t,n,r,i,o,a;this.vertices=[],this.colors=[],this.faces=[],this.faceVertexUvs=[[]],this.morphTargets=[],this.morphNormals=[],this.skinWeights=[],this.skinIndices=[],this.lineDistances=[],this.boundingBox=null,this.boundingSphere=null,this.name=e.name;var s=e.vertices;for(t=0,n=s.length;t<n;t++)this.vertices.push(s[t].clone());var u=e.colors;for(t=0,n=u.length;t<n;t++)this.colors.push(u[t].clone());var c=e.faces;for(t=0,n=c.length;t<n;t++)this.faces.push(c[t].clone());for(t=0,n=e.faceVertexUvs.length;t<n;t++){var l=e.faceVertexUvs[t];for(void 0===this.faceVertexUvs[t]&&(this.faceVertexUvs[t]=[]),r=0,i=l.length;r<i;r++){var h=l[r],p=[];for(o=0,a=h.length;o<a;o++){var f=h[o];p.push(f.clone())}this.faceVertexUvs[t].push(p)}}var d=e.morphTargets;for(t=0,n=d.length;t<n;t++){var m={name:d[t].name};if(void 0!==d[t].vertices)for(m.vertices=[],r=0,i=d[t].vertices.length;r<i;r++)m.vertices.push(d[t].vertices[r].clone());if(void 0!==d[t].normals)for(m.normals=[],r=0,i=d[t].normals.length;r<i;r++)m.normals.push(d[t].normals[r].clone());this.morphTargets.push(m)}var g=e.morphNormals;for(t=0,n=g.length;t<n;t++){var v={};if(void 0!==g[t].vertexNormals)for(v.vertexNormals=[],r=0,i=g[t].vertexNormals.length;r<i;r++){var y=g[t].vertexNormals[r],x={};x.a=y.a.clone(),x.b=y.b.clone(),x.c=y.c.clone(),v.vertexNormals.push(x)}if(void 0!==g[t].faceNormals)for(v.faceNormals=[],r=0,i=g[t].faceNormals.length;r<i;r++)v.faceNormals.push(g[t].faceNormals[r].clone());this.morphNormals.push(v)}var b=e.skinWeights;for(t=0,n=b.length;t<n;t++)this.skinWeights.push(b[t].clone());var w=e.skinIndices;for(t=0,n=w.length;t<n;t++)this.skinIndices.push(w[t].clone());var _=e.lineDistances;for(t=0,n=_.length;t<n;t++)this.lineDistances.push(_[t]);var E=e.boundingBox;null!==E&&(this.boundingBox=E.clone());var S=e.boundingSphere;return null!==S&&(this.boundingSphere=S.clone()),this.elementsNeedUpdate=e.elementsNeedUpdate,this.verticesNeedUpdate=e.verticesNeedUpdate,this.uvsNeedUpdate=e.uvsNeedUpdate,this.normalsNeedUpdate=e.normalsNeedUpdate,this.colorsNeedUpdate=e.colorsNeedUpdate,this.lineDistancesNeedUpdate=e.lineDistancesNeedUpdate,this.groupsNeedUpdate=e.groupsNeedUpdate,this},dispose:function(){this.dispatchEvent({type:"dispose"})}}),Object.defineProperty(C.prototype,"needsUpdate",{set:function(e){!0===e&&this.version++}}),Object.assign(C.prototype,{isBufferAttribute:!0,onUploadCallback:function(){},setArray:function(e){if(Array.isArray(e))throw new TypeError("THREE.BufferAttribute: array should be a Typed Array.");return this.count=void 0===e?0:e.length/this.itemSize,this.array=e,this},setDynamic:function(e){return this.dynamic=e,this},copy:function(e){return this.name=e.name,this.array=new e.array.constructor(e.array),this.itemSize=e.itemSize,this.count=e.count,this.normalized=e.normalized,this.dynamic=e.dynamic,this},copyAt:function(e,t,n){e*=this.itemSize,n*=t.itemSize;for(var r=0,i=this.itemSize;r<i;r++)this.array[e+r]=t.array[n+r];return this},copyArray:function(e){return this.array.set(e),this},copyColorsArray:function(e){for(var t,n=this.array,r=0,i=0,o=e.length;i<o;i++)void 0===(t=e[i])&&(console.warn("THREE.BufferAttribute.copyColorsArray(): color is undefined",i),t=new b),n[r++]=t.r,n[r++]=t.g,n[r++]=t.b;return this},copyVector2sArray:function(e){for(var t,n=this.array,r=0,o=0,a=e.length;o<a;o++)void 0===(t=e[o])&&(console.warn("THREE.BufferAttribute.copyVector2sArray(): vector is undefined",o),t=new i),n[r++]=t.x,n[r++]=t.y;return this},copyVector3sArray:function(e){for(var t,n=this.array,r=0,i=0,o=e.length;i<o;i++)void 0===(t=e[i])&&(console.warn("THREE.BufferAttribute.copyVector3sArray(): vector is undefined",i),t=new s),n[r++]=t.x,n[r++]=t.y,n[r++]=t.z;return this},copyVector4sArray:function(e){for(var t,n=this.array,r=0,i=0,o=e.length;i<o;i++)void 0===(t=e[i])&&(console.warn("THREE.BufferAttribute.copyVector4sArray(): vector is undefined",i),t=new l),n[r++]=t.x,n[r++]=t.y,n[r++]=t.z,n[r++]=t.w;return this},set:function(e,t){return void 0===t&&(t=0),this.array.set(e,t),this},getX:function(e){return this.array[e*this.itemSize]},setX:function(e,t){return this.array[e*this.itemSize]=t,this},getY:function(e){return this.array[e*this.itemSize+1]},setY:function(e,t){return this.array[e*this.itemSize+1]=t,this},getZ:function(e){return this.array[e*this.itemSize+2]},setZ:function(e,t){return this.array[e*this.itemSize+2]=t,this},getW:function(e){return this.array[e*this.itemSize+3]},setW:function(e,t){return this.array[e*this.itemSize+3]=t,this},setXY:function(e,t,n){return e*=this.itemSize,this.array[e+0]=t,this.array[e+1]=n,this},setXYZ:function(e,t,n,r){return e*=this.itemSize,this.array[e+0]=t,this.array[e+1]=n,this.array[e+2]=r,this},setXYZW:function(e,t,n,r,i){return e*=this.itemSize,this.array[e+0]=t,this.array[e+1]=n,this.array[e+2]=r,this.array[e+3]=i,this},onUpload:function(e){return this.onUploadCallback=e,this},clone:function(){return new this.constructor(this.array,this.itemSize).copy(this)}}),D.prototype=Object.create(C.prototype),D.prototype.constructor=D,L.prototype=Object.create(C.prototype),L.prototype.constructor=L,P.prototype=Object.create(C.prototype),P.prototype.constructor=P,R.prototype=Object.create(C.prototype),R.prototype.constructor=R,O.prototype=Object.create(C.prototype),O.prototype.constructor=O,I.prototype=Object.create(C.prototype),I.prototype.constructor=I,k.prototype=Object.create(C.prototype),k.prototype.constructor=k,N.prototype=Object.create(C.prototype),N.prototype.constructor=N,F.prototype=Object.create(C.prototype),F.prototype.constructor=F,Object.assign(B.prototype,{computeGroups:function(e){for(var t,n,r=[],i=void 0,o=e.faces,a=0;a<o.length;a++)(n=o[a]).materialIndex!==i&&(i=n.materialIndex,null!=t&&(t.count=3*a-t.start,r.push(t)),t={start:3*a,materialIndex:i});void 0!==t&&(t.count=3*a-t.start,r.push(t)),this.groups=r},fromGeometry:function(e){var t,n=e.faces,r=e.vertices,o=e.faceVertexUvs,a=o[0]&&0<o[0].length,s=o[1]&&0<o[1].length,u=e.morphTargets,c=u.length;if(0<c){t=[];for(var l=0;l<c;l++)t[l]={name:u[l].name,data:[]};this.morphTargets.position=t}var h,p=e.morphNormals,f=p.length;if(0<f){h=[];for(l=0;l<f;l++)h[l]={name:p[l].name,data:[]};this.morphTargets.normal=h}var d=e.skinIndices,m=e.skinWeights,g=d.length===r.length,v=m.length===r.length;0<r.length&&0===n.length&&console.error("THREE.DirectGeometry: Faceless geometries are not supported.");var y;for(l=0;l<n.length;l++){y=n[l],this.vertices.push(r[y.a],r[y.b],r[y.c]);var x=y.vertexNormals;if(3===x.length)this.normals.push(x[0],x[1],x[2]);else{var b=y.normal;this.normals.push(b,b,b)}var w,_=y.vertexColors;if(3===_.length)this.colors.push(_[0],_[1],_[2]);else{var E=y.color;this.colors.push(E,E,E)}if(!0===a)void 0===(w=o[0][l])?(console.warn("THREE.DirectGeometry.fromGeometry(): Undefined vertexUv ",l),this.uvs.push(new i,new i,new i)):this.uvs.push(w[0],w[1],w[2]);if(!0===s)void 0===(w=o[1][l])?(console.warn("THREE.DirectGeometry.fromGeometry(): Undefined vertexUv2 ",l),this.uvs2.push(new i,new i,new i)):this.uvs2.push(w[0],w[1],w[2]);for(var S,T=0;T<c;T++)S=u[T].vertices,t[T].data.push(S[y.a],S[y.b],S[y.c]);var A;for(T=0;T<f;T++)A=p[T].vertexNormals[l],h[T].data.push(A.a,A.b,A.c);g&&this.skinIndices.push(d[y.a],d[y.b],d[y.c]),v&&this.skinWeights.push(m[y.a],m[y.b],m[y.c])}return this.computeGroups(e),this.verticesNeedUpdate=e.verticesNeedUpdate,this.normalsNeedUpdate=e.normalsNeedUpdate,this.colorsNeedUpdate=e.colorsNeedUpdate,this.uvsNeedUpdate=e.uvsNeedUpdate,this.groupsNeedUpdate=e.groupsNeedUpdate,this}});var ec=1;z.prototype=Object.assign(Object.create(r.prototype),{constructor:z,isBufferGeometry:!0,getIndex:function(){return this.index},setIndex:function(e){this.index=Array.isArray(e)?new(65535<U(e)?k:O)(e,1):e},addAttribute:function(e,t){return t&&t.isBufferAttribute||t&&t.isInterleavedBufferAttribute?"index"===e?(console.warn("THREE.BufferGeometry.addAttribute: Use .setIndex() for index attribute."),this.setIndex(t),this):(this.attributes[e]=t,this):(console.warn("THREE.BufferGeometry: .addAttribute() now expects ( name, attribute )."),this.addAttribute(e,new C(arguments[1],arguments[2])))},getAttribute:function(e){return this.attributes[e]},removeAttribute:function(e){return delete this.attributes[e],this},addGroup:function(e,t,n){this.groups.push({start:e,count:t,materialIndex:void 0===n?0:n})},clearGroups:function(){this.groups=[]},setDrawRange:function(e,t){this.drawRange.start=e,this.drawRange.count=t},applyMatrix:function(e){var t=this.attributes.position;void 0!==t&&(e.applyToBufferAttribute(t),t.needsUpdate=!0);var n=this.attributes.normal;void 0!==n&&((new u).getNormalMatrix(e).applyToBufferAttribute(n),n.needsUpdate=!0);return null!==this.boundingBox&&this.computeBoundingBox(),null!==this.boundingSphere&&this.computeBoundingSphere(),this},rotateX:function(){var e=new o;return function(t){return e.makeRotationX(t),this.applyMatrix(e),this}}(),rotateY:function(){var e=new o;return function(t){return e.makeRotationY(t),this.applyMatrix(e),this}}(),rotateZ:function(){var e=new o;return function(t){return e.makeRotationZ(t),this.applyMatrix(e),this}}(),translate:function(){var e=new o;return function(t,n,r){return e.makeTranslation(t,n,r),this.applyMatrix(e),this}}(),scale:function(){var e=new o;return function(t,n,r){return e.makeScale(t,n,r),this.applyMatrix(e),this}}(),lookAt:function(){var e=new A;return function(t){e.lookAt(t),e.updateMatrix(),this.applyMatrix(e.matrix)}}(),center:function(){var e=new s;return function(){return this.computeBoundingBox(),this.boundingBox.getCenter(e).negate(),this.translate(e.x,e.y,e.z),this}}(),setFromObject:function(e){var t=e.geometry;if(e.isPoints||e.isLine){var n=new N(3*t.vertices.length,3),r=new N(3*t.colors.length,3);if(this.addAttribute("position",n.copyVector3sArray(t.vertices)),this.addAttribute("color",r.copyColorsArray(t.colors)),t.lineDistances&&t.lineDistances.length===t.vertices.length){var i=new N(t.lineDistances.length,1);this.addAttribute("lineDistance",i.copyArray(t.lineDistances))}null!==t.boundingSphere&&(this.boundingSphere=t.boundingSphere.clone()),null!==t.boundingBox&&(this.boundingBox=t.boundingBox.clone())}else e.isMesh&&t&&t.isGeometry&&this.fromGeometry(t);return this},setFromPoints:function(e){for(var t,n=[],r=0,i=e.length;r<i;r++)t=e[r],n.push(t.x,t.y,t.z||0);return this.addAttribute("position",new N(n,3)),this},updateFromObject:function(e){var t,n=e.geometry;if(e.isMesh){var r=n.__directGeometry;if(!0===n.elementsNeedUpdate&&(r=void 0,n.elementsNeedUpdate=!1),void 0===r)return this.fromGeometry(n);r.verticesNeedUpdate=n.verticesNeedUpdate,r.normalsNeedUpdate=n.normalsNeedUpdate,r.colorsNeedUpdate=n.colorsNeedUpdate,r.uvsNeedUpdate=n.uvsNeedUpdate,r.groupsNeedUpdate=n.groupsNeedUpdate,n.verticesNeedUpdate=!1,n.normalsNeedUpdate=!1,n.colorsNeedUpdate=!1,n.uvsNeedUpdate=!1,n.groupsNeedUpdate=!1,n=r}return!0===n.verticesNeedUpdate&&(void 0!==(t=this.attributes.position)&&(t.copyVector3sArray(n.vertices),t.needsUpdate=!0),n.verticesNeedUpdate=!1),!0===n.normalsNeedUpdate&&(void 0!==(t=this.attributes.normal)&&(t.copyVector3sArray(n.normals),t.needsUpdate=!0),n.normalsNeedUpdate=!1),!0===n.colorsNeedUpdate&&(void 0!==(t=this.attributes.color)&&(t.copyColorsArray(n.colors),t.needsUpdate=!0),n.colorsNeedUpdate=!1),n.uvsNeedUpdate&&(void 0!==(t=this.attributes.uv)&&(t.copyVector2sArray(n.uvs),t.needsUpdate=!0),n.uvsNeedUpdate=!1),n.lineDistancesNeedUpdate&&(void 0!==(t=this.attributes.lineDistance)&&(t.copyArray(n.lineDistances),t.needsUpdate=!0),n.lineDistancesNeedUpdate=!1),n.groupsNeedUpdate&&(n.computeGroups(e.geometry),this.groups=n.groups,n.groupsNeedUpdate=!1),this},fromGeometry:function(e){return e.__directGeometry=(new B).fromGeometry(e),this.fromDirectGeometry(e.__directGeometry)},fromDirectGeometry:function(e){var t=new Float32Array(3*e.vertices.length);if(this.addAttribute("position",new C(t,3).copyVector3sArray(e.vertices)),0<e.normals.length){var n=new Float32Array(3*e.normals.length);this.addAttribute("normal",new C(n,3).copyVector3sArray(e.normals))}if(0<e.colors.length){var r=new Float32Array(3*e.colors.length);this.addAttribute("color",new C(r,3).copyColorsArray(e.colors))}if(0<e.uvs.length){var i=new Float32Array(2*e.uvs.length);this.addAttribute("uv",new C(i,2).copyVector2sArray(e.uvs))}if(0<e.uvs2.length){var o=new Float32Array(2*e.uvs2.length);this.addAttribute("uv2",new C(o,2).copyVector2sArray(e.uvs2))}for(var a in this.groups=e.groups,e.morphTargets){for(var s=[],u=e.morphTargets[a],c=0,l=u.length;c<l;c++){var h=u[c],p=new N(3*h.data.length,3);p.name=h.name,s.push(p.copyVector3sArray(h.data))}this.morphAttributes[a]=s}if(0<e.skinIndices.length){var f=new N(4*e.skinIndices.length,4);this.addAttribute("skinIndex",f.copyVector4sArray(e.skinIndices))}if(0<e.skinWeights.length){var d=new N(4*e.skinWeights.length,4);this.addAttribute("skinWeight",d.copyVector4sArray(e.skinWeights))}return null!==e.boundingSphere&&(this.boundingSphere=e.boundingSphere.clone()),null!==e.boundingBox&&(this.boundingBox=e.boundingBox.clone()),this},computeBoundingBox:function(){null===this.boundingBox&&(this.boundingBox=new d);var e=this.attributes.position;void 0===e?this.boundingBox.makeEmpty():this.boundingBox.setFromBufferAttribute(e),(isNaN(this.boundingBox.min.x)||isNaN(this.boundingBox.min.y)||isNaN(this.boundingBox.min.z))&&console.error('THREE.BufferGeometry.computeBoundingBox: Computed min/max have NaN values. The "position" attribute is likely to have NaN values.',this)},computeBoundingSphere:function(){var e=new d,t=new s;return function(){null===this.boundingSphere&&(this.boundingSphere=new m);var n=this.attributes.position;if(n){var r=this.boundingSphere.center;e.setFromBufferAttribute(n),e.getCenter(r);for(var i=0,o=0,a=n.count;o<a;o++)t.x=n.getX(o),t.y=n.getY(o),t.z=n.getZ(o),i=oa(i,r.distanceToSquared(t));this.boundingSphere.radius=Jo(i),isNaN(this.boundingSphere.radius)&&console.error('THREE.BufferGeometry.computeBoundingSphere(): Computed radius is NaN. The "position" attribute is likely to have NaN values.',this)}}}(),computeFaceNormals:function(){},computeVertexNormals:function(){var e=this.index,t=this.attributes;if(t.position){var n=t.position.array;if(void 0===t.normal)this.addAttribute("normal",new C(new Float32Array(n.length),3));else for(var r=t.normal.array,i=0,o=r.length;i<o;i++)r[i]=0;var a,u,c,l=t.normal.array,h=new s,p=new s,f=new s,d=new s,m=new s;if(e){var g=e.array;for(i=0,o=e.count;i<o;i+=3)a=3*g[i+0],u=3*g[i+1],c=3*g[i+2],h.fromArray(n,a),p.fromArray(n,u),f.fromArray(n,c),d.subVectors(f,p),m.subVectors(h,p),d.cross(m),l[a]+=d.x,l[a+1]+=d.y,l[a+2]+=d.z,l[u]+=d.x,l[u+1]+=d.y,l[u+2]+=d.z,l[c]+=d.x,l[c+1]+=d.y,l[c+2]+=d.z}else for(i=0,o=n.length;i<o;i+=9)h.fromArray(n,i),p.fromArray(n,i+3),f.fromArray(n,i+6),d.subVectors(f,p),m.subVectors(h,p),d.cross(m),l[i]=d.x,l[i+1]=d.y,l[i+2]=d.z,l[i+3]=d.x,l[i+4]=d.y,l[i+5]=d.z,l[i+6]=d.x,l[i+7]=d.y,l[i+8]=d.z;this.normalizeNormals(),t.normal.needsUpdate=!0}},merge:function(e,t){if(e&&e.isBufferGeometry){void 0===t&&(t=0,console.warn("THREE.BufferGeometry.merge(): Overwriting original geometry, starting at offset=0. Use BufferGeometryUtils.mergeBufferGeometries() for lossless merge."));var n=this.attributes;for(var r in n)if(void 0!==e.attributes[r])for(var i=n[r].array,o=e.attributes[r],a=o.array,s=0,u=o.itemSize*t;s<a.length;s++,u++)i[u]=a[s];return this}console.error("THREE.BufferGeometry.merge(): geometry not an instance of THREE.BufferGeometry.",e)},normalizeNormals:function(){var e=new s;return function(){for(var t=this.attributes.normal,n=0,r=t.count;n<r;n++)e.x=t.getX(n),e.y=t.getY(n),e.z=t.getZ(n),e.normalize(),t.setXYZ(n,e.x,e.y,e.z)}}(),toNonIndexed:function(){if(null===this.index)return console.warn("THREE.BufferGeometry.toNonIndexed(): Geometry is already non-indexed."),this;var e=new z,t=this.index.array,n=this.attributes;for(var r in n){for(var i=n[r],o=i.array,a=i.itemSize,s=new o.constructor(t.length*a),u=0,c=0,l=0,h=t.length;l<h;l++){u=t[l]*a;for(var p=0;p<a;p++)s[c++]=o[u++]}e.addAttribute(r,new C(s,a))}var f,d=this.groups;for(l=0,h=d.length;l<h;l++)f=d[l],e.addGroup(f.start,f.count,f.materialIndex);return e},toJSON:function(){var e={metadata:{version:4.5,type:"BufferGeometry",generator:"BufferGeometry.toJSON"}};if(e.uuid=this.uuid,e.type=this.type,""!==this.name&&(e.name=this.name),0<Object.keys(this.userData).length&&(e.userData=this.userData),void 0!==this.parameters){var t=this.parameters;for(var n in t)void 0!==t[n]&&(e[n]=t[n]);return e}e.data={attributes:{}};var r=this.index;if(null!==r){var i=Array.prototype.slice.call(r.array);e.data.index={type:r.array.constructor.name,array:i}}var o=this.attributes;for(var n in o){var a=o[n];i=Array.prototype.slice.call(a.array);e.data.attributes[n]={itemSize:a.itemSize,type:a.array.constructor.name,array:i,normalized:a.normalized}}var s=this.groups;0<s.length&&(e.data.groups=JSON.parse(JSON.stringify(s)));var u=this.boundingSphere;return null!==u&&(e.data.boundingSphere={center:u.center.toArray(),radius:u.radius}),e},clone:function(){return(new z).copy(this)},copy:function(e){var t,n,r;this.index=null,this.attributes={},this.morphAttributes={},this.groups=[],this.boundingBox=null,this.boundingSphere=null,this.name=e.name;var i=e.index;null!==i&&this.setIndex(i.clone());var o=e.attributes;for(t in o){var a=o[t];this.addAttribute(t,a.clone())}var s=e.morphAttributes;for(t in s){var u=[],c=s[t];for(n=0,r=c.length;n<r;n++)u.push(c[n].clone());this.morphAttributes[t]=u}var l=e.groups;for(n=0,r=l.length;n<r;n++){var h=l[n];this.addGroup(h.start,h.count,h.materialIndex)}var p=e.boundingBox;null!==p&&(this.boundingBox=p.clone());var f=e.boundingSphere;return null!==f&&(this.boundingSphere=f.clone()),this.drawRange.start=e.drawRange.start,this.drawRange.count=e.drawRange.count,this.userData=e.userData,this},dispose:function(){this.dispatchEvent({type:"dispose"})}}),j.prototype=Object.create(M.prototype),j.prototype.constructor=j,G.prototype=Object.create(z.prototype),G.prototype.constructor=G,H.prototype=Object.create(M.prototype),H.prototype.constructor=H,V.prototype=Object.create(z.prototype),V.prototype.constructor=V;var tc=0;W.prototype=Object.assign(Object.create(r.prototype),{constructor:W,isMaterial:!0,onBeforeCompile:function(){},setValues:function(e){if(void 0!==e)for(var t in e){var n=e[t];if(void 0!==n)if("shading"!=t){var r=this[t];void 0!==r?r&&r.isColor?r.set(n):r&&r.isVector3&&n&&n.isVector3?r.copy(n):this[t]=n:console.warn("THREE."+this.type+": '"+t+"' is not a property of this material.")}else console.warn("THREE."+this.type+": .shading has been removed. Use the boolean .flatShading instead."),this.flatShading=n===_a;else console.warn("THREE.Material: '"+t+"' parameter is undefined.")}},toJSON:function(e){function t(e){var t=[];for(var n in e){var r=e[n];delete r.metadata,t.push(r)}return t}var n=void 0===e||"string"==typeof e;n&&(e={textures:{},images:{}});var r={metadata:{version:4.5,type:"Material",generator:"Material.toJSON"}};if(r.uuid=this.uuid,r.type=this.type,""!==this.name&&(r.name=this.name),this.color&&this.color.isColor&&(r.color=this.color.getHex()),void 0!==this.roughness&&(r.roughness=this.roughness),void 0!==this.metalness&&(r.metalness=this.metalness),this.emissive&&this.emissive.isColor&&(r.emissive=this.emissive.getHex()),1!==this.emissiveIntensity&&(r.emissiveIntensity=this.emissiveIntensity),this.specular&&this.specular.isColor&&(r.specular=this.specular.getHex()),void 0!==this.shininess&&(r.shininess=this.shininess),void 0!==this.clearCoat&&(r.clearCoat=this.clearCoat),void 0!==this.clearCoatRoughness&&(r.clearCoatRoughness=this.clearCoatRoughness),this.map&&this.map.isTexture&&(r.map=this.map.toJSON(e).uuid),this.alphaMap&&this.alphaMap.isTexture&&(r.alphaMap=this.alphaMap.toJSON(e).uuid),this.lightMap&&this.lightMap.isTexture&&(r.lightMap=this.lightMap.toJSON(e).uuid),this.aoMap&&this.aoMap.isTexture&&(r.aoMap=this.aoMap.toJSON(e).uuid,r.aoMapIntensity=this.aoMapIntensity),this.bumpMap&&this.bumpMap.isTexture&&(r.bumpMap=this.bumpMap.toJSON(e).uuid,r.bumpScale=this.bumpScale),this.normalMap&&this.normalMap.isTexture&&(r.normalMap=this.normalMap.toJSON(e).uuid,r.normalMapType=this.normalMapType,r.normalScale=this.normalScale.toArray()),this.displacementMap&&this.displacementMap.isTexture&&(r.displacementMap=this.displacementMap.toJSON(e).uuid,r.displacementScale=this.displacementScale,r.displacementBias=this.displacementBias),this.roughnessMap&&this.roughnessMap.isTexture&&(r.roughnessMap=this.roughnessMap.toJSON(e).uuid),this.metalnessMap&&this.metalnessMap.isTexture&&(r.metalnessMap=this.metalnessMap.toJSON(e).uuid),this.emissiveMap&&this.emissiveMap.isTexture&&(r.emissiveMap=this.emissiveMap.toJSON(e).uuid),this.specularMap&&this.specularMap.isTexture&&(r.specularMap=this.specularMap.toJSON(e).uuid),this.envMap&&this.envMap.isTexture&&(r.envMap=this.envMap.toJSON(e).uuid,r.reflectivity=this.reflectivity,void 0!==this.combine&&(r.combine=this.combine),void 0!==this.envMapIntensity&&(r.envMapIntensity=this.envMapIntensity)),this.gradientMap&&this.gradientMap.isTexture&&(r.gradientMap=this.gradientMap.toJSON(e).uuid),void 0!==this.size&&(r.size=this.size),void 0!==this.sizeAttenuation&&(r.sizeAttenuation=this.sizeAttenuation),this.blending!==Ca&&(r.blending=this.blending),!0===this.flatShading&&(r.flatShading=this.flatShading),this.side!==xa&&(r.side=this.side),this.vertexColors!==Sa&&(r.vertexColors=this.vertexColors),1>this.opacity&&(r.opacity=this.opacity),!0===this.transparent&&(r.transparent=this.transparent),r.depthFunc=this.depthFunc,r.depthTest=this.depthTest,r.depthWrite=this.depthWrite,0!==this.rotation&&(r.rotation=this.rotation),!0===this.polygonOffset&&(r.polygonOffset=!0),0!==this.polygonOffsetFactor&&(r.polygonOffsetFactor=this.polygonOffsetFactor),0!==this.polygonOffsetUnits&&(r.polygonOffsetUnits=this.polygonOffsetUnits),1!==this.linewidth&&(r.linewidth=this.linewidth),void 0!==this.dashSize&&(r.dashSize=this.dashSize),void 0!==this.gapSize&&(r.gapSize=this.gapSize),void 0!==this.scale&&(r.scale=this.scale),!0===this.dithering&&(r.dithering=!0),0<this.alphaTest&&(r.alphaTest=this.alphaTest),!0===this.premultipliedAlpha&&(r.premultipliedAlpha=this.premultipliedAlpha),!0===this.wireframe&&(r.wireframe=this.wireframe),1<this.wireframeLinewidth&&(r.wireframeLinewidth=this.wireframeLinewidth),"round"!==this.wireframeLinecap&&(r.wireframeLinecap=this.wireframeLinecap),"round"!==this.wireframeLinejoin&&(r.wireframeLinejoin=this.wireframeLinejoin),!0===this.morphTargets&&(r.morphTargets=!0),!0===this.skinning&&(r.skinning=!0),!1===this.visible&&(r.visible=!1),"{}"!==JSON.stringify(this.userData)&&(r.userData=this.userData),n){var i=t(e.textures),o=t(e.images);0<i.length&&(r.textures=i),0<o.length&&(r.images=o)}return r},clone:function(){return(new this.constructor).copy(this)},copy:function(e){this.name=e.name,this.fog=e.fog,this.lights=e.lights,this.blending=e.blending,this.side=e.side,this.flatShading=e.flatShading,this.vertexColors=e.vertexColors,this.opacity=e.opacity,this.transparent=e.transparent,this.blendSrc=e.blendSrc,this.blendDst=e.blendDst,this.blendEquation=e.blendEquation,this.blendSrcAlpha=e.blendSrcAlpha,this.blendDstAlpha=e.blendDstAlpha,this.blendEquationAlpha=e.blendEquationAlpha,this.depthFunc=e.depthFunc,this.depthTest=e.depthTest,this.depthWrite=e.depthWrite,this.colorWrite=e.colorWrite,this.precision=e.precision,this.polygonOffset=e.polygonOffset,this.polygonOffsetFactor=e.polygonOffsetFactor,this.polygonOffsetUnits=e.polygonOffsetUnits,this.dithering=e.dithering,this.alphaTest=e.alphaTest,this.premultipliedAlpha=e.premultipliedAlpha,this.visible=e.visible,this.userData=JSON.parse(JSON.stringify(e.userData)),this.clipShadows=e.clipShadows,this.clipIntersection=e.clipIntersection;var t=e.clippingPlanes,n=null;if(null!==t){var r=t.length;n=Array(r);for(var i=0;i!==r;++i)n[i]=t[i].clone()}return this.clippingPlanes=n,this.shadowSide=e.shadowSide,this},dispose:function(){this.dispatchEvent({type:"dispose"})}}),X.prototype=Object.create(W.prototype),X.prototype.constructor=X,X.prototype.isShaderMaterial=!0,X.prototype.copy=function(e){return W.prototype.copy.call(this,e),this.fragmentShader=e.fragmentShader,this.vertexShader=e.vertexShader,this.uniforms=y(e.uniforms),this.defines=Object.assign({},e.defines),this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.lights=e.lights,this.clipping=e.clipping,this.skinning=e.skinning,this.morphTargets=e.morphTargets,this.morphNormals=e.morphNormals,this.extensions=e.extensions,this},X.prototype.toJSON=function(e){var t=W.prototype.toJSON.call(this,e);for(var n in t.uniforms={},this.uniforms){var r=this.uniforms[n].value;t.uniforms[n]=r&&r.isTexture?{type:"t",value:r.toJSON(e).uuid}:r&&r.isColor?{type:"c",value:r.getHex()}:r&&r.isVector2?{type:"v2",value:r.toArray()}:r&&r.isVector3?{type:"v3",value:r.toArray()}:r&&r.isVector4?{type:"v4",value:r.toArray()}:r&&r.isMatrix4?{type:"m4",value:r.toArray()}:{value:r}}0<Object.keys(this.defines).length&&(t.defines=this.defines),t.vertexShader=this.vertexShader,t.fragmentShader=this.fragmentShader;var i={};for(var o in this.extensions)!0===this.extensions[o]&&(i[o]=!0);return 0<Object.keys(i).length&&(t.extensions=i),t},Object.assign(q.prototype,{set:function(e,t){return this.origin.copy(e),this.direction.copy(t),this},clone:function(){return(new this.constructor).copy(this)},copy:function(e){return this.origin.copy(e.origin),this.direction.copy(e.direction),this},at:function(e,t){return void 0===t&&(console.warn("THREE.Ray: .at() target is now required"),t=new s),t.copy(this.direction).multiplyScalar(e).add(this.origin)},lookAt:function(e){return this.direction.copy(e).sub(this.origin).normalize(),this},recast:function(){var e=new s;return function(t){return this.origin.copy(this.at(t,e)),this}}(),closestPointToPoint:function(e,t){void 0===t&&(console.warn("THREE.Ray: .closestPointToPoint() target is now required"),t=new s),t.subVectors(e,this.origin);var n=t.dot(this.direction);return 0>n?t.copy(this.origin):t.copy(this.direction).multiplyScalar(n).add(this.origin)},distanceToPoint:function(e){return Jo(this.distanceSqToPoint(e))},distanceSqToPoint:function(){var e=new s;return function(t){var n=e.subVectors(t,this.origin).dot(this.direction);return 0>n?this.origin.distanceToSquared(t):(e.copy(this.direction).multiplyScalar(n).add(this.origin),e.distanceToSquared(t))}}(),distanceSqToSegment:function(){var e=new s,t=new s,n=new s;return function(r,i,o,a){e.copy(r).add(i).multiplyScalar(.5),t.copy(i).sub(r).normalize(),n.copy(this.origin).sub(e);var s,u,c,l,h=.5*r.distanceTo(i),p=-this.direction.dot(t),f=n.dot(this.direction),d=-n.dot(t),m=n.lengthSq(),g=Yo(1-p*p);if(0<g)if(u=p*f-d,l=h*g,0<=(s=p*d-f))if(u>=-l)if(u<=l){var v=1/g;c=(s*=v)*(s+p*(u*=v)+2*f)+u*(p*s+u+2*d)+m}else c=-(s=oa(0,-(p*(u=h)+f)))*s+u*(u+2*d)+m;else c=-(s=oa(0,-(p*(u=-h)+f)))*s+u*(u+2*d)+m;else u<=-l?c=-(s=oa(0,-(-p*h+f)))*s+(u=0<s?-h:aa(oa(-h,-d),h))*(u+2*d)+m:u<=l?(s=0,c=(u=aa(oa(-h,-d),h))*(u+2*d)+m):c=-(s=oa(0,-(p*h+f)))*s+(u=0<s?h:aa(oa(-h,-d),h))*(u+2*d)+m;else c=-(s=oa(0,-(p*(u=0<p?-h:h)+f)))*s+u*(u+2*d)+m;return o&&o.copy(this.direction).multiplyScalar(s).add(this.origin),a&&a.copy(t).multiplyScalar(u).add(e),c}}(),intersectSphere:function(){var e=new s;return function(t,n){e.subVectors(t.center,this.origin);var r=e.dot(this.direction),i=e.dot(e)-r*r,o=t.radius*t.radius;if(i>o)return null;var a=Jo(o-i),s=r-a,u=r+a;return 0>s&&0>u?null:0>s?this.at(u,n):this.at(s,n)}}(),intersectsSphere:function(e){return this.distanceSqToPoint(e.center)<=e.radius*e.radius},distanceToPlane:function(e){var t=e.normal.dot(this.direction);if(0===t)return 0===e.distanceToPoint(this.origin)?0:null;var n=-(this.origin.dot(e.normal)+e.constant)/t;return 0<=n?n:null},intersectPlane:function(e,t){var n=this.distanceToPlane(e);return null===n?null:this.at(n,t)},intersectsPlane:function(e){var t=e.distanceToPoint(this.origin);return 0===t||!!(0>e.normal.dot(this.direction)*t)},intersectBox:function(e,t){var n,r,i,o,a,s,u=1/this.direction.x,c=1/this.direction.y,l=1/this.direction.z,h=this.origin;return 0<=u?(n=(e.min.x-h.x)*u,r=(e.max.x-h.x)*u):(n=(e.max.x-h.x)*u,r=(e.min.x-h.x)*u),0<=c?(i=(e.min.y-h.y)*c,o=(e.max.y-h.y)*c):(i=(e.max.y-h.y)*c,o=(e.min.y-h.y)*c),n>o||i>r?null:((i>n||n!=n)&&(n=i),(o<r||r!=r)&&(r=o),0<=l?(a=(e.min.z-h.z)*l,s=(e.max.z-h.z)*l):(a=(e.max.z-h.z)*l,s=(e.min.z-h.z)*l),n>s||a>r?null:((a>n||n!=n)&&(n=a),(s<r||r!=r)&&(r=s),0>r?null:this.at(0<=n?n:r,t)))},intersectsBox:function(){var e=new s;return function(t){return null!==this.intersectBox(t,e)}}(),intersectTriangle:function(){var e=new s,t=new s,n=new s,r=new s;return function(i,o,a,s,u){t.subVectors(o,i),n.subVectors(a,i),r.crossVectors(t,n);var c,l=this.direction.dot(r);if(0<l){if(s)return null;c=1}else{if(!(0>l))return null;c=-1,l=-l}e.subVectors(this.origin,i);var h=c*this.direction.dot(n.crossVectors(e,n));if(0>h)return null;var p=c*this.direction.dot(t.cross(e));if(0>p)return null;if(h+p>l)return null;var f=-c*e.dot(r);return 0>f?null:this.at(f/l,u)}}(),applyMatrix4:function(e){return this.origin.applyMatrix4(e),this.direction.transformDirection(e),this},equals:function(e){return e.origin.equals(this.origin)&&e.direction.equals(this.direction)}}),Object.assign(Y,{getNormal:function(){var e=new s;return function(t,n,r,i){void 0===i&&(console.warn("THREE.Triangle: .getNormal() target is now required"),i=new s),i.subVectors(r,n),e.subVectors(t,n),i.cross(e);var o=i.lengthSq();return 0<o?i.multiplyScalar(1/Jo(o)):i.set(0,0,0)}}(),getBarycoord:function(){var e=new s,t=new s,n=new s;return function(r,i,o,a,u){e.subVectors(a,i),t.subVectors(o,i),n.subVectors(r,i);var c=e.dot(e),l=e.dot(t),h=e.dot(n),p=t.dot(t),f=t.dot(n),d=c*p-l*l;if(void 0===u&&(console.warn("THREE.Triangle: .getBarycoord() target is now required"),u=new s),0==d)return u.set(-2,-1,-1);var m=1/d,g=(p*h-l*f)*m,v=(c*f-l*h)*m;return u.set(1-g-v,v,g)}}(),containsPoint:function(){var e=new s;return function(t,n,r,i){return Y.getBarycoord(t,n,r,i,e),0<=e.x&&0<=e.y&&1>=e.x+e.y}}(),getUV:function(){var e=new s;return function(t,n,r,i,o,a,s,u){return this.getBarycoord(t,n,r,i,e),u.set(0,0),u.addScaledVector(o,e.x),u.addScaledVector(a,e.y),u.addScaledVector(s,e.z),u}}()}),Object.assign(Y.prototype,{set:function(e,t,n){return this.a.copy(e),this.b.copy(t),this.c.copy(n),this},setFromPointsAndIndices:function(e,t,n,r){return this.a.copy(e[t]),this.b.copy(e[n]),this.c.copy(e[r]),this},clone:function(){return(new this.constructor).copy(this)},copy:function(e){return this.a.copy(e.a),this.b.copy(e.b),this.c.copy(e.c),this},getArea:function(){var e=new s,t=new s;return function(){return e.subVectors(this.c,this.b),t.subVectors(this.a,this.b),.5*e.cross(t).length()}}(),getMidpoint:function(e){return void 0===e&&(console.warn("THREE.Triangle: .getMidpoint() target is now required"),e=new s),e.addVectors(this.a,this.b).add(this.c).multiplyScalar(1/3)},getNormal:function(e){return Y.getNormal(this.a,this.b,this.c,e)},getPlane:function(e){return void 0===e&&(console.warn("THREE.Triangle: .getPlane() target is now required"),e=new s),e.setFromCoplanarPoints(this.a,this.b,this.c)},getBarycoord:function(e,t){return Y.getBarycoord(e,this.a,this.b,this.c,t)},containsPoint:function(e){return Y.containsPoint(e,this.a,this.b,this.c)},getUV:function(e,t,n,r,i){return Y.getUV(e,this.a,this.b,this.c,t,n,r,i)},intersectsBox:function(e){return e.intersectsTriangle(this)},closestPointToPoint:function(){var e=new s,t=new s,n=new s,r=new s,i=new s,o=new s;return function(a,u){void 0===u&&(console.warn("THREE.Triangle: .closestPointToPoint() target is now required"),u=new s);var c,l,h=this.a,p=this.b,f=this.c;e.subVectors(p,h),t.subVectors(f,h),r.subVectors(a,h);var d=e.dot(r),m=t.dot(r);if(0>=d&&0>=m)return u.copy(h);i.subVectors(a,p);var g=e.dot(i),v=t.dot(i);if(0<=g&&v<=g)return u.copy(p);var y=d*v-g*m;if(0>=y&&0<=d&&0>=g)return c=d/(d-g),u.copy(h).addScaledVector(e,c);o.subVectors(a,f);var x=e.dot(o),b=t.dot(o);if(0<=b&&x<=b)return u.copy(f);var w=x*m-d*b;if(0>=w&&0<=m&&0>=b)return l=m/(m-b),u.copy(h).addScaledVector(t,l);var _=g*b-x*v;if(0>=_&&0<=v-g&&0<=x-b)return n.subVectors(f,p),l=(v-g)/(v-g+(x-b)),u.copy(p).addScaledVector(n,l);var E=1/(_+w+y);return c=w*E,l=y*E,u.copy(h).addScaledVector(e,c).addScaledVector(t,l)}}(),equals:function(e){return e.a.equals(this.a)&&e.b.equals(this.b)&&e.c.equals(this.c)}}),J.prototype=Object.create(W.prototype),J.prototype.constructor=J,J.prototype.isMeshBasicMaterial=!0,J.prototype.copy=function(e){return W.prototype.copy.call(this,e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.skinning=e.skinning,this.morphTargets=e.morphTargets,this},Z.prototype=Object.assign(Object.create(A.prototype),{constructor:Z,isMesh:!0,setDrawMode:function(e){this.drawMode=e},copy:function(e){return A.prototype.copy.call(this,e),this.drawMode=e.drawMode,void 0!==e.morphTargetInfluences&&(this.morphTargetInfluences=e.morphTargetInfluences.slice()),void 0!==e.morphTargetDictionary&&(this.morphTargetDictionary=Object.assign({},e.morphTargetDictionary)),this},updateMorphTargets:function(){var e,t,n,r=this.geometry;if(r.isBufferGeometry){var i=r.morphAttributes,o=Object.keys(i);if(0<o.length){var a=i[o[0]];if(void 0!==a)for(this.morphTargetInfluences=[],this.morphTargetDictionary={},e=0,t=a.length;e<t;e++)n=a[e].name||e+"",this.morphTargetInfluences.push(0),this.morphTargetDictionary[n]=e}}else{var s=r.morphTargets;void 0!==s&&0<s.length&&console.error("THREE.Mesh.updateMorphTargets() no longer supports THREE.Geometry. Use THREE.BufferGeometry instead.")}},raycast:function(){function e(e,t,n,r,i,o,a,s){if(null===(t.side===ba?r.intersectTriangle(a,o,i,!0,s):r.intersectTriangle(i,o,a,t.side!==wa,s)))return null;x.copy(s),x.applyMatrix4(e.matrixWorld);var u=n.ray.origin.distanceTo(x);return u<n.near||u>n.far?null:{distance:u,point:x.clone(),object:e}}function t(t,n,r,o,a,s,h,p,f){u.fromBufferAttribute(a,h),c.fromBufferAttribute(a,p),l.fromBufferAttribute(a,f);var m=e(t,n,r,o,u,c,l,y);if(m){s&&(d.fromBufferAttribute(s,h),g.fromBufferAttribute(s,p),v.fromBufferAttribute(s,f),m.uv=Y.getUV(y,u,c,l,d,g,v,new i));var x=new E(h,p,f);Y.getNormal(u,c,l,x.normal),m.face=x}return m}var n=new o,r=new q,a=new m,u=new s,c=new s,l=new s,h=new s,p=new s,f=new s,d=new i,g=new i,v=new i,y=new s,x=new s;return function(o,s){var m,x=this.geometry,b=this.material,w=this.matrixWorld;if(void 0!==b&&(null===x.boundingSphere&&x.computeBoundingSphere(),a.copy(x.boundingSphere),a.applyMatrix4(w),!1!==o.ray.intersectsSphere(a))&&(n.getInverse(w),r.copy(o.ray).applyMatrix4(n),null===x.boundingBox||!1!==r.intersectsBox(x.boundingBox)))if(x.isBufferGeometry){var _,E,S,T,A,M,C,D,L,P=x.index,R=x.attributes.position,O=x.attributes.uv,I=x.groups,k=x.drawRange;if(null!==P)if(Array.isArray(b))for(T=0,M=I.length;T<M;T++)for(L=b[(D=I[T]).materialIndex],A=oa(D.start,k.start),C=aa(D.start+D.count,k.start+k.count);A<C;A+=3)_=P.getX(A),E=P.getX(A+1),S=P.getX(A+2),(m=t(this,L,o,r,R,O,_,E,S))&&(m.faceIndex=sa(A/3),s.push(m));else for(T=oa(0,k.start),M=aa(P.count,k.start+k.count);T<M;T+=3)_=P.getX(T),E=P.getX(T+1),S=P.getX(T+2),(m=t(this,b,o,r,R,O,_,E,S))&&(m.faceIndex=sa(T/3),s.push(m));else if(void 0!==R)if(Array.isArray(b))for(T=0,M=I.length;T<M;T++)for(L=b[(D=I[T]).materialIndex],A=oa(D.start,k.start),C=aa(D.start+D.count,k.start+k.count);A<C;A+=3)(m=t(this,L,o,r,R,O,_=A,E=A+1,S=A+2))&&(m.faceIndex=sa(A/3),s.push(m));else for(T=oa(0,k.start),M=aa(R.count,k.start+k.count);T<M;T+=3)(m=t(this,b,o,r,R,O,_=T,E=T+1,S=T+2))&&(m.faceIndex=sa(T/3),s.push(m))}else if(x.isGeometry){var N,F,B,U,z=Array.isArray(b),j=x.vertices,G=x.faces,H=x.faceVertexUvs[0];0<H.length&&(U=H);for(var V=0,W=G.length;V<W;V++){var X=G[V],q=z?b[X.materialIndex]:b;if(void 0!==q){if(N=j[X.a],F=j[X.b],B=j[X.c],!0===q.morphTargets){var J=x.morphTargets,Z=this.morphTargetInfluences;u.set(0,0,0),c.set(0,0,0),l.set(0,0,0);for(var K,$=0,Q=J.length;$<Q;$++)if(0!==(K=Z[$])){var ee=J[$].vertices;u.addScaledVector(h.subVectors(ee[X.a],N),K),c.addScaledVector(p.subVectors(ee[X.b],F),K),l.addScaledVector(f.subVectors(ee[X.c],B),K)}u.add(N),c.add(F),l.add(B),N=u,F=c,B=l}if(m=e(this,q,o,r,N,F,B,y)){if(U&&U[V]){var te=U[V];d.copy(te[0]),g.copy(te[1]),v.copy(te[2]),m.uv=Y.getUV(y,N,F,B,d,g,v,new i)}m.face=X,m.faceIndex=V,s.push(m)}}}}}}(),clone:function(){return new this.constructor(this.geometry,this.material).copy(this)}}),ue.prototype=Object.create(c.prototype),ue.prototype.constructor=ue,ue.prototype.isCubeTexture=!0,Object.defineProperty(ue.prototype,"images",{get:function(){return this.image},set:function(e){this.image=e}}),ce.prototype=Object.create(c.prototype),ce.prototype.constructor=ce,ce.prototype.isDataTexture3D=!0;var nc=new c,rc=new ce,ic=new ue,oc=[],ac=[],sc=new Float32Array(16),uc=new Float32Array(9),cc=new Float32Array(4);ze.prototype.updateCache=function(e){var t=this.cache;e instanceof Float32Array&&t.length!==e.length&&(this.cache=new Float32Array(e.length)),fe(t,e)},je.prototype.setValue=function(e,t,n){for(var r,i=this.seq,o=0,a=i.length;o!==a;++o)(r=i[o]).setValue(e,t[r.id],n)};var lc=/([\w\d_]+)(\])?(\[|\.)?/g;Ve.prototype.setValue=function(e,t,n){var r=this.map[t];void 0!==r&&r.setValue(e,n,this.renderer)},Ve.prototype.setOptional=function(e,t,n){var r=t[n];void 0!==r&&this.setValue(e,n,r)},Ve.upload=function(e,t,n,r){for(var i=0,o=t.length;i!==o;++i){var a=t[i],s=n[a.id];!1!==s.needsUpdate&&a.setValue(e,s.value,r)}},Ve.seqWithValue=function(e,t){for(var n,r=[],i=0,o=e.length;i!==o;++i)(n=e[i]).id in t&&r.push(n);return r};var hc=0,pc=0;pt.prototype=Object.create(W.prototype),pt.prototype.constructor=pt,pt.prototype.isMeshDepthMaterial=!0,pt.prototype.copy=function(e){return W.prototype.copy.call(this,e),this.depthPacking=e.depthPacking,this.skinning=e.skinning,this.morphTargets=e.morphTargets,this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this},ft.prototype=Object.create(W.prototype),ft.prototype.constructor=ft,ft.prototype.isMeshDistanceMaterial=!0,ft.prototype.copy=function(e){return W.prototype.copy.call(this,e),this.referencePosition.copy(e.referencePosition),this.nearDistance=e.nearDistance,this.farDistance=e.farDistance,this.skinning=e.skinning,this.morphTargets=e.morphTargets,this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this},yt.prototype=Object.assign(Object.create(A.prototype),{constructor:yt,isGroup:!0}),xt.prototype=Object.assign(Object.create(A.prototype),{constructor:xt,isCamera:!0,copy:function(e,t){return A.prototype.copy.call(this,e,t),this.matrixWorldInverse.copy(e.matrixWorldInverse),this.projectionMatrix.copy(e.projectionMatrix),this.projectionMatrixInverse.copy(e.projectionMatrixInverse),this},getWorldDirection:function(e){void 0===e&&(console.warn("THREE.Camera: .getWorldDirection() target is now required"),e=new s),this.updateMatrixWorld(!0);var t=this.matrixWorld.elements;return e.set(-t[8],-t[9],-t[10]).normalize()},updateMatrixWorld:function(e){A.prototype.updateMatrixWorld.call(this,e),this.matrixWorldInverse.getInverse(this.matrixWorld)},clone:function(){return(new this.constructor).copy(this)}}),bt.prototype=Object.assign(Object.create(xt.prototype),{constructor:bt,isPerspectiveCamera:!0,copy:function(e,t){return xt.prototype.copy.call(this,e,t),this.fov=e.fov,this.zoom=e.zoom,this.near=e.near,this.far=e.far,this.focus=e.focus,this.aspect=e.aspect,this.view=null===e.view?null:Object.assign({},e.view),this.filmGauge=e.filmGauge,this.filmOffset=e.filmOffset,this},setFocalLength:function(e){var t=.5*this.getFilmHeight()/e;this.fov=2*Hu.RAD2DEG*Go(t),this.updateProjectionMatrix()},getFocalLength:function(){var e=jo(.5*Hu.DEG2RAD*this.fov);return.5*this.getFilmHeight()/e},getEffectiveFOV:function(){return 2*Hu.RAD2DEG*Go(jo(.5*Hu.DEG2RAD*this.fov)/this.zoom)},getFilmWidth:function(){return this.filmGauge*aa(this.aspect,1)},getFilmHeight:function(){return this.filmGauge/oa(this.aspect,1)},setViewOffset:function(e,t,n,r,i,o){this.aspect=e/t,null===this.view&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=t,this.view.offsetX=n,this.view.offsetY=r,this.view.width=i,this.view.height=o,this.updateProjectionMatrix()},clearViewOffset:function(){null!==this.view&&(this.view.enabled=!1),this.updateProjectionMatrix()},updateProjectionMatrix:function(){var e=this.near,t=e*jo(.5*Hu.DEG2RAD*this.fov)/this.zoom,n=2*t,r=this.aspect*n,i=-.5*r,o=this.view;if(null!==this.view&&this.view.enabled){var a=o.fullWidth,s=o.fullHeight;i+=o.offsetX*r/a,t-=o.offsetY*n/s,r*=o.width/a,n*=o.height/s}var u=this.filmOffset;0!==u&&(i+=e*u/this.getFilmWidth()),this.projectionMatrix.makePerspective(i,i+r,t,t-n,e,this.far),this.projectionMatrixInverse.getInverse(this.projectionMatrix)},toJSON:function(e){var t=A.prototype.toJSON.call(this,e);return t.object.fov=this.fov,t.object.zoom=this.zoom,t.object.near=this.near,t.object.far=this.far,t.object.focus=this.focus,t.object.aspect=this.aspect,null!==this.view&&(t.object.view=Object.assign({},this.view)),t.object.filmGauge=this.filmGauge,t.object.filmOffset=this.filmOffset,t}}),wt.prototype=Object.assign(Object.create(bt.prototype),{constructor:wt,isArrayCamera:!0});var fc,dc=new s,mc=new s;At.prototype.isFogExp2=!0,At.prototype.clone=function(){return new At(this.color,this.density)},At.prototype.toJSON=function(){return{type:"FogExp2",color:this.color.getHex(),density:this.density}},Mt.prototype.isFog=!0,Mt.prototype.clone=function(){return new Mt(this.color,this.near,this.far)},Mt.prototype.toJSON=function(){return{type:"Fog",color:this.color.getHex(),near:this.near,far:this.far}},Ct.prototype=Object.assign(Object.create(A.prototype),{constructor:Ct,copy:function(e,t){return A.prototype.copy.call(this,e,t),null!==e.background&&(this.background=e.background.clone()),null!==e.fog&&(this.fog=e.fog.clone()),null!==e.overrideMaterial&&(this.overrideMaterial=e.overrideMaterial.clone()),this.autoUpdate=e.autoUpdate,this.matrixAutoUpdate=e.matrixAutoUpdate,this},toJSON:function(e){var t=A.prototype.toJSON.call(this,e);return null!==this.background&&(t.object.background=this.background.toJSON(e)),null!==this.fog&&(t.object.fog=this.fog.toJSON()),t}}),Object.defineProperty(Dt.prototype,"needsUpdate",{set:function(e){!0===e&&this.version++}}),Object.assign(Dt.prototype,{isInterleavedBuffer:!0,onUploadCallback:function(){},setArray:function(e){if(Array.isArray(e))throw new TypeError("THREE.BufferAttribute: array should be a Typed Array.");return this.count=void 0===e?0:e.length/this.stride,this.array=e,this},setDynamic:function(e){return this.dynamic=e,this},copy:function(e){return this.array=new e.array.constructor(e.array),this.count=e.count,this.stride=e.stride,this.dynamic=e.dynamic,this},copyAt:function(e,t,n){e*=this.stride,n*=t.stride;for(var r=0,i=this.stride;r<i;r++)this.array[e+r]=t.array[n+r];return this},set:function(e,t){return void 0===t&&(t=0),this.array.set(e,t),this},clone:function(){return(new this.constructor).copy(this)},onUpload:function(e){return this.onUploadCallback=e,this}}),Object.defineProperties(Lt.prototype,{count:{get:function(){return this.data.count}},array:{get:function(){return this.data.array}}}),Object.assign(Lt.prototype,{isInterleavedBufferAttribute:!0,setX:function(e,t){return this.data.array[e*this.data.stride+this.offset]=t,this},setY:function(e,t){return this.data.array[e*this.data.stride+this.offset+1]=t,this},setZ:function(e,t){return this.data.array[e*this.data.stride+this.offset+2]=t,this},setW:function(e,t){return this.data.array[e*this.data.stride+this.offset+3]=t,this},getX:function(e){return this.data.array[e*this.data.stride+this.offset]},getY:function(e){return this.data.array[e*this.data.stride+this.offset+1]},getZ:function(e){return this.data.array[e*this.data.stride+this.offset+2]},getW:function(e){return this.data.array[e*this.data.stride+this.offset+3]},setXY:function(e,t,n){return e=e*this.data.stride+this.offset,this.data.array[e+0]=t,this.data.array[e+1]=n,this},setXYZ:function(e,t,n,r){return e=e*this.data.stride+this.offset,this.data.array[e+0]=t,this.data.array[e+1]=n,this.data.array[e+2]=r,this},setXYZW:function(e,t,n,r,i){return e=e*this.data.stride+this.offset,this.data.array[e+0]=t,this.data.array[e+1]=n,this.data.array[e+2]=r,this.data.array[e+3]=i,this}}),Pt.prototype=Object.create(W.prototype),Pt.prototype.constructor=Pt,Pt.prototype.isSpriteMaterial=!0,Pt.prototype.copy=function(e){return W.prototype.copy.call(this,e),this.color.copy(e.color),this.map=e.map,this.rotation=e.rotation,this.sizeAttenuation=e.sizeAttenuation,this},Rt.prototype=Object.assign(Object.create(A.prototype),{constructor:Rt,isSprite:!0,raycast:function(){function e(e,t,n,r,i,o){a.subVectors(e,n).addScalar(.5).multiply(r),void 0===i?u.copy(a):(u.x=o*a.x-i*a.y,u.y=i*a.x+o*a.y),e.copy(t),e.x+=u.x,e.y+=u.y,e.applyMatrix4(c)}var t=new s,n=new s,r=new s,a=new i,u=new i,c=new o,l=new s,h=new s,p=new s,f=new i,d=new i,m=new i;return function(o,a){n.setFromMatrixScale(this.matrixWorld),c.getInverse(this.modelViewMatrix).premultiply(this.matrixWorld),r.setFromMatrixPosition(this.modelViewMatrix);var s,u,g=this.material.rotation;0!==g&&(u=Xo(g),s=Wo(g));var v=this.center;e(l.set(-.5,-.5,0),r,v,n,s,u),e(h.set(.5,-.5,0),r,v,n,s,u),e(p.set(.5,.5,0),r,v,n,s,u),f.set(0,0),d.set(1,0),m.set(1,1);var y=o.ray.intersectTriangle(l,h,p,!1,t);if(null!==y||(e(h.set(-.5,.5,0),r,v,n,s,u),d.set(0,1),null!==(y=o.ray.intersectTriangle(l,p,h,!1,t)))){var x=o.ray.origin.distanceTo(t);x<o.near||x>o.far||a.push({distance:x,point:t.clone(),uv:Y.getUV(t,l,h,p,f,d,m,new i),face:null,object:this})}}}(),clone:function(){return new this.constructor(this.material).copy(this)},copy:function(e){return A.prototype.copy.call(this,e),void 0!==e.center&&this.center.copy(e.center),this}}),Ot.prototype=Object.assign(Object.create(A.prototype),{constructor:Ot,copy:function(e){A.prototype.copy.call(this,e,!1);for(var t,n=e.levels,r=0,i=n.length;r<i;r++)t=n[r],this.addLevel(t.object.clone(),t.distance);return this},addLevel:function(e,t){void 0===t&&(t=0),t=Yo(t);for(var n=this.levels,r=0;r<n.length&&!(t<n[r].distance);r++);n.splice(r,0,{distance:t,object:e}),this.add(e)},getObjectForDistance:function(e){for(var t=this.levels,n=1,r=t.length;n<r&&!(e<t[n].distance);n++);return t[n-1].object},raycast:function(){var e=new s;return function(t,n){e.setFromMatrixPosition(this.matrixWorld);var r=t.ray.origin.distanceTo(e);this.getObjectForDistance(r).raycast(t,n)}}(),update:function(){var e=new s,t=new s;return function(n){var r=this.levels;if(1<r.length){e.setFromMatrixPosition(n.matrixWorld),t.setFromMatrixPosition(this.matrixWorld);var i=e.distanceTo(t);r[0].object.visible=!0;for(var o=1,a=r.length;o<a&&i>=r[o].distance;o++)r[o-1].object.visible=!1,r[o].object.visible=!0;for(;o<a;o++)r[o].object.visible=!1}}}(),toJSON:function(e){var t=A.prototype.toJSON.call(this,e);t.object.levels=[];for(var n,r=this.levels,i=0,o=r.length;i<o;i++)n=r[i],t.object.levels.push({object:n.object.uuid,distance:n.distance});return t}}),It.prototype=Object.assign(Object.create(Z.prototype),{constructor:It,isSkinnedMesh:!0,bind:function(e,t){this.skeleton=e,void 0===t&&(this.updateMatrixWorld(!0),this.skeleton.calculateInverses(),t=this.matrixWorld),this.bindMatrix.copy(t),this.bindMatrixInverse.getInverse(t)},pose:function(){this.skeleton.pose()},normalizeSkinWeights:function(){for(var e=new l,t=this.geometry.attributes.skinWeight,n=0,r=t.count;n<r;n++){e.x=t.getX(n),e.y=t.getY(n),e.z=t.getZ(n),e.w=t.getW(n);var i=1/e.manhattanLength();i==1/0?e.set(1,0,0,0):e.multiplyScalar(i),t.setXYZW(n,e.x,e.y,e.z,e.w)}},updateMatrixWorld:function(e){Z.prototype.updateMatrixWorld.call(this,e),"attached"===this.bindMode?this.bindMatrixInverse.getInverse(this.matrixWorld):"detached"===this.bindMode?this.bindMatrixInverse.getInverse(this.bindMatrix):console.warn("THREE.SkinnedMesh: Unrecognized bindMode: "+this.bindMode)},clone:function(){return new this.constructor(this.geometry,this.material).copy(this)}}),Object.assign(kt.prototype,{calculateInverses:function(){this.boneInverses=[];for(var e,t=0,n=this.bones.length;t<n;t++)e=new o,this.bones[t]&&e.getInverse(this.bones[t].matrixWorld),this.boneInverses.push(e)},pose:function(){var e,t,n;for(t=0,n=this.bones.length;t<n;t++)(e=this.bones[t])&&e.matrixWorld.getInverse(this.boneInverses[t]);for(t=0,n=this.bones.length;t<n;t++)(e=this.bones[t])&&(e.parent&&e.parent.isBone?(e.matrix.getInverse(e.parent.matrixWorld),e.matrix.multiply(e.matrixWorld)):e.matrix.copy(e.matrixWorld),e.matrix.decompose(e.position,e.quaternion,e.scale))},update:function(){var e=new o,t=new o;return function(){for(var n,r=this.bones,i=this.boneInverses,o=this.boneMatrices,a=this.boneTexture,s=0,u=r.length;s<u;s++)n=r[s]?r[s].matrixWorld:t,e.multiplyMatrices(n,i[s]),e.toArray(o,16*s);void 0!==a&&(a.needsUpdate=!0)}}(),clone:function(){return new kt(this.bones,this.boneInverses)},getBoneByName:function(e){for(var t,n=0,r=this.bones.length;n<r;n++)if((t=this.bones[n]).name===e)return t}}),Nt.prototype=Object.assign(Object.create(A.prototype),{constructor:Nt,isBone:!0}),Ft.prototype=Object.create(W.prototype),Ft.prototype.constructor=Ft,Ft.prototype.isLineBasicMaterial=!0,Ft.prototype.copy=function(e){return W.prototype.copy.call(this,e),this.color.copy(e.color),this.linewidth=e.linewidth,this.linecap=e.linecap,this.linejoin=e.linejoin,this},Bt.prototype=Object.assign(Object.create(A.prototype),{constructor:Bt,isLine:!0,computeLineDistances:function(){var e=new s,t=new s;return function(){var n=this.geometry;if(n.isBufferGeometry)if(null===n.index){for(var r=n.attributes.position,i=[0],o=1,a=r.count;o<a;o++)e.fromBufferAttribute(r,o-1),t.fromBufferAttribute(r,o),i[o]=i[o-1],i[o]+=e.distanceTo(t);n.addAttribute("lineDistance",new N(i,1))}else console.warn("THREE.Line.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");else if(n.isGeometry){var s=n.vertices;(i=n.lineDistances)[0]=0;for(o=1,a=s.length;o<a;o++)i[o]=i[o-1],i[o]+=s[o-1].distanceTo(s[o])}return this}}(),raycast:function(){var e=new o,t=new q,n=new m;return function(r,i){var o=r.linePrecision,a=this.geometry,u=this.matrixWorld;if(null===a.boundingSphere&&a.computeBoundingSphere(),n.copy(a.boundingSphere),n.applyMatrix4(u),n.radius+=o,!1!==r.ray.intersectsSphere(n)){e.getInverse(u),t.copy(r.ray).applyMatrix4(e);var c=o/((this.scale.x+this.scale.y+this.scale.z)/3),l=c*c,h=new s,p=new s,f=new s,d=new s,m=this&&this.isLineSegments?2:1;if(a.isBufferGeometry){var g=a.index,v=a.attributes.position.array;if(null!==g)for(var y=g.array,x=0,b=y.length-1;x<b;x+=m){var w=y[x],_=y[x+1];if(h.fromArray(v,3*w),p.fromArray(v,3*_),!(t.distanceSqToSegment(h,p,d,f)>l))d.applyMatrix4(this.matrixWorld),(T=r.ray.origin.distanceTo(d))<r.near||T>r.far||i.push({distance:T,point:f.clone().applyMatrix4(this.matrixWorld),index:x,face:null,faceIndex:null,object:this})}else for(x=0,b=v.length/3-1;x<b;x+=m){if(h.fromArray(v,3*x),p.fromArray(v,3*x+3),!(t.distanceSqToSegment(h,p,d,f)>l))d.applyMatrix4(this.matrixWorld),(T=r.ray.origin.distanceTo(d))<r.near||T>r.far||i.push({distance:T,point:f.clone().applyMatrix4(this.matrixWorld),index:x,face:null,faceIndex:null,object:this})}}else if(a.isGeometry){var E=a.vertices,S=E.length;for(x=0;x<S-1;x+=m)if(!(t.distanceSqToSegment(E[x],E[x+1],d,f)>l)){var T;d.applyMatrix4(this.matrixWorld),(T=r.ray.origin.distanceTo(d))<r.near||T>r.far||i.push({distance:T,point:f.clone().applyMatrix4(this.matrixWorld),index:x,face:null,faceIndex:null,object:this})}}}}}(),copy:function(e){return A.prototype.copy.call(this,e),this.geometry.copy(e.geometry),this.material.copy(e.material),this},clone:function(){return(new this.constructor).copy(this)}}),Ut.prototype=Object.assign(Object.create(Bt.prototype),{constructor:Ut,isLineSegments:!0,computeLineDistances:function(){var e=new s,t=new s;return function(){var n=this.geometry;if(n.isBufferGeometry)if(null===n.index){for(var r=n.attributes.position,i=[],o=0,a=r.count;o<a;o+=2)e.fromBufferAttribute(r,o),t.fromBufferAttribute(r,o+1),i[o]=0==o?0:i[o-1],i[o+1]=i[o]+e.distanceTo(t);n.addAttribute("lineDistance",new N(i,1))}else console.warn("THREE.LineSegments.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");else if(n.isGeometry){var s=n.vertices;for(i=n.lineDistances,o=0,a=s.length;o<a;o+=2)e.copy(s[o]),t.copy(s[o+1]),i[o]=0==o?0:i[o-1],i[o+1]=i[o]+e.distanceTo(t)}return this}}()}),zt.prototype=Object.assign(Object.create(Bt.prototype),{constructor:zt,isLineLoop:!0}),jt.prototype=Object.create(W.prototype),jt.prototype.constructor=jt,jt.prototype.isPointsMaterial=!0,jt.prototype.copy=function(e){return W.prototype.copy.call(this,e),this.color.copy(e.color),this.map=e.map,this.size=e.size,this.sizeAttenuation=e.sizeAttenuation,this.morphTargets=e.morphTargets,this},Gt.prototype=Object.assign(Object.create(A.prototype),{constructor:Gt,isPoints:!0,raycast:function(){var e=new o,t=new q,n=new m;return function(r,i){function o(e,n){var o=t.distanceSqToPoint(e);if(o<p){t.closestPointToPoint(e,d),d.applyMatrix4(c);var s=r.ray.origin.distanceTo(d);if(s<r.near||s>r.far)return;i.push({distance:s,distanceToRay:Jo(o),point:d.clone(),index:n,face:null,object:a})}}var a=this,u=this.geometry,c=this.matrixWorld,l=r.params.Points.threshold;if(null===u.boundingSphere&&u.computeBoundingSphere(),n.copy(u.boundingSphere),n.applyMatrix4(c),n.radius+=l,!1!==r.ray.intersectsSphere(n)){e.getInverse(c),t.copy(r.ray).applyMatrix4(e);var h=l/((this.scale.x+this.scale.y+this.scale.z)/3),p=h*h,f=new s,d=new s;if(u.isBufferGeometry){var m=u.index,g=u.attributes.position.array;if(null!==m)for(var v,y=m.array,x=0,b=y.length;x<b;x++)v=y[x],f.fromArray(g,3*v),o(f,v);else{x=0;for(var w=g.length/3;x<w;x++)f.fromArray(g,3*x),o(f,x)}}else{var _=u.vertices;for(x=0,w=_.length;x<w;x++)o(_[x],x)}}}}(),clone:function(){return new this.constructor(this.geometry,this.material).copy(this)}}),Ht.prototype=Object.assign(Object.create(c.prototype),{constructor:Ht,isVideoTexture:!0,update:function(){var e=this.image;e.readyState>=e.HAVE_CURRENT_DATA&&(this.needsUpdate=!0)}}),Vt.prototype=Object.create(c.prototype),Vt.prototype.constructor=Vt,Vt.prototype.isCompressedTexture=!0,Wt.prototype=Object.create(c.prototype),Wt.prototype.constructor=Wt,Wt.prototype.isCanvasTexture=!0,Xt.prototype=Object.create(c.prototype),Xt.prototype.constructor=Xt,Xt.prototype.isDepthTexture=!0,qt.prototype=Object.create(z.prototype),qt.prototype.constructor=qt,Yt.prototype=Object.create(M.prototype),Yt.prototype.constructor=Yt,Jt.prototype=Object.create(z.prototype),Jt.prototype.constructor=Jt,Zt.prototype=Object.create(M.prototype),Zt.prototype.constructor=Zt,Kt.prototype=Object.create(z.prototype),Kt.prototype.constructor=Kt,$t.prototype=Object.create(M.prototype),$t.prototype.constructor=$t,Qt.prototype=Object.create(Kt.prototype),Qt.prototype.constructor=Qt,en.prototype=Object.create(M.prototype),en.prototype.constructor=en,tn.prototype=Object.create(Kt.prototype),tn.prototype.constructor=tn,nn.prototype=Object.create(M.prototype),nn.prototype.constructor=nn,rn.prototype=Object.create(Kt.prototype),rn.prototype.constructor=rn,on.prototype=Object.create(M.prototype),on.prototype.constructor=on,an.prototype=Object.create(Kt.prototype),an.prototype.constructor=an,sn.prototype=Object.create(M.prototype),sn.prototype.constructor=sn,un.prototype=Object.create(z.prototype),un.prototype.constructor=un,cn.prototype=Object.create(M.prototype),cn.prototype.constructor=cn,ln.prototype=Object.create(z.prototype),ln.prototype.constructor=ln,hn.prototype=Object.create(M.prototype),hn.prototype.constructor=hn,pn.prototype=Object.create(z.prototype),pn.prototype.constructor=pn;var gc=function(e,t,n){n=n||2;var r,i,o,a,s,u,c,l=t&&t.length,h=l?t[0]*n:e.length,p=fn(e,0,h,n,!0),f=[];if(!p)return f;if(l&&(p=function(e,t,n,r){var i,o,a,s=[];for(i=0,o=t.length;i<o;i++)(a=fn(e,t[i]*r,i<o-1?t[i+1]*r:e.length,r,!1))===a.next&&(a.steiner=!0),s.push(En(a));for(s.sort(bn),i=0;i<s.length;i++)wn(s[i],n),n=dn(n,n.next);return n}(e,t,p,n)),e.length>80*n){r=o=e[0],i=a=e[1];for(var d=n;d<h;d+=n)(s=e[d])<r&&(r=s),(u=e[d+1])<i&&(i=u),s>o&&(o=s),u>a&&(a=u);c=0===(c=oa(o-r,a-i))?0:1/c}return mn(p,f,n,r,i,c),f},vc={area:function(e){for(var t=e.length,n=0,r=t-1,i=0;i<t;r=i++)n+=e[r].x*e[i].y-e[i].x*e[r].y;return.5*n},isClockWise:function(e){return 0>vc.area(e)},triangulateShape:function(e,t){var n=[],r=[],i=[];In(e),kn(n,e);var o=e.length;t.forEach(In);for(var a=0;a<t.length;a++)r.push(o),o+=t[a].length,kn(n,t[a]);var s=gc(n,r);for(a=0;a<s.length;a+=3)i.push(s.slice(a,a+3));return i}};Nn.prototype=Object.create(M.prototype),Nn.prototype.constructor=Nn,Nn.prototype.toJSON=function(){var e=M.prototype.toJSON.call(this);return Bn(this.parameters.shapes,this.parameters.options,e)},Fn.prototype=Object.create(z.prototype),Fn.prototype.constructor=Fn,Fn.prototype.toJSON=function(){var e=z.prototype.toJSON.call(this);return Bn(this.parameters.shapes,this.parameters.options,e)};var yc={generateTopUV:function(e,t,n,r,o){var a=t[3*n],s=t[3*n+1],u=t[3*r],c=t[3*r+1],l=t[3*o],h=t[3*o+1];return[new i(a,s),new i(u,c),new i(l,h)]},generateSideWallUV:function(e,t,n,r,o,a){var s=t[3*n],u=t[3*n+1],c=t[3*n+2],l=t[3*r],h=t[3*r+1],p=t[3*r+2],f=t[3*o],d=t[3*o+1],m=t[3*o+2],g=t[3*a],v=t[3*a+1],y=t[3*a+2];return.01>Yo(u-h)?[new i(s,1-c),new i(l,1-p),new i(f,1-m),new i(g,1-y)]:[new i(u,1-c),new i(h,1-p),new i(d,1-m),new i(v,1-y)]}};Un.prototype=Object.create(M.prototype),Un.prototype.constructor=Un,zn.prototype=Object.create(Fn.prototype),zn.prototype.constructor=zn,jn.prototype=Object.create(M.prototype),jn.prototype.constructor=jn,Gn.prototype=Object.create(z.prototype),Gn.prototype.constructor=Gn,Hn.prototype=Object.create(M.prototype),Hn.prototype.constructor=Hn,Vn.prototype=Object.create(z.prototype),Vn.prototype.constructor=Vn,Wn.prototype=Object.create(M.prototype),Wn.prototype.constructor=Wn,Xn.prototype=Object.create(z.prototype),Xn.prototype.constructor=Xn,qn.prototype=Object.create(M.prototype),qn.prototype.constructor=qn,qn.prototype.toJSON=function(){var e=M.prototype.toJSON.call(this);return Jn(this.parameters.shapes,e)},Yn.prototype=Object.create(z.prototype),Yn.prototype.constructor=Yn,Yn.prototype.toJSON=function(){var e=z.prototype.toJSON.call(this);return Jn(this.parameters.shapes,e)},Zn.prototype=Object.create(z.prototype),Zn.prototype.constructor=Zn,Kn.prototype=Object.create(M.prototype),Kn.prototype.constructor=Kn,$n.prototype=Object.create(z.prototype),$n.prototype.constructor=$n,Qn.prototype=Object.create(Kn.prototype),Qn.prototype.constructor=Qn,er.prototype=Object.create($n.prototype),er.prototype.constructor=er,tr.prototype=Object.create(M.prototype),tr.prototype.constructor=tr,nr.prototype=Object.create(z.prototype),nr.prototype.constructor=nr;var xc=Object.freeze({WireframeGeometry:qt,ParametricGeometry:Yt,ParametricBufferGeometry:Jt,TetrahedronGeometry:$t,TetrahedronBufferGeometry:Qt,OctahedronGeometry:en,OctahedronBufferGeometry:tn,IcosahedronGeometry:nn,IcosahedronBufferGeometry:rn,DodecahedronGeometry:on,DodecahedronBufferGeometry:an,PolyhedronGeometry:Zt,PolyhedronBufferGeometry:Kt,TubeGeometry:sn,TubeBufferGeometry:un,TorusKnotGeometry:cn,TorusKnotBufferGeometry:ln,TorusGeometry:hn,TorusBufferGeometry:pn,TextGeometry:Un,TextBufferGeometry:zn,SphereGeometry:jn,SphereBufferGeometry:Gn,RingGeometry:Hn,RingBufferGeometry:Vn,PlaneGeometry:H,PlaneBufferGeometry:V,LatheGeometry:Wn,LatheBufferGeometry:Xn,ShapeGeometry:qn,ShapeBufferGeometry:Yn,ExtrudeGeometry:Nn,ExtrudeBufferGeometry:Fn,EdgesGeometry:Zn,ConeGeometry:Qn,ConeBufferGeometry:er,CylinderGeometry:Kn,CylinderBufferGeometry:$n,CircleGeometry:tr,CircleBufferGeometry:nr,BoxGeometry:j,BoxBufferGeometry:G});rr.prototype=Object.create(W.prototype),rr.prototype.constructor=rr,rr.prototype.isShadowMaterial=!0,rr.prototype.copy=function(e){return W.prototype.copy.call(this,e),this.color.copy(e.color),this},ir.prototype=Object.create(X.prototype),ir.prototype.constructor=ir,ir.prototype.isRawShaderMaterial=!0,or.prototype=Object.create(W.prototype),or.prototype.constructor=or,or.prototype.isMeshStandardMaterial=!0,or.prototype.copy=function(e){return W.prototype.copy.call(this,e),this.defines={STANDARD:""},this.color.copy(e.color),this.roughness=e.roughness,this.metalness=e.metalness,this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.roughnessMap=e.roughnessMap,this.metalnessMap=e.metalnessMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapIntensity=e.envMapIntensity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.skinning=e.skinning,this.morphTargets=e.morphTargets,this.morphNormals=e.morphNormals,this},ar.prototype=Object.create(or.prototype),ar.prototype.constructor=ar,ar.prototype.isMeshPhysicalMaterial=!0,ar.prototype.copy=function(e){return or.prototype.copy.call(this,e),this.defines={PHYSICAL:""},this.reflectivity=e.reflectivity,this.clearCoat=e.clearCoat,this.clearCoatRoughness=e.clearCoatRoughness,this},sr.prototype=Object.create(W.prototype),sr.prototype.constructor=sr,sr.prototype.isMeshPhongMaterial=!0,sr.prototype.copy=function(e){return W.prototype.copy.call(this,e),this.color.copy(e.color),this.specular.copy(e.specular),this.shininess=e.shininess,this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.skinning=e.skinning,this.morphTargets=e.morphTargets,this.morphNormals=e.morphNormals,this},ur.prototype=Object.create(sr.prototype),ur.prototype.constructor=ur,ur.prototype.isMeshToonMaterial=!0,ur.prototype.copy=function(e){return sr.prototype.copy.call(this,e),this.gradientMap=e.gradientMap,this},cr.prototype=Object.create(W.prototype),cr.prototype.constructor=cr,cr.prototype.isMeshNormalMaterial=!0,cr.prototype.copy=function(e){return W.prototype.copy.call(this,e),this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.skinning=e.skinning,this.morphTargets=e.morphTargets,this.morphNormals=e.morphNormals,this},lr.prototype=Object.create(W.prototype),lr.prototype.constructor=lr,lr.prototype.isMeshLambertMaterial=!0,lr.prototype.copy=function(e){return W.prototype.copy.call(this,e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.skinning=e.skinning,this.morphTargets=e.morphTargets,this.morphNormals=e.morphNormals,this},hr.prototype=Object.create(W.prototype),hr.prototype.constructor=hr,hr.prototype.isMeshMatcapMaterial=!0,hr.prototype.copy=function(e){return W.prototype.copy.call(this,e),this.defines={MATCAP:""},this.color.copy(e.color),this.matcap=e.matcap,this.map=e.map,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.alphaMap=e.alphaMap,this.skinning=e.skinning,this.morphTargets=e.morphTargets,this.morphNormals=e.morphNormals,this},pr.prototype=Object.create(Ft.prototype),pr.prototype.constructor=pr,pr.prototype.isLineDashedMaterial=!0,pr.prototype.copy=function(e){return Ft.prototype.copy.call(this,e),this.scale=e.scale,this.dashSize=e.dashSize,this.gapSize=e.gapSize,this};var bc=Object.freeze({ShadowMaterial:rr,SpriteMaterial:Pt,RawShaderMaterial:ir,ShaderMaterial:X,PointsMaterial:jt,MeshPhysicalMaterial:ar,MeshStandardMaterial:or,MeshPhongMaterial:sr,MeshToonMaterial:ur,MeshNormalMaterial:cr,MeshLambertMaterial:lr,MeshDepthMaterial:pt,MeshDistanceMaterial:ft,MeshBasicMaterial:J,MeshMatcapMaterial:hr,LineDashedMaterial:pr,LineBasicMaterial:Ft,Material:W}),wc={arraySlice:function(e,t,n){return wc.isTypedArray(e)?new e.constructor(e.subarray(t,void 0===n?e.length:n)):e.slice(t,n)},convertArray:function(e,t,n){return e&&(n||e.constructor!==t)?"number"==typeof t.BYTES_PER_ELEMENT?new t(e):Array.prototype.slice.call(e):e},isTypedArray:function(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)},getKeyframeOrder:function(e){for(var t=e.length,n=Array(t),r=0;r!==t;++r)n[r]=r;return n.sort(function(t,n){return e[t]-e[n]}),n},sortedArray:function(e,t,n){for(var r,i=e.length,o=new e.constructor(i),a=0,s=0;s!==i;++a){r=n[a]*t;for(var u=0;u!==t;++u)o[s++]=e[r+u]}return o},flattenJSON:function(e,t,n,r){for(var i=1,o=e[0];void 0!==o&&void 0===o[r];)o=e[i++];if(void 0!==o){var a=o[r];if(void 0!==a)if(Array.isArray(a))do{void 0!==(a=o[r])&&(t.push(o.time),n.push.apply(n,a)),o=e[i++]}while(void 0!==o);else if(void 0!==a.toArray)do{void 0!==(a=o[r])&&(t.push(o.time),a.toArray(n,n.length)),o=e[i++]}while(void 0!==o);else do{void 0!==(a=o[r])&&(t.push(o.time),n.push(a)),o=e[i++]}while(void 0!==o)}}};Object.assign(fr.prototype,{evaluate:function(e){var t=this.parameterPositions,n=this._cachedIndex,r=t[n],i=t[n-1];e:{t:{var o;n:{r:if(!(e<r)){for(var a=n+2;;){if(void 0===r){if(e<i)break r;return n=t.length,this._cachedIndex=n,this.afterEnd_(n-1,e,i)}if(n===a)break;if(i=r,e<(r=t[++n]))break t}o=t.length;break n}if(e>=i)break e;var s=t[1];e<s&&(n=2,i=s);for(a=n-2;;){if(void 0===i)return this._cachedIndex=0,this.beforeStart_(0,e,r);if(n===a)break;if(r=i,e>=(i=t[--n-1]))break t}o=n,n=0}for(;n<o;){var u=n+o>>>1;e<t[u]?o=u:n=u+1}if(r=t[n],void 0===(i=t[n-1]))return this._cachedIndex=0,this.beforeStart_(0,e,r);if(void 0===r)return n=t.length,this._cachedIndex=n,this.afterEnd_(n-1,i,e)}this._cachedIndex=n,this.intervalChanged_(n,i,r)}return this.interpolate_(n,i,e,r)},settings:null,DefaultSettings_:{},getSettings_:function(){return this.settings||this.DefaultSettings_},copySampleValue_:function(e){for(var t=this.resultBuffer,n=this.sampleValues,r=this.valueSize,i=0;i!==r;++i)t[i]=n[e*r+i];return t},interpolate_:function(){throw new Error("call to abstract method")},intervalChanged_:function(){}}),Object.assign(fr.prototype,{beforeStart_:fr.prototype.copySampleValue_,afterEnd_:fr.prototype.copySampleValue_}),dr.prototype=Object.assign(Object.create(fr.prototype),{constructor:dr,DefaultSettings_:{endingStart:Tu,endingEnd:Tu},intervalChanged_:function(e,t,n){var r=this.parameterPositions,i=e-2,o=e+1,a=r[i],s=r[o];if(void 0===a)switch(this.getSettings_().endingStart){case Au:i=e,a=2*t-n;break;case Mu:a=t+r[i=r.length-2]-r[i+1];break;default:i=e,a=n}if(void 0===s)switch(this.getSettings_().endingEnd){case Au:o=e,s=2*n-t;break;case Mu:o=1,s=n+r[1]-r[0];break;default:o=e-1,s=t}var u=.5*(n-t),c=this.valueSize;this._weightPrev=u/(t-a),this._weightNext=u/(s-n),this._offsetPrev=i*c,this._offsetNext=o*c},interpolate_:function(e,t,n,r){for(var i=this.resultBuffer,o=this.sampleValues,a=this.valueSize,s=e*a,u=this._offsetPrev,c=this._offsetNext,l=this._weightPrev,h=this._weightNext,p=(n-t)/(r-t),f=p*p,d=f*p,m=0;m!==a;++m)i[m]=(-l*d+2*l*f-l*p)*o[u+m]+((1+l)*d+(-1.5-2*l)*f+(-.5+l)*p+1)*o[s-a+m]+((-1-h)*d+(1.5+h)*f+.5*p)*o[s+m]+(h*d-h*f)*o[c+m];return i}}),mr.prototype=Object.assign(Object.create(fr.prototype),{constructor:mr,interpolate_:function(e,t,n,r){for(var i=this.resultBuffer,o=this.sampleValues,a=this.valueSize,s=e*a,u=(n-t)/(r-t),c=0;c!==a;++c)i[c]=o[s-a+c]*(1-u)+o[s+c]*u;return i}}),gr.prototype=Object.assign(Object.create(fr.prototype),{constructor:gr,interpolate_:function(e){return this.copySampleValue_(e-1)}}),Object.assign(vr,{toJSON:function(e){var t,n=e.constructor;if(void 0!==n.toJSON)t=n.toJSON(e);else{t={name:e.name,times:wc.convertArray(e.times,Array),values:wc.convertArray(e.values,Array)};var r=e.getInterpolation();r!==e.DefaultInterpolation&&(t.interpolation=r)}return t.type=e.ValueTypeName,t}}),Object.assign(vr.prototype,{constructor:vr,TimeBufferType:Float32Array,ValueBufferType:Float32Array,DefaultInterpolation:Eu,InterpolantFactoryMethodDiscrete:function(e){return new gr(this.times,this.values,this.getValueSize(),e)},InterpolantFactoryMethodLinear:function(e){return new mr(this.times,this.values,this.getValueSize(),e)},InterpolantFactoryMethodSmooth:function(e){return new dr(this.times,this.values,this.getValueSize(),e)},setInterpolation:function(e){var t;if(e===_u?t=this.InterpolantFactoryMethodDiscrete:e===Eu?t=this.InterpolantFactoryMethodLinear:e===Su&&(t=this.InterpolantFactoryMethodSmooth),void 0===t){var n="unsupported interpolation for "+this.ValueTypeName+" keyframe track named "+this.name;if(void 0===this.createInterpolant){if(e===this.DefaultInterpolation)throw new Error(n);this.setInterpolation(this.DefaultInterpolation)}return console.warn("THREE.KeyframeTrack:",n),this}return this.createInterpolant=t,this},getInterpolation:function(){switch(this.createInterpolant){case this.InterpolantFactoryMethodDiscrete:return _u;case this.InterpolantFactoryMethodLinear:return Eu;case this.InterpolantFactoryMethodSmooth:return Su}},getValueSize:function(){return this.values.length/this.times.length},shift:function(e){if(0!==e)for(var t=this.times,n=0,r=t.length;n!==r;++n)t[n]+=e;return this},scale:function(e){if(1!==e)for(var t=this.times,n=0,r=t.length;n!==r;++n)t[n]*=e;return this},trim:function(e,t){for(var n=this.times,r=n.length,i=0,o=r-1;i!==r&&n[i]<e;)++i;for(;-1!==o&&n[o]>t;)--o;if(++o,0!==i||o!==r){i>=o&&(i=(o=oa(o,1))-1);var a=this.getValueSize();this.times=wc.arraySlice(n,i,o),this.values=wc.arraySlice(this.values,i*a,o*a)}return this},validate:function(){var e=!0,t=this.getValueSize();0!=t-sa(t)&&(console.error("THREE.KeyframeTrack: Invalid value size in track.",this),e=!1);var n=this.times,r=this.values,i=n.length;0===i&&(console.error("THREE.KeyframeTrack: Track is empty.",this),e=!1);for(var o,a=null,s=0;s!==i;s++){if("number"==typeof(o=n[s])&&isNaN(o)){console.error("THREE.KeyframeTrack: Time is not a valid number.",this,s,o),e=!1;break}if(null!==a&&a>o){console.error("THREE.KeyframeTrack: Out of order keys.",this,s,o,a),e=!1;break}a=o}if(void 0!==r&&wc.isTypedArray(r)){s=0;for(var u,c=r.length;s!==c;++s)if(u=r[s],isNaN(u)){console.error("THREE.KeyframeTrack: Value is not a valid number.",this,s,u),e=!1;break}}return e},optimize:function(){for(var e=this.times,t=this.values,n=this.getValueSize(),r=this.getInterpolation()===Su,i=1,o=e.length-1,a=1;a<o;++a){var s=!1,u=e[a];if(u!==e[a+1]&&(1!==a||u!==u[0]))if(r)s=!0;else for(var c,l=a*n,h=0;h!==n;++h)if((c=t[l+h])!==t[l-n+h]||c!==t[l+n+h]){s=!0;break}if(s){if(a!==i){e[i]=e[a];var p=a*n,f=i*n;for(h=0;h!==n;++h)t[f+h]=t[p+h]}++i}}if(0<o){e[i]=e[o];for(p=o*n,f=i*n,h=0;h!==n;++h)t[f+h]=t[p+h];++i}return i!==e.length&&(this.times=wc.arraySlice(e,0,i),this.values=wc.arraySlice(t,0,i*n)),this}}),yr.prototype=Object.assign(Object.create(vr.prototype),{constructor:yr,ValueTypeName:"bool",ValueBufferType:Array,DefaultInterpolation:_u,InterpolantFactoryMethodLinear:void 0,InterpolantFactoryMethodSmooth:void 0}),xr.prototype=Object.assign(Object.create(vr.prototype),{constructor:xr,ValueTypeName:"color"}),br.prototype=Object.assign(Object.create(vr.prototype),{constructor:br,ValueTypeName:"number"}),wr.prototype=Object.assign(Object.create(fr.prototype),{constructor:wr,interpolate_:function(e,t,n,r){for(var i=this.resultBuffer,o=this.sampleValues,s=this.valueSize,u=e*s,c=u+s;u!==c;u+=4)a.slerpFlat(i,0,o,u-s,o,u,(n-t)/(r-t));return i}}),_r.prototype=Object.assign(Object.create(vr.prototype),{constructor:_r,ValueTypeName:"quaternion",DefaultInterpolation:Eu,InterpolantFactoryMethodLinear:function(e){return new wr(this.times,this.values,this.getValueSize(),e)},InterpolantFactoryMethodSmooth:void 0}),Er.prototype=Object.assign(Object.create(vr.prototype),{constructor:Er,ValueTypeName:"string",ValueBufferType:Array,DefaultInterpolation:_u,InterpolantFactoryMethodLinear:void 0,InterpolantFactoryMethodSmooth:void 0}),Sr.prototype=Object.assign(Object.create(vr.prototype),{constructor:Sr,ValueTypeName:"vector"}),Object.assign(Tr,{parse:function(e){for(var t=[],n=e.tracks,r=1/(e.fps||1),i=0,o=n.length;i!==o;++i)t.push(Ar(n[i]).scale(r));return new Tr(e.name,e.duration,t)},toJSON:function(e){for(var t=[],n=e.tracks,r={name:e.name,duration:e.duration,tracks:t,uuid:e.uuid},i=0,o=n.length;i!==o;++i)t.push(vr.toJSON(n[i]));return r},CreateFromMorphTargetSequence:function(e,t,n,r){for(var i=t.length,o=[],a=0;a<i;a++){var s=[],u=[];s.push((a+i-1)%i,a,(a+1)%i),u.push(0,1,0);var c=wc.getKeyframeOrder(s);s=wc.sortedArray(s,1,c),u=wc.sortedArray(u,1,c),r||0!==s[0]||(s.push(i),u.push(u[0])),o.push(new br(".morphTargetInfluences["+t[a].name+"]",s,u).scale(1/n))}return new Tr(e,-1,o)},findByName:function(e,t){var n=e;if(!Array.isArray(e)){var r=e;n=r.geometry&&r.geometry.animations||r.animations}for(var i=0;i<n.length;i++)if(n[i].name===t)return n[i];return null},CreateClipsFromMorphTargetSequences:function(e,t,n){for(var r={},i=/^([\w-]*?)([\d]+)$/,o=0,a=e.length;o<a;o++){var s=e[o],u=s.name.match(i);if(u&&1<u.length){var c=r[h=u[1]];c||(r[h]=c=[]),c.push(s)}}var l=[];for(var h in r)l.push(Tr.CreateFromMorphTargetSequence(h,r[h],t,n));return l},parseAnimation:function(e,t){if(!e)return console.error("THREE.AnimationClip: No animation in JSONLoader data."),null;for(var n,r=function(e,t,n,r,i){if(0!==n.length){var o=[],a=[];wc.flattenJSON(n,o,a,r),0!==o.length&&i.push(new e(t,o,a))}},i=[],o=e.name||"default",a=e.length||-1,s=e.fps||30,u=e.hierarchy||[],c=0;c<u.length;c++)if((n=u[c].keys)&&0!==n.length)if(n[0].morphTargets){for(var l={},h=0;h<n.length;h++)if(n[h].morphTargets)for(var p=0;p<n[h].morphTargets.length;p++)l[n[h].morphTargets[p]]=-1;for(var f in l){var d,m=[],g=[];for(p=0;p!==n[h].morphTargets.length;++p)d=n[h],m.push(d.time),g.push(d.morphTarget===f?1:0);i.push(new br(".morphTargetInfluence["+f+"]",m,g))}a=l.length*(s||1)}else{var v=".bones["+t[c].name+"]";r(Sr,v+".position",n,"pos",i),r(_r,v+".quaternion",n,"rot",i),r(Sr,v+".scale",n,"scl",i)}return 0===i.length?null:new Tr(o,a,i)}}),Object.assign(Tr.prototype,{resetDuration:function(){for(var e,t=0,n=0,r=this.tracks.length;n!==r;++n)e=this.tracks[n],t=oa(t,e.times[e.times.length-1]);return this.duration=t,this},trim:function(){for(var e=0;e<this.tracks.length;e++)this.tracks[e].trim(0,this.duration);return this},validate:function(){for(var e=!0,t=0;t<this.tracks.length;t++)e=e&&this.tracks[t].validate();return e},optimize:function(){for(var e=0;e<this.tracks.length;e++)this.tracks[e].optimize();return this}});var _c={enabled:!1,files:{},add:function(e,t){!1===this.enabled||(this.files[e]=t)},get:function(e){return!1===this.enabled?void 0:this.files[e]},remove:function(e){delete this.files[e]},clear:function(){this.files={}}},Ec=new Mr,Sc={};Object.assign(Cr.prototype,{load:function(e,t,n,r){void 0===e&&(e=""),void 0!==this.path&&(e=this.path+e),e=this.manager.resolveURL(e);var i=this,o=_c.get(e);if(void 0!==o)return i.manager.itemStart(e),setTimeout(function(){t&&t(o),i.manager.itemEnd(e)},0),o;if(void 0===Sc[e]){var a=e.match(/^data:(.*?)(;base64)?,(.*)$/);if(a){var s=a[1],u=!!a[2],c=a[3];c=decodeURIComponent(c),u&&(c=atob(c));try{var l,h=(this.responseType||"").toLowerCase();switch(h){case"arraybuffer":case"blob":for(var p=new Uint8Array(c.length),f=0;f<c.length;f++)p[f]=c.charCodeAt(f);l="blob"===h?new Blob([p.buffer],{type:s}):p.buffer;break;case"document":var d=new DOMParser;l=d.parseFromString(c,s);break;case"json":l=JSON.parse(c);break;default:l=c}setTimeout(function(){t&&t(l),i.manager.itemEnd(e)},0)}catch(t){setTimeout(function(){r&&r(t),i.manager.itemError(e),i.manager.itemEnd(e)},0)}}else{Sc[e]=[],Sc[e].push({onLoad:t,onProgress:n,onError:r});var m=new XMLHttpRequest;for(var g in m.open("GET",e,!0),m.addEventListener("load",function(t){var n=this.response;_c.add(e,n);var r=Sc[e];if(delete Sc[e],200===this.status||0===this.status){0===this.status&&console.warn("THREE.FileLoader: HTTP Status 0 received.");for(var o=0,a=r.length;o<a;o++)(s=r[o]).onLoad&&s.onLoad(n);i.manager.itemEnd(e)}else{var s;for(o=0,a=r.length;o<a;o++)(s=r[o]).onError&&s.onError(t);i.manager.itemError(e),i.manager.itemEnd(e)}},!1),m.addEventListener("progress",function(t){for(var n,r=Sc[e],i=0,o=r.length;i<o;i++)(n=r[i]).onProgress&&n.onProgress(t)},!1),m.addEventListener("error",function(t){var n=Sc[e];delete Sc[e];for(var r,o=0,a=n.length;o<a;o++)(r=n[o]).onError&&r.onError(t);i.manager.itemError(e),i.manager.itemEnd(e)},!1),m.addEventListener("abort",function(t){var n=Sc[e];delete Sc[e];for(var r,o=0,a=n.length;o<a;o++)(r=n[o]).onError&&r.onError(t);i.manager.itemError(e),i.manager.itemEnd(e)},!1),void 0!==this.responseType&&(m.responseType=this.responseType),void 0!==this.withCredentials&&(m.withCredentials=this.withCredentials),m.overrideMimeType&&m.overrideMimeType(void 0===this.mimeType?"text/plain":this.mimeType),this.requestHeader)m.setRequestHeader(g,this.requestHeader[g]);m.send(null)}return i.manager.itemStart(e),m}Sc[e].push({onLoad:t,onProgress:n,onError:r})},setPath:function(e){return this.path=e,this},setResponseType:function(e){return this.responseType=e,this},setWithCredentials:function(e){return this.withCredentials=e,this},setMimeType:function(e){return this.mimeType=e,this},setRequestHeader:function(e){return this.requestHeader=e,this}}),Object.assign(Dr.prototype,{load:function(e,t,n,r){var i=this,o=new Cr(i.manager);o.setPath(i.path),o.load(e,function(e){t(i.parse(JSON.parse(e)))},n,r)},parse:function(e,t){for(var n,r=[],i=0;i<e.length;i++)n=Tr.parse(e[i]),r.push(n);t(r)},setPath:function(e){return this.path=e,this}}),Object.assign(Lr.prototype,{load:function(e,t,n,r){function i(i){u.load(e[i],function(e){var n=o._parser(e,!0);a[i]={width:n.width,height:n.height,format:n.format,mipmaps:n.mipmaps},6===(c+=1)&&(1===n.mipmapCount&&(s.minFilter=As),s.format=n.format,s.needsUpdate=!0,t&&t(s))},n,r)}var o=this,a=[],s=new Vt;s.image=a;var u=new Cr(this.manager);if(u.setPath(this.path),u.setResponseType("arraybuffer"),Array.isArray(e))for(var c=0,l=0,h=e.length;l<h;++l)i(l);else u.load(e,function(e){var n=o._parser(e,!0);if(n.isCubemap)for(var r=n.mipmaps.length/n.mipmapCount,i=0;i<r;i++){a[i]={mipmaps:[]};for(var u=0;u<n.mipmapCount;u++)a[i].mipmaps.push(n.mipmaps[i*n.mipmapCount+u]),a[i].format=n.format,a[i].width=n.width,a[i].height=n.height}else s.image.width=n.width,s.image.height=n.height,s.mipmaps=n.mipmaps;1===n.mipmapCount&&(s.minFilter=As),s.format=n.format,s.needsUpdate=!0,t&&t(s)},n,r);return s},setPath:function(e){return this.path=e,this}}),Object.assign(Pr.prototype,{load:function(e,t,n,r){var i=this,o=new f,a=new Cr(this.manager);return a.setResponseType("arraybuffer"),a.setPath(this.path),a.load(e,function(e){var n=i._parser(e);n&&(void 0===n.image?void 0!==n.data&&(o.image.width=n.width,o.image.height=n.height,o.image.data=n.data):o.image=n.image,o.wrapS=void 0===n.wrapS?ws:n.wrapS,o.wrapT=void 0===n.wrapT?ws:n.wrapT,o.magFilter=void 0===n.magFilter?As:n.magFilter,o.minFilter=void 0===n.minFilter?Cs:n.minFilter,o.anisotropy=void 0===n.anisotropy?1:n.anisotropy,void 0!==n.format&&(o.format=n.format),void 0!==n.type&&(o.type=n.type),void 0!==n.mipmaps&&(o.mipmaps=n.mipmaps),1===n.mipmapCount&&(o.minFilter=As),o.needsUpdate=!0,t&&t(o,n))},n,r),o},setPath:function(e){return this.path=e,this}}),Object.assign(Rr.prototype,{crossOrigin:"anonymous",load:function(e,t,n,r){function i(){u.removeEventListener("load",i,!1),u.removeEventListener("error",o,!1),_c.add(e,this),t&&t(this),a.manager.itemEnd(e)}function o(t){u.removeEventListener("load",i,!1),u.removeEventListener("error",o,!1),r&&r(t),a.manager.itemError(e),a.manager.itemEnd(e)}void 0===e&&(e=""),void 0!==this.path&&(e=this.path+e),e=this.manager.resolveURL(e);var a=this,s=_c.get(e);if(void 0!==s)return a.manager.itemStart(e),setTimeout(function(){t&&t(s),a.manager.itemEnd(e)},0),s;var u=document.createElementNS("http://www.w3.org/1999/xhtml","img");return u.addEventListener("load",i,!1),u.addEventListener("error",o,!1),"data:"!==e.substr(0,5)&&void 0!==this.crossOrigin&&(u.crossOrigin=this.crossOrigin),a.manager.itemStart(e),u.src=e,u},setCrossOrigin:function(e){return this.crossOrigin=e,this},setPath:function(e){return this.path=e,this}}),Object.assign(Or.prototype,{crossOrigin:"anonymous",load:function(e,t,n,r){function i(n){a.load(e[n],function(e){o.images[n]=e,6===++s&&(o.needsUpdate=!0,t&&t(o))},void 0,r)}var o=new ue,a=new Rr(this.manager);a.setCrossOrigin(this.crossOrigin),a.setPath(this.path);for(var s=0,u=0;u<e.length;++u)i(u);return o},setCrossOrigin:function(e){return this.crossOrigin=e,this},setPath:function(e){return this.path=e,this}}),Object.assign(Ir.prototype,{crossOrigin:"anonymous",load:function(e,t,n,r){var i=new c,o=new Rr(this.manager);return o.setCrossOrigin(this.crossOrigin),o.setPath(this.path),o.load(e,function(n){i.image=n;var r=0<e.search(/\.jpe?g($|\?)/i)||0===e.search(/^data\:image\/jpeg/);i.format=r?Gs:Hs,i.needsUpdate=!0,void 0!==t&&t(i)},n,r),i},setCrossOrigin:function(e){return this.crossOrigin=e,this},setPath:function(e){return this.path=e,this}}),Object.assign(kr.prototype,{getPoint:function(){return console.warn("THREE.Curve: .getPoint() not implemented."),null},getPointAt:function(e,t){var n=this.getUtoTmapping(e);return this.getPoint(n,t)},getPoints:function(e){void 0===e&&(e=5);for(var t=[],n=0;n<=e;n++)t.push(this.getPoint(n/e));return t},getSpacedPoints:function(e){void 0===e&&(e=5);for(var t=[],n=0;n<=e;n++)t.push(this.getPointAt(n/e));return t},getLength:function(){var e=this.getLengths();return e[e.length-1]},getLengths:function(e){if(void 0===e&&(e=this.arcLengthDivisions),this.cacheArcLengths&&this.cacheArcLengths.length===e+1&&!this.needsUpdate)return this.cacheArcLengths;this.needsUpdate=!1;var t,n,r=[],i=this.getPoint(0),o=0;for(r.push(0),n=1;n<=e;n++)o+=(t=this.getPoint(n/e)).distanceTo(i),r.push(o),i=t;return this.cacheArcLengths=r,r},updateArcLengths:function(){this.needsUpdate=!0,this.getLengths()},getUtoTmapping:function(e,t){var n,r=this.getLengths(),i=0,o=r.length;n=t||e*r[o-1];for(var a,s=0,u=o-1;s<=u;)if(0>(a=r[i=sa(s+(u-s)/2)]-n))s=i+1;else{if(!(0<a)){u=i;break}u=i-1}if(r[i=u]===n)return i/(o-1);var c=r[i];return(i+(n-c)/(r[i+1]-c))/(o-1)},getTangent:function(e){var t=e-1e-4,n=e+1e-4;0>t&&(t=0),1<n&&(n=1);var r=this.getPoint(t);return this.getPoint(n).clone().sub(r).normalize()},getTangentAt:function(e){var t=this.getUtoTmapping(e);return this.getTangent(t)},computeFrenetFrames:function(e,t){var n,r,i,a=new s,u=[],c=[],l=[],h=new s,p=new o;for(n=0;n<=e;n++)r=n/e,u[n]=this.getTangentAt(r),u[n].normalize();c[0]=new s,l[0]=new s;var f=Number.MAX_VALUE,d=Yo(u[0].x),m=Yo(u[0].y),g=Yo(u[0].z);for(d<=f&&(f=d,a.set(1,0,0)),m<=f&&(f=m,a.set(0,1,0)),g<=f&&a.set(0,0,1),h.crossVectors(u[0],a).normalize(),c[0].crossVectors(u[0],h),l[0].crossVectors(u[0],c[0]),n=1;n<=e;n++)c[n]=c[n-1].clone(),l[n]=l[n-1].clone(),h.crossVectors(u[n-1],u[n]),h.length()>ra&&(h.normalize(),i=Vo(Hu.clamp(u[n-1].dot(u[n]),-1,1)),c[n].applyMatrix4(p.makeRotationAxis(h,i))),l[n].crossVectors(u[n],c[n]);if(!0===t)for(i=Vo(Hu.clamp(c[0].dot(c[e]),-1,1)),i/=e,0<u[0].dot(h.crossVectors(c[0],c[e]))&&(i=-i),n=1;n<=e;n++)c[n].applyMatrix4(p.makeRotationAxis(u[n],i*n)),l[n].crossVectors(u[n],c[n]);return{tangents:u,normals:c,binormals:l}},clone:function(){return(new this.constructor).copy(this)},copy:function(e){return this.arcLengthDivisions=e.arcLengthDivisions,this},toJSON:function(){return{metadata:{version:4.5,type:"Curve",generator:"Curve.toJSON"},arcLengthDivisions:this.arcLengthDivisions,type:this.type}},fromJSON:function(e){return this.arcLengthDivisions=e.arcLengthDivisions,this}}),Nr.prototype=Object.create(kr.prototype),Nr.prototype.constructor=Nr,Nr.prototype.isEllipseCurve=!0,Nr.prototype.getPoint=function(e,t){for(var n=t||new i,r=2*ea,o=this.aEndAngle-this.aStartAngle,a=Yo(o)<ra;0>o;)o+=r;for(;o>r;)o-=r;o<ra&&(o=a?0:r),!0!==this.aClockwise||a||(o===r?o=-r:o-=r);var s=this.aStartAngle+e*o,u=this.aX+this.xRadius*Xo(s),c=this.aY+this.yRadius*Wo(s);if(0!==this.aRotation){var l=Xo(this.aRotation),h=Wo(this.aRotation),p=u-this.aX,f=c-this.aY;u=p*l-f*h+this.aX,c=p*h+f*l+this.aY}return n.set(u,c)},Nr.prototype.copy=function(e){return kr.prototype.copy.call(this,e),this.aX=e.aX,this.aY=e.aY,this.xRadius=e.xRadius,this.yRadius=e.yRadius,this.aStartAngle=e.aStartAngle,this.aEndAngle=e.aEndAngle,this.aClockwise=e.aClockwise,this.aRotation=e.aRotation,this},Nr.prototype.toJSON=function(){var e=kr.prototype.toJSON.call(this);return e.aX=this.aX,e.aY=this.aY,e.xRadius=this.xRadius,e.yRadius=this.yRadius,e.aStartAngle=this.aStartAngle,e.aEndAngle=this.aEndAngle,e.aClockwise=this.aClockwise,e.aRotation=this.aRotation,e},Nr.prototype.fromJSON=function(e){return kr.prototype.fromJSON.call(this,e),this.aX=e.aX,this.aY=e.aY,this.xRadius=e.xRadius,this.yRadius=e.yRadius,this.aStartAngle=e.aStartAngle,this.aEndAngle=e.aEndAngle,this.aClockwise=e.aClockwise,this.aRotation=e.aRotation,this},Fr.prototype=Object.create(Nr.prototype),Fr.prototype.constructor=Fr,Fr.prototype.isArcCurve=!0;var Tc=new s,Ac=new Br,Mc=new Br,Cc=new Br;Ur.prototype=Object.create(kr.prototype),Ur.prototype.constructor=Ur,Ur.prototype.isCatmullRomCurve3=!0,Ur.prototype.getPoint=function(e,t){var n,r,i,o,a=t||new s,u=this.points,c=u.length,l=(c-(this.closed?0:1))*e,h=sa(l),p=l-h;if(this.closed?h+=0<h?0:(sa(Yo(h)/c)+1)*c:0==p&&h===c-1&&(h=c-2,p=1),this.closed||0<h?n=u[(h-1)%c]:(Tc.subVectors(u[0],u[1]).add(u[0]),n=Tc),r=u[h%c],i=u[(h+1)%c],this.closed||h+2<c?o=u[(h+2)%c]:(Tc.subVectors(u[c-1],u[c-2]).add(u[c-1]),o=Tc),"centripetal"===this.curveType||"chordal"===this.curveType){var f="chordal"===this.curveType?.5:.25,d=Zo(n.distanceToSquared(r),f),m=Zo(r.distanceToSquared(i),f),g=Zo(i.distanceToSquared(o),f);1e-4>m&&(m=1),1e-4>d&&(d=m),1e-4>g&&(g=m),Ac.initNonuniformCatmullRom(n.x,r.x,i.x,o.x,d,m,g),Mc.initNonuniformCatmullRom(n.y,r.y,i.y,o.y,d,m,g),Cc.initNonuniformCatmullRom(n.z,r.z,i.z,o.z,d,m,g)}else"catmullrom"===this.curveType&&(Ac.initCatmullRom(n.x,r.x,i.x,o.x,this.tension),Mc.initCatmullRom(n.y,r.y,i.y,o.y,this.tension),Cc.initCatmullRom(n.z,r.z,i.z,o.z,this.tension));return a.set(Ac.calc(p),Mc.calc(p),Cc.calc(p)),a},Ur.prototype.copy=function(e){kr.prototype.copy.call(this,e),this.points=[];for(var t,n=0,r=e.points.length;n<r;n++)t=e.points[n],this.points.push(t.clone());return this.closed=e.closed,this.curveType=e.curveType,this.tension=e.tension,this},Ur.prototype.toJSON=function(){var e=kr.prototype.toJSON.call(this);e.points=[];for(var t,n=0,r=this.points.length;n<r;n++)t=this.points[n],e.points.push(t.toArray());return e.closed=this.closed,e.curveType=this.curveType,e.tension=this.tension,e},Ur.prototype.fromJSON=function(e){kr.prototype.fromJSON.call(this,e),this.points=[];for(var t,n=0,r=e.points.length;n<r;n++)t=e.points[n],this.points.push((new s).fromArray(t));return this.closed=e.closed,this.curveType=e.curveType,this.tension=e.tension,this},Hr.prototype=Object.create(kr.prototype),Hr.prototype.constructor=Hr,Hr.prototype.isCubicBezierCurve=!0,Hr.prototype.getPoint=function(e,t){var n=t||new i,r=this.v0,o=this.v1,a=this.v2,s=this.v3;return n.set(Gr(e,r.x,o.x,a.x,s.x),Gr(e,r.y,o.y,a.y,s.y)),n},Hr.prototype.copy=function(e){return kr.prototype.copy.call(this,e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this.v3.copy(e.v3),this},Hr.prototype.toJSON=function(){var e=kr.prototype.toJSON.call(this);return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e.v3=this.v3.toArray(),e},Hr.prototype.fromJSON=function(e){return kr.prototype.fromJSON.call(this,e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this.v3.fromArray(e.v3),this},Vr.prototype=Object.create(kr.prototype),Vr.prototype.constructor=Vr,Vr.prototype.isCubicBezierCurve3=!0,Vr.prototype.getPoint=function(e,t){var n=t||new s,r=this.v0,i=this.v1,o=this.v2,a=this.v3;return n.set(Gr(e,r.x,i.x,o.x,a.x),Gr(e,r.y,i.y,o.y,a.y),Gr(e,r.z,i.z,o.z,a.z)),n},Vr.prototype.copy=function(e){return kr.prototype.copy.call(this,e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this.v3.copy(e.v3),this},Vr.prototype.toJSON=function(){var e=kr.prototype.toJSON.call(this);return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e.v3=this.v3.toArray(),e},Vr.prototype.fromJSON=function(e){return kr.prototype.fromJSON.call(this,e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this.v3.fromArray(e.v3),this},Wr.prototype=Object.create(kr.prototype),Wr.prototype.constructor=Wr,Wr.prototype.isLineCurve=!0,Wr.prototype.getPoint=function(e,t){var n=t||new i;return 1===e?n.copy(this.v2):(n.copy(this.v2).sub(this.v1),n.multiplyScalar(e).add(this.v1)),n},Wr.prototype.getPointAt=function(e,t){return this.getPoint(e,t)},Wr.prototype.getTangent=function(){return this.v2.clone().sub(this.v1).normalize()},Wr.prototype.copy=function(e){return kr.prototype.copy.call(this,e),this.v1.copy(e.v1),this.v2.copy(e.v2),this},Wr.prototype.toJSON=function(){var e=kr.prototype.toJSON.call(this);return e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e},Wr.prototype.fromJSON=function(e){return kr.prototype.fromJSON.call(this,e),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this},Xr.prototype=Object.create(kr.prototype),Xr.prototype.constructor=Xr,Xr.prototype.isLineCurve3=!0,Xr.prototype.getPoint=function(e,t){var n=t||new s;return 1===e?n.copy(this.v2):(n.copy(this.v2).sub(this.v1),n.multiplyScalar(e).add(this.v1)),n},Xr.prototype.getPointAt=function(e,t){return this.getPoint(e,t)},Xr.prototype.copy=function(e){return kr.prototype.copy.call(this,e),this.v1.copy(e.v1),this.v2.copy(e.v2),this},Xr.prototype.toJSON=function(){var e=kr.prototype.toJSON.call(this);return e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e},Xr.prototype.fromJSON=function(e){return kr.prototype.fromJSON.call(this,e),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this},qr.prototype=Object.create(kr.prototype),qr.prototype.constructor=qr,qr.prototype.isQuadraticBezierCurve=!0,qr.prototype.getPoint=function(e,t){var n=t||new i,r=this.v0,o=this.v1,a=this.v2;return n.set(jr(e,r.x,o.x,a.x),jr(e,r.y,o.y,a.y)),n},qr.prototype.copy=function(e){return kr.prototype.copy.call(this,e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this},qr.prototype.toJSON=function(){var e=kr.prototype.toJSON.call(this);return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e},qr.prototype.fromJSON=function(e){return kr.prototype.fromJSON.call(this,e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this},Yr.prototype=Object.create(kr.prototype),Yr.prototype.constructor=Yr,Yr.prototype.isQuadraticBezierCurve3=!0,Yr.prototype.getPoint=function(e,t){var n=t||new s,r=this.v0,i=this.v1,o=this.v2;return n.set(jr(e,r.x,i.x,o.x),jr(e,r.y,i.y,o.y),jr(e,r.z,i.z,o.z)),n},Yr.prototype.copy=function(e){return kr.prototype.copy.call(this,e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this},Yr.prototype.toJSON=function(){var e=kr.prototype.toJSON.call(this);return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e},Yr.prototype.fromJSON=function(e){return kr.prototype.fromJSON.call(this,e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this},Jr.prototype=Object.create(kr.prototype),Jr.prototype.constructor=Jr,Jr.prototype.isSplineCurve=!0,Jr.prototype.getPoint=function(e,t){var n=t||new i,r=this.points,o=(r.length-1)*e,a=sa(o),s=o-a,u=r[0===a?a:a-1],c=r[a],l=r[a>r.length-2?r.length-1:a+1],h=r[a>r.length-3?r.length-1:a+2];return n.set(zr(s,u.x,c.x,l.x,h.x),zr(s,u.y,c.y,l.y,h.y)),n},Jr.prototype.copy=function(e){kr.prototype.copy.call(this,e),this.points=[];for(var t,n=0,r=e.points.length;n<r;n++)t=e.points[n],this.points.push(t.clone());return this},Jr.prototype.toJSON=function(){var e=kr.prototype.toJSON.call(this);e.points=[];for(var t,n=0,r=this.points.length;n<r;n++)t=this.points[n],e.points.push(t.toArray());return e},Jr.prototype.fromJSON=function(e){kr.prototype.fromJSON.call(this,e),this.points=[];for(var t,n=0,r=e.points.length;n<r;n++)t=e.points[n],this.points.push((new i).fromArray(t));return this};var Dc=Object.freeze({ArcCurve:Fr,CatmullRomCurve3:Ur,CubicBezierCurve:Hr,CubicBezierCurve3:Vr,EllipseCurve:Nr,LineCurve:Wr,LineCurve3:Xr,QuadraticBezierCurve:qr,QuadraticBezierCurve3:Yr,SplineCurve:Jr});Zr.prototype=Object.assign(Object.create(kr.prototype),{constructor:Zr,add:function(e){this.curves.push(e)},closePath:function(){var e=this.curves[0].getPoint(0),t=this.curves[this.curves.length-1].getPoint(1);e.equals(t)||this.curves.push(new Wr(t,e))},getPoint:function(e){for(var t=e*this.getLength(),n=this.getCurveLengths(),r=0;r<n.length;){if(n[r]>=t){var i=n[r]-t,o=this.curves[r],a=o.getLength(),s=0===a?0:1-i/a;return o.getPointAt(s)}r++}return null},getLength:function(){var e=this.getCurveLengths();return e[e.length-1]},updateArcLengths:function(){this.needsUpdate=!0,this.cacheLengths=null,this.getCurveLengths()},getCurveLengths:function(){if(this.cacheLengths&&this.cacheLengths.length===this.curves.length)return this.cacheLengths;for(var e=[],t=0,n=0,r=this.curves.length;n<r;n++)t+=this.curves[n].getLength(),e.push(t);return this.cacheLengths=e,e},getSpacedPoints:function(e){void 0===e&&(e=40);for(var t=[],n=0;n<=e;n++)t.push(this.getPoint(n/e));return this.autoClose&&t.push(t[0]),t},getPoints:function(e){e=e||12;for(var t,n=[],r=0,i=this.curves;r<i.length;r++)for(var o,a=i[r],s=a&&a.isEllipseCurve?2*e:a&&(a.isLineCurve||a.isLineCurve3)?1:a&&a.isSplineCurve?e*a.points.length:e,u=a.getPoints(s),c=0;c<u.length;c++)o=u[c],t&&t.equals(o)||(n.push(o),t=o);return this.autoClose&&1<n.length&&!n[n.length-1].equals(n[0])&&n.push(n[0]),n},copy:function(e){kr.prototype.copy.call(this,e),this.curves=[];for(var t,n=0,r=e.curves.length;n<r;n++)t=e.curves[n],this.curves.push(t.clone());return this.autoClose=e.autoClose,this},toJSON:function(){var e=kr.prototype.toJSON.call(this);e.autoClose=this.autoClose,e.curves=[];for(var t,n=0,r=this.curves.length;n<r;n++)t=this.curves[n],e.curves.push(t.toJSON());return e},fromJSON:function(e){kr.prototype.fromJSON.call(this,e),this.autoClose=e.autoClose,this.curves=[];for(var t,n=0,r=e.curves.length;n<r;n++)t=e.curves[n],this.curves.push((new Dc[t.type]).fromJSON(t));return this}}),Kr.prototype=Object.assign(Object.create(Zr.prototype),{constructor:Kr,setFromPoints:function(e){this.moveTo(e[0].x,e[0].y);for(var t=1,n=e.length;t<n;t++)this.lineTo(e[t].x,e[t].y)},moveTo:function(e,t){this.currentPoint.set(e,t)},lineTo:function(e,t){var n=new Wr(this.currentPoint.clone(),new i(e,t));this.curves.push(n),this.currentPoint.set(e,t)},quadraticCurveTo:function(e,t,n,r){var o=new qr(this.currentPoint.clone(),new i(e,t),new i(n,r));this.curves.push(o),this.currentPoint.set(n,r)},bezierCurveTo:function(e,t,n,r,o,a){var s=new Hr(this.currentPoint.clone(),new i(e,t),new i(n,r),new i(o,a));this.curves.push(s),this.currentPoint.set(o,a)},splineThru:function(e){var t=new Jr([this.currentPoint.clone()].concat(e));this.curves.push(t),this.currentPoint.copy(e[e.length-1])},arc:function(e,t,n,r,i,o){var a=this.currentPoint.x,s=this.currentPoint.y;this.absarc(e+a,t+s,n,r,i,o)},absarc:function(e,t,n,r,i,o){this.absellipse(e,t,n,n,r,i,o)},ellipse:function(e,t,n,r,i,o,a,s){var u=this.currentPoint.x,c=this.currentPoint.y;this.absellipse(e+u,t+c,n,r,i,o,a,s)},absellipse:function(e,t,n,r,i,o,a,s){var u=new Nr(e,t,n,r,i,o,a,s);if(0<this.curves.length){var c=u.getPoint(0);c.equals(this.currentPoint)||this.lineTo(c.x,c.y)}this.curves.push(u);var l=u.getPoint(1);this.currentPoint.copy(l)},copy:function(e){return Zr.prototype.copy.call(this,e),this.currentPoint.copy(e.currentPoint),this},toJSON:function(){var e=Zr.prototype.toJSON.call(this);return e.currentPoint=this.currentPoint.toArray(),e},fromJSON:function(e){return Zr.prototype.fromJSON.call(this,e),this.currentPoint.fromArray(e.currentPoint),this}}),$r.prototype=Object.assign(Object.create(Kr.prototype),{constructor:$r,getPointsHoles:function(e){for(var t=[],n=0,r=this.holes.length;n<r;n++)t[n]=this.holes[n].getPoints(e);return t},extractPoints:function(e){return{shape:this.getPoints(e),holes:this.getPointsHoles(e)}},copy:function(e){Kr.prototype.copy.call(this,e),this.holes=[];for(var t,n=0,r=e.holes.length;n<r;n++)t=e.holes[n],this.holes.push(t.clone());return this},toJSON:function(){var e=Kr.prototype.toJSON.call(this);e.uuid=this.uuid,e.holes=[];for(var t,n=0,r=this.holes.length;n<r;n++)t=this.holes[n],e.holes.push(t.toJSON());return e},fromJSON:function(e){Kr.prototype.fromJSON.call(this,e),this.uuid=e.uuid,this.holes=[];for(var t,n=0,r=e.holes.length;n<r;n++)t=e.holes[n],this.holes.push((new Kr).fromJSON(t));return this}}),Qr.prototype=Object.assign(Object.create(A.prototype),{constructor:Qr,isLight:!0,copy:function(e){return A.prototype.copy.call(this,e),this.color.copy(e.color),this.intensity=e.intensity,this},toJSON:function(e){var t=A.prototype.toJSON.call(this,e);return t.object.color=this.color.getHex(),t.object.intensity=this.intensity,void 0!==this.groundColor&&(t.object.groundColor=this.groundColor.getHex()),void 0!==this.distance&&(t.object.distance=this.distance),void 0!==this.angle&&(t.object.angle=this.angle),void 0!==this.decay&&(t.object.decay=this.decay),void 0!==this.penumbra&&(t.object.penumbra=this.penumbra),void 0!==this.shadow&&(t.object.shadow=this.shadow.toJSON()),t}}),ei.prototype=Object.assign(Object.create(Qr.prototype),{constructor:ei,isHemisphereLight:!0,copy:function(e){return Qr.prototype.copy.call(this,e),this.groundColor.copy(e.groundColor),this}}),Object.assign(ti.prototype,{copy:function(e){return this.camera=e.camera.clone(),this.bias=e.bias,this.radius=e.radius,this.mapSize.copy(e.mapSize),this},clone:function(){return(new this.constructor).copy(this)},toJSON:function(){var e={};return 0!==this.bias&&(e.bias=this.bias),1!==this.radius&&(e.radius=this.radius),(512!==this.mapSize.x||512!==this.mapSize.y)&&(e.mapSize=this.mapSize.toArray()),e.camera=this.camera.toJSON(!1).object,delete e.camera.matrix,e}}),ni.prototype=Object.assign(Object.create(ti.prototype),{constructor:ni,isSpotLightShadow:!0,update:function(e){var t=this.camera,n=2*Hu.RAD2DEG*e.angle,r=this.mapSize.width/this.mapSize.height,i=e.distance||t.far;(n!==t.fov||r!==t.aspect||i!==t.far)&&(t.fov=n,t.aspect=r,t.far=i,t.updateProjectionMatrix())}}),ri.prototype=Object.assign(Object.create(Qr.prototype),{constructor:ri,isSpotLight:!0,copy:function(e){return Qr.prototype.copy.call(this,e),this.distance=e.distance,this.angle=e.angle,this.penumbra=e.penumbra,this.decay=e.decay,this.target=e.target.clone(),this.shadow=e.shadow.clone(),this}}),ii.prototype=Object.assign(Object.create(Qr.prototype),{constructor:ii,isPointLight:!0,copy:function(e){return Qr.prototype.copy.call(this,e),this.distance=e.distance,this.decay=e.decay,this.shadow=e.shadow.clone(),this}}),oi.prototype=Object.assign(Object.create(xt.prototype),{constructor:oi,isOrthographicCamera:!0,copy:function(e,t){return xt.prototype.copy.call(this,e,t),this.left=e.left,this.right=e.right,this.top=e.top,this.bottom=e.bottom,this.near=e.near,this.far=e.far,this.zoom=e.zoom,this.view=null===e.view?null:Object.assign({},e.view),this},setViewOffset:function(e,t,n,r,i,o){null===this.view&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=t,this.view.offsetX=n,this.view.offsetY=r,this.view.width=i,this.view.height=o,this.updateProjectionMatrix()},clearViewOffset:function(){null!==this.view&&(this.view.enabled=!1),this.updateProjectionMatrix()},updateProjectionMatrix:function(){var e=(this.right-this.left)/(2*this.zoom),t=(this.top-this.bottom)/(2*this.zoom),n=(this.right+this.left)/2,r=(this.top+this.bottom)/2,i=n-e,o=n+e,a=r+t,s=r-t;if(null!==this.view&&this.view.enabled){var u=this.zoom/(this.view.width/this.view.fullWidth),c=this.zoom/(this.view.height/this.view.fullHeight),l=(this.right-this.left)/this.view.width,h=(this.top-this.bottom)/this.view.height;o=(i+=l*(this.view.offsetX/u))+l*(this.view.width/u),s=(a-=h*(this.view.offsetY/c))-h*(this.view.height/c)}this.projectionMatrix.makeOrthographic(i,o,a,s,this.near,this.far),this.projectionMatrixInverse.getInverse(this.projectionMatrix)},toJSON:function(e){var t=A.prototype.toJSON.call(this,e);return t.object.zoom=this.zoom,t.object.left=this.left,t.object.right=this.right,t.object.top=this.top,t.object.bottom=this.bottom,t.object.near=this.near,t.object.far=this.far,null!==this.view&&(t.object.view=Object.assign({},this.view)),t}}),ai.prototype=Object.assign(Object.create(ti.prototype),{constructor:ai}),si.prototype=Object.assign(Object.create(Qr.prototype),{constructor:si,isDirectionalLight:!0,copy:function(e){return Qr.prototype.copy.call(this,e),this.target=e.target.clone(),this.shadow=e.shadow.clone(),this}}),ui.prototype=Object.assign(Object.create(Qr.prototype),{constructor:ui,isAmbientLight:!0}),ci.prototype=Object.assign(Object.create(Qr.prototype),{constructor:ci,isRectAreaLight:!0,copy:function(e){return Qr.prototype.copy.call(this,e),this.width=e.width,this.height=e.height,this},toJSON:function(e){var t=Qr.prototype.toJSON.call(this,e);return t.object.width=this.width,t.object.height=this.height,t}}),Object.assign(li.prototype,{load:function(e,t,n,r){var i=this,o=new Cr(i.manager);o.setPath(i.path),o.load(e,function(e){t(i.parse(JSON.parse(e)))},n,r)},parse:function(e){function t(e){return void 0===n[e]&&console.warn("THREE.MaterialLoader: Undefined texture",e),n[e]}var n=this.textures,r=new bc[e.type];if(void 0!==e.uuid&&(r.uuid=e.uuid),void 0!==e.name&&(r.name=e.name),void 0!==e.color&&r.color.setHex(e.color),void 0!==e.roughness&&(r.roughness=e.roughness),void 0!==e.metalness&&(r.metalness=e.metalness),void 0!==e.emissive&&r.emissive.setHex(e.emissive),void 0!==e.specular&&r.specular.setHex(e.specular),void 0!==e.shininess&&(r.shininess=e.shininess),void 0!==e.clearCoat&&(r.clearCoat=e.clearCoat),void 0!==e.clearCoatRoughness&&(r.clearCoatRoughness=e.clearCoatRoughness),void 0!==e.vertexColors&&(r.vertexColors=e.vertexColors),void 0!==e.fog&&(r.fog=e.fog),void 0!==e.flatShading&&(r.flatShading=e.flatShading),void 0!==e.blending&&(r.blending=e.blending),void 0!==e.combine&&(r.combine=e.combine),void 0!==e.side&&(r.side=e.side),void 0!==e.opacity&&(r.opacity=e.opacity),void 0!==e.transparent&&(r.transparent=e.transparent),void 0!==e.alphaTest&&(r.alphaTest=e.alphaTest),void 0!==e.depthTest&&(r.depthTest=e.depthTest),void 0!==e.depthWrite&&(r.depthWrite=e.depthWrite),void 0!==e.colorWrite&&(r.colorWrite=e.colorWrite),void 0!==e.wireframe&&(r.wireframe=e.wireframe),void 0!==e.wireframeLinewidth&&(r.wireframeLinewidth=e.wireframeLinewidth),void 0!==e.wireframeLinecap&&(r.wireframeLinecap=e.wireframeLinecap),void 0!==e.wireframeLinejoin&&(r.wireframeLinejoin=e.wireframeLinejoin),void 0!==e.rotation&&(r.rotation=e.rotation),1!==e.linewidth&&(r.linewidth=e.linewidth),void 0!==e.dashSize&&(r.dashSize=e.dashSize),void 0!==e.gapSize&&(r.gapSize=e.gapSize),void 0!==e.scale&&(r.scale=e.scale),void 0!==e.polygonOffset&&(r.polygonOffset=e.polygonOffset),void 0!==e.polygonOffsetFactor&&(r.polygonOffsetFactor=e.polygonOffsetFactor),void 0!==e.polygonOffsetUnits&&(r.polygonOffsetUnits=e.polygonOffsetUnits),void 0!==e.skinning&&(r.skinning=e.skinning),void 0!==e.morphTargets&&(r.morphTargets=e.morphTargets),void 0!==e.dithering&&(r.dithering=e.dithering),void 0!==e.visible&&(r.visible=e.visible),void 0!==e.userData&&(r.userData=e.userData),void 0!==e.uniforms)for(var a in e.uniforms){var u=e.uniforms[a];switch(r.uniforms[a]={},u.type){case"t":r.uniforms[a].value=t(u.value);break;case"c":r.uniforms[a].value=(new b).setHex(u.value);break;case"v2":r.uniforms[a].value=(new i).fromArray(u.value);break;case"v3":r.uniforms[a].value=(new s).fromArray(u.value);break;case"v4":r.uniforms[a].value=(new l).fromArray(u.value);break;case"m4":r.uniforms[a].value=(new o).fromArray(u.value);break;default:r.uniforms[a].value=u.value}}if(void 0!==e.defines&&(r.defines=e.defines),void 0!==e.vertexShader&&(r.vertexShader=e.vertexShader),void 0!==e.fragmentShader&&(r.fragmentShader=e.fragmentShader),void 0!==e.extensions)for(var c in e.extensions)r.extensions[c]=e.extensions[c];if(void 0!==e.shading&&(r.flatShading=1===e.shading),void 0!==e.size&&(r.size=e.size),void 0!==e.sizeAttenuation&&(r.sizeAttenuation=e.sizeAttenuation),void 0!==e.map&&(r.map=t(e.map)),void 0!==e.alphaMap&&(r.alphaMap=t(e.alphaMap),r.transparent=!0),void 0!==e.bumpMap&&(r.bumpMap=t(e.bumpMap)),void 0!==e.bumpScale&&(r.bumpScale=e.bumpScale),void 0!==e.normalMap&&(r.normalMap=t(e.normalMap)),void 0!==e.normalMapType&&(r.normalMapType=e.normalMapType),void 0!==e.normalScale){var h=e.normalScale;!1===Array.isArray(h)&&(h=[h,h]),r.normalScale=(new i).fromArray(h)}return void 0!==e.displacementMap&&(r.displacementMap=t(e.displacementMap)),void 0!==e.displacementScale&&(r.displacementScale=e.displacementScale),void 0!==e.displacementBias&&(r.displacementBias=e.displacementBias),void 0!==e.roughnessMap&&(r.roughnessMap=t(e.roughnessMap)),void 0!==e.metalnessMap&&(r.metalnessMap=t(e.metalnessMap)),void 0!==e.emissiveMap&&(r.emissiveMap=t(e.emissiveMap)),void 0!==e.emissiveIntensity&&(r.emissiveIntensity=e.emissiveIntensity),void 0!==e.specularMap&&(r.specularMap=t(e.specularMap)),void 0!==e.envMap&&(r.envMap=t(e.envMap)),void 0!==e.envMapIntensity&&(r.envMapIntensity=e.envMapIntensity),void 0!==e.reflectivity&&(r.reflectivity=e.reflectivity),void 0!==e.lightMap&&(r.lightMap=t(e.lightMap)),void 0!==e.lightMapIntensity&&(r.lightMapIntensity=e.lightMapIntensity),void 0!==e.aoMap&&(r.aoMap=t(e.aoMap)),void 0!==e.aoMapIntensity&&(r.aoMapIntensity=e.aoMapIntensity),void 0!==e.gradientMap&&(r.gradientMap=t(e.gradientMap)),r},setPath:function(e){return this.path=e,this},setTextures:function(e){return this.textures=e,this}});var Lc={decodeText:function(e){if("undefined"!=typeof TextDecoder)return(new TextDecoder).decode(e);for(var t="",n=0,r=e.length;n<r;n++)t+=String.fromCharCode(e[n]);return decodeURIComponent(escape(t))},extractUrlBase:function(e){var t=e.lastIndexOf("/");return-1===t?"./":e.substr(0,t+1)}};Object.assign(hi.prototype,{load:function(e,t,n,r){var i=this,o=new Cr(i.manager);o.setPath(i.path),o.load(e,function(e){t(i.parse(JSON.parse(e)))},n,r)},parse:function(e){var t=new z,n=e.data.index;if(void 0!==n){var r=new Pc[n.type](n.array);t.setIndex(new C(r,1))}var i=e.data.attributes;for(var o in i){var a=i[o];r=new Pc[a.type](a.array);t.addAttribute(o,new C(r,a.itemSize,a.normalized))}var u=e.data.groups||e.data.drawcalls||e.data.offsets;if(void 0!==u)for(var c,l=0,h=u.length;l!==h;++l)c=u[l],t.addGroup(c.start,c.count,c.materialIndex);var p=e.data.boundingSphere;if(void 0!==p){var f=new s;void 0!==p.center&&f.fromArray(p.center),t.boundingSphere=new m(f,p.radius)}return e.name&&(t.name=e.name),e.userData&&(t.userData=e.userData),t},setPath:function(e){return this.path=e,this}});var Pc={Int8Array:Int8Array,Uint8Array:Uint8Array,Uint8ClampedArray:"undefined"==typeof Uint8ClampedArray?Uint8Array:Uint8ClampedArray,Int16Array:Int16Array,Uint16Array:Uint16Array,Int32Array:Int32Array,Uint32Array:Uint32Array,Float32Array:Float32Array,Float64Array:Float64Array};Object.assign(pi.prototype,{crossOrigin:"anonymous",load:function(e,t,n,r){var i=this,o=void 0===this.path?Lc.extractUrlBase(e):this.path;this.resourcePath=this.resourcePath||o;var a=new Cr(i.manager);a.setPath(this.path),a.load(e,function(n){var o=null;try{o=JSON.parse(n)}catch(t){return void 0!==r&&r(t),void console.error("THREE:ObjectLoader: Can't parse "+e+".",t.message)}var a=o.metadata;return void 0===a||void 0===a.type||"geometry"===a.type.toLowerCase()?void console.error("THREE.ObjectLoader: Can't load "+e):void i.parse(o,t)},n,r)},setPath:function(e){return this.path=e,this},setResourcePath:function(e){return this.resourcePath=e,this},setCrossOrigin:function(e){return this.crossOrigin=e,this},parse:function(e,t){var n=this.parseShape(e.shapes),r=this.parseGeometries(e.geometries,n),i=this.parseImages(e.images,function(){void 0!==t&&t(s)}),o=this.parseTextures(e.textures,i),a=this.parseMaterials(e.materials,o),s=this.parseObject(e.object,r,a);return e.animations&&(s.animations=this.parseAnimations(e.animations)),(void 0===e.images||0===e.images.length)&&void 0!==t&&t(s),s},parseShape:function(e){var t={};if(void 0!==e)for(var n,r=0,i=e.length;r<i;r++)t[(n=(new $r).fromJSON(e[r])).uuid]=n;return t},parseGeometries:function(e,t){var n={};if(void 0!==e)for(var r=new hi,i=0,o=e.length;i<o;i++){var a,s=e[i];switch(s.type){case"PlaneGeometry":case"PlaneBufferGeometry":a=new xc[s.type](s.width,s.height,s.widthSegments,s.heightSegments);break;case"BoxGeometry":case"BoxBufferGeometry":case"CubeGeometry":a=new xc[s.type](s.width,s.height,s.depth,s.widthSegments,s.heightSegments,s.depthSegments);break;case"CircleGeometry":case"CircleBufferGeometry":a=new xc[s.type](s.radius,s.segments,s.thetaStart,s.thetaLength);break;case"CylinderGeometry":case"CylinderBufferGeometry":a=new xc[s.type](s.radiusTop,s.radiusBottom,s.height,s.radialSegments,s.heightSegments,s.openEnded,s.thetaStart,s.thetaLength);break;case"ConeGeometry":case"ConeBufferGeometry":a=new xc[s.type](s.radius,s.height,s.radialSegments,s.heightSegments,s.openEnded,s.thetaStart,s.thetaLength);break;case"SphereGeometry":case"SphereBufferGeometry":a=new xc[s.type](s.radius,s.widthSegments,s.heightSegments,s.phiStart,s.phiLength,s.thetaStart,s.thetaLength);break;case"DodecahedronGeometry":case"DodecahedronBufferGeometry":case"IcosahedronGeometry":case"IcosahedronBufferGeometry":case"OctahedronGeometry":case"OctahedronBufferGeometry":case"TetrahedronGeometry":case"TetrahedronBufferGeometry":a=new xc[s.type](s.radius,s.detail);break;case"RingGeometry":case"RingBufferGeometry":a=new xc[s.type](s.innerRadius,s.outerRadius,s.thetaSegments,s.phiSegments,s.thetaStart,s.thetaLength);break;case"TorusGeometry":case"TorusBufferGeometry":a=new xc[s.type](s.radius,s.tube,s.radialSegments,s.tubularSegments,s.arc);break;case"TorusKnotGeometry":case"TorusKnotBufferGeometry":a=new xc[s.type](s.radius,s.tube,s.tubularSegments,s.radialSegments,s.p,s.q);break;case"LatheGeometry":case"LatheBufferGeometry":a=new xc[s.type](s.points,s.segments,s.phiStart,s.phiLength);break;case"PolyhedronGeometry":case"PolyhedronBufferGeometry":a=new xc[s.type](s.vertices,s.indices,s.radius,s.details);break;case"ShapeGeometry":case"ShapeBufferGeometry":for(var u=[],c=0,l=s.shapes.length;c<l;c++)h=t[s.shapes[c]],u.push(h);a=new xc[s.type](u,s.curveSegments);break;case"ExtrudeGeometry":case"ExtrudeBufferGeometry":var h;for(u=[],c=0,l=s.shapes.length;c<l;c++)h=t[s.shapes[c]],u.push(h);var p=s.options.extrudePath;void 0!==p&&(s.options.extrudePath=(new Dc[p.type]).fromJSON(p)),a=new xc[s.type](u,s.options);break;case"BufferGeometry":a=r.parse(s);break;case"Geometry":if("THREE"in window&&"LegacyJSONLoader"in THREE)a=(new THREE.LegacyJSONLoader).parse(s,this.resourcePath).geometry;else console.error('THREE.ObjectLoader: You have to import LegacyJSONLoader in order load geometry data of type "Geometry".');break;default:console.warn('THREE.ObjectLoader: Unsupported geometry type "'+s.type+'"');continue}a.uuid=s.uuid,void 0!==s.name&&(a.name=s.name),!0===a.isBufferGeometry&&void 0!==s.userData&&(a.userData=s.userData),n[s.uuid]=a}return n},parseMaterials:function(e,t){var n={},r={};if(void 0!==e){var i=new li;i.setTextures(t);for(var o,a=0,s=e.length;a<s;a++)if("MultiMaterial"===(o=e[a]).type){for(var u,c=[],l=0;l<o.materials.length;l++)void 0===n[(u=o.materials[l]).uuid]&&(n[u.uuid]=i.parse(u)),c.push(n[u.uuid]);r[o.uuid]=c}else r[o.uuid]=i.parse(o),n[o.uuid]=r[o.uuid]}return r},parseAnimations:function(e){for(var t=[],n=0;n<e.length;n++){var r=e[n],i=Tr.parse(r);void 0!==r.uuid&&(i.uuid=r.uuid),t.push(i)}return t},parseImages:function(e,t){function n(e){return r.manager.itemStart(e),o.load(e,function(){r.manager.itemEnd(e)},void 0,function(){r.manager.itemError(e),r.manager.itemEnd(e)})}var r=this,i={};if(void 0!==e&&0<e.length){var o=new Rr(new Mr(t));o.setCrossOrigin(this.crossOrigin);for(var a=0,s=e.length;a<s;a++){var u=e[a],c=u.url;if(Array.isArray(c)){i[u.uuid]=[];for(var l=0,h=c.length;l<h;l++){var p=c[l],f=/^(\/\/)|([a-z]+:(\/\/)?)/i.test(p)?p:r.resourcePath+p;i[u.uuid].push(n(f))}}else{f=/^(\/\/)|([a-z]+:(\/\/)?)/i.test(u.url)?u.url:r.resourcePath+u.url;i[u.uuid]=n(f)}}}return i},parseTextures:function(e,t){function n(e,t){return"number"==typeof e?e:(console.warn("THREE.ObjectLoader.parseTexture: Constant should be in numeric form.",e),t[e])}var r={};if(void 0!==e)for(var i,o=0,a=e.length;o<a;o++){var s;void 0===(i=e[o]).image&&console.warn('THREE.ObjectLoader: No "image" specified for',i.uuid),void 0===t[i.image]&&console.warn("THREE.ObjectLoader: Undefined image",i.image),(s=Array.isArray(t[i.image])?new ue(t[i.image]):new c(t[i.image])).needsUpdate=!0,s.uuid=i.uuid,void 0!==i.name&&(s.name=i.name),void 0!==i.mapping&&(s.mapping=n(i.mapping,Rc)),void 0!==i.offset&&s.offset.fromArray(i.offset),void 0!==i.repeat&&s.repeat.fromArray(i.repeat),void 0!==i.center&&s.center.fromArray(i.center),void 0!==i.rotation&&(s.rotation=i.rotation),void 0!==i.wrap&&(s.wrapS=n(i.wrap[0],Oc),s.wrapT=n(i.wrap[1],Oc)),void 0!==i.format&&(s.format=i.format),void 0!==i.type&&(s.type=i.type),void 0!==i.encoding&&(s.encoding=i.encoding),void 0!==i.minFilter&&(s.minFilter=n(i.minFilter,Ic)),void 0!==i.magFilter&&(s.magFilter=n(i.magFilter,Ic)),void 0!==i.anisotropy&&(s.anisotropy=i.anisotropy),void 0!==i.flipY&&(s.flipY=i.flipY),void 0!==i.premultiplyAlpha&&(s.premultiplyAlpha=i.premultiplyAlpha),void 0!==i.unpackAlignment&&(s.unpackAlignment=i.unpackAlignment),r[i.uuid]=s}return r},parseObject:function(e,t,n){function r(e){return void 0===t[e]&&console.warn("THREE.ObjectLoader: Undefined geometry",e),t[e]}function i(e){if(void 0!==e){if(Array.isArray(e)){for(var t,r=[],i=0,o=e.length;i<o;i++)t=e[i],void 0===n[t]&&console.warn("THREE.ObjectLoader: Undefined material",t),r.push(n[t]);return r}return void 0===n[e]&&console.warn("THREE.ObjectLoader: Undefined material",e),n[e]}}var o;switch(e.type){case"Scene":o=new Ct,void 0!==e.background&&na(e.background)&&(o.background=new b(e.background)),void 0!==e.fog&&("Fog"===e.fog.type?o.fog=new Mt(e.fog.color,e.fog.near,e.fog.far):"FogExp2"===e.fog.type&&(o.fog=new At(e.fog.color,e.fog.density)));break;case"PerspectiveCamera":o=new bt(e.fov,e.aspect,e.near,e.far),void 0!==e.focus&&(o.focus=e.focus),void 0!==e.zoom&&(o.zoom=e.zoom),void 0!==e.filmGauge&&(o.filmGauge=e.filmGauge),void 0!==e.filmOffset&&(o.filmOffset=e.filmOffset),void 0!==e.view&&(o.view=Object.assign({},e.view));break;case"OrthographicCamera":o=new oi(e.left,e.right,e.top,e.bottom,e.near,e.far),void 0!==e.zoom&&(o.zoom=e.zoom),void 0!==e.view&&(o.view=Object.assign({},e.view));break;case"AmbientLight":o=new ui(e.color,e.intensity);break;case"DirectionalLight":o=new si(e.color,e.intensity);break;case"PointLight":o=new ii(e.color,e.intensity,e.distance,e.decay);break;case"RectAreaLight":o=new ci(e.color,e.intensity,e.width,e.height);break;case"SpotLight":o=new ri(e.color,e.intensity,e.distance,e.angle,e.penumbra,e.decay);break;case"HemisphereLight":o=new ei(e.color,e.groundColor,e.intensity);break;case"SkinnedMesh":console.warn("THREE.ObjectLoader.parseObject() does not support SkinnedMesh yet.");case"Mesh":var a=r(e.geometry),s=i(e.material);o=a.bones&&0<a.bones.length?new It(a,s):new Z(a,s);break;case"LOD":o=new Ot;break;case"Line":o=new Bt(r(e.geometry),i(e.material),e.mode);break;case"LineLoop":o=new zt(r(e.geometry),i(e.material));break;case"LineSegments":o=new Ut(r(e.geometry),i(e.material));break;case"PointCloud":case"Points":o=new Gt(r(e.geometry),i(e.material));break;case"Sprite":o=new Rt(i(e.material));break;case"Group":o=new yt;break;default:o=new A}if(o.uuid=e.uuid,void 0!==e.name&&(o.name=e.name),void 0===e.matrix?(void 0!==e.position&&o.position.fromArray(e.position),void 0!==e.rotation&&o.rotation.fromArray(e.rotation),void 0!==e.quaternion&&o.quaternion.fromArray(e.quaternion),void 0!==e.scale&&o.scale.fromArray(e.scale)):(o.matrix.fromArray(e.matrix),void 0!==e.matrixAutoUpdate&&(o.matrixAutoUpdate=e.matrixAutoUpdate),o.matrixAutoUpdate&&o.matrix.decompose(o.position,o.quaternion,o.scale)),void 0!==e.castShadow&&(o.castShadow=e.castShadow),void 0!==e.receiveShadow&&(o.receiveShadow=e.receiveShadow),e.shadow&&(void 0!==e.shadow.bias&&(o.shadow.bias=e.shadow.bias),void 0!==e.shadow.radius&&(o.shadow.radius=e.shadow.radius),void 0!==e.shadow.mapSize&&o.shadow.mapSize.fromArray(e.shadow.mapSize),void 0!==e.shadow.camera&&(o.shadow.camera=this.parseObject(e.shadow.camera))),void 0!==e.visible&&(o.visible=e.visible),void 0!==e.frustumCulled&&(o.frustumCulled=e.frustumCulled),void 0!==e.renderOrder&&(o.renderOrder=e.renderOrder),void 0!==e.userData&&(o.userData=e.userData),void 0!==e.layers&&(o.layers.mask=e.layers),void 0!==e.children)for(var u=e.children,c=0;c<u.length;c++)o.add(this.parseObject(u[c],t,n));if("LOD"===e.type)for(var l=e.levels,h=0;h<l.length;h++){var p=l[h],f=o.getObjectByProperty("uuid",p.object);void 0!==f&&o.addLevel(f,p.distance)}return o}});var Rc={UVMapping:ps,CubeReflectionMapping:fs,CubeRefractionMapping:ds,EquirectangularReflectionMapping:ms,EquirectangularRefractionMapping:gs,SphericalReflectionMapping:vs,CubeUVReflectionMapping:ys,CubeUVRefractionMapping:xs},Oc={RepeatWrapping:bs,ClampToEdgeWrapping:ws,MirroredRepeatWrapping:_s},Ic={NearestFilter:Es,NearestMipMapNearestFilter:Ss,NearestMipMapLinearFilter:Ts,LinearFilter:As,LinearMipMapNearestFilter:Ms,LinearMipMapLinearFilter:Cs};fi.prototype={constructor:fi,setOptions:function(e){return this.options=e,this},load:function(e,t,n,r){void 0===e&&(e=""),void 0!==this.path&&(e=this.path+e),e=this.manager.resolveURL(e);var i=this,o=_c.get(e);return void 0===o?void fetch(e).then(function(e){return e.blob()}).then(function(e){return createImageBitmap(e,i.options)}).then(function(n){_c.add(e,n),t&&t(n),i.manager.itemEnd(e)}).catch(function(t){r&&r(t),i.manager.itemError(e),i.manager.itemEnd(e)}):(i.manager.itemStart(e),setTimeout(function(){t&&t(o),i.manager.itemEnd(e)},0),o)},setCrossOrigin:function(){return this},setPath:function(e){return this.path=e,this}},Object.assign(di.prototype,{moveTo:function(e,t){this.currentPath=new Kr,this.subPaths.push(this.currentPath),this.currentPath.moveTo(e,t)},lineTo:function(e,t){this.currentPath.lineTo(e,t)},quadraticCurveTo:function(e,t,n,r){this.currentPath.quadraticCurveTo(e,t,n,r)},bezierCurveTo:function(e,t,n,r,i,o){this.currentPath.bezierCurveTo(e,t,n,r,i,o)},splineThru:function(e){this.currentPath.splineThru(e)},toShapes:function(e,t){function n(e){for(var t=[],n=0,r=e.length;n<r;n++){var i=e[n],o=new $r;o.curves=i.curves,t.push(o)}return t}function r(e,t){for(var n=t.length,r=!1,i=n-1,o=0;o<n;i=o++){var a=t[i],s=t[o],u=s.x-a.x,c=s.y-a.y;if(Yo(c)>ra){if(0>c&&(a=t[o],u=-u,s=t[i],c=-c),e.y<a.y||e.y>s.y)continue;if(e.y!==a.y){var l=c*(e.x-a.x)-u*(e.y-a.y);if(0==l)return!0;if(0>l)continue;r=!r}else if(e.x===a.x)return!0}else{if(e.y!==a.y)continue;if(s.x<=e.x&&e.x<=a.x||a.x<=e.x&&e.x<=s.x)return!0}}return r}var i=vc.isClockWise,o=this.subPaths;if(0===o.length)return[];if(!0===t)return n(o);var a,s,u,c=[];if(1===o.length)return s=o[0],(u=new $r).curves=s.curves,c.push(u),c;var l=!i(o[0].getPoints());l=e?!l:l;var h,p=[],f=[],d=[],m=0;f[m]=void 0,d[m]=[];for(var g=0,v=o.length;g<v;g++)a=i(h=(s=o[g]).getPoints()),(a=e?!a:a)?(!l&&f[m]&&m++,f[m]={s:new $r,p:h},f[m].s.curves=s.curves,l&&m++,d[m]=[]):d[m].push({h:s,p:h[0]});if(!f[0])return n(o);if(1<f.length){for(var y=!1,x=[],b=0,w=f.length;b<w;b++)p[b]=[];var _;for(b=0,w=f.length;b<w;b++){_=d[b];for(var E=0;E<_.length;E++){for(var S=_[E],T=!0,A=0;A<f.length;A++)r(S.p,f[A].p)&&(b!==A&&x.push({froms:b,tos:A,hole:E}),T?(T=!1,p[A].push(S)):y=!0);T&&p[b].push(S)}}0<x.length&&!y&&(d=p)}g=0;for(var M,C=f.length;g<C;g++){u=f[g].s,c.push(u);for(var D=0,L=(M=d[g]).length;D<L;D++)u.holes.push(M[D].h)}return c}}),Object.assign(mi.prototype,{isFont:!0,generateShapes:function(e,t){void 0===t&&(t=100);for(var n=[],r=function(e,t,n){for(var r,i=Array.from?Array.from(e):(e+"").split(""),o=t/n.resolution,a=(n.boundingBox.yMax-n.boundingBox.yMin+n.underlineThickness)*o,s=[],u=0,c=0,l=0;l<i.length;l++)if("\n"===(r=i[l]))u=0,c-=a;else{var h=gi(r,o,u,c,n);u+=h.offsetX,s.push(h.path)}return s}(e,t,this.data),i=0,o=r.length;i<o;i++)Array.prototype.push.apply(n,r[i].toShapes());return n}}),Object.assign(vi.prototype,{load:function(e,t,n,r){var i=this,o=new Cr(this.manager);o.setPath(this.path),o.load(e,function(e){var n;try{n=JSON.parse(e)}catch(t){console.warn("THREE.FontLoader: typeface.js support is being deprecated. Use typeface.json instead."),n=JSON.parse(e.substring(65,e.length-2))}var r=i.parse(n);t&&t(r)},n,r)},parse:function(e){return new mi(e)},setPath:function(e){return this.path=e,this}}),yi.Handlers={handlers:[],add:function(e,t){this.handlers.push(e,t)},get:function(e){for(var t=this.handlers,n=0,r=t.length;n<r;n+=2){var i=t[n],o=t[n+1];if(i.test(e))return o}return null}},Object.assign(yi.prototype,{crossOrigin:"anonymous",onLoadStart:function(){},onLoadProgress:function(){},onLoadComplete:function(){},initMaterials:function(e,t,n){for(var r=[],i=0;i<e.length;++i)r[i]=this.createMaterial(e[i],t,n);return r},createMaterial:function(){var e={NoBlending:Ma,NormalBlending:Ca,AdditiveBlending:Da,SubtractiveBlending:La,MultiplyBlending:Pa,CustomBlending:Ra},t=new b,n=new Ir,r=new li;return function(i,o,a){function s(e,t,r,i,s){var c,l=o+e,h=yi.Handlers.get(l);null===h?(n.setCrossOrigin(a),c=n.load(l)):c=h.load(l),void 0!==t&&(c.repeat.fromArray(t),1!==t[0]&&(c.wrapS=bs),1!==t[1]&&(c.wrapT=bs)),void 0!==r&&c.offset.fromArray(r),void 0!==i&&("repeat"===i[0]&&(c.wrapS=bs),"mirror"===i[0]&&(c.wrapS=_s),"repeat"===i[1]&&(c.wrapT=bs),"mirror"===i[1]&&(c.wrapT=_s)),void 0!==s&&(c.anisotropy=s);var p=Hu.generateUUID();return u[p]=c,p}var u={},c={uuid:Hu.generateUUID(),type:"MeshLambertMaterial"};for(var l in i){var h=i[l];switch(l){case"DbgColor":case"DbgIndex":case"opticalDensity":case"illumination":break;case"DbgName":c.name=h;break;case"blending":c.blending=e[h];break;case"colorAmbient":case"mapAmbient":console.warn("THREE.Loader.createMaterial:",l,"is no longer supported.");break;case"colorDiffuse":c.color=t.fromArray(h).getHex();break;case"colorSpecular":c.specular=t.fromArray(h).getHex();break;case"colorEmissive":c.emissive=t.fromArray(h).getHex();break;case"specularCoef":c.shininess=h;break;case"shading":"basic"===h.toLowerCase()&&(c.type="MeshBasicMaterial"),"phong"===h.toLowerCase()&&(c.type="MeshPhongMaterial"),"standard"===h.toLowerCase()&&(c.type="MeshStandardMaterial");break;case"mapDiffuse":c.map=s(h,i.mapDiffuseRepeat,i.mapDiffuseOffset,i.mapDiffuseWrap,i.mapDiffuseAnisotropy);break;case"mapDiffuseRepeat":case"mapDiffuseOffset":case"mapDiffuseWrap":case"mapDiffuseAnisotropy":break;case"mapEmissive":c.emissiveMap=s(h,i.mapEmissiveRepeat,i.mapEmissiveOffset,i.mapEmissiveWrap,i.mapEmissiveAnisotropy);break;case"mapEmissiveRepeat":case"mapEmissiveOffset":case"mapEmissiveWrap":case"mapEmissiveAnisotropy":break;case"mapLight":c.lightMap=s(h,i.mapLightRepeat,i.mapLightOffset,i.mapLightWrap,i.mapLightAnisotropy);break;case"mapLightRepeat":case"mapLightOffset":case"mapLightWrap":case"mapLightAnisotropy":break;case"mapAO":c.aoMap=s(h,i.mapAORepeat,i.mapAOOffset,i.mapAOWrap,i.mapAOAnisotropy);break;case"mapAORepeat":case"mapAOOffset":case"mapAOWrap":case"mapAOAnisotropy":break;case"mapBump":c.bumpMap=s(h,i.mapBumpRepeat,i.mapBumpOffset,i.mapBumpWrap,i.mapBumpAnisotropy);break;case"mapBumpScale":c.bumpScale=h;break;case"mapBumpRepeat":case"mapBumpOffset":case"mapBumpWrap":case"mapBumpAnisotropy":break;case"mapNormal":c.normalMap=s(h,i.mapNormalRepeat,i.mapNormalOffset,i.mapNormalWrap,i.mapNormalAnisotropy);break;case"mapNormalFactor":c.normalScale=h;break;case"mapNormalRepeat":case"mapNormalOffset":case"mapNormalWrap":case"mapNormalAnisotropy":break;case"mapSpecular":c.specularMap=s(h,i.mapSpecularRepeat,i.mapSpecularOffset,i.mapSpecularWrap,i.mapSpecularAnisotropy);break;case"mapSpecularRepeat":case"mapSpecularOffset":case"mapSpecularWrap":case"mapSpecularAnisotropy":break;case"mapMetalness":c.metalnessMap=s(h,i.mapMetalnessRepeat,i.mapMetalnessOffset,i.mapMetalnessWrap,i.mapMetalnessAnisotropy);break;case"mapMetalnessRepeat":case"mapMetalnessOffset":case"mapMetalnessWrap":case"mapMetalnessAnisotropy":break;case"mapRoughness":c.roughnessMap=s(h,i.mapRoughnessRepeat,i.mapRoughnessOffset,i.mapRoughnessWrap,i.mapRoughnessAnisotropy);break;case"mapRoughnessRepeat":case"mapRoughnessOffset":case"mapRoughnessWrap":case"mapRoughnessAnisotropy":break;case"mapAlpha":c.alphaMap=s(h,i.mapAlphaRepeat,i.mapAlphaOffset,i.mapAlphaWrap,i.mapAlphaAnisotropy);break;case"mapAlphaRepeat":case"mapAlphaOffset":case"mapAlphaWrap":case"mapAlphaAnisotropy":break;case"flipSided":c.side=ba;break;case"doubleSided":c.side=wa;break;case"transparency":console.warn("THREE.Loader.createMaterial: transparency has been renamed to opacity"),c.opacity=h;break;case"depthTest":case"depthWrite":case"colorWrite":case"opacity":case"reflectivity":case"transparent":case"visible":case"wireframe":c[l]=h;break;case"vertexColors":!0===h&&(c.vertexColors=Aa),"face"===h&&(c.vertexColors=Ta);break;default:console.error("THREE.Loader.createMaterial: Unsupported",l,h)}}return"MeshBasicMaterial"===c.type&&delete c.emissive,"MeshPhongMaterial"!==c.type&&delete c.specular,1>c.opacity&&(c.transparent=!0),r.setTextures(u),r.parse(c)}}()});var kc,Nc={getContext:function(){return void 0===kc&&(kc=new(window.AudioContext||window.webkitAudioContext)),kc},setContext:function(e){kc=e}};Object.assign(xi.prototype,{load:function(e,t,n,r){var i=new Cr(this.manager);i.setResponseType("arraybuffer"),i.setPath(this.path),i.load(e,function(e){var n=e.slice(0);Nc.getContext().decodeAudioData(n,function(e){t(e)})},n,r)},setPath:function(e){return this.path=e,this}}),Object.assign(bi.prototype,{update:function(){var e,t,n,r,i,a,s,u,c=new o,l=new o;return function(o){if(e!==this||t!==o.focus||n!==o.fov||r!==o.aspect*this.aspect||i!==o.near||a!==o.far||s!==o.zoom||u!==this.eyeSep){e=this,t=o.focus,n=o.fov,r=o.aspect*this.aspect,i=o.near,a=o.far,s=o.zoom;var h,p,f=o.projectionMatrix.clone(),d=(u=this.eyeSep/2)*i/t,m=i*jo(Hu.DEG2RAD*n*.5)/s;l.elements[12]=-u,c.elements[12]=u,h=-m*r+d,p=m*r+d,f.elements[0]=2*i/(p-h),f.elements[8]=(p+h)/(p-h),this.cameraL.projectionMatrix.copy(f),h=-m*r-d,p=m*r-d,f.elements[0]=2*i/(p-h),f.elements[8]=(p+h)/(p-h),this.cameraR.projectionMatrix.copy(f)}this.cameraL.matrixWorld.copy(o.matrixWorld).multiply(l),this.cameraR.matrixWorld.copy(o.matrixWorld).multiply(c)}}()}),wi.prototype=Object.create(A.prototype),wi.prototype.constructor=wi,Object.assign(_i.prototype,{start:function(){this.startTime=("undefined"==typeof performance?Date:performance).now(),this.oldTime=this.startTime,this.elapsedTime=0,this.running=!0},stop:function(){this.getElapsedTime(),this.running=!1,this.autoStart=!1},getElapsedTime:function(){return this.getDelta(),this.elapsedTime},getDelta:function(){var e=0;if(this.autoStart&&!this.running)return this.start(),0;if(this.running){var t=("undefined"==typeof performance?Date:performance).now();e=(t-this.oldTime)/1e3,this.oldTime=t,this.elapsedTime+=e}return e}}),Ei.prototype=Object.assign(Object.create(A.prototype),{constructor:Ei,getInput:function(){return this.gain},removeFilter:function(){return null!==this.filter&&(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination),this.gain.connect(this.context.destination),this.filter=null),this},getFilter:function(){return this.filter},setFilter:function(e){return null===this.filter?this.gain.disconnect(this.context.destination):(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination)),this.filter=e,this.gain.connect(this.filter),this.filter.connect(this.context.destination),this},getMasterVolume:function(){return this.gain.gain.value},setMasterVolume:function(e){return this.gain.gain.setTargetAtTime(e,this.context.currentTime,.01),this},updateMatrixWorld:function(){var e=new s,t=new a,n=new s,r=new s,i=new _i;return function(o){A.prototype.updateMatrixWorld.call(this,o);var a=this.context.listener,s=this.up;if(this.timeDelta=i.getDelta(),this.matrixWorld.decompose(e,t,n),r.set(0,0,-1).applyQuaternion(t),a.positionX){var u=this.context.currentTime+this.timeDelta;a.positionX.linearRampToValueAtTime(e.x,u),a.positionY.linearRampToValueAtTime(e.y,u),a.positionZ.linearRampToValueAtTime(e.z,u),a.forwardX.linearRampToValueAtTime(r.x,u),a.forwardY.linearRampToValueAtTime(r.y,u),a.forwardZ.linearRampToValueAtTime(r.z,u),a.upX.linearRampToValueAtTime(s.x,u),a.upY.linearRampToValueAtTime(s.y,u),a.upZ.linearRampToValueAtTime(s.z,u)}else a.setPosition(e.x,e.y,e.z),a.setOrientation(r.x,r.y,r.z,s.x,s.y,s.z)}}()}),Si.prototype=Object.assign(Object.create(A.prototype),{constructor:Si,getOutput:function(){return this.gain},setNodeSource:function(e){return this.hasPlaybackControl=!1,this.sourceType="audioNode",this.source=e,this.connect(),this},setMediaElementSource:function(e){return this.hasPlaybackControl=!1,this.sourceType="mediaNode",this.source=this.context.createMediaElementSource(e),this.connect(),this},setBuffer:function(e){return this.buffer=e,this.sourceType="buffer",this.autoplay&&this.play(),this},play:function(){if(!0!==this.isPlaying){if(!1!==this.hasPlaybackControl){var e=this.context.createBufferSource();return e.buffer=this.buffer,e.detune.value=this.detune,e.loop=this.loop,e.onended=this.onEnded.bind(this),e.playbackRate.setValueAtTime(this.playbackRate,this.startTime),this.startTime=this.context.currentTime,e.start(this.startTime,this.offset),this.isPlaying=!0,this.source=e,this.connect()}console.warn("THREE.Audio: this Audio has no playback control.")}else console.warn("THREE.Audio: Audio is already playing.")},pause:function(){return!1===this.hasPlaybackControl?void console.warn("THREE.Audio: this Audio has no playback control."):(!0===this.isPlaying&&(this.source.stop(),this.source.onended=null,this.offset+=(this.context.currentTime-this.startTime)*this.playbackRate,this.isPlaying=!1),this)},stop:function(){return!1===this.hasPlaybackControl?void console.warn("THREE.Audio: this Audio has no playback control."):(this.source.stop(),this.source.onended=null,this.offset=0,this.isPlaying=!1,this)},connect:function(){if(0<this.filters.length){this.source.connect(this.filters[0]);for(var e=1,t=this.filters.length;e<t;e++)this.filters[e-1].connect(this.filters[e]);this.filters[this.filters.length-1].connect(this.getOutput())}else this.source.connect(this.getOutput());return this},disconnect:function(){if(0<this.filters.length){this.source.disconnect(this.filters[0]);for(var e=1,t=this.filters.length;e<t;e++)this.filters[e-1].disconnect(this.filters[e]);this.filters[this.filters.length-1].disconnect(this.getOutput())}else this.source.disconnect(this.getOutput());return this},getFilters:function(){return this.filters},setFilters:function(e){return e||(e=[]),!0===this.isPlaying?(this.disconnect(),this.filters=e,this.connect()):this.filters=e,this},setDetune:function(e){return this.detune=e,!0===this.isPlaying&&this.source.detune.setTargetAtTime(this.detune,this.context.currentTime,.01),this},getDetune:function(){return this.detune},getFilter:function(){return this.getFilters()[0]},setFilter:function(e){return this.setFilters(e?[e]:[])},setPlaybackRate:function(e){return!1===this.hasPlaybackControl?void console.warn("THREE.Audio: this Audio has no playback control."):(this.playbackRate=e,!0===this.isPlaying&&this.source.playbackRate.setTargetAtTime(this.playbackRate,this.context.currentTime,.01),this)},getPlaybackRate:function(){return this.playbackRate},onEnded:function(){this.isPlaying=!1},getLoop:function(){return!1===this.hasPlaybackControl?(console.warn("THREE.Audio: this Audio has no playback control."),!1):this.loop},setLoop:function(e){return!1===this.hasPlaybackControl?void console.warn("THREE.Audio: this Audio has no playback control."):(this.loop=e,!0===this.isPlaying&&(this.source.loop=this.loop),this)},getVolume:function(){return this.gain.gain.value},setVolume:function(e){return this.gain.gain.setTargetAtTime(e,this.context.currentTime,.01),this}}),Ti.prototype=Object.assign(Object.create(Si.prototype),{constructor:Ti,getOutput:function(){return this.panner},getRefDistance:function(){return this.panner.refDistance},setRefDistance:function(e){return this.panner.refDistance=e,this},getRolloffFactor:function(){return this.panner.rolloffFactor},setRolloffFactor:function(e){return this.panner.rolloffFactor=e,this},getDistanceModel:function(){return this.panner.distanceModel},setDistanceModel:function(e){return this.panner.distanceModel=e,this},getMaxDistance:function(){return this.panner.maxDistance},setMaxDistance:function(e){return this.panner.maxDistance=e,this},setDirectionalCone:function(e,t,n){return this.panner.coneInnerAngle=e,this.panner.coneOuterAngle=t,this.panner.coneOuterGain=n,this},updateMatrixWorld:function(){var e=new s,t=new a,n=new s,r=new s;return function(i){if(A.prototype.updateMatrixWorld.call(this,i),!1!==this.isPlaying){this.matrixWorld.decompose(e,t,n),r.set(0,0,1).applyQuaternion(t);var o=this.panner;if(o.positionX){var a=this.context.currentTime+this.listener.timeDelta;o.positionX.linearRampToValueAtTime(e.x,a),o.positionY.linearRampToValueAtTime(e.y,a),o.positionZ.linearRampToValueAtTime(e.z,a),o.orientationX.linearRampToValueAtTime(r.x,a),o.orientationY.linearRampToValueAtTime(r.y,a),o.orientationZ.linearRampToValueAtTime(r.z,a)}else o.setPosition(e.x,e.y,e.z),o.setOrientation(r.x,r.y,r.z)}}}()}),Object.assign(Ai.prototype,{getFrequencyData:function(){return this.analyser.getByteFrequencyData(this.data),this.data},getAverageFrequency:function(){for(var e=0,t=this.getFrequencyData(),n=0;n<t.length;n++)e+=t[n];return e/t.length}}),Object.assign(Mi.prototype,{accumulate:function(e,t){var n=this.buffer,r=this.valueSize,i=e*r+r,o=this.cumulativeWeight;if(0===o){for(var a=0;a!==r;++a)n[i+a]=n[a];o=t}else{var s=t/(o+=t);this._mixBufferRegion(n,i,0,s,r)}this.cumulativeWeight=o},apply:function(e){var t=this.valueSize,n=this.buffer,r=e*t+t,i=this.cumulativeWeight,o=this.binding;this.cumulativeWeight=0,1>i&&this._mixBufferRegion(n,r,3*t,1-i,t);for(var a=t;a!==t+t;++a)if(n[a]!==n[a+t]){o.setValue(n,r);break}},saveOriginalState:function(){var e=this.binding,t=this.buffer,n=this.valueSize,r=3*n;e.getValue(t,r);for(var i=n;i!==r;++i)t[i]=t[r+i%n];this.cumulativeWeight=0},restoreOriginalState:function(){var e=3*this.valueSize;this.binding.setValue(this.buffer,e)},_select:function(e,t,n,r,i){if(.5<=r)for(var o=0;o!==i;++o)e[t+o]=e[n+o]},_slerp:function(e,t,n,r){a.slerpFlat(e,t,e,t,e,n,r)},_lerp:function(e,t,n,r,i){for(var o,a=0;a!==i;++a)e[o=t+a]=e[o]*(1-r)+e[n+a]*r}});var Fc,Bc,Uc="\\[\\]\\.:\\/";Object.assign(Ci.prototype,{getValue:function(e,t){this.bind();var n=this._targetGroup.nCachedObjects_,r=this._bindings[n];void 0!==r&&r.getValue(e,t)},setValue:function(e,t){for(var n=this._bindings,r=this._targetGroup.nCachedObjects_,i=n.length;r!==i;++r)n[r].setValue(e,t)},bind:function(){for(var e=this._bindings,t=this._targetGroup.nCachedObjects_,n=e.length;t!==n;++t)e[t].bind()},unbind:function(){for(var e=this._bindings,t=this._targetGroup.nCachedObjects_,n=e.length;t!==n;++t)e[t].unbind()}}),Object.assign(Di,{Composite:Ci,create:function(e,t,n){return e&&e.isAnimationObjectGroup?new Di.Composite(e,t,n):new Di(e,t,n)},sanitizeNodeName:function(){var e=/[\[\]\.:\/]/g;return function(t){return t.replace(/\s/g,"_").replace(e,"")}}(),parseTrackName:function(){var e="[^"+Uc+"]",t="[^"+Uc.replace("\\.","")+"]",n=/((?:WC+[\/:])*)/.source.replace("WC",e),r=/(WCOD+)?/.source.replace("WCOD",t),i=/(?:\.(WC+)(?:\[(.+)\])?)?/.source.replace("WC",e),o=/\.(WC+)(?:\[(.+)\])?/.source.replace("WC",e),a=new RegExp("^"+n+r+i+o+"$"),s=["material","materials","bones"];return function(e){var t=a.exec(e);if(!t)throw new Error("PropertyBinding: Cannot parse trackName: "+e);var n={nodeName:t[2],objectName:t[3],objectIndex:t[4],propertyName:t[5],propertyIndex:t[6]},r=n.nodeName&&n.nodeName.lastIndexOf(".");if(void 0!==r&&-1!==r){var i=n.nodeName.substring(r+1);-1!==s.indexOf(i)&&(n.nodeName=n.nodeName.substring(0,r),n.objectName=i)}if(null===n.propertyName||0===n.propertyName.length)throw new Error("PropertyBinding: can not parse propertyName from trackName: "+e);return n}}(),findNode:function(e,t){if(!t||""===t||"root"===t||"."===t||-1===t||t===e.name||t===e.uuid)return e;if(e.skeleton){var n=e.skeleton.getBoneByName(t);if(void 0!==n)return n}if(e.children){var r=function(e){for(var n,i=0;i<e.length;i++){if((n=e[i]).name===t||n.uuid===t)return n;var o=r(n.children);if(o)return o}return null},i=r(e.children);if(i)return i}return null}}),Object.assign(Di.prototype,{_getValue_unavailable:function(){},_setValue_unavailable:function(){},BindingType:{Direct:0,EntireArray:1,ArrayElement:2,HasFromToArray:3},Versioning:{None:0,NeedsUpdate:1,MatrixWorldNeedsUpdate:2},GetterByBindingType:[function(e,t){e[t]=this.node[this.propertyName]},function(e,t){for(var n=this.resolvedProperty,r=0,i=n.length;r!==i;++r)e[t++]=n[r]},function(e,t){e[t]=this.resolvedProperty[this.propertyIndex]},function(e,t){this.resolvedProperty.toArray(e,t)}],SetterByBindingTypeAndVersioning:[[function(e,t){this.targetObject[this.propertyName]=e[t]},function(e,t){this.targetObject[this.propertyName]=e[t],this.targetObject.needsUpdate=!0},function(e,t){this.targetObject[this.propertyName]=e[t],this.targetObject.matrixWorldNeedsUpdate=!0}],[function(e,t){for(var n=this.resolvedProperty,r=0,i=n.length;r!==i;++r)n[r]=e[t++]},function(e,t){for(var n=this.resolvedProperty,r=0,i=n.length;r!==i;++r)n[r]=e[t++];this.targetObject.needsUpdate=!0},function(e,t){for(var n=this.resolvedProperty,r=0,i=n.length;r!==i;++r)n[r]=e[t++];this.targetObject.matrixWorldNeedsUpdate=!0}],[function(e,t){this.resolvedProperty[this.propertyIndex]=e[t]},function(e,t){this.resolvedProperty[this.propertyIndex]=e[t],this.targetObject.needsUpdate=!0},function(e,t){this.resolvedProperty[this.propertyIndex]=e[t],this.targetObject.matrixWorldNeedsUpdate=!0}],[function(e,t){this.resolvedProperty.fromArray(e,t)},function(e,t){this.resolvedProperty.fromArray(e,t),this.targetObject.needsUpdate=!0},function(e,t){this.resolvedProperty.fromArray(e,t),this.targetObject.matrixWorldNeedsUpdate=!0}]],getValue:function(e,t){this.bind(),this.getValue(e,t)},setValue:function(e,t){this.bind(),this.setValue(e,t)},bind:function(){var e=this.node,t=this.parsedPath,n=t.objectName,r=t.propertyName,i=t.propertyIndex;if(e||(e=Di.findNode(this.rootNode,t.nodeName)||this.rootNode,this.node=e),this.getValue=this._getValue_unavailable,this.setValue=this._setValue_unavailable,e){if(n){var o=t.objectIndex;switch(n){case"materials":if(!e.material)return void console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",this);if(!e.material.materials)return void console.error("THREE.PropertyBinding: Can not bind to material.materials as node.material does not have a materials array.",this);e=e.material.materials;break;case"bones":if(!e.skeleton)return void console.error("THREE.PropertyBinding: Can not bind to bones as node does not have a skeleton.",this);e=e.skeleton.bones;for(var a=0;a<e.length;a++)if(e[a].name===o){o=a;break}break;default:if(void 0===e[n])return void console.error("THREE.PropertyBinding: Can not bind to objectName of node undefined.",this);e=e[n]}if(void 0!==o){if(void 0===e[o])return void console.error("THREE.PropertyBinding: Trying to bind to objectIndex of objectName, but is undefined.",this,e);e=e[o]}}var s=e[r];if(void 0!==s){var u=this.Versioning.None;this.targetObject=e,void 0===e.needsUpdate?void 0!==e.matrixWorldNeedsUpdate&&(u=this.Versioning.MatrixWorldNeedsUpdate):u=this.Versioning.NeedsUpdate;var c=this.BindingType.Direct;if(void 0!==i){if("morphTargetInfluences"===r){if(!e.geometry)return void console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.",this);if(e.geometry.isBufferGeometry){if(!e.geometry.morphAttributes)return void console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.morphAttributes.",this);for(a=0;a<this.node.geometry.morphAttributes.position.length;a++)if(e.geometry.morphAttributes.position[a].name===i){i=a;break}}else{if(!e.geometry.morphTargets)return void console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.morphTargets.",this);for(a=0;a<this.node.geometry.morphTargets.length;a++)if(e.geometry.morphTargets[a].name===i){i=a;break}}}c=this.BindingType.ArrayElement,this.resolvedProperty=s,this.propertyIndex=i}else void 0!==s.fromArray&&void 0!==s.toArray?(c=this.BindingType.HasFromToArray,this.resolvedProperty=s):Array.isArray(s)?(c=this.BindingType.EntireArray,this.resolvedProperty=s):this.propertyName=r;this.getValue=this.GetterByBindingType[c],this.setValue=this.SetterByBindingTypeAndVersioning[c][u]}else{var l=t.nodeName;console.error("THREE.PropertyBinding: Trying to update property for track: "+l+"."+r+" but it wasn't found.",e)}}else console.error("THREE.PropertyBinding: Trying to update node for track: "+this.path+" but it wasn't found.")},unbind:function(){this.node=null,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}}),Object.assign(Di.prototype,{_getValue_unbound:Di.prototype.getValue,_setValue_unbound:Di.prototype.setValue}),Object.assign(Li.prototype,{isAnimationObjectGroup:!0,add:function(){for(var e=this._objects,t=e.length,n=this.nCachedObjects_,r=this._indicesByUUID,i=this._paths,o=this._parsedPaths,a=this._bindings,s=a.length,u=void 0,c=0,l=arguments.length;c!==l;++c){var h=arguments[c],p=h.uuid,f=r[p];if(void 0===f){f=t++,r[p]=f,e.push(h);for(var d=0,m=s;d!==m;++d)a[d].push(new Di(h,i[d],o[d]))}else if(f<n){u=e[f];var g=--n,v=e[g];r[v.uuid]=f,e[f]=v,r[p]=g,e[g]=h;for(d=0,m=s;d!==m;++d){var y=a[d],x=y[g],b=y[f];y[f]=x,void 0===b&&(b=new Di(h,i[d],o[d])),y[g]=b}}else e[f]!==u&&console.error("THREE.AnimationObjectGroup: Different objects with the same UUID detected. Clean the caches or recreate your infrastructure when reloading scenes.")}this.nCachedObjects_=n},remove:function(){for(var e=this._objects,t=this.nCachedObjects_,n=this._indicesByUUID,r=this._bindings,i=r.length,o=0,a=arguments.length;o!==a;++o){var s=arguments[o],u=s.uuid,c=n[u];if(void 0!==c&&c>=t){var l=t++,h=e[l];n[h.uuid]=c,e[c]=h,n[u]=l,e[l]=s;for(var p=0;p!==i;++p){var f=r[p],d=f[l],m=f[c];f[c]=d,f[l]=m}}}this.nCachedObjects_=t},uncache:function(){for(var e=this._objects,t=e.length,n=this.nCachedObjects_,r=this._indicesByUUID,i=this._bindings,o=i.length,a=0,s=arguments.length;a!==s;++a){var u=arguments[a].uuid,c=r[u];if(void 0!==c)if(delete r[u],c<n){var l=--n,h=e[l],p=e[v=--t];r[h.uuid]=c,e[c]=h,r[p.uuid]=l,e[l]=p,e.pop();for(var f=0,d=o;f!==d;++f){var m=(y=i[f])[l],g=y[v];y[c]=m,y[l]=g,y.pop()}}else{var v;r[(p=e[v=--t]).uuid]=c,e[c]=p,e.pop();var y;for(f=0,d=o;f!==d;++f)(y=i[f])[c]=y[v],y.pop()}}this.nCachedObjects_=n},subscribe_:function(e,t){var n=this._bindingsIndicesByPath,r=n[e],i=this._bindings;if(void 0!==r)return i[r];var o=this._paths,a=this._parsedPaths,s=this._objects,u=s.length,c=this.nCachedObjects_,l=Array(u);r=i.length,n[e]=r,o.push(e),a.push(t),i.push(l);for(var h,p=c,f=s.length;p!==f;++p)h=s[p],l[p]=new Di(h,e,t);return l},unsubscribe_:function(e){var t=this._bindingsIndicesByPath,n=t[e];if(void 0!==n){var r=this._paths,i=this._parsedPaths,o=this._bindings,a=o.length-1,s=o[a];t[e[a]]=n,o[n]=s,o.pop(),i[n]=i[a],i.pop(),r[n]=r[a],r.pop()}}}),Object.assign(Pi.prototype,{play:function(){return this._mixer._activateAction(this),this},stop:function(){return this._mixer._deactivateAction(this),this.reset()},reset:function(){return this.paused=!1,this.enabled=!0,this.time=0,this._loopCount=-1,this._startTime=null,this.stopFading().stopWarping()},isRunning:function(){return this.enabled&&!this.paused&&0!==this.timeScale&&null===this._startTime&&this._mixer._isActiveAction(this)},isScheduled:function(){return this._mixer._isActiveAction(this)},startAt:function(e){return this._startTime=e,this},setLoop:function(e,t){return this.loop=e,this.repetitions=t,this},setEffectiveWeight:function(e){return this.weight=e,this._effectiveWeight=this.enabled?e:0,this.stopFading()},getEffectiveWeight:function(){return this._effectiveWeight},fadeIn:function(e){return this._scheduleFading(e,0,1)},fadeOut:function(e){return this._scheduleFading(e,1,0)},crossFadeFrom:function(e,t,n){if(e.fadeOut(t),this.fadeIn(t),n){var r=this._clip.duration,i=e._clip.duration;e.warp(1,i/r,t),this.warp(r/i,1,t)}return this},crossFadeTo:function(e,t,n){return e.crossFadeFrom(this,t,n)},stopFading:function(){var e=this._weightInterpolant;return null!==e&&(this._weightInterpolant=null,this._mixer._takeBackControlInterpolant(e)),this},setEffectiveTimeScale:function(e){return this.timeScale=e,this._effectiveTimeScale=this.paused?0:e,this.stopWarping()},getEffectiveTimeScale:function(){return this._effectiveTimeScale},setDuration:function(e){return this.timeScale=this._clip.duration/e,this.stopWarping()},syncWith:function(e){return this.time=e.time,this.timeScale=e.timeScale,this.stopWarping()},halt:function(e){return this.warp(this._effectiveTimeScale,0,e)},warp:function(e,t,n){var r=this._mixer,i=r.time,o=this._timeScaleInterpolant,a=this.timeScale;null===o&&(o=r._lendControlInterpolant(),this._timeScaleInterpolant=o);var s=o.parameterPositions,u=o.sampleValues;return s[0]=i,s[1]=i+n,u[0]=e/a,u[1]=t/a,this},stopWarping:function(){var e=this._timeScaleInterpolant;return null!==e&&(this._timeScaleInterpolant=null,this._mixer._takeBackControlInterpolant(e)),this},getMixer:function(){return this._mixer},getClip:function(){return this._clip},getRoot:function(){return this._localRoot||this._mixer._root},_update:function(e,t,n,r){if(this.enabled){var i=this._startTime;if(null!==i){var o=(e-i)*n;if(0>o||0===n)return;this._startTime=null,t=n*o}t*=this._updateTimeScale(e);var a=this._updateTime(t),s=this._updateWeight(e);if(0<s)for(var u=this._interpolants,c=this._propertyBindings,l=0,h=u.length;l!==h;++l)u[l].evaluate(a),c[l].accumulate(r,s)}else this._updateWeight(e)},_updateWeight:function(e){var t=0;if(this.enabled){t=this.weight;var n=this._weightInterpolant;if(null!==n){var r=n.evaluate(e)[0];t*=r,e>n.parameterPositions[1]&&(this.stopFading(),0===r&&(this.enabled=!1))}}return this._effectiveWeight=t,t},_updateTimeScale:function(e){var t=0;if(!this.paused){t=this.timeScale;var n=this._timeScaleInterpolant;if(null!==n)t*=n.evaluate(e)[0],e>n.parameterPositions[1]&&(this.stopWarping(),0===t?this.paused=!0:this.timeScale=t)}return this._effectiveTimeScale=t,t},_updateTime:function(e){var t=this.time+e,n=this._clip.duration,r=this.loop,i=this._loopCount,o=r===wu;if(0===e)return-1===i?t:o&&1==(1&i)?n-t:t;if(r===xu){-1===i&&(this._loopCount=0,this._setEndings(!0,!0,!1));e:{if(t>=n)t=n;else{if(!(0>t))break e;t=0}this.clampWhenFinished?this.paused=!0:this.enabled=!1,this._mixer.dispatchEvent({type:"finished",action:this,direction:0>e?-1:1})}}else{if(-1===i&&(0<=e?(i=0,this._setEndings(!0,0===this.repetitions,o)):this._setEndings(0===this.repetitions,!0,o)),t>=n||0>t){var a=sa(t/n);t-=n*a,i+=Yo(a);var s=this.repetitions-i;if(0>=s)this.clampWhenFinished?this.paused=!0:this.enabled=!1,t=0<e?n:0,this._mixer.dispatchEvent({type:"finished",action:this,direction:0<e?1:-1});else{if(1==s){var u=0>e;this._setEndings(u,!u,o)}else this._setEndings(!1,!1,o);this._loopCount=i,this._mixer.dispatchEvent({type:"loop",action:this,loopDelta:a})}}if(o&&1==(1&i))return this.time=t,n-t}return this.time=t,t},_setEndings:function(e,t,n){var r=this._interpolantSettings;n?(r.endingStart=Au,r.endingEnd=Au):(r.endingStart=e?this.zeroSlopeAtStart?Au:Tu:Mu,r.endingEnd=t?this.zeroSlopeAtEnd?Au:Tu:Mu)},_scheduleFading:function(e,t,n){var r=this._mixer,i=r.time,o=this._weightInterpolant;null===o&&(o=r._lendControlInterpolant(),this._weightInterpolant=o);var a=o.parameterPositions,s=o.sampleValues;return a[0]=i,s[0]=t,a[1]=i+e,s[1]=n,this}}),Ri.prototype=Object.assign(Object.create(r.prototype),{constructor:Ri,_bindAction:function(e,t){var n=e._localRoot||this._root,r=e._clip.tracks,i=r.length,o=e._propertyBindings,a=e._interpolants,s=n.uuid,u=this._bindingsByRootAndName,c=u[s];void 0===c&&(c={},u[s]=c);for(var l=0;l!==i;++l){var h=r[l],p=h.name,f=c[p];if(void 0!==f)o[l]=f;else{if(void 0!==(f=o[l])){null===f._cacheIndex&&(++f.referenceCount,this._addInactiveBinding(f,s,p));continue}var d=t&&t._propertyBindings[l].binding.parsedPath;++(f=new Mi(Di.create(n,p,d),h.ValueTypeName,h.getValueSize())).referenceCount,this._addInactiveBinding(f,s,p),o[l]=f}a[l].resultBuffer=f.buffer}},_activateAction:function(e){if(!this._isActiveAction(e)){if(null===e._cacheIndex){var t=(e._localRoot||this._root).uuid,n=e._clip.uuid,r=this._actionsByClip[n];this._bindAction(e,r&&r.knownActions[0]),this._addInactiveAction(e,n,t)}for(var i,o=e._propertyBindings,a=0,s=o.length;a!==s;++a)0==(i=o[a]).useCount++&&(this._lendBinding(i),i.saveOriginalState());this._lendAction(e)}},_deactivateAction:function(e){if(this._isActiveAction(e)){for(var t,n=e._propertyBindings,r=0,i=n.length;r!==i;++r)0==--(t=n[r]).useCount&&(t.restoreOriginalState(),this._takeBackBinding(t));this._takeBackAction(e)}},_initMemoryManager:function(){this._actions=[],this._nActiveActions=0,this._actionsByClip={},this._bindings=[],this._nActiveBindings=0,this._bindingsByRootAndName={},this._controlInterpolants=[],this._nActiveControlInterpolants=0;var e=this;this.stats={actions:{get total(){return e._actions.length},get inUse(){return e._nActiveActions}},bindings:{get total(){return e._bindings.length},get inUse(){return e._nActiveBindings}},controlInterpolants:{get total(){return e._controlInterpolants.length},get inUse(){return e._nActiveControlInterpolants}}}},_isActiveAction:function(e){var t=e._cacheIndex;return null!==t&&t<this._nActiveActions},_addInactiveAction:function(e,t,n){var r=this._actions,i=this._actionsByClip,o=i[t];if(void 0===o)o={knownActions:[e],actionByRoot:{}},e._byClipCacheIndex=0,i[t]=o;else{var a=o.knownActions;e._byClipCacheIndex=a.length,a.push(e)}e._cacheIndex=r.length,r.push(e),o.actionByRoot[n]=e},_removeInactiveAction:function(e){var t=this._actions,n=t[t.length-1],r=e._cacheIndex;n._cacheIndex=r,t[r]=n,t.pop(),e._cacheIndex=null;var i=e._clip.uuid,o=this._actionsByClip,a=o[i],s=a.knownActions,u=s[s.length-1],c=e._byClipCacheIndex;u._byClipCacheIndex=c,s[c]=u,s.pop(),e._byClipCacheIndex=null,delete a.actionByRoot[(e._localRoot||this._root).uuid],0===s.length&&delete o[i],this._removeInactiveBindingsForAction(e)},_removeInactiveBindingsForAction:function(e){for(var t,n=e._propertyBindings,r=0,i=n.length;r!==i;++r)0==--(t=n[r]).referenceCount&&this._removeInactiveBinding(t)},_lendAction:function(e){var t=this._actions,n=e._cacheIndex,r=this._nActiveActions++,i=t[r];e._cacheIndex=r,t[r]=e,i._cacheIndex=n,t[n]=i},_takeBackAction:function(e){var t=this._actions,n=e._cacheIndex,r=--this._nActiveActions,i=t[r];e._cacheIndex=r,t[r]=e,i._cacheIndex=n,t[n]=i},_addInactiveBinding:function(e,t,n){var r=this._bindingsByRootAndName,i=r[t],o=this._bindings;void 0===i&&(i={},r[t]=i),i[n]=e,e._cacheIndex=o.length,o.push(e)},_removeInactiveBinding:function(e){var t=this._bindings,n=e.binding,r=n.rootNode.uuid,i=n.path,o=this._bindingsByRootAndName,a=o[r],s=t[t.length-1],u=e._cacheIndex;s._cacheIndex=u,t[u]=s,t.pop(),delete a[i];e:{for(var c in a)break e;delete o[r]}},_lendBinding:function(e){var t=this._bindings,n=e._cacheIndex,r=this._nActiveBindings++,i=t[r];e._cacheIndex=r,t[r]=e,i._cacheIndex=n,t[n]=i},_takeBackBinding:function(e){var t=this._bindings,n=e._cacheIndex,r=--this._nActiveBindings,i=t[r];e._cacheIndex=r,t[r]=e,i._cacheIndex=n,t[n]=i},_lendControlInterpolant:function(){var e=this._controlInterpolants,t=this._nActiveControlInterpolants++,n=e[t];return void 0===n&&((n=new mr(new Float32Array(2),new Float32Array(2),1,this._controlInterpolantsResultBuffer)).__cacheIndex=t,e[t]=n),n},_takeBackControlInterpolant:function(e){var t=this._controlInterpolants,n=e.__cacheIndex,r=--this._nActiveControlInterpolants,i=t[r];e.__cacheIndex=r,t[r]=e,i.__cacheIndex=n,t[n]=i},_controlInterpolantsResultBuffer:new Float32Array(1),clipAction:function(e,t){var n=t||this._root,r=n.uuid,i="string"==typeof e?Tr.findByName(n,e):e,o=null===i?e:i.uuid,a=this._actionsByClip[o],s=null;if(void 0!==a){var u=a.actionByRoot[r];if(void 0!==u)return u;s=a.knownActions[0],null===i&&(i=s._clip)}if(null===i)return null;var c=new Pi(this,i,t);return this._bindAction(c,s),this._addInactiveAction(c,o,r),c},existingAction:function(e,t){var n=t||this._root,r=n.uuid,i="string"==typeof e?Tr.findByName(n,e):e,o=i?i.uuid:e,a=this._actionsByClip[o];return void 0===a?null:a.actionByRoot[r]||null},stopAllAction:function(){var e=this._actions,t=this._nActiveActions,n=this._bindings,r=this._nActiveBindings;this._nActiveActions=0,this._nActiveBindings=0;for(var i=0;i!==t;++i)e[i].reset();for(i=0;i!==r;++i)n[i].useCount=0;return this},update:function(e){e*=this.timeScale;for(var t=this._actions,n=this._nActiveActions,r=this.time+=e,i=ta(e),o=this._accuIndex^=1,a=0;a!==n;++a)t[a]._update(r,e,i,o);var s=this._bindings,u=this._nActiveBindings;for(a=0;a!==u;++a)s[a].apply(o);return this},getRoot:function(){return this._root},uncacheClip:function(e){var t=this._actions,n=e.uuid,r=this._actionsByClip,i=r[n];if(void 0!==i){for(var o,a=i.knownActions,s=0,u=a.length;s!==u;++s){o=a[s],this._deactivateAction(o);var c=o._cacheIndex,l=t[t.length-1];o._cacheIndex=null,o._byClipCacheIndex=null,l._cacheIndex=c,t[c]=l,t.pop(),this._removeInactiveBindingsForAction(o)}delete r[n]}},uncacheRoot:function(e){var t=e.uuid,n=this._actionsByClip;for(var r in n){var i=n[r].actionByRoot[t];void 0!==i&&(this._deactivateAction(i),this._removeInactiveAction(i))}var o=this._bindingsByRootAndName[t];if(void 0!==o)for(var a in o){var s=o[a];s.restoreOriginalState(),this._removeInactiveBinding(s)}},uncacheAction:function(e,t){var n=this.existingAction(e,t);null!==n&&(this._deactivateAction(n),this._removeInactiveAction(n))}}),Oi.prototype.clone=function(){return new Oi(void 0===this.value.clone?this.value:this.value.clone())},Ii.prototype=Object.assign(Object.create(z.prototype),{constructor:Ii,isInstancedBufferGeometry:!0,copy:function(e){return z.prototype.copy.call(this,e),this.maxInstancedCount=e.maxInstancedCount,this},clone:function(){return(new this.constructor).copy(this)}}),ki.prototype=Object.assign(Object.create(Dt.prototype),{constructor:ki,isInstancedInterleavedBuffer:!0,copy:function(e){return Dt.prototype.copy.call(this,e),this.meshPerAttribute=e.meshPerAttribute,this}}),Ni.prototype=Object.assign(Object.create(C.prototype),{constructor:Ni,isInstancedBufferAttribute:!0,copy:function(e){return C.prototype.copy.call(this,e),this.meshPerAttribute=e.meshPerAttribute,this}}),Object.assign(Fi.prototype,{linePrecision:1,set:function(e,t){this.ray.set(e,t)},setFromCamera:function(e,t){t&&t.isPerspectiveCamera?(this.ray.origin.setFromMatrixPosition(t.matrixWorld),this.ray.direction.set(e.x,e.y,.5).unproject(t).sub(this.ray.origin).normalize()):t&&t.isOrthographicCamera?(this.ray.origin.set(e.x,e.y,(t.near+t.far)/(t.near-t.far)).unproject(t),this.ray.direction.set(0,0,-1).transformDirection(t.matrixWorld)):console.error("THREE.Raycaster: Unsupported camera type.")},intersectObject:function(e,t,n){var r=n||[];return Ui(e,this,r,t),r.sort(Bi),r},intersectObjects:function(e,t,n){var r=n||[];if(!1===Array.isArray(e))return console.warn("THREE.Raycaster.intersectObjects: objects is not an Array."),r;for(var i=0,o=e.length;i<o;i++)Ui(e[i],this,r,t);return r.sort(Bi),r}}),Object.assign(zi.prototype,{set:function(e,t,n){return this.radius=e,this.phi=t,this.theta=n,this},clone:function(){return(new this.constructor).copy(this)},copy:function(e){return this.radius=e.radius,this.phi=e.phi,this.theta=e.theta,this},makeSafe:function(){return this.phi=oa(1e-6,aa(ea-1e-6,this.phi)),this},setFromVector3:function(e){return this.setFromCartesianCoords(e.x,e.y,e.z)},setFromCartesianCoords:function(e,t,n){return this.radius=Jo(e*e+t*t+n*n),0===this.radius?(this.theta=0,this.phi=0):(this.theta=qo(e,n),this.phi=Vo(Hu.clamp(t/this.radius,-1,1))),this}}),Object.assign(ji.prototype,{set:function(e,t,n){return this.radius=e,this.theta=t,this.y=n,this},clone:function(){return(new this.constructor).copy(this)},copy:function(e){return this.radius=e.radius,this.theta=e.theta,this.y=e.y,this},setFromVector3:function(e){return this.setFromCartesianCoords(e.x,e.y,e.z)},setFromCartesianCoords:function(e,t,n){return this.radius=Jo(e*e+n*n),this.theta=qo(e,n),this.y=t,this}}),Object.assign(Gi.prototype,{set:function(e,t){return this.min.copy(e),this.max.copy(t),this},setFromPoints:function(e){this.makeEmpty();for(var t=0,n=e.length;t<n;t++)this.expandByPoint(e[t]);return this},setFromCenterAndSize:function(){var e=new i;return function(t,n){var r=e.copy(n).multiplyScalar(.5);return this.min.copy(t).sub(r),this.max.copy(t).add(r),this}}(),clone:function(){return(new this.constructor).copy(this)},copy:function(e){return this.min.copy(e.min),this.max.copy(e.max),this},makeEmpty:function(){return this.min.x=this.min.y=1/0,this.max.x=this.max.y=-1/0,this},isEmpty:function(){return this.max.x<this.min.x||this.max.y<this.min.y},getCenter:function(e){return void 0===e&&(console.warn("THREE.Box2: .getCenter() target is now required"),e=new i),this.isEmpty()?e.set(0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)},getSize:function(e){return void 0===e&&(console.warn("THREE.Box2: .getSize() target is now required"),e=new i),this.isEmpty()?e.set(0,0):e.subVectors(this.max,this.min)},expandByPoint:function(e){return this.min.min(e),this.max.max(e),this},expandByVector:function(e){return this.min.sub(e),this.max.add(e),this},expandByScalar:function(e){return this.min.addScalar(-e),this.max.addScalar(e),this},containsPoint:function(e){return!(e.x<this.min.x||e.x>this.max.x||e.y<this.min.y||e.y>this.max.y)},containsBox:function(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y},getParameter:function(e,t){return void 0===t&&(console.warn("THREE.Box2: .getParameter() target is now required"),t=new i),t.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y))},intersectsBox:function(e){return!(e.max.x<this.min.x||e.min.x>this.max.x||e.max.y<this.min.y||e.min.y>this.max.y)},clampPoint:function(e,t){return void 0===t&&(console.warn("THREE.Box2: .clampPoint() target is now required"),t=new i),t.copy(e).clamp(this.min,this.max)},distanceToPoint:function(){var e=new i;return function(t){return e.copy(t).clamp(this.min,this.max).sub(t).length()}}(),intersect:function(e){return this.min.max(e.min),this.max.min(e.max),this},union:function(e){return this.min.min(e.min),this.max.max(e.max),this},translate:function(e){return this.min.add(e),this.max.add(e),this},equals:function(e){return e.min.equals(this.min)&&e.max.equals(this.max)}}),Object.assign(Hi.prototype,{set:function(e,t){return this.start.copy(e),this.end.copy(t),this},clone:function(){return(new this.constructor).copy(this)},copy:function(e){return this.start.copy(e.start),this.end.copy(e.end),this},getCenter:function(e){return void 0===e&&(console.warn("THREE.Line3: .getCenter() target is now required"),e=new s),e.addVectors(this.start,this.end).multiplyScalar(.5)},delta:function(e){return void 0===e&&(console.warn("THREE.Line3: .delta() target is now required"),e=new s),e.subVectors(this.end,this.start)},distanceSq:function(){return this.start.distanceToSquared(this.end)},distance:function(){return this.start.distanceTo(this.end)},at:function(e,t){return void 0===t&&(console.warn("THREE.Line3: .at() target is now required"),t=new s),this.delta(t).multiplyScalar(e).add(this.start)},closestPointToPointParameter:function(){var e=new s,t=new s;return function(n,r){e.subVectors(n,this.start),t.subVectors(this.end,this.start);var i=t.dot(t),o=t.dot(e)/i;return r&&(o=Hu.clamp(o,0,1)),o}}(),closestPointToPoint:function(e,t,n){var r=this.closestPointToPointParameter(e,t);return void 0===n&&(console.warn("THREE.Line3: .closestPointToPoint() target is now required"),n=new s),this.delta(n).multiplyScalar(r).add(this.start)},applyMatrix4:function(e){return this.start.applyMatrix4(e),this.end.applyMatrix4(e),this},equals:function(e){return e.start.equals(this.start)&&e.end.equals(this.end)}}),Vi.prototype=Object.create(A.prototype),Vi.prototype.constructor=Vi,Vi.prototype.isImmediateRenderObject=!0,Wi.prototype=Object.create(Ut.prototype),Wi.prototype.constructor=Wi,Wi.prototype.update=function(){var e=new s,t=new s,n=new u;return function(){var r=["a","b","c"];this.object.updateMatrixWorld(!0),n.getNormalMatrix(this.object.matrixWorld);var i=this.object.matrixWorld,o=this.geometry.attributes.position,a=this.object.geometry;if(a&&a.isGeometry)for(var s,u=a.vertices,c=a.faces,l=0,h=0,p=c.length;h<p;h++)for(var f=0,d=(s=c[h]).vertexNormals.length;f<d;f++){var m=u[s[r[f]]],g=s.vertexNormals[f];e.copy(m).applyMatrix4(i),t.copy(g).applyMatrix3(n).normalize().multiplyScalar(this.size).add(e),o.setXYZ(l,e.x,e.y,e.z),++l,o.setXYZ(l,t.x,t.y,t.z),++l}else if(a&&a.isBufferGeometry){var v=a.attributes.position,y=a.attributes.normal;for(l=0,f=0,d=v.count;f<d;f++)e.set(v.getX(f),v.getY(f),v.getZ(f)).applyMatrix4(i),t.set(y.getX(f),y.getY(f),y.getZ(f)),t.applyMatrix3(n).normalize().multiplyScalar(this.size).add(e),o.setXYZ(l,e.x,e.y,e.z),++l,o.setXYZ(l,t.x,t.y,t.z),++l}o.needsUpdate=!0}}(),Xi.prototype=Object.create(A.prototype),Xi.prototype.constructor=Xi,Xi.prototype.dispose=function(){this.cone.geometry.dispose(),this.cone.material.dispose()},Xi.prototype.update=function(){var e=new s;return function(){this.light.updateMatrixWorld();var t=this.light.distance?this.light.distance:1e3,n=t*jo(this.light.angle);this.cone.scale.set(n,n,t),e.setFromMatrixPosition(this.light.target.matrixWorld),this.cone.lookAt(e),void 0===this.color?this.cone.material.color.copy(this.light.color):this.cone.material.color.set(this.color)}}(),qi.prototype=Object.create(Ut.prototype),qi.prototype.constructor=qi,qi.prototype.updateMatrixWorld=function(){var e=new s,t=new o,n=new o;return function(r){var i=this.bones,o=this.geometry,a=o.getAttribute("position");n.getInverse(this.root.matrixWorld);for(var s,u=0,c=0;u<i.length;u++)(s=i[u]).parent&&s.parent.isBone&&(t.multiplyMatrices(n,s.matrixWorld),e.setFromMatrixPosition(t),a.setXYZ(c,e.x,e.y,e.z),t.multiplyMatrices(n,s.parent.matrixWorld),e.setFromMatrixPosition(t),a.setXYZ(c+1,e.x,e.y,e.z),c+=2);o.getAttribute("position").needsUpdate=!0,A.prototype.updateMatrixWorld.call(this,r)}}(),Yi.prototype=Object.create(Z.prototype),Yi.prototype.constructor=Yi,Yi.prototype.dispose=function(){this.geometry.dispose(),this.material.dispose()},Yi.prototype.update=function(){void 0===this.color?this.material.color.copy(this.light.color):this.material.color.set(this.color)},Ji.prototype=Object.create(Bt.prototype),Ji.prototype.constructor=Ji,Ji.prototype.update=function(){if(this.scale.set(.5*this.light.width,.5*this.light.height,1),void 0!==this.color)this.material.color.set(this.color),this.children[0].material.color.set(this.color);else{this.material.color.copy(this.light.color).multiplyScalar(this.light.intensity);var e=this.material.color,t=oa(e.r,e.g,e.b);1<t&&e.multiplyScalar(1/t),this.children[0].material.color.copy(this.material.color)}},Ji.prototype.dispose=function(){this.geometry.dispose(),this.material.dispose(),this.children[0].geometry.dispose(),this.children[0].material.dispose()},Zi.prototype=Object.create(A.prototype),Zi.prototype.constructor=Zi,Zi.prototype.dispose=function(){this.children[0].geometry.dispose(),this.children[0].material.dispose()},Zi.prototype.update=function(){var e=new s,t=new b,n=new b;return function(){var r=this.children[0];if(void 0!==this.color)this.material.color.set(this.color);else{var i=r.geometry.getAttribute("color");t.copy(this.light.color),n.copy(this.light.groundColor);for(var o,a=0,s=i.count;a<s;a++)o=a<s/2?t:n,i.setXYZ(a,o.r,o.g,o.b);i.needsUpdate=!0}r.lookAt(e.setFromMatrixPosition(this.light.matrixWorld).negate())}}(),Ki.prototype=Object.create(Ut.prototype),Ki.prototype.constructor=Ki,$i.prototype=Object.create(Ut.prototype),$i.prototype.constructor=$i,Qi.prototype=Object.create(Ut.prototype),Qi.prototype.constructor=Qi,Qi.prototype.update=function(){var e=new s,t=new s,n=new u;return function(){this.object.updateMatrixWorld(!0),n.getNormalMatrix(this.object.matrixWorld);for(var r=this.object.matrixWorld,i=this.geometry.attributes.position,o=this.object.geometry,a=o.vertices,s=o.faces,u=0,c=0,l=s.length;c<l;c++){var h=s[c],p=h.normal;e.copy(a[h.a]).add(a[h.b]).add(a[h.c]).divideScalar(3).applyMatrix4(r),t.copy(p).applyMatrix3(n).normalize().multiplyScalar(this.size).add(e),i.setXYZ(u,e.x,e.y,e.z),++u,i.setXYZ(u,t.x,t.y,t.z),++u}i.needsUpdate=!0}}(),eo.prototype=Object.create(A.prototype),eo.prototype.constructor=eo,eo.prototype.dispose=function(){this.lightPlane.geometry.dispose(),this.lightPlane.material.dispose(),this.targetLine.geometry.dispose(),this.targetLine.material.dispose()},eo.prototype.update=function(){var e=new s,t=new s,n=new s;return function(){e.setFromMatrixPosition(this.light.matrixWorld),t.setFromMatrixPosition(this.light.target.matrixWorld),n.subVectors(t,e),this.lightPlane.lookAt(t),void 0===this.color?(this.lightPlane.material.color.copy(this.light.color),this.targetLine.material.color.copy(this.light.color)):(this.lightPlane.material.color.set(this.color),this.targetLine.material.color.set(this.color)),this.targetLine.lookAt(t),this.targetLine.scale.z=n.length()}}(),to.prototype=Object.create(Ut.prototype),to.prototype.constructor=to,to.prototype.update=function(){function e(e,o,a,s){r.set(o,a,s).unproject(i);var u=n[e];if(void 0!==u)for(var c=t.getAttribute("position"),l=0,h=u.length;l<h;l++)c.setXYZ(u[l],r.x,r.y,r.z)}var t,n,r=new s,i=new xt;return function(){t=this.geometry,n=this.pointMap;i.projectionMatrix.copy(this.camera.projectionMatrix),e("c",0,0,-1),e("t",0,0,1),e("n1",-1,-1,-1),e("n2",1,-1,-1),e("n3",-1,1,-1),e("n4",1,1,-1),e("f1",-1,-1,1),e("f2",1,-1,1),e("f3",-1,1,1),e("f4",1,1,1),e("u1",.7,1.1,-1),e("u2",-.7,1.1,-1),e("u3",0,2,-1),e("cf1",-1,0,1),e("cf2",1,0,1),e("cf3",0,-1,1),e("cf4",0,1,1),e("cn1",-1,0,-1),e("cn2",1,0,-1),e("cn3",0,-1,-1),e("cn4",0,1,-1),t.getAttribute("position").needsUpdate=!0}}(),no.prototype=Object.create(Ut.prototype),no.prototype.constructor=no,no.prototype.update=function(){var e=new d;return function(t){if(void 0!==t&&console.warn("THREE.BoxHelper: .update() has no longer arguments."),void 0!==this.object&&e.setFromObject(this.object),!e.isEmpty()){var n=e.min,r=e.max,i=this.geometry.attributes.position,o=i.array;o[0]=r.x,o[1]=r.y,o[2]=r.z,o[3]=n.x,o[4]=r.y,o[5]=r.z,o[6]=n.x,o[7]=n.y,o[8]=r.z,o[9]=r.x,o[10]=n.y,o[11]=r.z,o[12]=r.x,o[13]=r.y,o[14]=n.z,o[15]=n.x,o[16]=r.y,o[17]=n.z,o[18]=n.x,o[19]=n.y,o[20]=n.z,o[21]=r.x,o[22]=n.y,o[23]=n.z,i.needsUpdate=!0,this.geometry.computeBoundingSphere()}}}(),no.prototype.setFromObject=function(e){return this.object=e,this.update(),this},no.prototype.copy=function(e){return Ut.prototype.copy.call(this,e),this.object=e.object,this},no.prototype.clone=function(){return(new this.constructor).copy(this)},ro.prototype=Object.create(Ut.prototype),ro.prototype.constructor=ro,ro.prototype.updateMatrixWorld=function(e){var t=this.box;t.isEmpty()||(t.getCenter(this.position),t.getSize(this.scale),this.scale.multiplyScalar(.5),A.prototype.updateMatrixWorld.call(this,e))},io.prototype=Object.create(Bt.prototype),io.prototype.constructor=io,io.prototype.updateMatrixWorld=function(e){var t=-this.plane.constant;1e-8>Yo(t)&&(t=1e-8),this.scale.set(.5*this.size,.5*this.size,t),this.children[0].material.side=0>t?ba:xa,this.lookAt(this.plane.normal),A.prototype.updateMatrixWorld.call(this,e)},oo.prototype=Object.create(A.prototype),oo.prototype.constructor=oo,oo.prototype.setDirection=function(){var e,t=new s;return function(n){.99999<n.y?this.quaternion.set(0,0,0,1):-.99999>n.y?this.quaternion.set(1,0,0,0):(t.set(n.z,0,-n.x).normalize(),e=Vo(n.y),this.quaternion.setFromAxisAngle(t,e))}}(),oo.prototype.setLength=function(e,t,n){void 0===t&&(t=.2*e),void 0===n&&(n=.2*t),this.line.scale.set(1,oa(0,e-t),1),this.line.updateMatrix(),this.cone.scale.set(n,t,n),this.cone.position.y=e,this.cone.updateMatrix()},oo.prototype.setColor=function(e){this.line.material.color.copy(e),this.cone.material.color.copy(e)},oo.prototype.copy=function(e){return A.prototype.copy.call(this,e,!1),this.line.copy(e.line),this.cone.copy(e.cone),this},oo.prototype.clone=function(){return(new this.constructor).copy(this)},ao.prototype=Object.create(Ut.prototype),ao.prototype.constructor=ao;var zc=0,jc=1;kr.create=function(e,t){return console.log("THREE.Curve.create() has been deprecated"),e.prototype=Object.create(kr.prototype),e.prototype.constructor=e,e.prototype.getPoint=t,e},Object.assign(Zr.prototype,{createPointsGeometry:function(e){console.warn("THREE.CurvePath: .createPointsGeometry() has been removed. Use new THREE.Geometry().setFromPoints( points ) instead.");var t=this.getPoints(e);return this.createGeometry(t)},createSpacedPointsGeometry:function(e){console.warn("THREE.CurvePath: .createSpacedPointsGeometry() has been removed. Use new THREE.Geometry().setFromPoints( points ) instead.");var t=this.getSpacedPoints(e);return this.createGeometry(t)},createGeometry:function(e){console.warn("THREE.CurvePath: .createGeometry() has been removed. Use new THREE.Geometry().setFromPoints( points ) instead.");for(var t,n=new M,r=0,i=e.length;r<i;r++)t=e[r],n.vertices.push(new s(t.x,t.y,t.z||0));return n}}),Object.assign(Kr.prototype,{fromPoints:function(e){console.warn("THREE.Path: .fromPoints() has been renamed to .setFromPoints()."),this.setFromPoints(e)}}),Co.prototype=Object.create(Ur.prototype),Do.prototype=Object.create(Ur.prototype),Lo.prototype=Object.create(Ur.prototype),Object.assign(Lo.prototype,{initFromArray:function(){console.error("THREE.Spline: .initFromArray() has been removed.")},getControlPointsArray:function(){console.error("THREE.Spline: .getControlPointsArray() has been removed.")},reparametrizeByArcLength:function(){console.error("THREE.Spline: .reparametrizeByArcLength() has been removed.")}}),Ki.prototype.setColors=function(){console.error("THREE.GridHelper: setColors() has been deprecated, pass them in the constructor instead.")},qi.prototype.update=function(){console.error("THREE.SkeletonHelper: update() no longer needs to be called.")},Object.assign(yi.prototype,{extractUrlBase:function(e){return console.warn("THREE.Loader: .extractUrlBase() has been deprecated. Use THREE.LoaderUtils.extractUrlBase() instead."),Lc.extractUrlBase(e)}}),Object.assign(pi.prototype,{setTexturePath:function(e){return console.warn("THREE.ObjectLoader: .setTexturePath() has been renamed to .setResourcePath()."),this.setResourcePath(e)}}),Object.assign(Gi.prototype,{center:function(e){return console.warn("THREE.Box2: .center() has been renamed to .getCenter()."),this.getCenter(e)},empty:function(){return console.warn("THREE.Box2: .empty() has been renamed to .isEmpty()."),this.isEmpty()},isIntersectionBox:function(e){return console.warn("THREE.Box2: .isIntersectionBox() has been renamed to .intersectsBox()."),this.intersectsBox(e)},size:function(e){return console.warn("THREE.Box2: .size() has been renamed to .getSize()."),this.getSize(e)}}),Object.assign(d.prototype,{center:function(e){return console.warn("THREE.Box3: .center() has been renamed to .getCenter()."),this.getCenter(e)},empty:function(){return console.warn("THREE.Box3: .empty() has been renamed to .isEmpty()."),this.isEmpty()},isIntersectionBox:function(e){return console.warn("THREE.Box3: .isIntersectionBox() has been renamed to .intersectsBox()."),this.intersectsBox(e)},isIntersectionSphere:function(e){return console.warn("THREE.Box3: .isIntersectionSphere() has been renamed to .intersectsSphere()."),this.intersectsSphere(e)},size:function(e){return console.warn("THREE.Box3: .size() has been renamed to .getSize()."),this.getSize(e)}}),Hi.prototype.center=function(e){return console.warn("THREE.Line3: .center() has been renamed to .getCenter()."),this.getCenter(e)},Object.assign(Hu,{random16:function(){return console.warn("THREE.Math: .random16() has been deprecated. Use Math.random() instead."),Math.random()},nearestPowerOfTwo:function(e){return console.warn("THREE.Math: .nearestPowerOfTwo() has been renamed to .floorPowerOfTwo()."),Hu.floorPowerOfTwo(e)},nextPowerOfTwo:function(e){return console.warn("THREE.Math: .nextPowerOfTwo() has been renamed to .ceilPowerOfTwo()."),Hu.ceilPowerOfTwo(e)}}),Object.assign(u.prototype,{flattenToArrayOffset:function(e,t){return console.warn("THREE.Matrix3: .flattenToArrayOffset() has been deprecated. Use .toArray() instead."),this.toArray(e,t)},multiplyVector3:function(e){return console.warn("THREE.Matrix3: .multiplyVector3() has been removed. Use vector.applyMatrix3( matrix ) instead."),e.applyMatrix3(this)},multiplyVector3Array:function(){console.error("THREE.Matrix3: .multiplyVector3Array() has been removed.")},applyToBuffer:function(e){return console.warn("THREE.Matrix3: .applyToBuffer() has been removed. Use matrix.applyToBufferAttribute( attribute ) instead."),this.applyToBufferAttribute(e)},applyToVector3Array:function(){console.error("THREE.Matrix3: .applyToVector3Array() has been removed.")}}),Object.assign(o.prototype,{extractPosition:function(e){return console.warn("THREE.Matrix4: .extractPosition() has been renamed to .copyPosition()."),this.copyPosition(e)},flattenToArrayOffset:function(e,t){return console.warn("THREE.Matrix4: .flattenToArrayOffset() has been deprecated. Use .toArray() instead."),this.toArray(e,t)},getPosition:function(){var e;return function(){return null==e&&(e=new s),console.warn("THREE.Matrix4: .getPosition() has been removed. Use Vector3.setFromMatrixPosition( matrix ) instead."),e.setFromMatrixColumn(this,3)}}(),setRotationFromQuaternion:function(e){return console.warn("THREE.Matrix4: .setRotationFromQuaternion() has been renamed to .makeRotationFromQuaternion()."),this.makeRotationFromQuaternion(e)},multiplyToArray:function(){console.warn("THREE.Matrix4: .multiplyToArray() has been removed.")},multiplyVector3:function(e){return console.warn("THREE.Matrix4: .multiplyVector3() has been removed. Use vector.applyMatrix4( matrix ) instead."),e.applyMatrix4(this)},multiplyVector4:function(e){return console.warn("THREE.Matrix4: .multiplyVector4() has been removed. Use vector.applyMatrix4( matrix ) instead."),e.applyMatrix4(this)},multiplyVector3Array:function(){console.error("THREE.Matrix4: .multiplyVector3Array() has been removed.")},rotateAxis:function(e){console.warn("THREE.Matrix4: .rotateAxis() has been removed. Use Vector3.transformDirection( matrix ) instead."),e.transformDirection(this)},crossVector:function(e){return console.warn("THREE.Matrix4: .crossVector() has been removed. Use vector.applyMatrix4( matrix ) instead."),e.applyMatrix4(this)},translate:function(){console.error("THREE.Matrix4: .translate() has been removed.")},rotateX:function(){console.error("THREE.Matrix4: .rotateX() has been removed.")},rotateY:function(){console.error("THREE.Matrix4: .rotateY() has been removed.")},rotateZ:function(){console.error("THREE.Matrix4: .rotateZ() has been removed.")},rotateByAxis:function(){console.error("THREE.Matrix4: .rotateByAxis() has been removed.")},applyToBuffer:function(e){return console.warn("THREE.Matrix4: .applyToBuffer() has been removed. Use matrix.applyToBufferAttribute( attribute ) instead."),this.applyToBufferAttribute(e)},applyToVector3Array:function(){console.error("THREE.Matrix4: .applyToVector3Array() has been removed.")},makeFrustum:function(e,t,n,r,i,o){return console.warn("THREE.Matrix4: .makeFrustum() has been removed. Use .makePerspective( left, right, top, bottom, near, far ) instead."),this.makePerspective(e,t,r,n,i,o)}}),g.prototype.isIntersectionLine=function(e){return console.warn("THREE.Plane: .isIntersectionLine() has been renamed to .intersectsLine()."),this.intersectsLine(e)},a.prototype.multiplyVector3=function(e){return console.warn("THREE.Quaternion: .multiplyVector3() has been removed. Use is now vector.applyQuaternion( quaternion ) instead."),e.applyQuaternion(this)},Object.assign(q.prototype,{isIntersectionBox:function(e){return console.warn("THREE.Ray: .isIntersectionBox() has been renamed to .intersectsBox()."),this.intersectsBox(e)},isIntersectionPlane:function(e){return console.warn("THREE.Ray: .isIntersectionPlane() has been renamed to .intersectsPlane()."),this.intersectsPlane(e)},isIntersectionSphere:function(e){return console.warn("THREE.Ray: .isIntersectionSphere() has been renamed to .intersectsSphere()."),this.intersectsSphere(e)}}),Object.assign(Y.prototype,{area:function(){return console.warn("THREE.Triangle: .area() has been renamed to .getArea()."),this.getArea()},barycoordFromPoint:function(e,t){return console.warn("THREE.Triangle: .barycoordFromPoint() has been renamed to .getBarycoord()."),this.getBarycoord(e,t)},midpoint:function(e){return console.warn("THREE.Triangle: .midpoint() has been renamed to .getMidpoint()."),this.getMidpoint(e)},normal:function(e){return console.warn("THREE.Triangle: .normal() has been renamed to .getNormal()."),this.getNormal(e)},plane:function(e){return console.warn("THREE.Triangle: .plane() has been renamed to .getPlane()."),this.getPlane(e)}}),Object.assign(Y,{barycoordFromPoint:function(e,t,n,r,i){return console.warn("THREE.Triangle: .barycoordFromPoint() has been renamed to .getBarycoord()."),Y.getBarycoord(e,t,n,r,i)},normal:function(e,t,n,r){return console.warn("THREE.Triangle: .normal() has been renamed to .getNormal()."),Y.getNormal(e,t,n,r)}}),Object.assign($r.prototype,{extractAllPoints:function(e){return console.warn("THREE.Shape: .extractAllPoints() has been removed. Use .extractPoints() instead."),this.extractPoints(e)},extrude:function(e){return console.warn("THREE.Shape: .extrude() has been removed. Use ExtrudeGeometry() instead."),new Nn(this,e)},makeGeometry:function(e){return console.warn("THREE.Shape: .makeGeometry() has been removed. Use ShapeGeometry() instead."),new qn(this,e)}}),Object.assign(i.prototype,{fromAttribute:function(e,t,n){return console.warn("THREE.Vector2: .fromAttribute() has been renamed to .fromBufferAttribute()."),this.fromBufferAttribute(e,t,n)},distanceToManhattan:function(e){return console.warn("THREE.Vector2: .distanceToManhattan() has been renamed to .manhattanDistanceTo()."),this.manhattanDistanceTo(e)},lengthManhattan:function(){return console.warn("THREE.Vector2: .lengthManhattan() has been renamed to .manhattanLength()."),this.manhattanLength()}}),Object.assign(s.prototype,{setEulerFromRotationMatrix:function(){console.error("THREE.Vector3: .setEulerFromRotationMatrix() has been removed. Use Euler.setFromRotationMatrix() instead.")},setEulerFromQuaternion:function(){console.error("THREE.Vector3: .setEulerFromQuaternion() has been removed. Use Euler.setFromQuaternion() instead.")},getPositionFromMatrix:function(e){return console.warn("THREE.Vector3: .getPositionFromMatrix() has been renamed to .setFromMatrixPosition()."),this.setFromMatrixPosition(e)},getScaleFromMatrix:function(e){return console.warn("THREE.Vector3: .getScaleFromMatrix() has been renamed to .setFromMatrixScale()."),this.setFromMatrixScale(e)},getColumnFromMatrix:function(e,t){return console.warn("THREE.Vector3: .getColumnFromMatrix() has been renamed to .setFromMatrixColumn()."),this.setFromMatrixColumn(t,e)},applyProjection:function(e){return console.warn("THREE.Vector3: .applyProjection() has been removed. Use .applyMatrix4( m ) instead."),this.applyMatrix4(e)},fromAttribute:function(e,t,n){return console.warn("THREE.Vector3: .fromAttribute() has been renamed to .fromBufferAttribute()."),this.fromBufferAttribute(e,t,n)},distanceToManhattan:function(e){return console.warn("THREE.Vector3: .distanceToManhattan() has been renamed to .manhattanDistanceTo()."),this.manhattanDistanceTo(e)},lengthManhattan:function(){return console.warn("THREE.Vector3: .lengthManhattan() has been renamed to .manhattanLength()."),this.manhattanLength()}}),Object.assign(l.prototype,{fromAttribute:function(e,t,n){return console.warn("THREE.Vector4: .fromAttribute() has been renamed to .fromBufferAttribute()."),this.fromBufferAttribute(e,t,n)},lengthManhattan:function(){return console.warn("THREE.Vector4: .lengthManhattan() has been renamed to .manhattanLength()."),this.manhattanLength()}}),Object.assign(M.prototype,{computeTangents:function(){console.error("THREE.Geometry: .computeTangents() has been removed.")},computeLineDistances:function(){console.error("THREE.Geometry: .computeLineDistances() has been removed. Use THREE.Line.computeLineDistances() instead.")}}),Object.assign(A.prototype,{getChildByName:function(e){return console.warn("THREE.Object3D: .getChildByName() has been renamed to .getObjectByName()."),this.getObjectByName(e)},renderDepth:function(){console.warn("THREE.Object3D: .renderDepth has been removed. Use .renderOrder, instead.")},translate:function(e,t){return console.warn("THREE.Object3D: .translate() has been removed. Use .translateOnAxis( axis, distance ) instead."),this.translateOnAxis(t,e)},getWorldRotation:function(){console.error("THREE.Object3D: .getWorldRotation() has been removed. Use THREE.Object3D.getWorldQuaternion( target ) instead.")}}),Object.defineProperties(A.prototype,{eulerOrder:{get:function(){return console.warn("THREE.Object3D: .eulerOrder is now .rotation.order."),this.rotation.order},set:function(e){console.warn("THREE.Object3D: .eulerOrder is now .rotation.order."),this.rotation.order=e}},useQuaternion:{get:function(){console.warn("THREE.Object3D: .useQuaternion has been removed. The library now uses quaternions by default.")},set:function(){console.warn("THREE.Object3D: .useQuaternion has been removed. The library now uses quaternions by default.")}}}),Object.defineProperties(Ot.prototype,{objects:{get:function(){return console.warn("THREE.LOD: .objects has been renamed to .levels."),this.levels}}}),Object.defineProperty(kt.prototype,"useVertexTexture",{get:function(){console.warn("THREE.Skeleton: useVertexTexture has been removed.")},set:function(){console.warn("THREE.Skeleton: useVertexTexture has been removed.")}}),It.prototype.initBones=function(){console.error("THREE.SkinnedMesh: initBones() has been removed.")},Object.defineProperty(kr.prototype,"__arcLengthDivisions",{get:function(){return console.warn("THREE.Curve: .__arcLengthDivisions is now .arcLengthDivisions."),this.arcLengthDivisions},set:function(e){console.warn("THREE.Curve: .__arcLengthDivisions is now .arcLengthDivisions."),this.arcLengthDivisions=e}}),bt.prototype.setLens=function(e,t){console.warn("THREE.PerspectiveCamera.setLens is deprecated. Use .setFocalLength and .filmGauge for a photographic setup."),void 0!==t&&(this.filmGauge=t),this.setFocalLength(e)},Object.defineProperties(Qr.prototype,{onlyShadow:{set:function(){console.warn("THREE.Light: .onlyShadow has been removed.")}},shadowCameraFov:{set:function(e){console.warn("THREE.Light: .shadowCameraFov is now .shadow.camera.fov."),this.shadow.camera.fov=e}},shadowCameraLeft:{set:function(e){console.warn("THREE.Light: .shadowCameraLeft is now .shadow.camera.left."),this.shadow.camera.left=e}},shadowCameraRight:{set:function(e){console.warn("THREE.Light: .shadowCameraRight is now .shadow.camera.right."),this.shadow.camera.right=e}},shadowCameraTop:{set:function(e){console.warn("THREE.Light: .shadowCameraTop is now .shadow.camera.top."),this.shadow.camera.top=e}},shadowCameraBottom:{set:function(e){console.warn("THREE.Light: .shadowCameraBottom is now .shadow.camera.bottom."),this.shadow.camera.bottom=e}},shadowCameraNear:{set:function(e){console.warn("THREE.Light: .shadowCameraNear is now .shadow.camera.near."),this.shadow.camera.near=e}},shadowCameraFar:{set:function(e){console.warn("THREE.Light: .shadowCameraFar is now .shadow.camera.far."),this.shadow.camera.far=e}},shadowCameraVisible:{set:function(){console.warn("THREE.Light: .shadowCameraVisible has been removed. Use new THREE.CameraHelper( light.shadow.camera ) instead.")}},shadowBias:{set:function(e){console.warn("THREE.Light: .shadowBias is now .shadow.bias."),this.shadow.bias=e}},shadowDarkness:{set:function(){console.warn("THREE.Light: .shadowDarkness has been removed.")}},shadowMapWidth:{set:function(e){console.warn("THREE.Light: .shadowMapWidth is now .shadow.mapSize.width."),this.shadow.mapSize.width=e}},shadowMapHeight:{set:function(e){console.warn("THREE.Light: .shadowMapHeight is now .shadow.mapSize.height."),this.shadow.mapSize.height=e}}}),Object.defineProperties(C.prototype,{length:{get:function(){return console.warn("THREE.BufferAttribute: .length has been deprecated. Use .count instead."),this.array.length}},copyIndicesArray:function(){console.error("THREE.BufferAttribute: .copyIndicesArray() has been removed.")}}),Object.assign(z.prototype,{addIndex:function(e){console.warn("THREE.BufferGeometry: .addIndex() has been renamed to .setIndex()."),this.setIndex(e)},addDrawCall:function(e,t,n){void 0!==n&&console.warn("THREE.BufferGeometry: .addDrawCall() no longer supports indexOffset."),console.warn("THREE.BufferGeometry: .addDrawCall() is now .addGroup()."),this.addGroup(e,t)},clearDrawCalls:function(){console.warn("THREE.BufferGeometry: .clearDrawCalls() is now .clearGroups()."),this.clearGroups()},computeTangents:function(){console.warn("THREE.BufferGeometry: .computeTangents() has been removed.")},computeOffsets:function(){console.warn("THREE.BufferGeometry: .computeOffsets() has been removed.")}}),Object.defineProperties(z.prototype,{drawcalls:{get:function(){return console.error("THREE.BufferGeometry: .drawcalls has been renamed to .groups."),this.groups}},offsets:{get:function(){return console.warn("THREE.BufferGeometry: .offsets has been renamed to .groups."),this.groups}}}),Object.assign(Fn.prototype,{getArrays:function(){console.error("THREE.ExtrudeBufferGeometry: .getArrays() has been removed.")},addShapeList:function(){console.error("THREE.ExtrudeBufferGeometry: .addShapeList() has been removed.")},addShape:function(){console.error("THREE.ExtrudeBufferGeometry: .addShape() has been removed.")}}),Object.defineProperties(Oi.prototype,{dynamic:{set:function(){console.warn("THREE.Uniform: .dynamic has been removed. Use object.onBeforeRender() instead.")}},onUpdate:{value:function(){return console.warn("THREE.Uniform: .onUpdate() has been removed. Use object.onBeforeRender() instead."),this}}}),Object.defineProperties(W.prototype,{wrapAround:{get:function(){console.warn("THREE.Material: .wrapAround has been removed.")},set:function(){console.warn("THREE.Material: .wrapAround has been removed.")}},overdraw:{get:function(){console.warn("THREE.Material: .overdraw has been removed.")},set:function(){console.warn("THREE.Material: .overdraw has been removed.")}},wrapRGB:{get:function(){return console.warn("THREE.Material: .wrapRGB has been removed."),new b}},shading:{get:function(){console.error("THREE."+this.type+": .shading has been removed. Use the boolean .flatShading instead.")},set:function(e){console.warn("THREE."+this.type+": .shading has been removed. Use the boolean .flatShading instead."),this.flatShading=e===_a}}}),Object.defineProperties(sr.prototype,{metal:{get:function(){return console.warn("THREE.MeshPhongMaterial: .metal has been removed. Use THREE.MeshStandardMaterial instead."),!1},set:function(){console.warn("THREE.MeshPhongMaterial: .metal has been removed. Use THREE.MeshStandardMaterial instead")}}}),Object.defineProperties(X.prototype,{derivatives:{get:function(){return console.warn("THREE.ShaderMaterial: .derivatives has been moved to .extensions.derivatives."),this.extensions.derivatives},set:function(e){console.warn("THREE. ShaderMaterial: .derivatives has been moved to .extensions.derivatives."),this.extensions.derivatives=e}}}),Object.assign(Tt.prototype,{clearTarget:function(e,t,n,r){console.warn("THREE.WebGLRenderer: .clearTarget() has been deprecated. Use .setRenderTarget() and .clear() instead."),this.setRenderTarget(e),this.clear(t,n,r)},animate:function(e){console.warn("THREE.WebGLRenderer: .animate() is now .setAnimationLoop()."),this.setAnimationLoop(e)},getCurrentRenderTarget:function(){return console.warn("THREE.WebGLRenderer: .getCurrentRenderTarget() is now .getRenderTarget()."),this.getRenderTarget()},getMaxAnisotropy:function(){return console.warn("THREE.WebGLRenderer: .getMaxAnisotropy() is now .capabilities.getMaxAnisotropy()."),this.capabilities.getMaxAnisotropy()},getPrecision:function(){return console.warn("THREE.WebGLRenderer: .getPrecision() is now .capabilities.precision."),this.capabilities.precision},resetGLState:function(){return console.warn("THREE.WebGLRenderer: .resetGLState() is now .state.reset()."),this.state.reset()},supportsFloatTextures:function(){return console.warn("THREE.WebGLRenderer: .supportsFloatTextures() is now .extensions.get( 'OES_texture_float' )."),this.extensions.get("OES_texture_float")},supportsHalfFloatTextures:function(){return console.warn("THREE.WebGLRenderer: .supportsHalfFloatTextures() is now .extensions.get( 'OES_texture_half_float' )."),this.extensions.get("OES_texture_half_float")},supportsStandardDerivatives:function(){return console.warn("THREE.WebGLRenderer: .supportsStandardDerivatives() is now .extensions.get( 'OES_standard_derivatives' )."),this.extensions.get("OES_standard_derivatives")},supportsCompressedTextureS3TC:function(){return console.warn("THREE.WebGLRenderer: .supportsCompressedTextureS3TC() is now .extensions.get( 'WEBGL_compressed_texture_s3tc' )."),this.extensions.get("WEBGL_compressed_texture_s3tc")},supportsCompressedTexturePVRTC:function(){return console.warn("THREE.WebGLRenderer: .supportsCompressedTexturePVRTC() is now .extensions.get( 'WEBGL_compressed_texture_pvrtc' )."),this.extensions.get("WEBGL_compressed_texture_pvrtc")},supportsBlendMinMax:function(){return console.warn("THREE.WebGLRenderer: .supportsBlendMinMax() is now .extensions.get( 'EXT_blend_minmax' )."),this.extensions.get("EXT_blend_minmax")},supportsVertexTextures:function(){return console.warn("THREE.WebGLRenderer: .supportsVertexTextures() is now .capabilities.vertexTextures."),this.capabilities.vertexTextures},supportsInstancedArrays:function(){return console.warn("THREE.WebGLRenderer: .supportsInstancedArrays() is now .extensions.get( 'ANGLE_instanced_arrays' )."),this.extensions.get("ANGLE_instanced_arrays")},enableScissorTest:function(e){console.warn("THREE.WebGLRenderer: .enableScissorTest() is now .setScissorTest()."),this.setScissorTest(e)},initMaterial:function(){console.warn("THREE.WebGLRenderer: .initMaterial() has been removed.")},addPrePlugin:function(){console.warn("THREE.WebGLRenderer: .addPrePlugin() has been removed.")},addPostPlugin:function(){console.warn("THREE.WebGLRenderer: .addPostPlugin() has been removed.")},updateShadowMap:function(){console.warn("THREE.WebGLRenderer: .updateShadowMap() has been removed.")},setFaceCulling:function(){console.warn("THREE.WebGLRenderer: .setFaceCulling() has been removed.")}}),Object.defineProperties(Tt.prototype,{shadowMapEnabled:{get:function(){return this.shadowMap.enabled},set:function(e){console.warn("THREE.WebGLRenderer: .shadowMapEnabled is now .shadowMap.enabled."),this.shadowMap.enabled=e}},shadowMapType:{get:function(){return this.shadowMap.type},set:function(e){console.warn("THREE.WebGLRenderer: .shadowMapType is now .shadowMap.type."),this.shadowMap.type=e}},shadowMapCullFace:{get:function(){console.warn("THREE.WebGLRenderer: .shadowMapCullFace has been removed. Set Material.shadowSide instead.")},set:function(){console.warn("THREE.WebGLRenderer: .shadowMapCullFace has been removed. Set Material.shadowSide instead.")}}}),Object.defineProperties(dt.prototype,{cullFace:{get:function(){console.warn("THREE.WebGLRenderer: .shadowMap.cullFace has been removed. Set Material.shadowSide instead.")},set:function(){console.warn("THREE.WebGLRenderer: .shadowMap.cullFace has been removed. Set Material.shadowSide instead.")}},renderReverseSided:{get:function(){console.warn("THREE.WebGLRenderer: .shadowMap.renderReverseSided has been removed. Set Material.shadowSide instead.")},set:function(){console.warn("THREE.WebGLRenderer: .shadowMap.renderReverseSided has been removed. Set Material.shadowSide instead.")}},renderSingleSided:{get:function(){console.warn("THREE.WebGLRenderer: .shadowMap.renderSingleSided has been removed. Set Material.shadowSide instead.")},set:function(){console.warn("THREE.WebGLRenderer: .shadowMap.renderSingleSided has been removed. Set Material.shadowSide instead.")}}}),Object.defineProperties(h.prototype,{wrapS:{get:function(){return console.warn("THREE.WebGLRenderTarget: .wrapS is now .texture.wrapS."),this.texture.wrapS},set:function(e){console.warn("THREE.WebGLRenderTarget: .wrapS is now .texture.wrapS."),this.texture.wrapS=e}},wrapT:{get:function(){return console.warn("THREE.WebGLRenderTarget: .wrapT is now .texture.wrapT."),this.texture.wrapT},set:function(e){console.warn("THREE.WebGLRenderTarget: .wrapT is now .texture.wrapT."),this.texture.wrapT=e}},magFilter:{get:function(){return console.warn("THREE.WebGLRenderTarget: .magFilter is now .texture.magFilter."),this.texture.magFilter},set:function(e){console.warn("THREE.WebGLRenderTarget: .magFilter is now .texture.magFilter."),this.texture.magFilter=e}},minFilter:{get:function(){return console.warn("THREE.WebGLRenderTarget: .minFilter is now .texture.minFilter."),this.texture.minFilter},set:function(e){console.warn("THREE.WebGLRenderTarget: .minFilter is now .texture.minFilter."),this.texture.minFilter=e}},anisotropy:{get:function(){return console.warn("THREE.WebGLRenderTarget: .anisotropy is now .texture.anisotropy."),this.texture.anisotropy},set:function(e){console.warn("THREE.WebGLRenderTarget: .anisotropy is now .texture.anisotropy."),this.texture.anisotropy=e}},offset:{get:function(){return console.warn("THREE.WebGLRenderTarget: .offset is now .texture.offset."),this.texture.offset},set:function(e){console.warn("THREE.WebGLRenderTarget: .offset is now .texture.offset."),this.texture.offset=e}},repeat:{get:function(){return console.warn("THREE.WebGLRenderTarget: .repeat is now .texture.repeat."),this.texture.repeat},set:function(e){console.warn("THREE.WebGLRenderTarget: .repeat is now .texture.repeat."),this.texture.repeat=e}},format:{get:function(){return console.warn("THREE.WebGLRenderTarget: .format is now .texture.format."),this.texture.format},set:function(e){console.warn("THREE.WebGLRenderTarget: .format is now .texture.format."),this.texture.format=e}},type:{get:function(){return console.warn("THREE.WebGLRenderTarget: .type is now .texture.type."),this.texture.type},set:function(e){console.warn("THREE.WebGLRenderTarget: .type is now .texture.type."),this.texture.type=e}},generateMipmaps:{get:function(){return console.warn("THREE.WebGLRenderTarget: .generateMipmaps is now .texture.generateMipmaps."),this.texture.generateMipmaps},set:function(e){console.warn("THREE.WebGLRenderTarget: .generateMipmaps is now .texture.generateMipmaps."),this.texture.generateMipmaps=e}}}),Object.defineProperties(Et.prototype,{standing:{set:function(){console.warn("THREE.WebVRManager: .standing has been removed.")}},userHeight:{set:function(){console.warn("THREE.WebVRManager: .userHeight has been removed.")}}}),Si.prototype.load=function(e){console.warn("THREE.Audio: .load has been deprecated. Use THREE.AudioLoader instead.");var t=this;return(new xi).load(e,function(e){t.setBuffer(e)}),this},Ai.prototype.getData=function(){return console.warn("THREE.AudioAnalyser: .getData() is now .getFrequencyData()."),this.getFrequencyData()},wi.prototype.updateCubeMap=function(e,t){return console.warn("THREE.CubeCamera: .updateCubeMap() is now .update()."),this.update(e,t)};var Gc={merge:function(e,t,n){var r;console.warn("THREE.GeometryUtils: .merge() has been moved to Geometry. Use geometry.merge( geometry2, matrix, materialIndexOffset ) instead."),t.isMesh&&(t.matrixAutoUpdate&&t.updateMatrix(),r=t.matrix,t=t.geometry),e.merge(t,r,n)},center:function(e){return console.warn("THREE.GeometryUtils: .center() has been moved to Geometry. Use geometry.center() instead."),e.center()}};Wu.crossOrigin=void 0,Wu.loadTexture=function(e,t,n,r){console.warn("THREE.ImageUtils.loadTexture has been deprecated. Use THREE.TextureLoader() instead.");var i=new Ir;i.setCrossOrigin(this.crossOrigin);var o=i.load(e,n,void 0,r);return t&&(o.mapping=t),o},Wu.loadTextureCube=function(e,t,n,r){console.warn("THREE.ImageUtils.loadTextureCube has been deprecated. Use THREE.CubeTextureLoader() instead.");var i=new Or;i.setCrossOrigin(this.crossOrigin);var o=i.load(e,n,void 0,r);return t&&(o.mapping=t),o},Wu.loadCompressedTexture=function(){console.error("THREE.ImageUtils.loadCompressedTexture has been removed. Use THREE.DDSLoader instead.")},Wu.loadCompressedTextureCube=function(){console.error("THREE.ImageUtils.loadCompressedTextureCube has been removed. Use THREE.DDSLoader instead.")};var Hc={createMultiMaterialObject:function(){console.error("THREE.SceneUtils has been moved to /examples/js/utils/SceneUtils.js")},detach:function(){console.error("THREE.SceneUtils has been moved to /examples/js/utils/SceneUtils.js")},attach:function(){console.error("THREE.SceneUtils has been moved to /examples/js/utils/SceneUtils.js")}}},Wwog:function(e,t){"use strict";function n(e,t){if(e.length!==t.length)return!1;for(var n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}t.a=function(e,t){void 0===t&&(t=n);var r,i,o=[],a=!1;return function(){for(var n=[],s=0;s<arguments.length;s++)n[s]=arguments[s];return a&&r===this&&t(n,o)?i:(i=e.apply(this,n),a=!0,r=this,o=n,i)}}},"XJU/":function(e,t,n){var r=n("NegM");e.exports=function(e,t,n){for(var i in t)n&&e[i]?e[i]=t[i]:r(e,i,t[i]);return e}},XP29:function(e,t,n){"use strict";function r(e){var t,n,r;if(t=e.toString(16).toUpperCase(),255>=e)n="x",r=2;else if(65535>=e)n="u",r=4;else{if(!(4294967295>=e))throw new T("code point within a string may not be greater than 0xFFFFFFFF");n="U",r=8}return"\\"+n+S.repeat("0",r-t.length)+t}function i(e){this.schema=e.schema||A,this.indent=E(1,e.indent||2),this.noArrayIndent=e.noArrayIndent||!1,this.skipInvalid=e.skipInvalid||!1,this.flowLevel=S.isNothing(e.flowLevel)?-1:e.flowLevel,this.styleMap=function(e,t){var n,r,i,o,a,s,u;if(null===t)return{};for(n={},i=0,o=(r=Object.keys(t)).length;i<o;i+=1)s=t[a=r[i]]+"","!!"===a.slice(0,2)&&(a="tag:yaml.org,2002:"+a.slice(2)),(u=e.compiledTypeMap.fallback[a])&&D.call(u.styleAliases,s)&&(s=u.styleAliases[s]),n[a]=s;return n}(this.schema,e.styles||null),this.sortKeys=e.sortKeys||!1,this.lineWidth=e.lineWidth||80,this.noRefs=e.noRefs||!1,this.noCompatMode=e.noCompatMode||!1,this.condenseFlow=e.condenseFlow||!1,this.implicitTypes=this.schema.compiledImplicit,this.explicitTypes=this.schema.compiledExplicit,this.tag=null,this.result="",this.duplicates=[],this.usedDuplicates=null}function o(e,t){for(var n,r=S.repeat(" ",t),i=0,o=-1,a="",s=e.length;i<s;)-1===(o=e.indexOf("\n",i))?(n=e.slice(i),i=s):(n=e.slice(i,o+1),i=o+1),n.length&&"\n"!==n&&(a+=r),a+=n;return a}function a(e,t){return"\n"+S.repeat(" ",e.indent*t)}function s(e){return e===R||e===L}function u(e){return 32<=e&&126>=e||161<=e&&55295>=e&&8232!==e&&8233!==e||57344<=e&&65533>=e&&65279!==e||65536<=e&&1114111>=e}function c(e){return u(e)&&65279!==e&&e!==z&&e!==X&&e!==q&&e!==J&&e!==K&&e!==G&&e!==k}function l(e){return/^\n* /.test(e)}function h(e,t,n,r,i){var o,a,h=!1,p=!1,f=-1!==r,d=-1,m=function(e){return u(e)&&65279!==e&&!s(e)&&e!==j&&e!==V&&e!==G&&e!==z&&e!==X&&e!==q&&e!==J&&e!==K&&e!==k&&e!==F&&e!==U&&e!==O&&e!==Z&&e!==H&&e!==B&&e!==I&&e!==N&&e!==W&&e!==Y}(e.charCodeAt(0))&&!s(e.charCodeAt(e.length-1));if(t)for(o=0;o<e.length;o++){if(!u(a=e.charCodeAt(o)))return ie;m=m&&c(a)}else{for(o=0;o<e.length;o++){if((a=e.charCodeAt(o))===P)h=!0,f&&(p=p||o-d-1>r&&" "!==e[d+1],d=o);else if(!u(a))return ie;m=m&&c(a)}p=p||f&&o-d-1>r&&" "!==e[d+1]}return h||p?9<n&&l(e)?ie:p?re:ne:m&&!i(e)?ee:te}function p(e,t,n,r){e.dump=function(){if(0===t.length)return"''";if(!e.noCompatMode&&-1!==Q.indexOf(t))return"'"+t+"'";var i=e.indent*E(1,n),a=-1===e.lineWidth?-1:E(Math.min(e.lineWidth,40),e.lineWidth-i),s=r||-1<e.flowLevel&&n>=e.flowLevel;switch(h(t,s,e.indent,a,function(t){return function(e,t){var n,r;for(n=0,r=e.implicitTypes.length;n<r;n+=1)if(e.implicitTypes[n].resolve(t))return!0;return!1}(e,t)})){case ee:return t;case te:return"'"+t.replace(/'/g,"''")+"'";case ne:return"|"+f(t,e.indent)+d(o(t,i));case re:return">"+f(t,e.indent)+d(o(function(e,t){for(var n,r,i=/(\n+)([^\n]*)/g,o=function(){var n=e.indexOf("\n");return n=-1===n?e.length:n,i.lastIndex=n,m(e.slice(0,n),t)}(),a="\n"===e[0]||" "===e[0];r=i.exec(e);){var s=r[1],u=r[2];n=" "===u[0],o+=s+(a||n||""===u?"":"\n")+m(u,t),a=n}return o}(t,a),i));case ie:return'"'+g(t)+'"';default:throw new T("impossible error: invalid scalar style")}}()}function f(e,t){var n=l(e)?t+"":"",r="\n"===e[e.length-1];return n+(r&&("\n"===e[e.length-2]||"\n"===e)?"+":r?"":"-")+"\n"}function d(e){return"\n"===e[e.length-1]?e.slice(0,-1):e}function m(e,t){if(""===e||" "===e[0])return e;for(var n,r,i=/ [^ ]/g,o=0,a=0,s=0,u="";n=i.exec(e);)(s=n.index)-o>t&&(r=a>o?a:s,u+="\n"+e.slice(o,r),o=r+1),a=s;return u+="\n",(u+=e.length-o>t&&a>o?e.slice(o,a)+"\n"+e.slice(a+1):e.slice(o)).slice(1)}function g(e){for(var t,n,i,o="",a=0;a<e.length;a++)55296<=(t=e.charCodeAt(a))&&56319>=t&&(56320<=(n=e.charCodeAt(a+1))&&57343>=n)?(o+=r(1024*(t-55296)+n-56320+65536),a++):o+=!(i=$[t])&&u(t)?e[a]:i||r(t);return o}function v(e,t,n,r){var i,o,s="",u=e.tag;for(i=0,o=n.length;i<o;i+=1)b(e,t+1,n[i],!0,!0)&&(r&&0===i||(s+=a(e,t)),s+=e.dump&&P===e.dump.charCodeAt(0)?"-":"- ",s+=e.dump);e.tag=u,e.dump=s||"[]"}function y(e,t,n,r){var i,o,s,u,c,l,h="",p=e.tag,f=Object.keys(n);if(!0===e.sortKeys)f.sort();else if("function"==typeof e.sortKeys)f.sort(e.sortKeys);else if(e.sortKeys)throw new T("sortKeys must be a boolean or a function");for(i=0,o=f.length;i<o;i+=1)l="",r&&0===i||(l+=a(e,t)),u=n[s=f[i]],b(e,t+1,s,!0,!0,!0)&&((c=null!==e.tag&&"?"!==e.tag||e.dump&&1024<e.dump.length)&&(e.dump&&P===e.dump.charCodeAt(0)?l+="?":l+="? "),l+=e.dump,c&&(l+=a(e,t)),b(e,t+1,u,!0,c))&&(l+=e.dump&&P===e.dump.charCodeAt(0)?":":": ",h+=l+=e.dump);e.tag=p,e.dump=h||"{}"}function x(e,t,n){var r,i,o,a,s,u;for(o=0,a=(i=n?e.explicitTypes:e.implicitTypes).length;o<a;o+=1)if(((s=i[o]).instanceOf||s.predicate)&&(!s.instanceOf||"object"==typeof t&&t instanceof s.instanceOf)&&(!s.predicate||s.predicate(t))){if(e.tag=n?s.tag:"?",s.represent){if(u=e.styleMap[s.tag]||s.defaultStyle,"[object Function]"===C.call(s.represent))r=s.represent(t,u);else{if(!D.call(s.represent,u))throw new T("!<"+s.tag+'> tag resolver accepts not "'+u+'" style');r=s.represent[u](t,u)}e.dump=r}return!0}return!1}function b(e,t,n,r,i,o){e.tag=null,e.dump=n,x(e,n,!1)||x(e,n,!0);var a=C.call(e.dump);r&&(r=0>e.flowLevel||e.flowLevel>t);var s,u,c="[object Object]"===a||"[object Array]"===a;if(c&&(u=-1!==(s=e.duplicates.indexOf(n))),(null!==e.tag&&"?"!==e.tag||u||2!==e.indent&&0<t)&&(i=!1),u&&e.usedDuplicates[s])e.dump="*ref_"+s;else{if(c&&u&&!e.usedDuplicates[s]&&(e.usedDuplicates[s]=!0),"[object Object]"===a)r&&0!==Object.keys(e.dump).length?(y(e,t,e.dump,i),u&&(e.dump="&ref_"+s+e.dump)):(function(e,t,n){var r,i,o,a,s,u="",c=e.tag,l=Object.keys(n);for(r=0,i=l.length;r<i;r+=1)s=e.condenseFlow?'"':"",0!==r&&(s+=", "),a=n[o=l[r]],b(e,t,o,!1,!1)&&(1024<e.dump.length&&(s+="? "),s+=e.dump+(e.condenseFlow?'"':"")+":"+(e.condenseFlow?"":" "),b(e,t,a,!1,!1))&&(u+=s+=e.dump);e.tag=c,e.dump="{"+u+"}"}(e,t,e.dump),u&&(e.dump="&ref_"+s+" "+e.dump));else if("[object Array]"===a){var l=e.noArrayIndent&&0<t?t-1:t;r&&0!==e.dump.length?(v(e,l,e.dump,i),u&&(e.dump="&ref_"+s+e.dump)):(function(e,t,n){var r,i,o="",a=e.tag;for(r=0,i=n.length;r<i;r+=1)b(e,t,n[r],!1,!1)&&(0!==r&&(o+=","+(e.condenseFlow?"":" ")),o+=e.dump);e.tag=a,e.dump="["+o+"]"}(e,l,e.dump),u&&(e.dump="&ref_"+s+" "+e.dump))}else{if("[object String]"!==a){if(e.skipInvalid)return!1;throw new T("unacceptable kind of an object to dump "+a)}"?"!==e.tag&&p(e,e.dump,t,o)}null!==e.tag&&"?"!==e.tag&&(e.dump="!<"+e.tag+"> "+e.dump)}return!0}function w(e,t){var n,r,i=[],o=[];for(function e(t,n,r){var i,o,a;if(null!==t&&"object"==typeof t)if(o=n.indexOf(t),-1!==o)-1===r.indexOf(o)&&r.push(o);else if(n.push(t),Array.isArray(t))for(o=0,a=t.length;o<a;o+=1)e(t[o],n,r);else for(i=Object.keys(t),o=0,a=i.length;o<a;o+=1)e(t[i[o]],n,r)}(e,i,o),n=0,r=o.length;n<r;n+=1)t.duplicates.push(i[o[n]]);t.usedDuplicates=Array(r)}function _(e,t){var n=new i(t=t||{});return n.noRefs||w(e,n),b(n,0,e,!0,!0)?n.dump+"\n":""}var E=Math.max,S=n("Y2Yi"),T=n("w+qe"),A=n("VtPO"),M=n("Z3Ei"),C=Object.prototype.toString,D=Object.prototype.hasOwnProperty,L=9,P=10,R=32,O=33,I=34,k=35,N=37,F=38,B=39,U=42,z=44,j=45,G=58,H=62,V=63,W=64,X=91,q=93,Y=96,J=123,Z=124,K=125,$={0:"\\0",7:"\\a",8:"\\b",9:"\\t",10:"\\n",11:"\\v",12:"\\f",13:"\\r",27:"\\e",34:'\\"',92:"\\\\",133:"\\N",160:"\\_",8232:"\\L",8233:"\\P"},Q=["y","Y","yes","Yes","YES","on","On","ON","n","N","no","No","NO","off","Off","OFF"],ee=1,te=2,ne=3,re=4,ie=5;e.exports.dump=_,e.exports.safeDump=function(e,t){return _(e,S.extend({schema:M},t))}},XVgq:function(e,t,n){e.exports=n("2Nb0")},Y2Yi:function(e){"use strict";function t(e){return null==e}e.exports.isNothing=t,e.exports.isObject=function(e){return"object"==typeof e&&null!==e},e.exports.toArray=function(e){return Array.isArray(e)?e:t(e)?[]:[e]},e.exports.repeat=function(e,t){var n,r="";for(n=0;n<t;n+=1)r+=e;return r},e.exports.isNegativeZero=function(e){return 0===e&&Number.NEGATIVE_INFINITY===1/e},e.exports.extend=function(e,t){var n,r,i,o;if(t)for(n=0,r=(o=Object.keys(t)).length;n<r;n+=1)e[i=o[n]]=t[i];return e}},Y7ZC:function(e,t,n){var r=n("5T2Y"),i=n("WEpk"),o=n("2GTP"),a=n("NegM"),s=n("B+OT"),u="prototype",c=function(e,t,n){var l,h,p,f=e&c.F,d=e&c.G,m=e&c.S,g=e&c.P,v=e&c.B,y=e&c.W,x=d?i:i[t]||(i[t]={}),b=x[u],w=d?r:m?r[t]:(r[t]||{})[u];for(l in d&&(n=t),n)(h=!f&&w&&void 0!==w[l])&&s(x,l)||(p=h?w[l]:n[l],x[l]=d&&"function"!=typeof w[l]?n[l]:v&&h?o(p,r):y&&w[l]==p?function(e){var t=function(t,n,r){if(this instanceof e){switch(arguments.length){case 0:return new e;case 1:return new e(t);case 2:return new e(t,n)}return new e(t,n,r)}return e.apply(this,arguments)};return t[u]=e[u],t}(p):g&&"function"==typeof p?o(Function.call,p):p,g&&((x.virtual||(x.virtual={}))[l]=p,e&c.R&&b&&!b[l]&&a(b,l,p)))};c.F=1,c.G=2,c.S=4,c.P=8,c.B=16,c.W=32,c.U=64,c.R=128,e.exports=c},YFqc:function(e,t,n){e.exports=n("cTJO")},YqAc:function(e){var t=0,n=Math.random();e.exports=function(e){return"Symbol(".concat(void 0===e?"":e,")_",(++t+n).toString(36))}},YuTi:function(e){e.exports=function(e){return e.webpackPolyfill||(e.deprecate=function(){},e.paths=[],!e.children&&(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),e.webpackPolyfill=1),e}},Z3Ei:function(e,t,n){"use strict";var r=n("3lC6");e.exports=new r({include:[n("RSjF")],implicit:[n("4M5b"),n("spQ0")],explicit:[n("jO2K"),n("8+mo"),n("DfW2"),n("pzZA")]})},Z7t5:function(e,t,n){e.exports=n("+SFK")},ZDA2:function(e,t,n){var r=n("iZP3"),i=n("K47E");e.exports=function(e,t){return!t||"object"!==r(t)&&"function"!=typeof t?i(e):t}},ZR4k:function(e,t,n){"use strict";var r=n("HUeH");e.exports=r},ZW5q:function(e,t,n){"use strict";function r(e){var t,n;this.promise=new e(function(e,r){if(void 0!==t||void 0!==n)throw TypeError("Bad Promise constructor");t=e,n=r}),this.resolve=i(t),this.reject=i(n)}var i=n("eaoh");e.exports.f=function(e){return new r(e)}},Zxgi:function(e,t,n){var r=n("5T2Y"),i=n("WEpk"),o=n("uOPS"),a=n("zLkG"),s=n("2faE").f;e.exports=function(e){var t=i.Symbol||(i.Symbol=o?{}:r.Symbol||{});"_"==e.charAt(0)||e in t||s(t,e,{value:a.f(e)})}},a0xu:function(e){var t={}.toString;e.exports=function(e){return t.call(e).slice(8,-1)}},a7VT:function(e,t,n){"use strict";function r(e){return(r=s.a?o.a:function(e){return e.__proto__||o()(e)})(e)}n.d(t,"a",function(){return r});var i=n("Bhuq"),o=n.n(i),a=n("TRZx"),s=n.n(a)},aJjT:function(e){e.exports=function e(t){"use strict";function n(e,t,i,l,h){for(var d,m,g=0,v=0,y=0,b=0,w=0,_=0,E=0,M=0,C=0,D=0,L=0,R=0,I=0,k=0,N=0,F=0,B=0,ne=0,Le=0,Ie=i.length,Ne=Ie-1,Fe="",Be="",Ye="",Je="",Ze="",Ke="";N<Ie;){if(E=i.charCodeAt(N),N===Ne&&0!=v+b+y+g&&(0!==v&&(E=v===ue?J:ue),b=y=g=0,Ie++,Ne++),0==v+b+y+g){if(N===Ne&&(0<F&&(Be=Be.replace(f,"")),0<Be.trim().length)){switch(E){case Q:case K:case G:case Z:case J:break;default:Be+=i.charAt(N)}E=G}if(1==B)switch(E){case V:case H:case G:case se:case ae:case W:case X:case ie:B=0;case K:case Z:case J:case Q:break;default:for(B=0,Le=N,w=E,N--,E=G;Le<Ie;)switch(i.charCodeAt(Le++)){case J:case Z:case G:++N,E=w,Le=Ie;break;case oe:0<F&&(++N,E=w);case V:Le=Ie}}switch(E){case V:for(w=(Be=Be.trim()).charCodeAt(0),L=1,Le=++N;N<Ie;){switch(E=i.charCodeAt(N)){case V:L++;break;case H:L--;break;case ue:switch(_=i.charCodeAt(N+1)){case re:case ue:N=c(_,N,Ne,i)}break;case q:E++;case W:E++;case se:case ae:for(;N++<Ne&&i.charCodeAt(N)!==E;);}if(0==L)break;N++}switch(Ye=i.substring(Le,N),w===pe&&(w=(Be=Be.replace(p,"").trim()).charCodeAt(0)),w){case $:switch(0<F&&(Be=Be.replace(f,"")),_=Be.charCodeAt(1)){case _e:case ge:case ve:case te:d=t;break;default:d=Oe}if(Le=(Ye=n(t,d,Ye,_,h+1)).length,0<Re&&0===Le&&(Le=Be.length),0<ke&&(d=r(Oe,Be,ne),m=u(Ge,Ye,d,t,Te,Se,Le,_,h,l),Be=d.join(""),void 0!==m)&&0===(Le=(Ye=m.trim()).length)&&(_=0,Ye=""),0<Le)switch(_){case ve:Be=Be.replace(O,s);case _e:case ge:case te:Ye=Be+"{"+Ye+"}";break;case me:Ye=(Be=Be.replace(S,"$1 $2"+(0<Ve?We:"")))+"{"+Ye+"}",Ye=1===Ce||2===Ce&&a("@"+Ye,3)?"@"+U+Ye+"@"+Ye:"@"+Ye;break;default:Ye=Be+Ye,l===Ee&&(Je+=Ye,Ye="")}else Ye="";break;default:Ye=n(t,r(t,Be,ne),Ye,l,h+1)}Ze+=Ye,R=0,B=0,k=0,F=0,ne=0,I=0,Be="",Ye="",E=i.charCodeAt(++N);break;case H:case G:if(1<(Le=(Be=(0<F?Be.replace(f,""):Be).trim()).length))switch(0===k&&((w=Be.charCodeAt(0))===te||96<w&&123>w)&&(Le=(Be=Be.replace(" ",":")).length),0<ke&&void 0!==(m=u(ze,Be,t,e,Te,Se,Je.length,l,h,l))&&0===(Le=(Be=m.trim()).length)&&(Be="\0\0"),w=Be.charCodeAt(0),_=Be.charCodeAt(1),w){case pe:break;case $:if(_===be||_===we){Ke+=Be+i.charAt(N);break}default:if(Be.charCodeAt(Le-1)===oe)break;Je+=o(Be,w,_,Be.charCodeAt(2))}R=0,B=0,k=0,F=0,ne=0,Be="",E=i.charCodeAt(++N)}}switch(E){case Z:case J:if(0===v+b+y+g+Pe)switch(D){case X:case ae:case se:case $:case he:case ce:case re:case le:case ue:case te:case oe:case ie:case G:case V:case H:break;default:0<k&&(B=1)}v===ue?v=0:0===Me+R&&l!==me&&0<Be.length&&(F=1,Be+="\0"),0<ke*He&&u(Ue,Be,t,e,Te,Se,Je.length,l,h,l),Se=1,Te++;break;case G:case H:if(0==v+b+y+g){Se++;break}default:switch(Se++,Fe=i.charAt(N),E){case K:case Q:0==b+g+v&&(M===ie||M===oe||M===K||M===Q?Fe="":E!==Q&&(Fe=" "));break;case pe:Fe="\\0";break;case fe:Fe="\\f";break;case de:Fe="\\v";break;case ee:0==b+v+g&&0<Me&&(ne=1,F=1,Fe="\f"+Fe);break;case 108:if(0===b+v+g+Ae&&0<k)switch(N-k){case 2:M===ye&&i.charCodeAt(N-3)===oe&&(Ae=M);case 8:C===xe&&(Ae=C)}break;case oe:0==b+v+g&&(k=N);break;case ie:0==v+y+b+g&&(F=1,Fe+="\r");break;case se:case ae:0===v&&(b=b===E?0:0==b?E:b);break;case q:0==b+v+y&&g++;break;case Y:0==b+v+y&&g--;break;case X:0==b+v+g&&y--;break;case W:if(0==b+v+g){if(0==R)switch(2*M+3*C){case 533:break;default:L=0,R=1}y++}break;case $:0===v+y+b+g+k+I&&(I=1);break;case re:case ue:if(0<b+g+y)break;switch(v){case 0:switch(2*E+3*i.charCodeAt(N+1)){case 235:v=ue;break;case 220:Le=N,v=re}break;case re:E===ue&&M===re&&Le+2!==N&&(33===i.charCodeAt(Le+2)&&(Je+=i.substring(Le,N+1)),Fe="",v=0)}}if(0===v){if(0===Me+b+g+I&&l!==me&&E!==G)switch(E){case ie:case he:case ce:case le:case X:case W:0==R?(M===K||M===Q||M===J||M===Z?Fe+="\0":Fe="\0"+Fe+(E===ie?"":"\0"),F=1):E===W?(k+7===N&&108===M&&(k=0),R=++L):E===X&&0==(R=--L)&&(F=1,Fe+="\0");break;case K:case Q:switch(M){case pe:case V:case H:case G:case ie:case fe:case K:case Q:case J:case Z:break;default:0==R&&(F=1,Fe+="\0")}}Be+=Fe,E!==Q&&E!==K&&(D=E)}}C=M,M=E,N++}if(Le=Je.length,0<Re&&0===Le&&0===Ze.length&&0==(0===t[0].length)&&(l!==ge||1===t.length&&(0<Me?Xe:qe)===t[0])&&(Le=t.join(",").length+2),0<Le){if(d=0===Me&&l!==me?function(e){for(var t,n,r=0,i=e.length,o=Array(i);r<i;++r){for(var a=e[r].split(x),s="",u=0,c=0,l=0,h=0,p=a.length;u<p;++u)if(!(0===(c=(n=a[u]).length)&&1<p)){if(l=s.charCodeAt(s.length-1),h=n.charCodeAt(0),t="",0!==u)switch(l){case re:case he:case ce:case le:case Q:case W:break;default:t=" "}switch(h){case ee:n=t+Xe;case he:case ce:case le:case Q:case X:case W:break;case q:n=t+n+Xe;break;case oe:switch(2*n.charCodeAt(1)+3*n.charCodeAt(2)){case 530:if(0<De){n=t+n.substring(8,c-1);break}default:(1>u||1>a[u-1].length)&&(n=t+Xe+n)}break;case ie:t="";default:n=1<c&&0<n.indexOf(":")?t+n.replace(P,"$1"+Xe+"$2"):t+n+Xe}s+=n}o[r]=s.replace(f,"").trim()}return o}(t):t,0<ke&&void 0!==(m=u(je,Je,d,e,Te,Se,Le,l,h,l))&&0===(Je=m).length)return Ke+Je+Ze;Je=d.join(",")+"{"+Je+"}",0!=Ce*Ae&&(2!==Ce||a(Je,2)||(Ae=0),Ae===xe?Je=Je.replace(A,":"+z+"$1")+Je:Ae===ye&&(Je=Je.replace(T,"::"+U+"input-$1")+Je.replace(T,"::"+z+"$1")+Je.replace(T,":"+j+"input-$1")+Je),Ae=0)}return Ke+Je+Ze}function r(e,t,n){var r=t.trim().split(b),o=r,a=r.length,s=e.length;switch(s){case 0:case 1:for(var u=0,c=0===s?"":e[0]+" ";u<a;++u)o[u]=i(c,o[u],n,s).trim();break;default:u=0;var l=0;for(o=[];u<a;++u)for(var h=0;h<s;++h)o[l++]=i(e[h]+" ",r[u],n,s).trim()}return o}function i(e,t,n,r){var i=t,o=i.charCodeAt(0);switch(33>o&&(o=(i=i.trim()).charCodeAt(0)),o){case ee:switch(Me+r){case 0:case 1:if(0===e.trim().length)break;default:return i.replace(w,"$1"+e.trim())}break;case oe:switch(i.charCodeAt(1)){case 103:if(0<De&&0<Me)return i.replace(_,"$1").replace(w,"$1"+qe);break;default:return e.trim()+i.replace(w,"$1"+e.trim())}default:if(0<n*Me&&0<i.indexOf("\f"))return i.replace(w,(e.charCodeAt(0)===oe?"":"$1")+e.trim())}return e+i}function o(e,t,n,r){var i,s=0,u=e+";",c=2*t+3*n+4*r;if(944==c)return function(e){var t=e.length,n=e.indexOf(":",9)+1,r=e.substring(0,n).trim(),i=e.substring(n,t-1).trim();switch(e.charCodeAt(9)*Ve){case 0:break;case te:if(110!==e.charCodeAt(10))break;default:for(var o=i.split((i="",v)),s=0,n=0,t=o.length;s<t;n=0,++s){for(var u,c=o[s],l=c.split(y);c=l[n];){if(u=c.charCodeAt(0),1===Ve&&(u>$&&90>u||96<u&&123>u||u===ne||u===te&&c.charCodeAt(1)!==te))switch(isNaN(parseFloat(c))+(-1!==c.indexOf("("))){case 1:switch(c){case"infinite":case"alternate":case"backwards":case"running":case"normal":case"forwards":case"both":case"none":case"linear":case"ease":case"ease-in":case"ease-out":case"ease-in-out":case"paused":case"reverse":case"alternate-reverse":case"inherit":case"initial":case"unset":case"step-start":case"step-end":break;default:c+=We}}l[n++]=c}i+=(0===s?"":",")+l.join(" ")}}return i=r+i+";",1===Ce||2===Ce&&a(i,1)?U+i+i:i}(u);if(0===Ce||2===Ce&&!a(u,1))return u;switch(c){case 1015:return 97===u.charCodeAt(10)?U+u+u:u;case 951:return 116===u.charCodeAt(3)?U+u+u:u;case 963:return 110===u.charCodeAt(5)?U+u+u:u;case 1009:if(100!==u.charCodeAt(4))break;case 969:case 942:return U+u+u;case 978:return U+u+z+u+u;case 1019:case 983:return U+u+z+u+j+u+u;case 883:return u.charCodeAt(8)===te?U+u+u:0<u.indexOf("image-set(",11)?u.replace(B,"$1"+U+"$2")+u:u;case 932:if(u.charCodeAt(4)===te)switch(u.charCodeAt(5)){case 103:return U+"box-"+u.replace("-grow","")+U+u+j+u.replace("grow","positive")+u;case 115:return U+u+j+u.replace("shrink","negative")+u;case 98:return U+u+j+u.replace("basis","preferred-size")+u}return U+u+j+u+u;case 964:return U+u+j+"flex-"+u+u;case 1023:if(99!==u.charCodeAt(8))break;return i=u.substring(u.indexOf(":",15)).replace("flex-","").replace("space-between","justify"),U+"box-pack"+i+U+u+j+"flex-pack"+i+u;case 1005:return m.test(u)?u.replace(d,":"+U)+u.replace(d,":"+z)+u:u;case 1e3:switch(s=(i=u.substring(13).trim()).indexOf("-")+1,i.charCodeAt(0)+i.charCodeAt(s)){case 226:i=u.replace(R,"tb");break;case 232:i=u.replace(R,"tb-rl");break;case 220:i=u.replace(R,"lr");break;default:return u}return U+u+j+i+u;case 1017:if(-1===u.indexOf("sticky",9))return u;case 975:switch(s=(u=e).length-10,c=(i=(33===u.charCodeAt(s)?u.substring(0,s):u).substring(e.indexOf(":",7)+1).trim()).charCodeAt(0)+(0|i.charCodeAt(7))){case 203:if(111>i.charCodeAt(8))break;case 115:u=u.replace(i,U+i)+";"+u;break;case 207:case 102:u=u.replace(i,U+(102<c?"inline-":"")+"box")+";"+u.replace(i,U+i)+";"+u.replace(i,j+i+"box")+";"+u}return u+";";case 938:if(u.charCodeAt(5)===te)switch(u.charCodeAt(6)){case 105:return i=u.replace("-items",""),U+u+U+"box-"+i+j+"flex-"+i+u;case 115:return U+u+j+"flex-item-"+u.replace(k,"")+u;default:return U+u+j+"flex-line-pack"+u.replace("align-content","").replace(k,"")+u}break;case 973:case 989:if(u.charCodeAt(3)!==te||122===u.charCodeAt(4))break;case 931:case 953:if(!0===F.test(e))return 115===(i=e.substring(e.indexOf(":")+1)).charCodeAt(0)?o(e.replace("stretch","fill-available"),t,n,r).replace(":fill-available",":stretch"):u.replace(i,U+i)+u.replace(i,z+i.replace("fill-",""))+u;break;case 962:if(u=U+u+(102===u.charCodeAt(5)?j+u:"")+u,211===n+r&&105===u.charCodeAt(13)&&0<u.indexOf("transform",10))return u.substring(0,u.indexOf(";",27)+1).replace(g,"$1"+U+"$2")+u}return u}function a(e,t){var n=e.indexOf(1===t?":":"{"),r=e.substring(0,3===t?10:n),i=e.substring(n+1,e.length-1);return Ne(2===t?r.replace(N,"$1"):r,i,t)}function s(e,t){var n=o(t,t.charCodeAt(0),t.charCodeAt(1),t.charCodeAt(2));return n===t+";"?"("+t+")":n.replace(I," or ($1)").substring(4)}function u(e,t,n,r,i,o,a,s,u,c){for(var l,p=0,f=t;p<ke;++p)switch(l=Ie[p].call(h,e,f,n,r,i,o,a,s,u,c)){case void 0:case!1:case!0:case null:break;default:f=l}if(f!==t)return f}function c(e,t,n,r){for(var i=t+1;i<n;++i)switch(r.charCodeAt(i)){case ue:if(e===re&&r.charCodeAt(i-1)===re&&t+2!==i)return i+1;break;case J:if(e===ue)return i+1}return i}function l(e){for(var t in e){var n=e[t];"keyframe"==t?Ve=0|n:"global"==t?De=0|n:"cascade"==t?Me=0|n:"compress"==t?Le=0|n:"semicolon"==t?Pe=0|n:"preserve"==t?Re=0|n:"prefix"==t&&(Ne=null,n?"function"==typeof n?(Ce=2,Ne=n):Ce=1:Ce=0)}return l}function h(t,r){if(void 0!==this&&this.constructor===h)return e(t);var i=t,o=i.charCodeAt(0);33>o&&(o=(i=i.trim()).charCodeAt(0)),0<Ve&&(We=i.replace(E,o===q?"":"-")),o=1,1==Me?qe=i:Xe=i;var a,s=[qe];0<ke&&void 0!==(a=u(Be,r,s,s,Te,Se,0,0,0,0))&&"string"==typeof a&&(r=a);var c=n(Oe,s,r,0,0);return 0<ke&&void 0!==(a=u(Fe,c,s,s,Te,Se,c.length,0,0,0))&&"string"!=typeof(c=a)&&(o=0),We="",qe="",Xe="",Ae=0,Te=1,Se=1,0==Le*o?c:c.replace(f,"").replace(M,"").replace(C,"$1").replace(D,"$1").replace(L," ")}var p=/^\0+/g,f=/[\0\r\f]/g,d=/: */g,m=/zoo|gra/,g=/([,: ])(transform)/g,v=/,+\s*(?![^(]*[)])/g,y=/ +\s*(?![^(]*[)])/g,x=/ *[\0] */g,b=/,\r+?/g,w=/([\t\r\n ])*\f?&/g,_=/:global\(((?:[^\(\)\[\]]*|\[.*\]|\([^\(\)]*\))*)\)/g,E=/\W+/g,S=/@(k\w+)\s*(\S*)\s*/,T=/::(place)/g,A=/:(read-only)/g,M=/\s+(?=[{\];=:>])/g,C=/([[}=:>])\s+/g,D=/(\{[^{]+?);(?=\})/g,L=/\s{2,}/g,P=/([^\(])(:+) */g,R=/[svh]\w+-[tblr]{2}/,O=/\(\s*(.*)\s*\)/g,I=/([\s\S]*?);/g,k=/-self|flex-/g,N=/[^]*?(:[rp][el]a[\w-]+)[^]*/,F=/stretch|:\s*\w+\-(?:conte|avail)/,B=/([^-])(image-set\()/,U="-webkit-",z="-moz-",j="-ms-",G=59,H=125,V=123,W=40,X=41,q=91,Y=93,J=10,Z=13,K=9,$=64,Q=32,ee=38,te=45,ne=95,re=42,ie=44,oe=58,ae=39,se=34,ue=47,ce=62,le=43,he=126,pe=0,fe=12,de=11,me=107,ge=109,ve=115,ye=112,xe=111,be=105,we=99,_e=100,Ee=112,Se=1,Te=1,Ae=0,Me=1,Ce=1,De=1,Le=0,Pe=0,Re=0,Oe=[],Ie=[],ke=0,Ne=null,Fe=-2,Be=-1,Ue=0,ze=1,je=2,Ge=3,He=0,Ve=1,We="",Xe="",qe="";return h.use=function e(t){switch(t){case void 0:case null:ke=Ie.length=0;break;default:if("function"==typeof t)Ie[ke++]=t;else if("object"==typeof t)for(var n=0,r=t.length;n<r;++n)e(t[n]);else He=0|!!t}return e},h.set=l,void 0!==t&&l(t),h}(null)},aW7e:function(e,t,n){n("wgeU"),n("FlQf"),n("bBy9"),n("JMW+"),n("PBE1"),n("Q/yX"),e.exports=n("WEpk").Promise},adOz:function(e,t,n){n("Zxgi")("asyncIterator")},"ar/p":function(e,t,n){var r=n("5vMV"),i=n("FpHa").concat("length","prototype");t.f=Object.getOwnPropertyNames||function(e){return r(e,i)}},b3CU:function(e,t,n){function r(){return e.exports=r=function(){if("undefined"==typeof Reflect||!i)return!1;if(i.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(i(Date,[],function(){})),!0}catch(t){return!1}}()?i:function(e,t,n){var r=[null];r.push.apply(r,t);var i=new(Function.bind.apply(e,r));return n&&o(i,n.prototype),i},r.apply(null,arguments)}var i=n("pbKT"),o=n("vjea");e.exports=r},bBy9:function(e,t,n){n("w2d+");for(var r=n("5T2Y"),i=n("NegM"),o=n("SBuE"),a=n("UWiX")("toStringTag"),s=["CSSRuleList","CSSStyleDeclaration","CSSValueList","ClientRectList","DOMRectList","DOMStringList","DOMTokenList","DataTransferItemList","FileList","HTMLAllCollection","HTMLCollection","HTMLFormElement","HTMLSelectElement","MediaList","MimeTypeArray","NamedNodeMap","NodeList","PaintRequestList","Plugin","PluginArray","SVGLengthList","SVGNumberList","SVGPathSegList","SVGPointList","SVGStringList","SVGTransformList","SourceBufferList","StyleSheetList","TextTrackCueList","TextTrackList","TouchList"],u=0;u<s.length;u++){var c=s[u],l=r[c],h=l&&l.prototype;h&&!h[a]&&i(h,a,c),o[c]=o.Array}},bCCX:function(e,t,n){"use strict";(function(e,r){var i,o=n("SLVX");i="undefined"==typeof self?"undefined"==typeof window?void 0===e?r:e:window:self;var a=Object(o.a)(i);t.a=a}).call(this,n("yLpj"),n("3UD+")(e))},bVZc:function(e,t,n){"use strict";(function(e){function n(e,t){for(var n,r=0;r<t.length;r++)(n=t[r]).enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}function r(e,t){if(!e)throw new Error("StyleSheet: ".concat(t,"."))}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=e.env&&!0,o=function(e){return"[object String]"===Object.prototype.toString.call(e)},a=function(){function e(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},n=t.name,a=void 0===n?"stylesheet":n,s=t.optimizeForSpeed,u=void 0===s?i:s,c=t.isBrowser,l=void 0===c?"undefined"!=typeof window:c;(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")})(this,e),r(o(a),"`name` must be a string"),this._name=a,this._deletedRulePlaceholder="#".concat(a,"-deleted-rule____{}"),r("boolean"==typeof u,"`optimizeForSpeed` must be a boolean"),this._optimizeForSpeed=u,this._isBrowser=l,this._serverSheet=void 0,this._tags=[],this._injected=!1,this._rulesCount=0;var h=this._isBrowser&&document.querySelector('meta[property="csp-nonce"]');this._nonce=h?h.getAttribute("content"):null}return function(e,t,r){t&&n(e.prototype,t),r&&n(e,r)}(e,[{key:"setOptimizeForSpeed",value:function(e){r("boolean"==typeof e,"`setOptimizeForSpeed` accepts a boolean"),r(0===this._rulesCount,"optimizeForSpeed cannot be when rules have already been inserted"),this.flush(),this._optimizeForSpeed=e,this.inject()}},{key:"isOptimizeForSpeed",value:function(){return this._optimizeForSpeed}},{key:"inject",value:function(){var e=this;return r(!this._injected,"sheet already injected"),this._injected=!0,this._isBrowser&&this._optimizeForSpeed?(this._tags[0]=this.makeStyleTag(this._name),this._optimizeForSpeed="insertRule"in this.getSheet(),void(this._optimizeForSpeed||(!i&&console.warn("StyleSheet: optimizeForSpeed mode not supported falling back to standard mode."),this.flush(),this._injected=!0))):void(this._serverSheet={cssRules:[],insertRule:function(t,n){return"number"==typeof n?e._serverSheet.cssRules[n]={cssText:t}:e._serverSheet.cssRules.push({cssText:t}),n},deleteRule:function(t){e._serverSheet.cssRules[t]=null}})}},{key:"getSheetForTag",value:function(e){if(e.sheet)return e.sheet;for(var t=0;t<document.styleSheets.length;t++)if(document.styleSheets[t].ownerNode===e)return document.styleSheets[t]}},{key:"getSheet",value:function(){return this.getSheetForTag(this._tags[this._tags.length-1])}},{key:"insertRule",value:function(e,t){if(r(o(e),"`insertRule` accepts only strings"),!this._isBrowser)return"number"!=typeof t&&(t=this._serverSheet.cssRules.length),this._serverSheet.insertRule(e,t),this._rulesCount++;if(this._optimizeForSpeed){var n=this.getSheet();"number"!=typeof t&&(t=n.cssRules.length);try{n.insertRule(e,t)}catch(t){return i||console.warn("StyleSheet: illegal rule: \n\n".concat(e,"\n\nSee https://stackoverflow.com/q/20007992 for more info")),-1}}else{var a=this._tags[t];this._tags.push(this.makeStyleTag(this._name,e,a))}return this._rulesCount++}},{key:"replaceRule",value:function(e,t){if(this._optimizeForSpeed||!this._isBrowser){var n=this._isBrowser?this.getSheet():this._serverSheet;if(t.trim()||(t=this._deletedRulePlaceholder),!n.cssRules[e])return e;n.deleteRule(e);try{n.insertRule(t,e)}catch(o){i||console.warn("StyleSheet: illegal rule: \n\n".concat(t,"\n\nSee https://stackoverflow.com/q/20007992 for more info")),n.insertRule(this._deletedRulePlaceholder,e)}}else{var o=this._tags[e];r(o,"old rule at index `".concat(e,"` not found")),o.textContent=t}return e}},{key:"deleteRule",value:function(e){if(this._isBrowser)if(this._optimizeForSpeed)this.replaceRule(e,"");else{var t=this._tags[e];r(t,"rule at index `".concat(e,"` not found")),t.parentNode.removeChild(t),this._tags[e]=null}else this._serverSheet.deleteRule(e)}},{key:"flush",value:function(){this._injected=!1,this._rulesCount=0,this._isBrowser?(this._tags.forEach(function(e){return e&&e.parentNode.removeChild(e)}),this._tags=[]):this._serverSheet.cssRules=[]}},{key:"cssRules",value:function(){var e=this;return this._isBrowser?this._tags.reduce(function(t,n){return n?t=t.concat(e.getSheetForTag(n).cssRules.map(function(t){return t.cssText===e._deletedRulePlaceholder?null:t})):t.push(null),t},[]):this._serverSheet.cssRules}},{key:"makeStyleTag",value:function(e,t,n){t&&r(o(t),"makeStyleTag acceps only strings as second parameter");var i=document.createElement("style");this._nonce&&i.setAttribute("nonce",this._nonce),i.type="text/css",i.setAttribute("data-".concat(e),""),t&&i.appendChild(document.createTextNode(t));var a=document.head||document.getElementsByTagName("head")[0];return n?a.insertBefore(i,n):a.appendChild(i),i}},{key:"length",get:function(){return this._rulesCount}}]),e}();t.default=a}).call(this,n("8oxB"))},bmMU:function(e){"use strict";function t(e,a){if(e===a)return!0;if(e&&a&&"object"==typeof e&&"object"==typeof a){var s,u,c,l=n(e),h=n(a);if(l&&h){if((u=e.length)!=a.length)return!1;for(s=u;0!=s--;)if(!t(e[s],a[s]))return!1;return!0}if(l!=h)return!1;var p=e instanceof Date,f=a instanceof Date;if(p!=f)return!1;if(p&&f)return e.getTime()==a.getTime();var d=e instanceof RegExp,m=a instanceof RegExp;if(d!=m)return!1;if(d&&m)return e.toString()==a.toString();var g=r(e);if((u=g.length)!==r(a).length)return!1;for(s=u;0!=s--;)if(!i.call(a,g[s]))return!1;if(o&&e instanceof Element&&a instanceof Element)return e===a;for(s=u;0!=s--;){if("_owner"===(c=g[s])&&e.$$typeof)continue;if(!t(e[c],a[c]))return!1}return!0}return e!=e&&a!=a}var n=Array.isArray,r=Object.keys,i=Object.prototype.hasOwnProperty,o="undefined"!=typeof Element;e.exports=function(e,n){try{return t(e,n)}catch(e){if(e.message&&e.message.match(/stack|recursion/i)||-2146828260===e.number)return console.warn("Warning: react-fast-compare does not handle circular references.",e.name,e.message),!1;throw e}}},bq5J:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n("Womt");t.default=class{constructor(){this.willPlay=null,this.video=document.createElement("video"),this.video.classList.add("veda-video-source"),this.video.loop=!0,this.video.muted=!0,this.video.style.position="fixed",this.video.style.top="99.9%",this.video.style.width="1px",this.video.style.height="1px",document.body.appendChild(this.video),this.texture=new r.VideoTexture(this.video),this.texture.minFilter=r.LinearFilter,this.texture.magFilter=r.LinearFilter,this.texture.format=r.RGBFormat}enable(){this.willPlay=new Promise((e,t)=>{navigator.mediaDevices.getUserMedia({video:!0}).then(t=>{this.stream=t,this.video.src=window.URL.createObjectURL(t),this.video.play(),e()},e=>{console.error(e),t()})})}disable(){this.texture.dispose(),this.willPlay&&this.willPlay.then(()=>{this.stream.getTracks().forEach(e=>e.stop())})}}},cTJO:function(e,t,n){"use strict";function r(e){return e&&"object"==typeof e?m.formatWithValidation(e):e}var i=n("KI45"),o=i(n("9Jkg")),a=i(n("/HRN")),s=i(n("WaGi")),u=i(n("ZDA2")),c=i(n("/+P4")),l=i(n("N9n2")),h=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t};Object.defineProperty(t,"__esModule",{value:!0});var p=n("CxY0"),f=h(n("q1tI")),d=(function(e){e&&e.__esModule}(n("lgD3")),h(n("nOHt"))),m=n("Bu4q"),g=function(e){function t(){var e;return(0,a.default)(this,t),(e=(0,u.default)(this,(0,c.default)(t).apply(this,arguments))).formatUrls=function(e){var t=null,n=null,r=null;return function(i,o){if(i===t&&o===n)return r;var a=e(i,o);return t=i,n=o,r=a,a}}(function(e,t){return{href:r(e),as:r(t)}}),e.linkClicked=function(t){var n=t.currentTarget,r=n.nodeName,i=n.target;if("A"!==r||!(i&&"_self"!==i||t.metaKey||t.ctrlKey||t.shiftKey||t.nativeEvent&&2===t.nativeEvent.which)){var o=e.formatUrls(e.props.href,e.props.as),a=o.href,s=o.as;if(function(e){var t=p.parse(e,!1,!0),n=p.parse(m.getLocationOrigin(),!1,!0);return!t.host||t.protocol===n.protocol&&t.host===n.host}(a)){var u=window.location.pathname;a=p.resolve(u,a),s=s?p.resolve(u,s):a,t.preventDefault();var c=e.props.scroll;null==c&&(c=0>s.indexOf("#")),d.default[e.props.replace?"replace":"push"](a,s,{shallow:e.props.shallow}).then(function(e){!e||c&&(window.scrollTo(0,0),document.body.focus())}).catch(function(t){e.props.onError&&e.props.onError(t)})}}},e}return(0,l.default)(t,e),(0,s.default)(t,[{key:"componentDidMount",value:function(){this.prefetch()}},{key:"componentDidUpdate",value:function(e){(0,o.default)(this.props.href)!==(0,o.default)(e.href)&&this.prefetch()}},{key:"prefetch",value:function(){if(this.props.prefetch&&"undefined"!=typeof window){var e=window.location.pathname,t=this.formatUrls(this.props.href,this.props.as).href,n=p.resolve(e,t);d.default.prefetch(n)}}},{key:"render",value:function(){var e=this,t=this.props.children,n=this.formatUrls(this.props.href,this.props.as),r=n.href,i=n.as;"string"==typeof t&&(t=f.default.createElement("a",null,t));var o=f.Children.only(t),a={onClick:function(t){o.props&&"function"==typeof o.props.onClick&&o.props.onClick(t),t.defaultPrevented||e.linkClicked(t)}};return(this.props.passHref||"a"===o.type&&!("href"in o.props))&&(a.href=i||r),a.href&&"undefined"!=typeof __NEXT_DATA__&&__NEXT_DATA__.nextExport&&(a.href=d.Router._rewriteUrlForNextExport(a.href)),f.default.cloneElement(o,a)}}]),t}(f.Component);t.default=g},ccE7:function(e,t,n){var r=n("Ojgd"),i=n("Jes0");e.exports=function(e){return function(t,n){var o,a,s=i(t)+"",u=r(n),c=s.length;return 0>u||u>=c?e?"":void 0:55296>(o=s.charCodeAt(u))||56319<o||u+1===c||56320>(a=s.charCodeAt(u+1))||57343<a?e?s.charAt(u):o:e?s.slice(u,u+2):a-56320+(o-55296<<10)+65536}}},czwh:function(e,t,n){var r=n("Y7ZC"),i=n("oVml"),o=n("eaoh"),a=n("5K7Z"),s=n("93I4"),u=n("KUxP"),c=n("wYmx"),l=(n("5T2Y").Reflect||{}).construct,h=u(function(){function e(){}return!(l(function(){},[],e)instanceof e)}),p=!u(function(){l(function(){})});r(r.S+r.F*(h||p),"Reflect",{construct:function(e,t){o(e),a(t);var n=3>arguments.length?e:o(arguments[2]);if(p&&!h)return l(e,t,n);if(e==n){switch(t.length){case 0:return new e;case 1:return new e(t[0]);case 2:return new e(t[0],t[1]);case 3:return new e(t[0],t[1],t[2]);case 4:return new e(t[0],t[1],t[2],t[3])}var r=[null];return r.push.apply(r,t),new(c.apply(e,r))}var u=n.prototype,f=i(s(u)?u:Object.prototype),d=Function.apply.call(e,f,t);return s(d)?d:f}})},dl0q:function(e,t,n){n("Zxgi")("observable")},e56X:function(e,t,n){const{noopTest:r,edit:i,merge:o}=n("rUJ1"),a={newline:/^\n+/,code:/^( {4}[^\n]+\n*)+/,fences:/^ {0,3}(`{3,}(?=[^`\n]*\n)|~{3,})([^\n]*)\n(?:|([\s\S]*?)\n)(?: {0,3}\1[~`]* *(?:\n+|$)|$)/,hr:/^ {0,3}((?:- *){3,}|(?:_ *){3,}|(?:\* *){3,})(?:\n+|$)/,heading:/^ {0,3}(#{1,6}) +([^\n]*?)(?: +#+)? *(?:\n+|$)/,blockquote:/^( {0,3}> ?(paragraph|[^\n]*)(?:\n|$))+/,list:/^( {0,3})(bull) [\s\S]+?(?:hr|def|\n{2,}(?! )(?!\1bull )\n*|\s*$)/,html:"^ {0,3}(?:<(script|pre|style)[\\s>][\\s\\S]*?(?:</\\1>[^\\n]*\\n+|$)|comment[^\\n]*(\\n+|$)|<\\?[\\s\\S]*?\\?>\\n*|<![A-Z][\\s\\S]*?>\\n*|<!\\[CDATA\\[[\\s\\S]*?\\]\\]>\\n*|</?(tag)(?: +|\\n|/?>)[\\s\\S]*?(?:\\n{2,}|$)|<(?!script|pre|style)([a-z][\\w-]*)(?:attribute)*? */?>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:\\n{2,}|$)|</(?!script|pre|style)[a-z][\\w-]*\\s*>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:\\n{2,}|$))",def:/^ {0,3}\[(label)\]: *\n? *<?([^\s>]+)>?(?:(?: +\n? *| *\n *)(title))? *(?:\n+|$)/,nptable:r,table:r,lheading:/^([^\n]+)\n {0,3}(=+|-+) *(?:\n+|$)/,_paragraph:/^([^\n]+(?:\n(?!hr|heading|lheading|blockquote|fences|list|html)[^\n]+)*)/,text:/^[^\n]+/,_label:/(?!\s*\])(?:\\[\[\]]|[^\[\]])+/,_title:/(?:"(?:\\"?|[^"\\])*"|'[^'\n]*(?:\n[^'\n]+)*\n?'|\([^()]*\))/};a.def=i(a.def).replace("label",a._label).replace("title",a._title).getRegex(),a.bullet=/(?:[*+-]|\d{1,9}\.)/,a.item=/^( *)(bull) ?[^\n]*(?:\n(?!\1bull ?)[^\n]*)*/,a.item=i(a.item,"gm").replace(/bull/g,a.bullet).getRegex(),a.list=i(a.list).replace(/bull/g,a.bullet).replace("hr","\\n+(?=\\1?(?:(?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$))").replace("def","\\n+(?="+a.def.source+")").getRegex(),a._tag="address|article|aside|base|basefont|blockquote|body|caption|center|col|colgroup|dd|details|dialog|dir|div|dl|dt|fieldset|figcaption|figure|footer|form|frame|frameset|h[1-6]|head|header|hr|html|iframe|legend|li|link|main|menu|menuitem|meta|nav|noframes|ol|optgroup|option|p|param|section|source|summary|table|tbody|td|tfoot|th|thead|title|tr|track|ul",a._comment=/<!--(?!-?>)[\s\S]*?-->/,a.html=i(a.html,"i").replace("comment",a._comment).replace("tag",a._tag).replace("attribute",/ +[a-zA-Z:_][\w.:-]*(?: *= *"[^"\n]*"| *= *'[^'\n]*'| *= *[^\s"'=<>`]+)?/).getRegex(),a.paragraph=i(a._paragraph).replace("hr",a.hr).replace("heading"," {0,3}#{1,6} ").replace("|lheading","").replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|!--)").replace("tag",a._tag).getRegex(),a.blockquote=i(a.blockquote).replace("paragraph",a.paragraph).getRegex(),a.normal=o({},a),a.gfm=o({},a.normal,{nptable:"^ *([^|\\n ].*\\|.*)\\n *([-:]+ *\\|[-| :]*)(?:\\n((?:(?!\\n|hr|heading|blockquote|code|fences|list|html).*(?:\\n|$))*)\\n*|$)",table:"^ *\\|(.+)\\n *\\|?( *[-:]+[-| :]*)(?:\\n *((?:(?!\\n|hr|heading|blockquote|code|fences|list|html).*(?:\\n|$))*)\\n*|$)"}),a.gfm.nptable=i(a.gfm.nptable).replace("hr",a.hr).replace("heading"," {0,3}#{1,6} ").replace("blockquote"," {0,3}>").replace("code"," {4}[^\\n]").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|!--)").replace("tag",a._tag).getRegex(),a.gfm.table=i(a.gfm.table).replace("hr",a.hr).replace("heading"," {0,3}#{1,6} ").replace("blockquote"," {0,3}>").replace("code"," {4}[^\\n]").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|!--)").replace("tag",a._tag).getRegex(),a.pedantic=o({},a.normal,{html:i("^ *(?:comment *(?:\\n|\\s*$)|<(tag)[\\s\\S]+?</\\1> *(?:\\n{2,}|\\s*$)|<tag(?:\"[^\"]*\"|'[^']*'|\\s[^'\"/>\\s]*)*?/?> *(?:\\n{2,}|\\s*$))").replace("comment",a._comment).replace(/tag/g,"(?!(?:a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)\\b)\\w+(?!:|[^\\w\\s@]*@)\\b").getRegex(),def:/^ *\[([^\]]+)\]: *<?([^\s>]+)>?(?: +(["(][^\n]+[")]))? *(?:\n+|$)/,heading:/^ *(#{1,6}) *([^\n]+?) *(?:#+ *)?(?:\n+|$)/,fences:r,paragraph:i(a.normal._paragraph).replace("hr",a.hr).replace("heading"," *#{1,6} *[^\n]").replace("lheading",a.lheading).replace("blockquote"," {0,3}>").replace("|fences","").replace("|list","").replace("|html","").getRegex()});const s={escape:/^\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/,autolink:/^<(scheme:[^\s\x00-\x1f<>]*|email)>/,url:r,tag:"^comment|^</[a-zA-Z][\\w:-]*\\s*>|^<[a-zA-Z][\\w-]*(?:attribute)*?\\s*/?>|^<\\?[\\s\\S]*?\\?>|^<![a-zA-Z]+\\s[\\s\\S]*?>|^<!\\[CDATA\\[[\\s\\S]*?\\]\\]>",link:/^!?\[(label)\]\(\s*(href)(?:\s+(title))?\s*\)/,reflink:/^!?\[(label)\]\[(?!\s*\])((?:\\[\[\]]?|[^\[\]\\])+)\]/,nolink:/^!?\[(?!\s*\])((?:\[[^\[\]]*\]|\\[\[\]]|[^\[\]])*)\](?:\[\])?/,strong:/^__([^\s_])__(?!_)|^\*\*([^\s*])\*\*(?!\*)|^__([^\s][\s\S]*?[^\s])__(?!_)|^\*\*([^\s][\s\S]*?[^\s])\*\*(?!\*)/,em:/^_([^\s_])_(?!_)|^\*([^\s*<\[])\*(?!\*)|^_([^\s<][\s\S]*?[^\s_])_(?!_|[^\spunctuation])|^_([^\s_<][\s\S]*?[^\s])_(?!_|[^\spunctuation])|^\*([^\s<"][\s\S]*?[^\s\*])\*(?!\*|[^\spunctuation])|^\*([^\s*"<\[][\s\S]*?[^\s])\*(?!\*)/,code:/^(`+)([^`]|[^`][\s\S]*?[^`])\1(?!`)/,br:/^( {2,}|\\)\n(?!\s*$)/,del:r,text:/^(`+|[^`])(?:[\s\S]*?(?:(?=[\\<!\[`*]|\b_|$)|[^ ](?= {2,}\n))|(?= {2,}\n))/,_punctuation:"!\"#$%&'()*+,\\-./:;<=>?@\\[^_{|}~"};s.em=i(s.em).replace(/punctuation/g,s._punctuation).getRegex(),s._escapes=/\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/g,s._scheme=/[a-zA-Z][a-zA-Z0-9+.-]{1,31}/,s._email=/[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+(@)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)+(?![-_])/,s.autolink=i(s.autolink).replace("scheme",s._scheme).replace("email",s._email).getRegex(),s._attribute=/\s+[a-zA-Z:_][\w.:-]*(?:\s*=\s*"[^"]*"|\s*=\s*'[^']*'|\s*=\s*[^\s"'=<>`]+)?/,s.tag=i(s.tag).replace("comment",a._comment).replace("attribute",s._attribute).getRegex(),s._label=/(?:\[[^\[\]]*\]|\\.|`[^`]*`|[^\[\]\\`])*?/,s._href=/<(?:\\[<>]?|[^\s<>\\])*>|[^\s\x00-\x1f]*/,s._title=/"(?:\\"?|[^"\\])*"|'(?:\\'?|[^'\\])*'|\((?:\\\)?|[^)\\])*\)/,s.link=i(s.link).replace("label",s._label).replace("href",s._href).replace("title",s._title).getRegex(),s.reflink=i(s.reflink).replace("label",s._label).getRegex(),s.normal=o({},s),s.pedantic=o({},s.normal,{strong:/^__(?=\S)([\s\S]*?\S)__(?!_)|^\*\*(?=\S)([\s\S]*?\S)\*\*(?!\*)/,em:/^_(?=\S)([\s\S]*?\S)_(?!_)|^\*(?=\S)([\s\S]*?\S)\*(?!\*)/,link:i(/^!?\[(label)\]\((.*?)\)/).replace("label",s._label).getRegex(),reflink:i(/^!?\[(label)\]\s*\[([^\]]*)\]/).replace("label",s._label).getRegex()}),s.gfm=o({},s.normal,{escape:i(s.escape).replace("])","~|])").getRegex(),_extended_email:/[A-Za-z0-9._+-]+(@)[a-zA-Z0-9-_]+(?:\.[a-zA-Z0-9-_]*[a-zA-Z0-9])+(?![-_])/,url:/^((?:ftp|https?):\/\/|www\.)(?:[a-zA-Z0-9\-]+\.?)+[^\s<]*|^email/,_backpedal:/(?:[^?!.,:;*_~()&]+|\([^)]*\)|&(?![a-zA-Z0-9]+;$)|[?!.,:;*_~)]+(?!$))+/,del:/^~+(?=\S)([\s\S]*?\S)~+/,text:/^(`+|[^`])(?:[\s\S]*?(?:(?=[\\<!\[`*~]|\b_|https?:\/\/|ftp:\/\/|www\.|$)|[^ ](?= {2,}\n)|[^a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-](?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@))|(?= {2,}\n|[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@))/}),s.gfm.url=i(s.gfm.url,"i").replace("email",s.gfm._extended_email).getRegex(),s.breaks=o({},s.gfm,{br:i(s.br).replace("{2,}","*").getRegex(),text:i(s.gfm.text).replace("\\b_","\\b_| {2,}\\n").replace(/\{2,\}/g,"*").getRegex()}),e.exports={block:a,inline:s}},ePJp:function(e,t,n){function r(e){this.manager=void 0===e?i.DefaultLoadingManager:e}var i=n("SLQU");Object.assign(r.prototype,i.EventDispatcher.prototype,{load:function(e,t,n,r){var o=this,a=new i.FileLoader(this.manager);a.setPath(this.path),a.load(e,function(e){t(o.parse(e))},n,r)},setPath:function(e){this.path=e},setTexturePath:function(e){this.texturePath=e},setBaseUrl:function(e){console.warn("MTLLoader: .setBaseUrl() is deprecated. Use .setTexturePath( path ) for texture path or .setPath( path ) for general base path instead."),this.setTexturePath(e)},setCrossOrigin:function(e){this.crossOrigin=e},setMaterialOptions:function(e){this.materialOptions=e},parse:function(e){for(var t,n=e.split("\n"),i={},o=/\s+/,a={},s=0;s<n.length;s++)if(0!==(t=(t=n[s]).trim()).length&&"#"!==t.charAt(0)){var u=t.indexOf(" "),c=0<=u?t.substring(0,u):t;c=c.toLowerCase();var l=0<=u?t.substring(u+1):"";if(l=l.trim(),"newmtl"===c)i={name:l},a[l]=i;else if(i)if("ka"===c||"kd"===c||"ks"===c){var h=l.split(o,3);i[c]=[parseFloat(h[0]),parseFloat(h[1]),parseFloat(h[2])]}else i[c]=l}var p=new r.MaterialCreator(this.texturePath||this.path,this.materialOptions);return p.setCrossOrigin(this.crossOrigin),p.setManager(this.manager),p.setMaterials(a),p}}),r.MaterialCreator=function(e,t){this.baseUrl=e||"",this.options=t,this.materialsInfo={},this.materials={},this.materialsArray=[],this.nameLookup={},this.side=this.options&&this.options.side?this.options.side:i.FrontSide,this.wrap=this.options&&this.options.wrap?this.options.wrap:i.RepeatWrapping},r.MaterialCreator.prototype={constructor:r.MaterialCreator,setCrossOrigin:function(e){this.crossOrigin=e},setManager:function(e){this.manager=e},setMaterials:function(e){this.materialsInfo=this.convert(e),this.materials={},this.materialsArray=[],this.nameLookup={}},convert:function(e){if(!this.options)return e;var t={};for(var n in e){var r=e[n],i={};for(var o in t[n]=i,r){var a=!0,s=r[o],u=o.toLowerCase();switch(u){case"kd":case"ka":case"ks":this.options&&this.options.normalizeRGB&&(s=[s[0]/255,s[1]/255,s[2]/255]),this.options&&this.options.ignoreZeroRGBs&&0===s[0]&&0===s[1]&&0===s[2]&&(a=!1)}a&&(i[u]=s)}}return t},preload:function(){for(var e in this.materialsInfo)this.create(e)},getIndex:function(e){return this.nameLookup[e]},getAsArray:function(){var e=0;for(var t in this.materialsInfo)this.materialsArray[e]=this.create(t),this.nameLookup[t]=e,e++;return this.materialsArray},create:function(e){return void 0===this.materials[e]&&this.createMaterial_(e),this.materials[e]},createMaterial_:function(e){function t(e,t){if(!o[e]){var r=n.getTextureParams(t,o),i=n.loadTexture(a(n.baseUrl,r.url));i.repeat.copy(r.scale),i.offset.copy(r.offset),i.wrapS=n.wrap,i.wrapT=n.wrap,o[e]=i}}var n=this,r=this.materialsInfo[e],o={name:e,side:this.side},a=function(e,t){return"string"!=typeof t||""===t?"":/^https?:\/\//i.test(t)?t:e+encodeURIComponent(t)};for(var s in r){var u=r[s];if(""!==u)switch(s.toLowerCase()){case"kd":o.color=(new i.Color).fromArray(u);break;case"ks":o.specular=(new i.Color).fromArray(u);break;case"map_kd":t("map",u);break;case"map_ks":t("specularMap",u);break;case"map_bump":case"bump":t("bumpMap",u);break;case"ns":o.shininess=parseFloat(u);break;case"d":1>u&&(o.opacity=u,o.transparent=!0);break;case"tr":case"Tr":0<u&&(o.opacity=1-u,o.transparent=!0)}}return this.materials[e]=new i.MeshPhongMaterial(o),this.materials[e]},getTextureParams:function(e,t){var n,r={scale:new i.Vector2(1,1),offset:new i.Vector2(0,0)},o=e.split(/\s+/);return 0<=(n=o.indexOf("-bm"))&&(t.bumpScale=parseFloat(o[n+1]),o.splice(n,2)),0<=(n=o.indexOf("-s"))&&(r.scale.set(parseFloat(o[n+1]),parseFloat(o[n+2])),o.splice(n,4)),0<=(n=o.indexOf("-o"))&&(r.offset.set(parseFloat(o[n+1]),parseFloat(o[n+2])),o.splice(n,4)),r.url=o.join(" ").trim(),r},loadTexture:function(e,t,n,r,o){var a,s=i.Loader.Handlers.get(e),u=void 0===this.manager?i.DefaultLoadingManager:this.manager;return null===s&&(s=new i.TextureLoader(u)),s.setCrossOrigin&&s.setCrossOrigin(this.crossOrigin),a=s.load(e,n,r,o),void 0!==t&&(a.mapping=t),a}},e.exports=r},eUtF:function(e,t,n){e.exports=!n("jmDH")&&!n("KUxP")(function(){return 7!=Object.defineProperty(n("Hsns")("div"),"a",{get:function(){return 7}}).a})},eVuF:function(e,t,n){e.exports=n("aW7e")},eaoh:function(e){e.exports=function(e){if("function"!=typeof e)throw TypeError(e+" is not a function!");return e}},erV9:function(e){e.exports={O_RDONLY:0,O_WRONLY:1,O_RDWR:2,S_IFMT:61440,S_IFREG:32768,S_IFDIR:16384,S_IFCHR:8192,S_IFBLK:24576,S_IFIFO:4096,S_IFLNK:40960,S_IFSOCK:49152,O_CREAT:512,O_EXCL:2048,O_NOCTTY:131072,O_TRUNC:1024,O_APPEND:8,O_DIRECTORY:1048576,O_NOFOLLOW:256,O_SYNC:128,O_SYMLINK:2097152,O_NONBLOCK:4,S_IRWXU:448,S_IRUSR:256,S_IWUSR:128,S_IXUSR:64,S_IRWXG:56,S_IRGRP:32,S_IWGRP:16,S_IXGRP:8,S_IRWXO:7,S_IROTH:4,S_IWOTH:2,S_IXOTH:1,E2BIG:7,EACCES:13,EADDRINUSE:48,EADDRNOTAVAIL:49,EAFNOSUPPORT:47,EAGAIN:35,EALREADY:37,EBADF:9,EBADMSG:94,EBUSY:16,ECANCELED:89,ECHILD:10,ECONNABORTED:53,ECONNREFUSED:61,ECONNRESET:54,EDEADLK:11,EDESTADDRREQ:39,EDOM:33,EDQUOT:69,EEXIST:17,EFAULT:14,EFBIG:27,EHOSTUNREACH:65,EIDRM:90,EILSEQ:92,EINPROGRESS:36,EINTR:4,EINVAL:22,EIO:5,EISCONN:56,EISDIR:21,ELOOP:62,EMFILE:24,EMLINK:31,EMSGSIZE:40,EMULTIHOP:95,ENAMETOOLONG:63,ENETDOWN:50,ENETRESET:52,ENETUNREACH:51,ENFILE:23,ENOBUFS:55,ENODATA:96,ENODEV:19,ENOENT:2,ENOEXEC:8,ENOLCK:77,ENOLINK:97,ENOMEM:12,ENOMSG:91,ENOPROTOOPT:42,ENOSPC:28,ENOSR:98,ENOSTR:99,ENOSYS:78,ENOTCONN:57,ENOTDIR:20,ENOTEMPTY:66,ENOTSOCK:38,ENOTSUP:45,ENOTTY:25,ENXIO:6,EOPNOTSUPP:102,EOVERFLOW:84,EPERM:1,EPIPE:32,EPROTO:100,EPROTONOSUPPORT:43,EPROTOTYPE:41,ERANGE:34,EROFS:30,ESPIPE:29,ESRCH:3,ESTALE:70,ETIME:101,ETIMEDOUT:60,ETXTBSY:26,EWOULDBLOCK:35,EXDEV:18,SIGHUP:1,SIGINT:2,SIGQUIT:3,SIGILL:4,SIGTRAP:5,SIGABRT:6,SIGIOT:6,SIGBUS:10,SIGFPE:8,SIGKILL:9,SIGUSR1:30,SIGSEGV:11,SIGUSR2:31,SIGPIPE:13,SIGALRM:14,SIGTERM:15,SIGCHLD:20,SIGCONT:19,SIGSTOP:17,SIGTSTP:18,SIGTTIN:21,SIGTTOU:22,SIGURG:16,SIGXCPU:24,SIGXFSZ:25,SIGVTALRM:26,SIGPROF:27,SIGWINCH:28,SIGIO:23,SIGSYS:12,SSL_OP_ALL:2147486719,SSL_OP_ALLOW_UNSAFE_LEGACY_RENEGOTIATION:262144,SSL_OP_CIPHER_SERVER_PREFERENCE:4194304,SSL_OP_CISCO_ANYCONNECT:32768,SSL_OP_COOKIE_EXCHANGE:8192,SSL_OP_CRYPTOPRO_TLSEXT_BUG:2147483648,SSL_OP_DONT_INSERT_EMPTY_FRAGMENTS:2048,SSL_OP_EPHEMERAL_RSA:0,SSL_OP_LEGACY_SERVER_CONNECT:4,SSL_OP_MICROSOFT_BIG_SSLV3_BUFFER:32,SSL_OP_MICROSOFT_SESS_ID_BUG:1,SSL_OP_MSIE_SSLV2_RSA_PADDING:0,SSL_OP_NETSCAPE_CA_DN_BUG:536870912,SSL_OP_NETSCAPE_CHALLENGE_BUG:2,SSL_OP_NETSCAPE_DEMO_CIPHER_CHANGE_BUG:1073741824,SSL_OP_NETSCAPE_REUSE_CIPHER_CHANGE_BUG:8,SSL_OP_NO_COMPRESSION:131072,SSL_OP_NO_QUERY_MTU:4096,SSL_OP_NO_SESSION_RESUMPTION_ON_RENEGOTIATION:65536,SSL_OP_NO_SSLv2:16777216,SSL_OP_NO_SSLv3:33554432,SSL_OP_NO_TICKET:16384,SSL_OP_NO_TLSv1:67108864,SSL_OP_NO_TLSv1_1:268435456,SSL_OP_NO_TLSv1_2:134217728,SSL_OP_PKCS1_CHECK_1:0,SSL_OP_PKCS1_CHECK_2:0,SSL_OP_SINGLE_DH_USE:1048576,SSL_OP_SINGLE_ECDH_USE:524288,SSL_OP_SSLEAY_080_CLIENT_DH_BUG:128,SSL_OP_SSLREF2_REUSE_CERT_TYPE_BUG:0,SSL_OP_TLS_BLOCK_PADDING_BUG:512,SSL_OP_TLS_D5_BUG:256,SSL_OP_TLS_ROLLBACK_BUG:8388608,ENGINE_METHOD_DSA:2,ENGINE_METHOD_DH:4,ENGINE_METHOD_RAND:8,ENGINE_METHOD_ECDH:16,ENGINE_METHOD_ECDSA:32,ENGINE_METHOD_CIPHERS:64,ENGINE_METHOD_DIGESTS:128,ENGINE_METHOD_STORE:256,ENGINE_METHOD_PKEY_METHS:512,ENGINE_METHOD_PKEY_ASN1_METHS:1024,ENGINE_METHOD_ALL:65535,ENGINE_METHOD_NONE:0,DH_CHECK_P_NOT_SAFE_PRIME:2,DH_CHECK_P_NOT_PRIME:1,DH_UNABLE_TO_CHECK_GENERATOR:4,DH_NOT_SUITABLE_GENERATOR:8,NPN_ENABLED:1,RSA_PKCS1_PADDING:1,RSA_SSLV23_PADDING:2,RSA_NO_PADDING:3,RSA_PKCS1_OAEP_PADDING:4,RSA_X931_PADDING:5,RSA_PKCS1_PSS_PADDING:6,POINT_CONVERSION_COMPRESSED:2,POINT_CONVERSION_UNCOMPRESSED:4,POINT_CONVERSION_HYBRID:6,F_OK:0,R_OK:4,W_OK:2,X_OK:1,UV_UDP_REUSEADDR:4}},fNZA:function(e,t,n){var r=n("QMMT"),i=n("UWiX")("iterator"),o=n("SBuE");e.exports=n("WEpk").getIteratorMethod=function(e){if(null!=e)return e[i]||e["@@iterator"]||o[r(e)]}},fpC5:function(e,t,n){var r=n("2faE"),i=n("5K7Z"),o=n("w6GO");e.exports=n("jmDH")?Object.defineProperties:function(e,t){i(e);for(var n,a=o(t),s=a.length,u=0;s>u;)r.f(e,n=a[u++],t[n]);return e}},hDam:function(e){e.exports=function(){}},"hFT/":function(e,t){t.__esModule=!0;t.ATTRIBUTE_NAMES={BODY:"bodyAttributes",HTML:"htmlAttributes",TITLE:"titleAttributes"};var n=t.TAG_NAMES={BASE:"base",BODY:"body",HEAD:"head",HTML:"html",LINK:"link",META:"meta",NOSCRIPT:"noscript",SCRIPT:"script",STYLE:"style",TITLE:"title"},r=(t.VALID_TAG_NAMES=Object.keys(n).map(function(e){return n[e]}),t.TAG_PROPERTIES={CHARSET:"charset",CSS_TEXT:"cssText",HREF:"href",HTTPEQUIV:"http-equiv",INNER_HTML:"innerHTML",ITEM_PROP:"itemprop",NAME:"name",PROPERTY:"property",REL:"rel",SRC:"src"},t.REACT_TAG_MAP={accesskey:"accessKey",charset:"charSet",class:"className",contenteditable:"contentEditable",contextmenu:"contextMenu","http-equiv":"httpEquiv",itemprop:"itemProp",tabindex:"tabIndex"});t.HELMET_PROPS={DEFAULT_TITLE:"defaultTitle",DEFER:"defer",ENCODE_SPECIAL_CHARACTERS:"encodeSpecialCharacters",ON_CHANGE_CLIENT_STATE:"onChangeClientState",TITLE_TEMPLATE:"titleTemplate"},t.HTML_TAG_MAP=Object.keys(r).reduce(function(e,t){return e[r[t]]=t,e},{}),t.SELF_CLOSING_TAGS=[n.NOSCRIPT,n.SCRIPT,n.STYLE],t.HELMET_ATTRIBUTE="data-react-helmet"},hfKm:function(e,t,n){e.exports=n("RU/L")},hyX7:function(e,t,n){const r=n("SbYC"),{defaults:i}=n("vbtb"),{inline:o}=n("e56X"),{findClosingBracket:a,escape:s}=n("rUJ1");e.exports=class e{constructor(e,t){if(this.options=t||i,this.links=e,this.rules=o.normal,this.options.renderer=this.options.renderer||new r,this.renderer=this.options.renderer,this.renderer.options=this.options,!this.links)throw new Error("Tokens array requires a `links` property.");this.options.pedantic?this.rules=o.pedantic:this.options.gfm&&(this.options.breaks?this.rules=o.breaks:this.rules=o.gfm)}static get rules(){return o}static output(t,n,r){return new e(n,r).output(t)}output(t){let n,r,i,o,u,c,l="";for(;t;)if(u=this.rules.escape.exec(t))t=t.substring(u[0].length),l+=s(u[1]);else if(u=this.rules.tag.exec(t))!this.inLink&&/^<a /i.test(u[0])?this.inLink=!0:this.inLink&&/^<\/a>/i.test(u[0])&&(this.inLink=!1),!this.inRawBlock&&/^<(pre|code|kbd|script)(\s|>)/i.test(u[0])?this.inRawBlock=!0:this.inRawBlock&&/^<\/(pre|code|kbd|script)(\s|>)/i.test(u[0])&&(this.inRawBlock=!1),t=t.substring(u[0].length),l+=this.renderer.html(this.options.sanitize?this.options.sanitizer?this.options.sanitizer(u[0]):s(u[0]):u[0]);else if(u=this.rules.link.exec(t)){const r=a(u[2],"()");if(-1<r){const e=(0===u[0].indexOf("!")?5:4)+u[1].length+r;u[2]=u[2].substring(0,r),u[0]=u[0].substring(0,e).trim(),u[3]=""}t=t.substring(u[0].length),this.inLink=!0,i=u[2],this.options.pedantic?(n=/^([^'"]*[^\s])\s+(['"])(.*)\2/.exec(i))?(i=n[1],o=n[3]):o="":o=u[3]?u[3].slice(1,-1):"",i=i.trim().replace(/^<([\s\S]*)>$/,"$1"),l+=this.outputLink(u,{href:e.escapes(i),title:e.escapes(o)}),this.inLink=!1}else if((u=this.rules.reflink.exec(t))||(u=this.rules.nolink.exec(t))){if(t=t.substring(u[0].length),n=(u[2]||u[1]).replace(/\s+/g," "),!(n=this.links[n.toLowerCase()])||!n.href){l+=u[0].charAt(0),t=u[0].substring(1)+t;continue}this.inLink=!0,l+=this.outputLink(u,n),this.inLink=!1}else if(u=this.rules.strong.exec(t))t=t.substring(u[0].length),l+=this.renderer.strong(this.output(u[4]||u[3]||u[2]||u[1]));else if(u=this.rules.em.exec(t))t=t.substring(u[0].length),l+=this.renderer.em(this.output(u[6]||u[5]||u[4]||u[3]||u[2]||u[1]));else if(u=this.rules.code.exec(t))t=t.substring(u[0].length),l+=this.renderer.codespan(s(u[2].trim(),!0));else if(u=this.rules.br.exec(t))t=t.substring(u[0].length),l+=this.renderer.br();else if(u=this.rules.del.exec(t))t=t.substring(u[0].length),l+=this.renderer.del(this.output(u[1]));else if(u=this.rules.autolink.exec(t))t=t.substring(u[0].length),"@"===u[2]?i="mailto:"+(r=s(this.mangle(u[1]))):i=r=s(u[1]),l+=this.renderer.link(i,null,r);else if(this.inLink||!(u=this.rules.url.exec(t))){if(u=this.rules.text.exec(t))t=t.substring(u[0].length),l+=this.inRawBlock?this.renderer.text(this.options.sanitize?this.options.sanitizer?this.options.sanitizer(u[0]):s(u[0]):u[0]):this.renderer.text(s(this.smartypants(u[0])));else if(t)throw new Error("Infinite loop on byte: "+t.charCodeAt(0))}else{if("@"===u[2])i="mailto:"+(r=s(u[0]));else{do{c=u[0],u[0]=this.rules._backpedal.exec(u[0])[0]}while(c!==u[0]);r=s(u[0]),i="www."===u[1]?"http://"+r:r}t=t.substring(u[0].length),l+=this.renderer.link(i,null,r)}return l}static escapes(t){return t?t.replace(e.rules._escapes,"$1"):t}outputLink(e,t){const n=t.href,r=t.title?s(t.title):null;return"!"===e[0].charAt(0)?this.renderer.image(n,r,s(e[1])):this.renderer.link(n,r,this.output(e[1]))}smartypants(e){return this.options.smartypants?e.replace(/---/g,"").replace(/--/g,"").replace(/(^|[-\u2014/(\[{"\s])'/g,"$1").replace(/'/g,"").replace(/(^|[-\u2014/(\[{\u2018\s])"/g,"$1").replace(/"/g,"").replace(/\.{3}/g,""):e}mangle(e){if(!this.options.mangle)return e;const t=e.length;let n,r="",i=0;for(;i<t;i++)n=e.charCodeAt(i),.5<Math.random()&&(n="x"+n.toString(16)),r+="&#"+n+";";return r}}},hyoZ:function(e,t,n){"use strict";var r=n("w+qe"),i=["kind","resolve","construct","instanceOf","predicate","represent","defaultStyle","styleAliases"],o=["scalar","sequence","mapping"];e.exports=function(e,t){if(t=t||{},Object.keys(t).forEach(function(t){if(-1===i.indexOf(t))throw new r('Unknown option "'+t+'" is met in definition of "'+e+'" YAML type.')}),this.tag=e,this.kind=t.kind||null,this.resolve=t.resolve||function(){return!0},this.construct=t.construct||function(e){return e},this.instanceOf=t.instanceOf||null,this.predicate=t.predicate||null,this.represent=t.represent||null,this.defaultStyle=t.defaultStyle||null,this.styleAliases=function(e){var t={};return null!==e&&Object.keys(e).forEach(function(n){e[n].forEach(function(e){t[e+""]=n})}),t}(t.styleAliases||null),-1===o.indexOf(this.kind))throw new r('Unknown kind "'+this.kind+'" is specified for "'+e+'" YAML type.')}},i8i4:function(e,t,n){"use strict";(function t(){if("undefined"!=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}})(),e.exports=n("yl30")},iK26:function(e,t,n){"use strict";var r=n("33yf"),i=n("5ECd"),o=Object.create(null);i.forEach(function(e){o[e]=!0}),e.exports=function(e){return r.extname(e).slice(1).toLowerCase()in o}},iZP3:function(e,t,n){function r(e){return(r="function"==typeof a&&"symbol"==typeof o?function(e){return typeof e}:function(e){return e&&"function"==typeof a&&e.constructor===a&&e!==a.prototype?"symbol":typeof e})(e)}function i(t){return e.exports=i="function"==typeof a&&"symbol"===r(o)?function(e){return r(e)}:function(e){return e&&"function"==typeof a&&e.constructor===a&&e!==a.prototype?"symbol":r(e)},i(t)}var o=n("XVgq"),a=n("Z7t5");e.exports=i},iq4v:function(e,t,n){n("Mqbl"),e.exports=n("WEpk").Object.keys},j2DC:function(e,t,n){"use strict";var r=n("oVml"),i=n("rr1i"),o=n("RfKB"),a={};n("NegM")(a,n("UWiX")("iterator"),function(){return this}),e.exports=function(e,t,n){e.prototype=r(a,{next:i(1,n)}),o(e,t+" Iterator")}},jO2K:function(e,t,n){"use strict";var r;try{r=n("tjlA").Buffer}catch(e){}var i=n("hyoZ"),o="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=\n\r";e.exports=new i("tag:yaml.org,2002:binary",{kind:"scalar",resolve:function(e){if(null===e)return!1;var t,n,r=0,i=e.length;for(n=0;n<i;n++)if(!(64<(t=o.indexOf(e.charAt(n))))){if(0>t)return!1;r+=6}return 0==r%8},construct:function(e){var t,n,i=e.replace(/[\r\n=]/g,""),a=i.length,s=0,u=[];for(t=0;t<a;t++)0==t%4&&t&&(u.push(255&s>>16),u.push(255&s>>8),u.push(255&s)),s=s<<6|o.indexOf(i.charAt(t));return 0==(n=a%4*6)?(u.push(255&s>>16),u.push(255&s>>8),u.push(255&s)):18===n?(u.push(255&s>>10),u.push(255&s>>2)):12==n&&u.push(255&s>>4),r?r.from?r.from(u):new r(u):u},predicate:function(e){return r&&r.isBuffer(e)},represent:function(e){var t,n,r="",i=0,a=e.length,s=o;for(t=0;t<a;t++)0==t%3&&t&&(r+=s[63&i>>18],r+=s[63&i>>12],r+=s[63&i>>6],r+=s[63&i]),i=(i<<8)+e[t];return 0===(n=a%3)?(r+=s[63&i>>18],r+=s[63&i>>12],r+=s[63&i>>6],r+=s[63&i]):2===n?(r+=s[63&i>>10],r+=s[63&i>>4],r+=s[63&i<<2],r+=s[64]):1==n&&(r+=s[63&i>>2],r+=s[63&i<<4],r+=s[64],r+=s[64]),r}})},"jR+S":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n("Womt");t.default=class{constructor(){this.onKeyDown=(e=>{27===e.keyCode?this.array.fill(0):this.array[e.keyCode]=255,this.texture.needsUpdate=!0}),this.onKeyUp=(e=>{this.array[e.keyCode]=0,this.texture.needsUpdate=!0}),this.array=new Uint8Array(256),this.texture=new r.DataTexture(this.array,256,1,r.LuminanceFormat,r.UnsignedByteType)}enable(){document.body.addEventListener("keydown",this.onKeyDown),document.body.addEventListener("keyup",this.onKeyUp)}disable(){this.texture.dispose(),document.body.removeEventListener("keydown",this.onKeyDown),document.body.removeEventListener("keyup",this.onKeyUp)}}},jmDH:function(e,t,n){e.exports=!n("KUxP")(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a})},kAMH:function(e,t,n){var r=n("a0xu");e.exports=Array.isArray||function(e){return"Array"==r(e)}},kTiW:function(e,t,n){e.exports=n("NegM")},"kVK+":function(e,t){var n=Math.pow;t.read=function(e,t,r,i,o){var a,s,u=8*o-i-1,c=(1<<u)-1,l=c>>1,h=-7,p=r?o-1:0,f=r?-1:1,d=e[t+p];for(p+=f,a=d&(1<<-h)-1,d>>=-h,h+=u;0<h;a=256*a+e[t+p],p+=f,h-=8);for(s=a&(1<<-h)-1,a>>=-h,h+=i;0<h;s=256*s+e[t+p],p+=f,h-=8);if(0===a)a=1-l;else{if(a===c)return s?NaN:1/0*(d?-1:1);s+=n(2,i),a-=l}return(d?-1:1)*s*n(2,a-i)},t.write=function(e,t,r,i,o,a){var s,u,c,l=8*a-o-1,h=(1<<l)-1,p=h>>1,f=23===o?5.960464477539062e-8:0,d=i?0:a-1,m=i?1:-1,g=0>t||0===t&&0>1/t?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(u=isNaN(t)?1:0,s=h):(s=Math.floor(Math.log(t)/Math.LN2),1>t*(c=n(2,-s))&&(s--,c*=2),2<=(t+=1<=s+p?f/c:f*n(2,1-p))*c&&(s++,c/=2),s+p>=h?(u=0,s=h):1<=s+p?(u=(t*c-1)*n(2,o),s+=p):(u=t*n(2,p-1)*n(2,o),s=0));8<=o;e[r+d]=255&u,d+=m,u/=256,o-=8);for(s=s<<o|u,l+=o;0<l;e[r+d]=255&s,d+=m,s/=256,l-=8);e[r+d-m]|=128*g}},kWms:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n("Womt"),i=n("od5H"),o=n("DwK1"),a=2048,s=(e,t)=>`\nprecision mediump float;\nuniform float iBlockOffset;\nuniform float iSampleRate;\n\nvec2 loadSound(in sampler2D soundname, in float t) {\n    t *= iSampleRate;\n    vec2 uv = vec2(\n        mod(t, ${i.SAMPLE_WIDTH}.) / ${i.SAMPLE_WIDTH}.,\n        floor(t / ${i.SAMPLE_WIDTH}.) / ${i.SAMPLE_HEIGHT}.\n    );\n    vec4 p = texture2D(soundname, uv);\n    return vec2(\n        (p.x * 65535. + p.y * 255.) / 65535.,\n        (p.z * 65535. + p.w * 255.) / 65535.\n    );\n}\n\n${e}\n\nvoid main(){\n    float t = iBlockOffset + ((gl_FragCoord.x - 0.5) + (gl_FragCoord.y - 0.5) * ${t}.0) / iSampleRate;\n    vec2 y = mainSound(t); // -1 to 1\n    vec2 v  = floor((y * .5 + .5) * 65536.0); // 0 to 65536, int\n    vec2 vl = mod(v, 256.) / 255.;\n    vec2 vh = floor(v / 256.) / 255.;\n    gl_FragColor = vec4(vh.x, vl.x, vh.y, vl.y);\n}`;t.default=class{constructor(e){this.scene=null,this.camera=null,this.soundLength=3,this.isPlaying=!1,this.renderingId=null,this.render=(()=>{this.renderingId&&window.cancelAnimationFrame(this.renderingId);const e=this.audioBuffer.getChannelData(0),t=this.audioBuffer.getChannelData(1),n=this.ctx.sampleRate*this.soundLength;let r=(this.ctx.currentTime-this.start)%this.soundLength*this.ctx.sampleRate;r-=r%a;let i=0;const o=()=>{const s=(i*a+r)%n;this.soundUniforms.iBlockOffset.value=s/this.ctx.sampleRate,this.renderer.render(this.scene,this.camera,this.target,!0);const u=new Uint8Array(4*a);this.wctx.readPixels(0,0,32,64,this.wctx.RGBA,this.wctx.UNSIGNED_BYTE,u);for(let r=0;r<a;r++){const i=(s+r)%n;e[i]=(256*u[4*r+0]+u[4*r+1])/65535*2-1,t[i]=(256*u[4*r+2]+u[4*r+3])/65535*2-1}i++,this.renderingId=i<n/a?requestAnimationFrame(o):null};this.renderingId=requestAnimationFrame(o)}),this.ctx=o.getCtx(),this.audioBuffer=this.ctx.createBuffer(2,this.ctx.sampleRate*this.soundLength,this.ctx.sampleRate),this.node=this.createNode(),this.start=this.ctx.currentTime;const t=document.createElement("canvas");t.width=32,t.height=64,this.renderer=new r.WebGLRenderer({canvas:t,alpha:!0}),this.wctx=this.renderer.getContext(),this.target=new r.WebGLRenderTarget(32,64,{format:r.RGBAFormat}),this.uniforms=e,this.soundUniforms={iBlockOffset:{type:"f",value:0},iSampleRate:{type:"f",value:this.ctx.sampleRate}}}setLength(e){this.soundLength=e,this.audioBuffer=this.ctx.createBuffer(2,this.ctx.sampleRate*this.soundLength,this.ctx.sampleRate);const t=this.createNode();this.start=this.ctx.currentTime,this.isPlaying&&(this.node.stop(),t.start()),this.node.disconnect(),this.node=t}loadShader(e){const t=s(e,32),n=new r.PlaneGeometry(2,2),i=new r.ShaderMaterial({fragmentShader:t,uniforms:Object.assign({},this.uniforms,this.soundUniforms)}),o=new r.Mesh(n,i);this.scene=new r.Scene,this.camera=new r.OrthographicCamera(-1,1,1,-1,.1,10),this.camera.position.set(0,0,1),this.camera.lookAt(this.scene.position),this.scene.add(o)}play(){this.isPlaying||(this.isPlaying=!0,this.node.start(),this.start=this.ctx.currentTime),this.render()}stop(){this.isPlaying&&(this.isPlaying=!1,this.node.stop(),this.node.disconnect(),this.node=this.createNode())}createNode(){const e=this.ctx.createBufferSource();return e.loop=!0,e.buffer=this.audioBuffer,e.connect(this.ctx.destination),e}}},kd2E:function(e){"use strict";function t(e,t){return Object.prototype.hasOwnProperty.call(e,t)}e.exports=function(e,r,i,o){r=r||"&",i=i||"=";var a={};if("string"!=typeof e||0===e.length)return a;var s=/\+/g;e=e.split(r);var u=1e3;o&&"number"==typeof o.maxKeys&&(u=o.maxKeys);var c=e.length;0<u&&c>u&&(c=u);for(var l=0;l<c;++l){var h,p,f,d,m=e[l].replace(s,"%20"),g=m.indexOf(i);0<=g?(h=m.substr(0,g),p=m.substr(g+1)):(h=m,p=""),f=decodeURIComponent(h),d=decodeURIComponent(p),t(a,f)?n(a[f])?a[f].push(d):a[f]=[a[f],d]:a[f]=d}return a};var n=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)}},kiME:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){const e=Object.create(null);return{on(t,n){(e[t]||(e[t]=[])).push(n)},off(t,n){e[t]&&e[t].splice(e[t].indexOf(n)>>>0,1)},emit(t,...n){(e[t]||[]).slice().map(e=>{e(...n)})}}}},kwZ1:function(e,t,n){"use strict";var r=n("jmDH"),i=n("w6GO"),o=n("mqlF"),a=n("NV0k"),s=n("JB68"),u=n("M1xp"),c=Object.assign;e.exports=!c||n("KUxP")(function(){var e={},t={},n=Symbol(),r="abcdefghijklmnopqrst";return e[n]=7,r.split("").forEach(function(e){t[e]=e}),7!=c({},e)[n]||Object.keys(c({},t)).join("")!=r})?function(e){for(var t=s(e),n=arguments.length,c=1,l=o.f,h=a.f;n>c;)for(var p,f=u(arguments[c++]),d=l?i(f).concat(l(f)):i(f),m=d.length,g=0;m>g;)p=d[g++],(!r||h.call(f,p))&&(t[p]=f[p]);return t}:c},lCc8:function(e,t,n){var r=n("Y7ZC");r(r.S,"Object",{create:n("oVml")})},lgD3:function(e,t,n){e.exports=n("GsEv")()},ln6h:function(e,t,n){e.exports=n("u938")},ls82:function(e){!function(t){"use strict";function n(e,t,n,r){var o=t&&t.prototype instanceof i?t:i,a=Object.create(o.prototype),s=new f(r||[]);return a._invoke=c(e,n,s),a}function r(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}function i(){}function o(){}function a(){}function s(e){["next","throw","return"].forEach(function(t){e[t]=function(e){return this._invoke(t,e)}})}function u(e){function t(n,i,o,a){var s=r(e[n],e,i);if("throw"!==s.type){var u=s.arg,c=u.value;return c&&"object"==typeof c&&v.call(c,"__await")?Promise.resolve(c.__await).then(function(e){t("next",e,o,a)},function(e){t("throw",e,o,a)}):Promise.resolve(c).then(function(e){u.value=e,o(u)},function(e){return t("throw",e,o,a)})}a(s.arg)}var n;this._invoke=function(e,r){function i(){return new Promise(function(n,i){t(e,r,n,i)})}return n=n?n.then(i,i):i()}}function c(e,t,n){var i=S;return function(o,a){if(i===A)throw new Error("Generator is already running");if(i===M){if("throw"===o)throw a;return{value:void 0,done:!0}}for(n.method=o,n.arg=a;;){var s=n.delegate;if(s){var u=l(s,n);if(u){if(u===C)continue;return u}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(i===S)throw i=M,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);i=A;var c=r(e,t,n);if("normal"===c.type){if(i=n.done?M:T,c.arg===C)continue;return{value:c.arg,done:n.done}}"throw"===c.type&&(i=M,n.method="throw",n.arg=c.arg)}}}function l(e,t){var n=e.iterator[t.method];if(void 0===n){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,l(e,t),"throw"===t.method))return C;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return C}var i=r(n,e.iterator,t.arg);if("throw"===i.type)return t.method="throw",t.arg=i.arg,t.delegate=null,C;var o=i.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,C):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,C)}function h(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function p(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function f(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(h,this),this.reset(!0)}function d(e){if(e){var t=e[x];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,r=function t(){for(;++n<e.length;)if(v.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return r.next=r}}return{next:m}}function m(){return{value:void 0,done:!0}}var g=Object.prototype,v=g.hasOwnProperty,y="function"==typeof Symbol?Symbol:{},x=y.iterator||"@@iterator",b=y.asyncIterator||"@@asyncIterator",w=y.toStringTag||"@@toStringTag",_="object"==typeof e,E=t.regeneratorRuntime;if(E)_&&(e.exports=E);else{(E=t.regeneratorRuntime=_?e.exports:{}).wrap=n;var S="suspendedStart",T="suspendedYield",A="executing",M="completed",C={},D={};D[x]=function(){return this};var L=Object.getPrototypeOf,P=L&&L(L(d([])));P&&P!==g&&v.call(P,x)&&(D=P);var R=a.prototype=i.prototype=Object.create(D);o.prototype=R.constructor=a,a.constructor=o,a[w]=o.displayName="GeneratorFunction",E.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===o||"GeneratorFunction"===(t.displayName||t.name))},E.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,a):(e.__proto__=a,!(w in e)&&(e[w]="GeneratorFunction")),e.prototype=Object.create(R),e},E.awrap=function(e){return{__await:e}},s(u.prototype),u.prototype[b]=function(){return this},E.AsyncIterator=u,E.async=function(e,t,r,i){var o=new u(n(e,t,r,i));return E.isGeneratorFunction(t)?o:o.next().then(function(e){return e.done?e.value:o.next()})},s(R),R[w]="Generator",R[x]=function(){return this},R.toString=function(){return"[object Generator]"},E.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){for(;t.length;){var r=t.pop();if(r in e)return n.value=r,n.done=!1,n}return n.done=!0,n}},E.values=d,f.prototype={constructor:f,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(p),!e)for(var t in this)"t"===t.charAt(0)&&v.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){function t(t,r){return o.type="throw",o.arg=e,n.next=t,r&&(n.method="next",n.arg=void 0),!!r}if(this.done)throw e;for(var n=this,r=this.tryEntries.length-1;0<=r;--r){var i=this.tryEntries[r],o=i.completion;if("root"===i.tryLoc)return t("end");if(i.tryLoc<=this.prev){var a=v.call(i,"catchLoc"),s=v.call(i,"finallyLoc");if(a&&s){if(this.prev<i.catchLoc)return t(i.catchLoc,!0);if(this.prev<i.finallyLoc)return t(i.finallyLoc)}else if(a){if(this.prev<i.catchLoc)return t(i.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return t(i.finallyLoc)}}}},abrupt:function(e,t){for(var n,r=this.tryEntries.length-1;0<=r;--r)if((n=this.tryEntries[r]).tryLoc<=this.prev&&v.call(n,"finallyLoc")&&this.prev<n.finallyLoc){var i=n;break}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var o=i?i.completion:{};return o.type=e,o.arg=t,i?(this.method="next",this.next=i.finallyLoc,C):this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),C},finish:function(e){for(var t,n=this.tryEntries.length-1;0<=n;--n)if((t=this.tryEntries[n]).finallyLoc===e)return this.complete(t.completion,t.afterLoc),p(t),C},catch:function(e){for(var t,n=this.tryEntries.length-1;0<=n;--n)if((t=this.tryEntries[n]).tryLoc===e){var r=t.completion;if("throw"===r.type){var i=r.arg;p(t)}return i}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:d(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),C}}}}(function(){return this||"object"==typeof self&&self}()||Function("return this")())},luDK:function(e){"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},"m+w6":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n("Womt"),i=n("od5H"),o=n("DwK1");t.default=class{constructor(){this.cache={}}load(e){const t=this.cache[e];if(t)return Promise.resolve(t);const n=o.getCtx();return new Promise((t,n)=>{const r=new XMLHttpRequest;r.responseType="arraybuffer",r.onload=(()=>{t(r.response)}),r.onerror=(()=>{n(new TypeError("Local request failed"))}),r.open("GET",e),r.send(null)}).then(e=>n.decodeAudioData(e)).then(t=>{const n=t.getChannelData(0),o=2===t.numberOfChannels?t.getChannelData(1):n,a=new Uint8Array(i.SAMPLE_WIDTH*i.SAMPLE_HEIGHT*4);for(let e=0;e<n.length;e++){const t=4*e;if(t+3>=a.length)break;const r=32768*n[e]+32768,i=32768*o[e]+32768;a[t]=r/256,a[t+1]=r%256,a[t+2]=i/256,a[t+3]=i%256}const s=new r.DataTexture(a,i.SAMPLE_WIDTH,i.SAMPLE_HEIGHT,r.RGBAFormat);return s.needsUpdate=!0,this.cache[e]=s,s})}unload(e){this.cache[e]=null}}},mqlF:function(e,t){t.f=Object.getOwnPropertySymbols},n95T:function(e,t,n){function r(e){var t=new Uint8Array(e),n=new i(t);this.raw=n.parse(o),this.raw.hasImages=!1;for(var r=0;r<this.raw.frames.length;r++)if(this.raw.frames[r].image){this.raw.hasImages=!0;break}}const i=n("ST1V"),o=n("uifx");r.prototype.decompressFrame=function(e,t){if(e>=this.raw.frames.length)return null;var n=this.raw.frames[e];if(n.image){var r=n.image.descriptor.width*n.image.descriptor.height,i=function(e,t,n){var r,i,o,a,s,u,c,l,h,p,f,d,m,g,v,y,x=4096,b=n,w=Array(n),_=Array(x),E=Array(x),S=Array(x+1);for(s=1+(i=1<<(d=e)),r=i+2,c=-1,o=(1<<(a=d+1))-1,h=0;h<i;h++)_[h]=0,E[h]=h;for(f=l=m=g=y=v=0,p=0;p<b;){if(0===g){if(l<a){f+=t[v]<<l,l+=8,v++;continue}if(h=f&o,f>>=a,l-=a,h>r||h==s)break;if(h==i){o=(1<<(a=d+1))-1,r=i+2,c=-1;continue}if(-1==c){S[g++]=E[h],c=h,m=h;continue}for(u=h,h==r&&(S[g++]=m,h=c);h>i;)S[g++]=E[h],h=_[h];m=255&E[h],S[g++]=m,r<x&&(_[r]=c,E[r]=m,0==(++r&o)&&r<x&&(a++,o+=r)),c=u}g--,w[y++]=S[g],p++}for(p=y;p<b;p++)w[p]=0;return w}(n.image.data.minCodeSize,n.image.data.blocks,r);n.image.descriptor.lct.interlaced&&(i=function(e,t){for(var n=Array(e.length),r=e.length/t,i=function(r,i){var o=e.slice(i*t,(i+1)*t);n.splice.apply(n,[r*t,t].concat(o))},o=[0,4,2,1],a=[8,8,4,2],s=0,u=0;4>u;u++)for(var c=o[u];c<r;c+=a[u])i(c,s),s++;return n}(i,n.image.descriptor.width));var o={pixels:i,dims:{top:n.image.descriptor.top,left:n.image.descriptor.left,width:n.image.descriptor.width,height:n.image.descriptor.height}};return o.colorTable=n.image.descriptor.lct&&n.image.descriptor.lct.exists?n.image.lct:this.raw.gct,n.gce&&(o.delay=10*(n.gce.delay||10),o.disposalType=n.gce.extras.disposal,n.gce.extras.transparentColorGiven&&(o.transparentIndex=n.gce.transparentColorIndex)),t&&(o.patch=function(e){for(var t=e.pixels.length,n=new Uint8ClampedArray(4*t),r=0;r<t;r++){var i=4*r,o=e.pixels[r],a=e.colorTable[o];n[i]=a[0],n[i+1]=a[1],n[i+2]=a[2],n[i+3]=o===e.transparentIndex?0:255}return n}(o)),o}return null},r.prototype.decompressFrames=function(e,t,n){void 0===t&&(t=0),n=void 0===n?this.raw.frames.length:Math.min(n,this.raw.frames.length);for(var r=[],i=t;i<n;i++)this.raw.frames[i].image&&r.push(this.decompressFrame(i,e));return r},e.exports=r,e.exports.default=r},nOHt:function(e,t,n){"use strict";function r(){if(!f.router)throw new Error('No router instance found.\nYou should only use "next/router" inside the client side of your app.\n');return f.router}var i=n("KI45"),o=i(n("UXZV")),a=i(n("b3CU")),s=i(n("hfKm")),u=function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var c=u(n("q1tI")),l=u(n("JQMT"));t.Router=l.default;var h=n("9EOK"),p=n("4Vye"),f={router:null,readyCallbacks:[],ready:function(e){return this.router?e():void("undefined"!=typeof window&&this.readyCallbacks.push(e))}},d=["pathname","route","query","asPath"],m=["components"],g=["push","replace","reload","back","prefetch","beforePopState"];Object.defineProperty(f,"events",{get:function(){return l.default.events}}),m.concat(d).forEach(function(e){(0,s.default)(f,e,{get:function(){return r()[e]}})}),g.forEach(function(e){f[e]=function(){var t=r();return t[e].apply(t,arguments)}}),["routeChangeStart","beforeHistoryChange","routeChangeComplete","routeChangeError","hashChangeStart","hashChangeComplete"].forEach(function(e){f.ready(function(){l.default.events.on(e,function(){var t="on".concat(e.charAt(0).toUpperCase()).concat(e.substring(1)),n=f;if(n[t])try{n[t].apply(n,arguments)}catch(e){console.error("Error when running the Router event: ".concat(t)),console.error("".concat(e.message,"\n").concat(e.stack))}})})}),t.default=f;var v=n("0Bsm");t.withRouter=v.default,t.useRouter=function(){return c.default.useContext(h.RouterContext)},t.useRequest=function(){return c.default.useContext(p.RequestContext)},t.createRouter=function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return f.router=(0,a.default)(l.default,t),f.readyCallbacks.forEach(function(e){return e()}),f.readyCallbacks=[],f.router},t.makePublicRouterInstance=function(e){for(var t,n=e,r={},i=0;i<d.length;i++)"object"!=typeof n[t=d[i]]?r[t]=n[t]:r[t]=(0,o.default)({},n[t]);return r.events=l.default.events,m.forEach(function(e){(0,s.default)(r,e,{get:function(){return n[e]}})}),g.forEach(function(e){r[e]=function(){return n[e].apply(n,arguments)}}),r}},nZgG:function(e,t,n){var r=n("Y7ZC");r(r.S+r.F*!n("jmDH"),"Object",{defineProperties:n("fpC5")})},"o/9X":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n("Womt");t.default=class{constructor(){this.isEnabled=!1,this.isConnected=!1,this.array=new Uint8Array(256),this.texture=new r.DataTexture(this.array,128,2,r.LuminanceFormat,r.UnsignedByteType),window.addEventListener("gamepadconnected",()=>{this.isConnected=!0})}update(){this.isConnected&&(Array.from(navigator.getGamepads()).forEach(e=>{e&&(e.buttons.forEach((e,t)=>{this.array[t]=e.pressed?255:0}),e.axes.forEach((e,t)=>{this.array[t+128]=128*e+128}))}),this.texture.needsUpdate=!0)}enable(){this.isEnabled=!0}disable(){this.isEnabled=!1,this.texture.dispose()}}},o2GN:function(e,t,n){"use strict";function r(e){var t=u()(e),n=t.data,r=t.content,o=r.trim();return Object(i.a)({},n,{content:r,html:a()(o)})}n.r(t),n.d(t,"default",function(){return r});var i=n("zrwo"),o=n("4MG8"),a=n.n(o),s=n("MZKq"),u=n.n(s),c=n("pw5m"),l=n.n(c);l.a.registerLanguage("javascript",n("TdF3")),l.a.registerLanguage("glsl",n("3wag")),l.a.registerLanguage("bash",n("8Pgg")),a.a.setOptions({gfm:!0,tables:!0,breaks:!0,highlight:function(e){return l.a.highlightAuto(e).value}})},o8NH:function(e,t,n){var r=n("Y7ZC");r(r.S+r.F,"Object",{assign:n("kwZ1")})},oVml:function(e,t,n){var r=n("5K7Z"),i=n("fpC5"),o=n("FpHa"),a=n("VVlx")("IE_PROTO"),s=function(){},u="prototype",c=function(){var e,t=n("Hsns")("iframe"),r=o.length;for(t.style.display="none",n("MvwC").appendChild(t),t.src="javascript:",(e=t.contentWindow.document).open(),e.write("<script>document.F=Object<\/script>"),e.close(),c=e.F;r--;)delete c[u][o[r]];return c()};e.exports=Object.create||function(e,t){var n;return null===e?n=c():(s[u]=r(e),n=new s,s[u]=null,n[a]=e),void 0===t?n:i(n,t)}},od5H:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DEFAULT_VERTEX_SHADER="\nprecision mediump float;\nvarying vec2 vUv;\nvarying float vObjectId;\nvarying vec4 v_color;\nvoid main() {\n    gl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.0);\n}\n",t.DEFAULT_FRAGMENT_SHADER="\nprecision mediump float;\nvarying vec2 vUv;\nvarying float vObjectId;\nvarying vec4 v_color;\nvoid main() {\n    gl_FragColor = v_color;\n}\n",t.SAMPLE_WIDTH=1280,t.SAMPLE_HEIGHT=720,t.DEFAULT_VEDA_OPTIONS={frameskip:1,pixelRatio:1,vertexCount:3e3,vertexMode:"TRIANGLES"}},"oh+g":function(e,t,n){var r=n("WEpk"),i=r.JSON||(r.JSON={stringify:JSON.stringify});e.exports=function(){return i.stringify.apply(i,arguments)}},oioR:function(e,t,n){var r=n("2GTP"),i=n("sNwI"),o=n("NwJ3"),a=n("5K7Z"),s=n("tEej"),u=n("fNZA"),c={},l={};(t=e.exports=function(e,t,n,h,p){var f,d,m,g,v=p?function(){return e}:u(e),y=r(n,h,t?2:1),x=0;if("function"!=typeof v)throw TypeError(e+" is not iterable!");if(o(v)){for(f=s(e.length);f>x;x++)if((g=t?y(a(d=e[x])[0],d[1]):y(e[x]))===c||g===l)return g}else for(m=v.call(e);!(d=m.next()).done;)if((g=i(m,y,d.value,t))===c||g===l)return g}).BREAK=c,t.RETURN=l},pLtp:function(e,t,n){e.exports=n("iq4v")},pbKT:function(e,t,n){e.exports=n("qijr")},peYA:function(e,t,n){"use strict";var r=n("hyoZ");e.exports=new r("tag:yaml.org,2002:null",{kind:"scalar",resolve:function(e){if(null===e)return!0;var t=e.length;return 1===t&&"~"===e||4===t&&("null"===e||"Null"===e||"NULL"===e)},construct:function(){return null},predicate:function(e){return null===e},represent:{canonical:function(){return"~"},lowercase:function(){return"null"},uppercase:function(){return"NULL"},camelcase:function(){return"Null"}},defaultStyle:"lowercase"})},pw5m:function(e,t){var n,r,i;r=function(e){function t(e){return e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}function n(e){return e.nodeName.toLowerCase()}function r(e){return S.test(e)}function i(e){var t,n={},r=Array.prototype.slice.call(arguments,1);for(t in e)n[t]=e[t];return r.forEach(function(e){for(t in e)n[t]=e[t]}),n}function o(e){var t=[];return function e(r,i){for(var o=r.firstChild;o;o=o.nextSibling)3===o.nodeType?i+=o.nodeValue.length:1===o.nodeType&&(t.push({event:"start",offset:i,node:o}),i=e(o,i),n(o).match(/br|hr|img|input/)||t.push({event:"stop",offset:i,node:o}));return i}(e,0),t}function a(e,r,i){function o(){return e.length&&r.length?e[0].offset===r[0].offset?"start"===r[0].event?e:r:e[0].offset<r[0].offset?e:r:e.length?e:r}function a(e){h+="<"+n(e)+x.map.call(e.attributes,function(e){return" "+e.nodeName+'="'+t(e.value).replace(/"/g,"&quot;")+'"'}).join("")+">"}function s(e){h+="</"+n(e)+">"}function u(e){("start"===e.event?a:s)(e.node)}for(var c,l=0,h="",p=[];e.length||r.length;)if(c=o(),h+=t(i.substring(l,c[0].offset)),l=c[0].offset,c===e){p.reverse().forEach(s);do{u(c.splice(0,1)[0]),c=o()}while(c===e&&c.length&&c[0].offset===l);p.reverse().forEach(a)}else"start"===c[0].event?p.push(c[0].node):p.pop(),u(c.splice(0,1)[0]);return h+t(i.substr(l))}function s(e){return e.variants&&!e.cached_variants&&(e.cached_variants=e.variants.map(function(t){return i(e,{variants:null},t)})),e.cached_variants?e.cached_variants:function e(t){return!!t&&(t.endsWithParent||e(t.starts))}(e)?[i(e,{starts:e.starts?i(e.starts):null})]:Object.isFrozen(e)?[i(e)]:[e]}function u(e){if(y&&!e.langApiRestored){for(var t in e.langApiRestored=!0,y)e[t]&&(e[y[t]]=e[t]);(e.contains||[]).concat(e.variants||[]).forEach(u)}}function c(e,t){return t?+t:function(e){return-1!=L.indexOf(e.toLowerCase())}(e)?0:1}function l(e){function t(e){return e&&e.source||e}function n(n,r){return new RegExp(t(n),"m"+(e.case_insensitive?"i":"")+(r?"g":""))}function r(e,n){for(var r=/\[(?:[^\\\]]|\\.)*\]|\(\??|\\([1-9][0-9]*)|\\./,i=0,o="",a=0;a<e.length;a++){var s=i+=1,u=t(e[a]);for(0<a&&(o+=n),o+="(";0<u.length;){var c=r.exec(u);if(null==c){o+=u;break}o+=u.substring(0,c.index),u=u.substring(c.index+c[0].length),"\\"==c[0][0]&&c[1]?o+="\\"+(+c[1]+s):(o+=c[0],"("==c[0]&&i++)}o+=")"}return o}function i(e){function t(e,t){a[c]=e,s.push([e,t]),c+=function(e){return new RegExp(e.toString()+"|").exec("").length-1}(t)+1}for(var i,o,a={},s=[],u={},c=1,l=0;l<e.contains.length;l++){t(o=e.contains[l],o.beginKeywords?"\\.?(?:"+o.begin+")\\.?":o.begin)}e.terminator_end&&t("end",e.terminator_end),e.illegal&&t("illegal",e.illegal);var h=s.map(function(e){return e[1]});return i=n(r(h,"|"),!0),u.lastIndex=0,u.exec=function(t){var n;if(0===s.length)return null;i.lastIndex=u.lastIndex;var r=i.exec(t);if(!r)return null;for(var o=0;o<r.length;o++)if(null!=r[o]&&null!=a[""+o]){n=a[""+o];break}return"string"==typeof n?(r.type=n,r.extra=[e.illegal,e.terminator_end]):(r.type="begin",r.rule=n),r},u}if(e.contains&&-1!=e.contains.indexOf("self")){if(!E)throw new Error("ERR: contains `self` is not supported at the top-level of a language.  See documentation.");e.contains=e.contains.filter(function(e){return"self"!=e})}!function r(o,a){o.compiled||(o.compiled=!0,o.keywords=o.keywords||o.beginKeywords,o.keywords&&(o.keywords=function(e,t){function n(e,n){t&&(n=n.toLowerCase()),n.split(" ").forEach(function(t){var n=t.split("|");r[n[0]]=[e,c(n[0],n[1])]})}var r={};return"string"==typeof e?n("keyword",e):b(e).forEach(function(t){n(t,e[t])}),r}(o.keywords,e.case_insensitive)),o.lexemesRe=n(o.lexemes||/\w+/,!0),a&&(o.beginKeywords&&(o.begin="\\b("+o.beginKeywords.split(" ").join("|")+")\\b"),!o.begin&&(o.begin=/\B|\b/),o.beginRe=n(o.begin),o.endSameAsBegin&&(o.end=o.begin),!o.end&&!o.endsWithParent&&(o.end=/\B|\b/),o.end&&(o.endRe=n(o.end)),o.terminator_end=t(o.end)||"",o.endsWithParent&&a.terminator_end&&(o.terminator_end+=(o.end?"|":"")+a.terminator_end)),o.illegal&&(o.illegalRe=n(o.illegal)),null==o.relevance&&(o.relevance=1),!o.contains&&(o.contains=[]),o.contains=Array.prototype.concat.apply([],o.contains.map(function(e){return s("self"===e?o:e)})),o.contains.forEach(function(e){r(e,o)}),o.starts&&r(o.starts,a),o.terminators=i(o))}(e)}function h(e,n,r,i){function o(e,t){var n=y.case_insensitive?t[0].toLowerCase():t[0];return e.keywords.hasOwnProperty(n)&&e.keywords[n]}function a(e,t,n,r){if(!n&&""===t)return"";if(!e)return t;var i='<span class="'+(r?"":D.classPrefix);return(i+=e+'">')+t+(n?"":M)}function s(){S+=null==b.subLanguage?function(){var e,n,r,i;if(!b.keywords)return t(T);for(i="",n=0,b.lexemesRe.lastIndex=0,r=b.lexemesRe.exec(T);r;)i+=t(T.substring(n,r.index)),(e=o(b,r))?(A+=e[1],i+=a(e[0],t(r[0]))):i+=t(r[0]),n=b.lexemesRe.lastIndex,r=b.lexemesRe.exec(T);return i+t(T.substr(n))}():function(){var e="string"==typeof b.subLanguage;if(e&&!w[b.subLanguage])return t(T);var n=e?h(b.subLanguage,T,!0,_[b.subLanguage]):p(T,b.subLanguage.length?b.subLanguage:void 0);return 0<b.relevance&&(A+=n.relevance),e&&(_[b.subLanguage]=n.top),a(n.language,n.value,!1,!0)}(),T=""}function u(e){S+=e.className?a(e.className,"",!0):"",b=Object.create(e,{parent:{value:b}})}function c(e){var t=e[0],n=e.rule;return n&&n.endSameAsBegin&&(n.endRe=function(e){return new RegExp(e.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&"),"m")}(t)),n.skip?T+=t:(n.excludeBegin&&(T+=t),s(),!n.returnBegin&&!n.excludeBegin&&(T=t)),u(n),n.returnBegin?0:t.length}function f(e){var t=e[0],n=m.substr(e.index),r=function e(t,n){if(function(e,t){var n=e&&e.exec(t);return n&&0===n.index}(t.endRe,n)){for(;t.endsParent&&t.parent;)t=t.parent;return t}return t.endsWithParent?e(t.parent,n):void 0}(b,n);if(r){var i=b;i.skip?T+=t:(!(i.returnEnd||i.excludeEnd)&&(T+=t),s(),i.excludeEnd&&(T=t));do{b.className&&(S+=M),b.skip||b.subLanguage||(A+=b.relevance),b=b.parent}while(b!==r.parent);return r.starts&&(r.endSameAsBegin&&(r.starts.endRe=r.endRe),u(r.starts)),i.returnEnd?0:t.length}}function d(e,t){var n=t&&t[0];if(T+=e,null==n)return s(),0;if("begin"==v.type&&"end"==t.type&&v.index==t.index&&""===n)return T+=m.slice(t.index,t.index+1),1;if(v=t,"begin"===t.type)return c(t);if("illegal"===t.type&&!r)throw new Error('Illegal lexeme "'+n+'" for mode "'+(b.className||"<unnamed>")+'"');if("end"===t.type){var i=f(t);if(null!=i)return i}return T+=n,n.length}var m=n,v={},y=g(e);if(!y)throw console.error(C.replace("{}",e)),new Error('Unknown language: "'+e+'"');l(y);var x,b=i||y,_={},S="";for(x=b;x!==y;x=x.parent)x.className&&(S=a(x.className,"",!0)+S);var T="",A=0;try{for(var L,P,R=0;b.terminators.lastIndex=R,L=b.terminators.exec(m);)P=d(m.substring(R,L.index),L),R=L.index+P;for(d(m.substr(R)),x=b;x.parent;x=x.parent)x.className&&(S+=M);return{relevance:A,value:S,illegal:!1,language:e,top:b}}catch(n){if(n.message&&-1!==n.message.indexOf("Illegal"))return{illegal:!0,relevance:0,value:t(m)};if(E)return{relevance:0,value:t(m),language:e,top:b,errorRaised:n};throw n}}function p(e,n){n=n||D.languages||b(w);var r={relevance:0,value:t(e)},i=r;return n.filter(g).filter(v).forEach(function(t){var n=h(t,e,!1);n.language=t,n.relevance>i.relevance&&(i=n),n.relevance>r.relevance&&(i=r,r=n)}),i.language&&(r.second_best=i),r}function f(e){return D.tabReplace||D.useBR?e.replace(A,function(e,t){return D.useBR&&"\n"===e?"<br>":D.tabReplace?t.replace(/\t/g,D.tabReplace):""}):e}function d(e){var t,n,i,s,u,c=function(e){var t,n,i,o,a=e.className+" ";if(a+=e.parentNode?e.parentNode.className:"",n=T.exec(a)){var s=g(n[1]);return s||(console.warn(C.replace("{}",n[1])),console.warn("Falling back to no-highlight mode for this block.",e)),s?n[1]:"no-highlight"}for(t=0,i=(a=a.split(/\s+/)).length;t<i;t++)if(r(o=a[t])||g(o))return o}(e);r(c)||(D.useBR?(t=document.createElement("div")).innerHTML=e.innerHTML.replace(/\n/g,"").replace(/<br[ \/]*>/g,"\n"):t=e,u=t.textContent,i=c?h(c,u,!0):p(u),(n=o(t)).length&&((s=document.createElement("div")).innerHTML=i.value,i.value=a(n,o(s),u)),i.value=f(i.value),e.innerHTML=i.value,e.className=function(e,t,n){var r=t?_[t]:n,i=[e.trim()];return e.match(/\bhljs\b/)||i.push("hljs"),-1===e.indexOf(r)&&i.push(r),i.join(" ").trim()}(e.className,c,i.language),e.result={language:i.language,re:i.relevance},i.second_best&&(e.second_best={language:i.second_best.language,re:i.second_best.relevance}))}function m(){if(!m.called){m.called=!0;var e=document.querySelectorAll("pre code");x.forEach.call(e,d)}}function g(e){return e=(e||"").toLowerCase(),w[e]||w[_[e]]}function v(e){var t=g(e);return t&&!t.disableAutodetect}var y,x=[],b=Object.keys,w={},_={},E=!0,S=/^(no-?highlight|plain|text)$/i,T=/\blang(?:uage)?-([\w-]+)\b/i,A=/((^(<[^>]+>|\t|)+|(?:\n)))/gm,M="</span>",C="Could not find the language '{}', did you forget to load/include a language module?",D={classPrefix:"hljs-",tabReplace:null,useBR:!1,languages:void 0},L=["of","and","for","in","not","or","if","then"],P={disableAutodetect:!0};return e.highlight=h,e.highlightAuto=p,e.fixMarkup=f,e.highlightBlock=d,e.configure=function(e){D=i(D,e)},e.initHighlighting=m,e.initHighlightingOnLoad=function(){window.addEventListener("DOMContentLoaded",m,!1),window.addEventListener("load",m,!1)},e.registerLanguage=function(t,n){var r;try{r=n(e)}catch(e){if(console.error("Language definition for '{}' could not be registered.".replace("{}",t)),!E)throw e;console.error(e),r=P}w[t]=r,u(r),r.rawDefinition=n.bind(null,e),r.aliases&&r.aliases.forEach(function(e){_[e]=t})},e.listLanguages=function(){return b(w)},e.getLanguage=g,e.requireLanguage=function(e){var t=g(e);if(t)return t;throw new Error("The '{}' language is required, but not loaded.".replace("{}",e))},e.autoDetection=v,e.inherit=i,e.debugMode=function(){E=!1},e.IDENT_RE="[a-zA-Z]\\w*",e.UNDERSCORE_IDENT_RE="[a-zA-Z_]\\w*",e.NUMBER_RE="\\b\\d+(\\.\\d+)?",e.C_NUMBER_RE="(-?)(\\b0[xX][a-fA-F0-9]+|(\\b\\d+(\\.\\d*)?|\\.\\d+)([eE][-+]?\\d+)?)",e.BINARY_NUMBER_RE="\\b(0b[01]+)",e.RE_STARTERS_RE="!|!=|!==|%|%=|&|&&|&=|\\*|\\*=|\\+|\\+=|,|-|-=|/=|/|:|;|<<|<<=|<=|<|===|==|=|>>>=|>>=|>=|>>>|>>|>|\\?|\\[|\\{|\\(|\\^|\\^=|\\||\\|=|\\|\\||~",e.BACKSLASH_ESCAPE={begin:"\\\\[\\s\\S]",relevance:0},e.APOS_STRING_MODE={className:"string",begin:"'",end:"'",illegal:"\\n",contains:[e.BACKSLASH_ESCAPE]},e.QUOTE_STRING_MODE={className:"string",begin:'"',end:'"',illegal:"\\n",contains:[e.BACKSLASH_ESCAPE]},e.PHRASAL_WORDS_MODE={begin:/\b(a|an|the|are|I'm|isn't|don't|doesn't|won't|but|just|should|pretty|simply|enough|gonna|going|wtf|so|such|will|you|your|they|like|more)\b/},e.COMMENT=function(t,n,r){var i=e.inherit({className:"comment",begin:t,end:n,contains:[]},r||{});return i.contains.push(e.PHRASAL_WORDS_MODE),i.contains.push({className:"doctag",begin:"(?:TODO|FIXME|NOTE|BUG|XXX):",relevance:0}),i},e.C_LINE_COMMENT_MODE=e.COMMENT("//","$"),e.C_BLOCK_COMMENT_MODE=e.COMMENT("/\\*","\\*/"),e.HASH_COMMENT_MODE=e.COMMENT("#","$"),e.NUMBER_MODE={className:"number",begin:e.NUMBER_RE,relevance:0},e.C_NUMBER_MODE={className:"number",begin:e.C_NUMBER_RE,relevance:0},e.BINARY_NUMBER_MODE={className:"number",begin:e.BINARY_NUMBER_RE,relevance:0},e.CSS_NUMBER_MODE={className:"number",begin:e.NUMBER_RE+"(%|em|ex|ch|rem|vw|vh|vmin|vmax|cm|mm|in|pt|pc|px|deg|grad|rad|turn|s|ms|Hz|kHz|dpi|dpcm|dppx)?",relevance:0},e.REGEXP_MODE={className:"regexp",begin:/\//,end:/\/[gimuy]*/,illegal:/\n/,contains:[e.BACKSLASH_ESCAPE,{begin:/\[/,end:/\]/,relevance:0,contains:[e.BACKSLASH_ESCAPE]}]},e.TITLE_MODE={className:"title",begin:e.IDENT_RE,relevance:0},e.UNDERSCORE_TITLE_MODE={className:"title",begin:e.UNDERSCORE_IDENT_RE,relevance:0},e.METHOD_GUARD={begin:"\\.\\s*"+e.UNDERSCORE_IDENT_RE,relevance:0},[e.BACKSLASH_ESCAPE,e.APOS_STRING_MODE,e.QUOTE_STRING_MODE,e.PHRASAL_WORDS_MODE,e.COMMENT,e.C_LINE_COMMENT_MODE,e.C_BLOCK_COMMENT_MODE,e.HASH_COMMENT_MODE,e.NUMBER_MODE,e.C_NUMBER_MODE,e.BINARY_NUMBER_MODE,e.CSS_NUMBER_MODE,e.REGEXP_MODE,e.TITLE_MODE,e.UNDERSCORE_TITLE_MODE,e.METHOD_GUARD].forEach(function(e){!function e(t){return Object.freeze(t),Object.getOwnPropertyNames(t).forEach(function(n){!t.hasOwnProperty(n)||null===t[n]||"object"!=typeof t[n]&&"function"!=typeof t[n]||"function"==typeof t&&("caller"===n||"callee"===n||"arguments"===n)||Object.isFrozen(t[n])||e(t[n])}),t}(e)}),e},i="object"==typeof window&&window||"object"==typeof self&&self,t.nodeType?i&&(i.hljs=r({}),void 0===(n=function(){return i.hljs}.apply(t,[]))||(e.exports=n)):r(t)},pyaG:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n("Womt"),i=n("DwK1"),o={fftSize:2048,fftSmoothingTimeConstant:.8};t.default=class{constructor(e){this.isPlaying=!1,this.isEnabled=!1,this.input=null,this.willPlay=null;const t=Object.assign({},o,e);this.ctx=i.getCtx(),this.gain=this.ctx.createGain(),this.analyser=this.ctx.createAnalyser(),this.analyser.connect(this.gain),this.gain.gain.setValueAtTime(0,this.ctx.currentTime),this.gain.connect(this.ctx.destination),this.analyser.fftSize=t.fftSize,this.analyser.smoothingTimeConstant=t.fftSmoothingTimeConstant,this.spectrumArray=new Uint8Array(this.analyser.frequencyBinCount),this.samplesArray=new Uint8Array(this.analyser.frequencyBinCount),this.spectrum=new r.DataTexture(this.spectrumArray,this.analyser.frequencyBinCount,1,r.LuminanceFormat,r.UnsignedByteType),this.samples=new r.DataTexture(this.samplesArray,this.analyser.frequencyBinCount,1,r.LuminanceFormat,r.UnsignedByteType)}enable(){this.willPlay=new Promise((e,t)=>{navigator.mediaDevices.getUserMedia({audio:!0}).then(t=>{this.stream=t,this.input=this.ctx.createMediaStreamSource(t),this.input.connect(this.analyser),this.isEnabled=!0,e()},e=>{console.error(e),t()})})}disable(){this.isEnabled&&this.willPlay&&this.willPlay.then(()=>{this.isEnabled=!1,this.input&&this.input.disconnect(),this.stream.getTracks().forEach(e=>e.stop())})}update(){this.analyser.getByteFrequencyData(this.spectrumArray),this.analyser.getByteTimeDomainData(this.samplesArray),this.spectrum.needsUpdate=!0,this.samples.needsUpdate=!0}getVolume(){let e=0;return this.samplesArray.forEach(t=>{e+=Math.pow(t/128-1,2)}),Math.sqrt(e/this.samplesArray.length)}setFftSize(e){this.analyser.fftSize=e,this.spectrumArray=new Uint8Array(this.analyser.frequencyBinCount),this.samplesArray=new Uint8Array(this.analyser.frequencyBinCount),this.spectrum.image.data=this.spectrumArray,this.spectrum.image.width=this.analyser.frequencyBinCount,this.samples.image.data=this.samplesArray,this.samples.image.width=this.analyser.frequencyBinCount}setFftSmoothingTimeConstant(e){this.analyser.smoothingTimeConstant=e}}},pzZA:function(e,t,n){"use strict";var r=n("hyoZ"),i=Object.prototype.hasOwnProperty;e.exports=new r("tag:yaml.org,2002:set",{kind:"mapping",resolve:function(e){if(null===e)return!0;var t,n=e;for(t in n)if(i.call(n,t)&&null!==n[t])return!1;return!0},construct:function(e){return null===e?{}:e}})},q1tI:function(e,t,n){"use strict";e.exports=n("viRO")},q6LJ:function(e,t,n){var r=n("5T2Y"),i=n("QXhf").set,o=r.MutationObserver||r.WebKitMutationObserver,a=r.process,s=r.Promise,u="process"==n("a0xu")(a);e.exports=function(){var e,t,n,c=function(){var r,i;for(u&&(r=a.domain)&&r.exit();e;){i=e.fn,e=e.next;try{i()}catch(i){throw e?n():t=void 0,i}}t=void 0,r&&r.enter()};if(u)n=function(){a.nextTick(c)};else if(!o||r.navigator&&r.navigator.standalone)if(s&&s.resolve){var l=s.resolve(void 0);n=function(){l.then(c)}}else n=function(){i.call(r,c)};else{var h=!0,p=document.createTextNode("");new o(c).observe(p,{characterData:!0}),n=function(){p.data=h=!h}}return function(r){var i={fn:r,next:void 0};t&&(t.next=i),e||(e=i,n()),t=i}}},qGU3:function(e){function t(e){this.data=e,this.pos=0}t.prototype.readByte=function(){return this.data[this.pos++]},t.prototype.peekByte=function(){return this.data[this.pos]},t.prototype.readBytes=function(e){return this.data.subarray(this.pos,this.pos+=e)},t.prototype.peekBytes=function(e){return this.data.subarray(this.pos,this.pos+e)},t.prototype.readString=function(e){for(var t="",n=0;n<e;n++)t+=String.fromCharCode(this.readByte());return t},t.prototype.readBitArray=function(){for(var e=[],t=this.readByte(),n=7;0<=n;n--)e.push(!!(t&1<<n));return e},t.prototype.readUnsigned=function(e){var t=this.readBytes(2);return e?(t[1]<<8)+t[0]:(t[0]<<8)+t[1]},e.exports=t},qT12:function(e,t){"use strict";function n(e){if("object"==typeof e&&null!==e){var t=e.$$typeof;switch(t){case o:switch(e=e.type){case p:case f:case s:case c:case u:case m:return e;default:switch(e=e&&e.$$typeof){case h:case d:case y:case v:case l:return e;default:return t}}case a:return t}}}function r(e){return n(e)===f}var i="function"==typeof Symbol&&Symbol.for,o=i?Symbol.for("react.element"):60103,a=i?Symbol.for("react.portal"):60106,s=i?Symbol.for("react.fragment"):60107,u=i?Symbol.for("react.strict_mode"):60108,c=i?Symbol.for("react.profiler"):60114,l=i?Symbol.for("react.provider"):60109,h=i?Symbol.for("react.context"):60110,p=i?Symbol.for("react.async_mode"):60111,f=i?Symbol.for("react.concurrent_mode"):60111,d=i?Symbol.for("react.forward_ref"):60112,m=i?Symbol.for("react.suspense"):60113,g=i?Symbol.for("react.suspense_list"):60120,v=i?Symbol.for("react.memo"):60115,y=i?Symbol.for("react.lazy"):60116,x=i?Symbol.for("react.block"):60121,b=i?Symbol.for("react.fundamental"):60117,w=i?Symbol.for("react.responder"):60118,_=i?Symbol.for("react.scope"):60119;t.AsyncMode=p,t.ConcurrentMode=f,t.ContextConsumer=h,t.ContextProvider=l,t.Element=o,t.ForwardRef=d,t.Fragment=s,t.Lazy=y,t.Memo=v,t.Portal=a,t.Profiler=c,t.StrictMode=u,t.Suspense=m,t.isAsyncMode=function(e){return r(e)||n(e)===p},t.isConcurrentMode=r,t.isContextConsumer=function(e){return n(e)===h},t.isContextProvider=function(e){return n(e)===l},t.isElement=function(e){return"object"==typeof e&&null!==e&&e.$$typeof===o},t.isForwardRef=function(e){return n(e)===d},t.isFragment=function(e){return n(e)===s},t.isLazy=function(e){return n(e)===y},t.isMemo=function(e){return n(e)===v},t.isPortal=function(e){return n(e)===a},t.isProfiler=function(e){return n(e)===c},t.isStrictMode=function(e){return n(e)===u},t.isSuspense=function(e){return n(e)===m},t.isValidElementType=function(e){return"string"==typeof e||"function"==typeof e||e===s||e===f||e===c||e===u||e===m||e===g||"object"==typeof e&&null!==e&&(e.$$typeof===y||e.$$typeof===v||e.$$typeof===l||e.$$typeof===h||e.$$typeof===d||e.$$typeof===b||e.$$typeof===w||e.$$typeof===_||e.$$typeof===x)},t.typeOf=n},qijr:function(e,t,n){n("czwh"),e.exports=n("WEpk").Reflect.construct},rUJ1:function(e){function t(e){return e.replace(h,(e,t)=>(t=t.toLowerCase(),"colon"===t?":":"#"===t.charAt(0)?"x"===t.charAt(1)?i(parseInt(t.substring(2),16)):i(+t.substring(1)):""))}function n(e,t){m[" "+e]||(g.test(e)?m[" "+e]=e+"/":m[" "+e]=r(e,"/",!0));const n=-1===(e=m[" "+e]).indexOf(":");return"//"===t.substring(0,2)?n?t:e.replace(v,"$1")+t:"/"===t.charAt(0)?n?t:e.replace(y,"$1")+t:e+t}function r(e,t,n){const r=e.length;if(0===r)return"";let i=0;for(;i<r;){const o=e.charAt(r-i-1);if(o!==t||n){if(o===t||!n)break;i++}else i++}return e.substr(0,r-i)}var i=String.fromCharCode;const o=/[&<>"']/,a=/[&<>"']/g,s=/[<>"']|&(?!#?\w+;)/,u=/[<>"']|&(?!#?\w+;)/g,c={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},l=e=>c[e],h=/&(#(?:\d+)|(?:#x[0-9A-Fa-f]+)|(?:\w+));?/gi,p=/(^|[^\[])\^/g,f=/[^\w:]/g,d=/^$|^[a-z][a-z0-9+.-]*:|^[?#]/i,m={},g=/^[^:]+:\/*[^/]*$/,v=/^([^:]+:)[\s\S]*$/,y=/^([^:]+:\/*[^/]*)[\s\S]*$/;e.exports={escape:function(e,t){if(t){if(o.test(e))return e.replace(a,l)}else if(s.test(e))return e.replace(u,l);return e},unescape:t,edit:function(e,t){e=e.source||e,t=t||"";const n={replace:(t,r)=>(r=r.source||r,r=r.replace(p,"$1"),e=e.replace(t,r),n),getRegex:()=>new RegExp(e,t)};return n},cleanUrl:function(e,r,i){if(e){let e;try{e=decodeURIComponent(t(i)).replace(f,"").toLowerCase()}catch(t){return null}if(0===e.indexOf("javascript:")||0===e.indexOf("vbscript:")||0===e.indexOf("data:"))return null}r&&!d.test(i)&&(i=n(r,i));try{i=encodeURI(i).replace(/%25/g,"%")}catch(t){return null}return i},resolveUrl:n,noopTest:{exec:function(){}},merge:function(e){for(let t,n,r=1;r<arguments.length;r++)for(n in t=arguments[r])Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e},splitCells:function(e,t){const n=e.replace(/\|/g,(e,t,n)=>{let r=!1,i=t;for(;0<=--i&&"\\"===n[i];)r=!r;return r?"|":" |"}).split(/ \|/);let r=0;if(n.length>t)n.splice(t);else for(;n.length<t;)n.push("");for(;r<n.length;r++)n[r]=n[r].trim().replace(/\\\|/g,"|");return n},rtrim:r,findClosingBracket:function(e,t){if(-1===e.indexOf(t[1]))return-1;const n=e.length;for(let r=0,i=0;i<n;i++)if("\\"===e[i])i++;else if(e[i]===t[0])r++;else if(e[i]===t[1]&&0>--r)return i;return-1},checkSanitizeDeprecation:function(e){e&&e.sanitize&&!e.silent&&console.warn("marked(): sanitize and sanitizer parameters are deprecated since version 0.7.0, should not be used and will be removed in the future. Read more here: https://marked.js.org/#/USING_ADVANCED.md#options")}}},rr1i:function(e){e.exports=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}},s4NR:function(e,t,n){"use strict";t.decode=t.parse=n("kd2E"),t.encode=t.stringify=n("4JlD")},sLSF:function(e,t,n){"use strict";function r(e,t){for(var n,r=0;r<t.length;r++)(n=t[r]).enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),a()(e,n.key,n)}function i(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),e}n.d(t,"a",function(){return i});var o=n("hfKm"),a=n.n(o)},sNwI:function(e,t,n){var r=n("5K7Z");e.exports=function(e,t,n,i){try{return i?t(r(n)[0],n[1]):t(n)}catch(n){var o=e.return;throw void 0!==o&&r(o.call(e)),n}}},spQ0:function(e,t,n){"use strict";var r=n("hyoZ");e.exports=new r("tag:yaml.org,2002:merge",{kind:"scalar",resolve:function(e){return"<<"===e||null===e}})},tEej:function(e,t,n){var r=n("Ojgd"),i=Math.min;e.exports=function(e){return 0<e?i(r(e),9007199254740991):0}},tN50:function(e,t,n){"use strict";function r(e,t,n,r,i){this.name=e,this.buffer=t,this.position=n,this.line=r,this.column=i}var i=n("Y2Yi");r.prototype.getSnippet=function(e,t){var n,r,o,a,s;if(!this.buffer)return null;for(e=e||4,t=t||75,n="",r=this.position;0<r&&-1==="\0\r\n\u2028\u2029".indexOf(this.buffer.charAt(r-1));)if(r-=1,this.position-r>t/2-1){n=" ... ",r+=5;break}for(o="",a=this.position;a<this.buffer.length&&-1==="\0\r\n\u2028\u2029".indexOf(this.buffer.charAt(a));)if((a+=1)-this.position>t/2-1){o=" ... ",a-=5;break}return s=this.buffer.slice(r,a),i.repeat(" ",e)+n+s+o+"\n"+i.repeat(" ",e+this.position-r+n.length)+"^"},r.prototype.toString=function(e){var t,n="";return this.name&&(n+='in "'+this.name+'" '),n+="at line "+(this.line+1)+", column "+(this.column+1),e||(t=this.getSnippet())&&(n+=":\n"+t),n},e.exports=r},tjlA:function(e,t,n){"use strict";var r=Math.pow,i=Math.min,o=Math.floor,a=String.fromCharCode;(function(e){function s(){return c.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function u(e,t){if(s()<t)throw new RangeError("Invalid typed array length");return c.TYPED_ARRAY_SUPPORT?(e=new Uint8Array(t)).__proto__=c.prototype:(null===e&&(e=new c(t)),e.length=t),e}function c(e,t,n){if(!(c.TYPED_ARRAY_SUPPORT||this instanceof c))return new c(e,t,n);if("number"==typeof e){if("string"==typeof t)throw new Error("If encoding is specified then the first argument must be a string");return p(this,e)}return l(this,e,t,n)}function l(e,t,n,r){if("number"==typeof t)throw new TypeError('"value" argument must not be a number');return"undefined"!=typeof ArrayBuffer&&t instanceof ArrayBuffer?function(e,t,n,r){if(t.byteLength,0>n||t.byteLength<n)throw new RangeError("'offset' is out of bounds");if(t.byteLength<n+(r||0))throw new RangeError("'length' is out of bounds");return t=void 0===n&&void 0===r?new Uint8Array(t):void 0===r?new Uint8Array(t,n):new Uint8Array(t,n,r),c.TYPED_ARRAY_SUPPORT?(e=t).__proto__=c.prototype:e=f(e,t),e}(e,t,n,r):"string"==typeof t?function(e,t,n){if(("string"!=typeof n||""===n)&&(n="utf8"),!c.isEncoding(n))throw new TypeError('"encoding" must be a valid string encoding');var r=0|m(t,n),i=(e=u(e,r)).write(t,n);return i!==r&&(e=e.slice(0,i)),e}(e,t,n):function(e,t){if(c.isBuffer(t)){var n=0|d(t.length);return 0===(e=u(e,n)).length?e:(t.copy(e,0,0,n),e)}if(t){if("undefined"!=typeof ArrayBuffer&&t.buffer instanceof ArrayBuffer||"length"in t)return"number"!=typeof t.length||function(e){return e!=e}(t.length)?u(e,0):f(e,t);if("Buffer"===t.type&&W(t.data))return f(e,t.data)}throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}(e,t)}function h(e){if("number"!=typeof e)throw new TypeError('"size" argument must be a number');if(0>e)throw new RangeError('"size" argument must not be negative')}function p(e,t){if(h(t),e=u(e,0>t?0:0|d(t)),!c.TYPED_ARRAY_SUPPORT)for(var n=0;n<t;++n)e[n]=0;return e}function f(e,t){var n=0>t.length?0:0|d(t.length);e=u(e,n);for(var r=0;r<n;r+=1)e[r]=255&t[r];return e}function d(e){if(e>=s())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+s().toString(16)+" bytes");return 0|e}function m(e,t){if(c.isBuffer(e))return e.length;if("undefined"!=typeof ArrayBuffer&&"function"==typeof ArrayBuffer.isView&&(ArrayBuffer.isView(e)||e instanceof ArrayBuffer))return e.byteLength;"string"!=typeof e&&(e=""+e);var n=e.length;if(0===n)return 0;for(var r=!1;;)switch(t){case"ascii":case"latin1":case"binary":return n;case"utf8":case"utf-8":case void 0:return z(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*n;case"hex":return n>>>1;case"base64":return j(e).length;default:if(r)return z(e).length;t=(""+t).toLowerCase(),r=!0}}function g(e,t,n){var r=e[t];e[t]=e[n],e[n]=r}function v(e,t,n,r,i){if(0===e.length)return-1;if("string"==typeof n?(r=n,n=0):2147483647<n?n=2147483647:-2147483648>n&&(n=-2147483648),n=+n,isNaN(n)&&(n=i?0:e.length-1),0>n&&(n=e.length+n),n>=e.length){if(i)return-1;n=e.length-1}else if(0>n){if(!i)return-1;n=0}if("string"==typeof t&&(t=c.from(t,r)),c.isBuffer(t))return 0===t.length?-1:y(e,t,n,r,i);if("number"==typeof t)return t&=255,c.TYPED_ARRAY_SUPPORT&&"function"==typeof Uint8Array.prototype.indexOf?i?Uint8Array.prototype.indexOf.call(e,t,n):Uint8Array.prototype.lastIndexOf.call(e,t,n):y(e,[t],n,r,i);throw new TypeError("val must be string, number or Buffer")}function y(e,t,n,r,i){function o(e,t){return 1===s?e[t]:e.readUInt16BE(t*s)}var a,s=1,u=e.length,c=t.length;if(void 0!==r&&("ucs2"===(r=(r+"").toLowerCase())||"ucs-2"===r||"utf16le"===r||"utf-16le"===r)){if(2>e.length||2>t.length)return-1;s=2,u/=2,c/=2,n/=2}if(i){var l=-1;for(a=n;a<u;a++)if(o(e,a)!==o(t,-1==l?0:a-l))-1!=l&&(a-=a-l),l=-1;else if(-1==l&&(l=a),a-l+1===c)return l*s}else for(n+c>u&&(n=u-c),a=n;0<=a;a--){for(var h=!0,p=0;p<c;p++)if(o(e,a+p)!==o(t,p)){h=!1;break}if(h)return a}return-1}function x(e,t,n,r){n=+n||0;var i=e.length-n;r?(r=+r)>i&&(r=i):r=i;var o=t.length;if(0!=o%2)throw new TypeError("Invalid hex string");r>o/2&&(r=o/2);for(var a,s=0;s<r;++s){if(a=parseInt(t.substr(2*s,2),16),isNaN(a))return s;e[n+s]=a}return s}function b(e,t,n,r){return G(z(t,e.length-n),e,n,r)}function w(e,t,n,r){return G(function(e){for(var t=[],n=0;n<e.length;++n)t.push(255&e.charCodeAt(n));return t}(t),e,n,r)}function _(e,t,n,r){return w(e,t,n,r)}function E(e,t,n,r){return G(j(t),e,n,r)}function S(e,t,n,r){return G(function(e,t){for(var n,r,i,o=[],a=0;a<e.length&&!(0>(t-=2));++a)n=e.charCodeAt(a),r=n>>8,i=n%256,o.push(i),o.push(r);return o}(t,e.length-n),e,n,r)}function T(e,t,n){return 0===t&&n===e.length?H.fromByteArray(e):H.fromByteArray(e.slice(t,n))}function A(e,t,n){n=i(e.length,n);for(var r=[],o=t;o<n;){var a,s,u,c,l=e[o],h=null,p=239<l?4:223<l?3:191<l?2:1;if(o+p<=n)1==p?128>l&&(h=l):2==p?128==(192&(a=e[o+1]))&&(127<(c=(31&l)<<6|63&a)&&(h=c)):3==p?(a=e[o+1],s=e[o+2],128==(192&a)&&128==(192&s)&&(2047<(c=(15&l)<<12|(63&a)<<6|63&s)&&(55296>c||57343<c)&&(h=c))):4==p&&(a=e[o+1],s=e[o+2],u=e[o+3],128==(192&a)&&128==(192&s)&&128==(192&u)&&(65535<(c=(15&l)<<18|(63&a)<<12|(63&s)<<6|63&u)&&1114112>c&&(h=c)));null===h?(h=65533,p=1):65535<h&&(h-=65536,r.push(55296|1023&h>>>10),h=56320|1023&h),r.push(h),o+=p}return M(r)}function M(e){var t=e.length;if(t<=X)return a.apply(String,e);for(var n="",r=0;r<t;)n+=a.apply(String,e.slice(r,r+=X));return n}function C(e,t,n){var r="";n=i(e.length,n);for(var o=t;o<n;++o)r+=a(127&e[o]);return r}function D(e,t,n){var r="";n=i(e.length,n);for(var o=t;o<n;++o)r+=a(e[o]);return r}function L(e,t,n){var r=e.length;(!t||0>t)&&(t=0),(!n||0>n||n>r)&&(n=r);for(var i="",o=t;o<n;++o)i+=U(e[o]);return i}function P(e,t,n){for(var r=e.slice(t,n),i="",o=0;o<r.length;o+=2)i+=a(r[o]+256*r[o+1]);return i}function R(e,t,n){if(0!=e%1||0>e)throw new RangeError("offset is not uint");if(e+t>n)throw new RangeError("Trying to access beyond buffer length")}function O(e,t,n,r,i,o){if(!c.isBuffer(e))throw new TypeError('"buffer" argument must be a Buffer instance');if(t>i||t<o)throw new RangeError('"value" argument is out of bounds');if(n+r>e.length)throw new RangeError("Index out of range")}function I(e,t,n,r){0>t&&(t=65535+t+1);for(var o=0,a=i(e.length-n,2);o<a;++o)e[n+o]=(t&255<<8*(r?o:1-o))>>>8*(r?o:1-o)}function k(e,t,n,r){0>t&&(t=4294967295+t+1);for(var o=0,a=i(e.length-n,4);o<a;++o)e[n+o]=255&t>>>8*(r?o:3-o)}function N(e,t,n,r){if(n+r>e.length)throw new RangeError("Index out of range");if(0>n)throw new RangeError("Index out of range")}function F(e,t,n,r,i){return i||N(e,0,n,4),V.write(e,t,n,r,23,4),n+4}function B(e,t,n,r,i){return i||N(e,0,n,8),V.write(e,t,n,r,52,8),n+8}function U(e){return 16>e?"0"+e.toString(16):e.toString(16)}function z(e,t){t=t||1/0;for(var n,r=e.length,i=null,o=[],a=0;a<r;++a){if(55295<(n=e.charCodeAt(a))&&57344>n){if(!i){if(56319<n){-1<(t-=3)&&o.push(239,191,189);continue}if(a+1===r){-1<(t-=3)&&o.push(239,191,189);continue}i=n;continue}if(56320>n){-1<(t-=3)&&o.push(239,191,189),i=n;continue}n=65536+(i-55296<<10|n-56320)}else i&&-1<(t-=3)&&o.push(239,191,189);if(i=null,128>n){if(0>(t-=1))break;o.push(n)}else if(2048>n){if(0>(t-=2))break;o.push(192|n>>6,128|63&n)}else if(65536>n){if(0>(t-=3))break;o.push(224|n>>12,128|63&n>>6,128|63&n)}else{if(!(1114112>n))throw new Error("Invalid code point");if(0>(t-=4))break;o.push(240|n>>18,128|63&n>>12,128|63&n>>6,128|63&n)}}return o}function j(e){return H.toByteArray(function(e){if(2>(e=function(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")}(e).replace(q,"")).length)return"";for(;0!=e.length%4;)e+="=";return e}(e))}function G(e,t,n,r){for(var i=0;i<r&&!(i+n>=t.length||i>=e.length);++i)t[i+n]=e[i];return i}var H=n("H7XF"),V=n("kVK+"),W=n("49sm");t.Buffer=c,t.SlowBuffer=function(e){return+e!=e&&(e=0),c.alloc(+e)},t.INSPECT_MAX_BYTES=50,c.TYPED_ARRAY_SUPPORT=void 0===e.TYPED_ARRAY_SUPPORT?function(){try{var e=new Uint8Array(1);return e.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===e.foo()&&"function"==typeof e.subarray&&0===e.subarray(1,1).byteLength}catch(t){return!1}}():e.TYPED_ARRAY_SUPPORT,t.kMaxLength=s(),c.poolSize=8192,c._augment=function(e){return e.__proto__=c.prototype,e},c.from=function(e,t,n){return l(null,e,t,n)},c.TYPED_ARRAY_SUPPORT&&(c.prototype.__proto__=Uint8Array.prototype,c.__proto__=Uint8Array,"undefined"!=typeof Symbol&&Symbol.species&&c[Symbol.species]===c&&Object.defineProperty(c,Symbol.species,{value:null,configurable:!0})),c.alloc=function(e,t,n){return function(e,t,n,r){return h(t),0>=t?u(e,t):void 0===n?u(e,t):"string"==typeof r?u(e,t).fill(n,r):u(e,t).fill(n)}(null,e,t,n)},c.allocUnsafe=function(e){return p(null,e)},c.allocUnsafeSlow=function(e){return p(null,e)},c.isBuffer=function(e){return!(null==e||!e._isBuffer)},c.compare=function(e,t){if(!c.isBuffer(e)||!c.isBuffer(t))throw new TypeError("Arguments must be Buffers");if(e===t)return 0;for(var n=e.length,r=t.length,o=0,a=i(n,r);o<a;++o)if(e[o]!==t[o]){n=e[o],r=t[o];break}return n<r?-1:r<n?1:0},c.isEncoding=function(e){switch((e+"").toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},c.concat=function(e,t){if(!W(e))throw new TypeError('"list" argument must be an Array of Buffers');if(0===e.length)return c.alloc(0);var n;if(void 0===t)for(t=0,n=0;n<e.length;++n)t+=e[n].length;var r=c.allocUnsafe(t),i=0;for(n=0;n<e.length;++n){var o=e[n];if(!c.isBuffer(o))throw new TypeError('"list" argument must be an Array of Buffers');o.copy(r,i),i+=o.length}return r},c.byteLength=m,c.prototype._isBuffer=!0,c.prototype.swap16=function(){var e=this.length;if(0!=e%2)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var t=0;t<e;t+=2)g(this,t,t+1);return this},c.prototype.swap32=function(){var e=this.length;if(0!=e%4)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var t=0;t<e;t+=4)g(this,t,t+3),g(this,t+1,t+2);return this},c.prototype.swap64=function(){var e=this.length;if(0!=e%8)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var t=0;t<e;t+=8)g(this,t,t+7),g(this,t+1,t+6),g(this,t+2,t+5),g(this,t+3,t+4);return this},c.prototype.toString=function(){var e=0|this.length;return 0==e?"":0===arguments.length?A(this,0,e):function(e,t,n){var r=!1;if((void 0===t||0>t)&&(t=0),t>this.length)return"";if((void 0===n||n>this.length)&&(n=this.length),0>=n)return"";if((n>>>=0)<=(t>>>=0))return"";for(e||(e="utf8");;)switch(e){case"hex":return L(this,t,n);case"utf8":case"utf-8":return A(this,t,n);case"ascii":return C(this,t,n);case"latin1":case"binary":return D(this,t,n);case"base64":return T(this,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return P(this,t,n);default:if(r)throw new TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),r=!0}}.apply(this,arguments)},c.prototype.equals=function(e){if(!c.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e||0===c.compare(this,e)},c.prototype.inspect=function(){var e="",n=t.INSPECT_MAX_BYTES;return 0<this.length&&(e=this.toString("hex",0,n).match(/.{2}/g).join(" "),this.length>n&&(e+=" ... ")),"<Buffer "+e+">"},c.prototype.compare=function(e,t,n,r,o){if(!c.isBuffer(e))throw new TypeError("Argument must be a Buffer");if(void 0===t&&(t=0),void 0===n&&(n=e?e.length:0),void 0===r&&(r=0),void 0===o&&(o=this.length),0>t||n>e.length||0>r||o>this.length)throw new RangeError("out of range index");if(r>=o&&t>=n)return 0;if(r>=o)return-1;if(t>=n)return 1;if(this===e)return 0;for(var a=(o>>>=0)-(r>>>=0),s=(n>>>=0)-(t>>>=0),u=i(a,s),l=this.slice(r,o),h=e.slice(t,n),p=0;p<u;++p)if(l[p]!==h[p]){a=l[p],s=h[p];break}return a<s?-1:s<a?1:0},c.prototype.includes=function(e,t,n){return-1!==this.indexOf(e,t,n)},c.prototype.indexOf=function(e,t,n){return v(this,e,t,n,!0)},c.prototype.lastIndexOf=function(e,t,n){return v(this,e,t,n,!1)},c.prototype.write=function(e,t,n,r){if(void 0===t)r="utf8",n=this.length,t=0;else if(void 0===n&&"string"==typeof t)r=t,n=this.length,t=0;else{if(!isFinite(t))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");t|=0,isFinite(n)?(n|=0,void 0===r&&(r="utf8")):(r=n,n=void 0)}var i=this.length-t;if((void 0===n||n>i)&&(n=i),0<e.length&&(0>n||0>t)||t>this.length)throw new RangeError("Attempt to write outside buffer bounds");r||(r="utf8");for(var o=!1;;)switch(r){case"hex":return x(this,e,t,n);case"utf8":case"utf-8":return b(this,e,t,n);case"ascii":return w(this,e,t,n);case"latin1":case"binary":return _(this,e,t,n);case"base64":return E(this,e,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return S(this,e,t,n);default:if(o)throw new TypeError("Unknown encoding: "+r);r=(""+r).toLowerCase(),o=!0}},c.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var X=4096;c.prototype.slice=function(e,t){var n,r=this.length;if(0>(e=~~e)?0>(e+=r)&&(e=0):e>r&&(e=r),0>(t=void 0===t?r:~~t)?0>(t+=r)&&(t=0):t>r&&(t=r),t<e&&(t=e),c.TYPED_ARRAY_SUPPORT)(n=this.subarray(e,t)).__proto__=c.prototype;else{var i=t-e;n=new c(i,void 0);for(var o=0;o<i;++o)n[o]=this[o+e]}return n},c.prototype.readUIntLE=function(e,t,n){e|=0,t|=0,n||R(e,t,this.length);for(var r=this[e],i=1,o=0;++o<t&&(i*=256);)r+=this[e+o]*i;return r},c.prototype.readUIntBE=function(e,t,n){e|=0,t|=0,n||R(e,t,this.length);for(var r=this[e+--t],i=1;0<t&&(i*=256);)r+=this[e+--t]*i;return r},c.prototype.readUInt8=function(e,t){return t||R(e,1,this.length),this[e]},c.prototype.readUInt16LE=function(e,t){return t||R(e,2,this.length),this[e]|this[e+1]<<8},c.prototype.readUInt16BE=function(e,t){return t||R(e,2,this.length),this[e]<<8|this[e+1]},c.prototype.readUInt32LE=function(e,t){return t||R(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+16777216*this[e+3]},c.prototype.readUInt32BE=function(e,t){return t||R(e,4,this.length),16777216*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},c.prototype.readIntLE=function(e,t,n){e|=0,t|=0,n||R(e,t,this.length);for(var i=this[e],o=1,a=0;++a<t&&(o*=256);)i+=this[e+a]*o;return i>=(o*=128)&&(i-=r(2,8*t)),i},c.prototype.readIntBE=function(e,t,n){e|=0,t|=0,n||R(e,t,this.length);for(var i=t,o=1,a=this[e+--i];0<i&&(o*=256);)a+=this[e+--i]*o;return a>=(o*=128)&&(a-=r(2,8*t)),a},c.prototype.readInt8=function(e,t){return t||R(e,1,this.length),128&this[e]?-1*(255-this[e]+1):this[e]},c.prototype.readInt16LE=function(e,t){t||R(e,2,this.length);var n=this[e]|this[e+1]<<8;return 32768&n?4294901760|n:n},c.prototype.readInt16BE=function(e,t){t||R(e,2,this.length);var n=this[e+1]|this[e]<<8;return 32768&n?4294901760|n:n},c.prototype.readInt32LE=function(e,t){return t||R(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},c.prototype.readInt32BE=function(e,t){return t||R(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},c.prototype.readFloatLE=function(e,t){return t||R(e,4,this.length),V.read(this,e,!0,23,4)},c.prototype.readFloatBE=function(e,t){return t||R(e,4,this.length),V.read(this,e,!1,23,4)},c.prototype.readDoubleLE=function(e,t){return t||R(e,8,this.length),V.read(this,e,!0,52,8)},c.prototype.readDoubleBE=function(e,t){return t||R(e,8,this.length),V.read(this,e,!1,52,8)},c.prototype.writeUIntLE=function(e,t,n,i){(e=+e,t|=0,n|=0,i)||O(this,e,t,n,r(2,8*n)-1,0);var o=1,a=0;for(this[t]=255&e;++a<n&&(o*=256);)this[t+a]=255&e/o;return t+n},c.prototype.writeUIntBE=function(e,t,n,i){(e=+e,t|=0,n|=0,i)||O(this,e,t,n,r(2,8*n)-1,0);var o=n-1,a=1;for(this[t+o]=255&e;0<=--o&&(a*=256);)this[t+o]=255&e/a;return t+n},c.prototype.writeUInt8=function(e,t,n){return e=+e,t|=0,n||O(this,e,t,1,255,0),c.TYPED_ARRAY_SUPPORT||(e=o(e)),this[t]=255&e,t+1},c.prototype.writeUInt16LE=function(e,t,n){return e=+e,t|=0,n||O(this,e,t,2,65535,0),c.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):I(this,e,t,!0),t+2},c.prototype.writeUInt16BE=function(e,t,n){return e=+e,t|=0,n||O(this,e,t,2,65535,0),c.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):I(this,e,t,!1),t+2},c.prototype.writeUInt32LE=function(e,t,n){return e=+e,t|=0,n||O(this,e,t,4,4294967295,0),c.TYPED_ARRAY_SUPPORT?(this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=255&e):k(this,e,t,!0),t+4},c.prototype.writeUInt32BE=function(e,t,n){return e=+e,t|=0,n||O(this,e,t,4,4294967295,0),c.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):k(this,e,t,!1),t+4},c.prototype.writeIntLE=function(e,t,n,i){if(e=+e,t|=0,!i){var o=r(2,8*n-1);O(this,e,t,n,o-1,-o)}var a=0,s=1,u=0;for(this[t]=255&e;++a<n&&(s*=256);)0>e&&0==u&&0!==this[t+a-1]&&(u=1),this[t+a]=255&(e/s>>0)-u;return t+n},c.prototype.writeIntBE=function(e,t,n,i){if(e=+e,t|=0,!i){var o=r(2,8*n-1);O(this,e,t,n,o-1,-o)}var a=n-1,s=1,u=0;for(this[t+a]=255&e;0<=--a&&(s*=256);)0>e&&0==u&&0!==this[t+a+1]&&(u=1),this[t+a]=255&(e/s>>0)-u;return t+n},c.prototype.writeInt8=function(e,t,n){return e=+e,t|=0,n||O(this,e,t,1,127,-128),c.TYPED_ARRAY_SUPPORT||(e=o(e)),0>e&&(e=255+e+1),this[t]=255&e,t+1},c.prototype.writeInt16LE=function(e,t,n){return e=+e,t|=0,n||O(this,e,t,2,32767,-32768),c.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):I(this,e,t,!0),t+2},c.prototype.writeInt16BE=function(e,t,n){return e=+e,t|=0,n||O(this,e,t,2,32767,-32768),c.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):I(this,e,t,!1),t+2},c.prototype.writeInt32LE=function(e,t,n){return e=+e,t|=0,n||O(this,e,t,4,2147483647,-2147483648),c.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24):k(this,e,t,!0),t+4},c.prototype.writeInt32BE=function(e,t,n){return e=+e,t|=0,n||O(this,e,t,4,2147483647,-2147483648),0>e&&(e=4294967295+e+1),c.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):k(this,e,t,!1),t+4},c.prototype.writeFloatLE=function(e,t,n){return F(this,e,t,!0,n)},c.prototype.writeFloatBE=function(e,t,n){return F(this,e,t,!1,n)},c.prototype.writeDoubleLE=function(e,t,n){return B(this,e,t,!0,n)},c.prototype.writeDoubleBE=function(e,t,n){return B(this,e,t,!1,n)},c.prototype.copy=function(e,t,n,r){if(n||(n=0),r||0===r||(r=this.length),t>=e.length&&(t=e.length),t||(t=0),0<r&&r<n&&(r=n),r===n)return 0;if(0===e.length||0===this.length)return 0;if(0>t)throw new RangeError("targetStart out of bounds");if(0>n||n>=this.length)throw new RangeError("sourceStart out of bounds");if(0>r)throw new RangeError("sourceEnd out of bounds");r>this.length&&(r=this.length),e.length-t<r-n&&(r=e.length-t+n);var i,o=r-n;if(this===e&&n<t&&t<r)for(i=o-1;0<=i;--i)e[i+t]=this[i+n];else if(1e3>o||!c.TYPED_ARRAY_SUPPORT)for(i=0;i<o;++i)e[i+t]=this[i+n];else Uint8Array.prototype.set.call(e,this.subarray(n,n+o),t);return o},c.prototype.fill=function(e,t,n,r){if("string"==typeof e){if("string"==typeof t?(r=t,t=0,n=this.length):"string"==typeof n&&(r=n,n=this.length),1===e.length){var i=e.charCodeAt(0);256>i&&(e=i)}if(void 0!==r&&"string"!=typeof r)throw new TypeError("encoding must be a string");if("string"==typeof r&&!c.isEncoding(r))throw new TypeError("Unknown encoding: "+r)}else"number"==typeof e&&(e&=255);if(0>t||this.length<t||this.length<n)throw new RangeError("Out of range index");if(n<=t)return this;var o;if(t>>>=0,n=void 0===n?this.length:n>>>0,e||(e=0),"number"==typeof e)for(o=t;o<n;++o)this[o]=e;else{var a=c.isBuffer(e)?e:z(new c(e,r).toString()),s=a.length;for(o=0;o<n-t;++o)this[o+t]=a[o%s]}return this};var q=/[^+\/0-9A-Za-z-_]/g}).call(this,n("yLpj"))},tvXG:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){if(!(e instanceof HTMLElement))return document.documentElement;for(var t="absolute"===e.style.position,n=/(scroll|auto)/,r=e;r;){if(!r.parentNode)return e.ownerDocument||document.documentElement;var i=window.getComputedStyle(r),o=i.position,a=i.overflow,s=i["overflow-x"],u=i["overflow-y"];if("static"===o&&t)r=r.parentNode;else{if(n.test(a)&&n.test(s)&&n.test(u))return r;r=r.parentNode}}return e.ownerDocument||e.documentElement||document.documentElement}},u938:function(e,t,n){var r=function(){return this||"object"==typeof self&&self}()||Function("return this")(),i=r.regeneratorRuntime&&0<=Object.getOwnPropertyNames(r).indexOf("regeneratorRuntime"),o=i&&r.regeneratorRuntime;if(r.regeneratorRuntime=void 0,e.exports=n("ls82"),i)r.regeneratorRuntime=o;else try{delete r.regeneratorRuntime}catch(t){r.regeneratorRuntime=void 0}},uOPS:function(e){e.exports=!0},uUxy:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,n){var r,i;return t||(t=250),function(){var o=n||this,a=+new Date,s=arguments;r&&a<r+t?(clearTimeout(i),i=setTimeout(function(){r=a,e.apply(o,s)},t)):(r=a,e.apply(o,s))}}},uifx:function(e,t,n){var r=Math.pow,i=n("W+7N"),o={label:"blocks",parser:function(e){for(var t=[],n=0,r=e.readByte();0!==r;r=e.readByte())t.push(e.readBytes(r)),n+=r;var i=new Uint8Array(n);n=0;for(var o=0;o<t.length;o++)i.set(t[o],n),n+=t[o].length;return i}},a={label:"gce",requires:function(e){var t=e.peekBytes(2);return 33===t[0]&&249===t[1]},parts:[{label:"codes",parser:i.readBytes(2),skip:!0},{label:"byteSize",parser:i.readByte()},{label:"extras",bits:{future:{index:0,length:3},disposal:{index:3,length:3},userInput:{index:6},transparentColorGiven:{index:7}}},{label:"delay",parser:i.readUnsigned(!0)},{label:"transparentColorIndex",parser:i.readByte()},{label:"terminator",parser:i.readByte(),skip:!0}]},s={label:"image",requires:function(e){return 44===e.peekByte()},parts:[{label:"code",parser:i.readByte(),skip:!0},{label:"descriptor",parts:[{label:"left",parser:i.readUnsigned(!0)},{label:"top",parser:i.readUnsigned(!0)},{label:"width",parser:i.readUnsigned(!0)},{label:"height",parser:i.readUnsigned(!0)},{label:"lct",bits:{exists:{index:0},interlaced:{index:1},sort:{index:2},future:{index:3,length:2},size:{index:5,length:3}}}]},{label:"lct",requires:function(e,t,n){return n.descriptor.lct.exists},parser:i.readArray(3,function(e,t,n){return r(2,n.descriptor.lct.size+1)})},{label:"data",parts:[{label:"minCodeSize",parser:i.readByte()},o]}]},u={label:"text",requires:function(e){var t=e.peekBytes(2);return 33===t[0]&&1===t[1]},parts:[{label:"codes",parser:i.readBytes(2),skip:!0},{label:"blockSize",parser:i.readByte()},{label:"preData",parser:function(e,t,n){return e.readBytes(n.text.blockSize)}},o]},c={label:"application",requires:function(e){var t=e.peekBytes(2);return 33===t[0]&&255===t[1]},parts:[{label:"codes",parser:i.readBytes(2),skip:!0},{label:"blockSize",parser:i.readByte()},{label:"id",parser:function(e,t,n){return e.readString(n.blockSize)}},o]},l={label:"comment",requires:function(e){var t=e.peekBytes(2);return 33===t[0]&&254===t[1]},parts:[{label:"codes",parser:i.readBytes(2),skip:!0},o]},h=[{label:"header",parts:[{label:"signature",parser:i.readString(3)},{label:"version",parser:i.readString(3)}]},{label:"lsd",parts:[{label:"width",parser:i.readUnsigned(!0)},{label:"height",parser:i.readUnsigned(!0)},{label:"gct",bits:{exists:{index:0},resolution:{index:1,length:3},sort:{index:4},size:{index:5,length:3}}},{label:"backgroundColorIndex",parser:i.readByte()},{label:"pixelAspectRatio",parser:i.readByte()}]},{label:"gct",requires:function(e,t){return t.lsd.gct.exists},parser:i.readArray(3,function(e,t){return r(2,t.lsd.gct.size+1)})},{label:"frames",parts:[a,c,l,s,u],loop:function(e){var t=e.peekByte();return 33===t||44===t}}];e.exports=h},v1p5:function(e,t,n){(function(e){function r(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0,t.warn=t.requestAnimationFrame=t.reducePropsToState=t.mapStateOnServer=t.handleClientStateChange=t.convertReactPropstoHtmlAttributes=void 0;var i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o=Object.assign||function(e){for(var t,n=1;n<arguments.length;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e},a=r(n("q1tI")),s=r(n("MgzW")),u=n("hFT/"),c=function(e){return!1===(!(1<arguments.length&&void 0!==arguments[1])||arguments[1])?e+"":(e+"").replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;")},l=function(e){var t=m(e,u.TAG_NAMES.TITLE),n=m(e,u.HELMET_PROPS.TITLE_TEMPLATE);if(n&&t)return n.replace(/%s/g,function(){return t});var r=m(e,u.HELMET_PROPS.DEFAULT_TITLE);return t||r||void 0},h=function(e){return m(e,u.HELMET_PROPS.ON_CHANGE_CLIENT_STATE)||function(){}},p=function(e,t){return t.filter(function(t){return void 0!==t[e]}).map(function(t){return t[e]}).reduce(function(e,t){return o({},e,t)},{})},f=function(e,t){return t.filter(function(e){return void 0!==e[u.TAG_NAMES.BASE]}).map(function(e){return e[u.TAG_NAMES.BASE]}).reverse().reduce(function(t,n){if(!t.length)for(var r=Object.keys(n),i=0;i<r.length;i++){var o=r[i].toLowerCase();if(-1!==e.indexOf(o)&&n[o])return t.concat(n)}return t},[])},d=function(e,t,n){var r={};return n.filter(function(t){return!!Array.isArray(t[e])||(void 0!==t[e]&&b("Helmet: "+e+' should be of type "Array". Instead found type "'+i(t[e])+'"'),!1)}).map(function(t){return t[e]}).reverse().reduce(function(e,n){var i={};n.filter(function(e){for(var n=void 0,o=Object.keys(e),a=0;a<o.length;a++){var s=o[a],c=s.toLowerCase();-1===t.indexOf(c)||n===u.TAG_PROPERTIES.REL&&"canonical"===e[n].toLowerCase()||c===u.TAG_PROPERTIES.REL&&"stylesheet"===e[c].toLowerCase()||(n=c),-1!==t.indexOf(s)&&(s===u.TAG_PROPERTIES.INNER_HTML||s===u.TAG_PROPERTIES.CSS_TEXT||s===u.TAG_PROPERTIES.ITEM_PROP)&&(n=s)}if(!n||!e[n])return!1;var l=e[n].toLowerCase();return r[n]||(r[n]={}),i[n]||(i[n]={}),!r[n][l]&&(i[n][l]=!0,!0)}).reverse().forEach(function(t){return e.push(t)});for(var o=Object.keys(i),a=0;a<o.length;a++){var c=o[a],l=(0,s.default)({},r[c],i[c]);r[c]=l}return e},[]).reverse()},m=function(e,t){for(var n,r=e.length-1;0<=r;r--)if((n=e[r]).hasOwnProperty(t))return n[t];return null},g=function(){var e=Date.now();return function(t){var n=Date.now();16<n-e?(e=n,t(n)):setTimeout(function(){g(t)},0)}}(),v=function(e){return clearTimeout(e)},y="undefined"==typeof window?e.requestAnimationFrame||g:window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||g,x="undefined"==typeof window?e.cancelAnimationFrame||v:window.cancelAnimationFrame||window.webkitCancelAnimationFrame||window.mozCancelAnimationFrame||v,b=function(e){return console&&"function"==typeof console.warn&&console.warn(e)},w=null,_=function(e,t){var n=e.baseTag,r=e.bodyAttributes,i=e.htmlAttributes,o=e.linkTags,a=e.metaTags,s=e.noscriptTags,c=e.onChangeClientState,l=e.scriptTags,h=e.styleTags,p=e.title,f=e.titleAttributes;T(u.TAG_NAMES.BODY,r),T(u.TAG_NAMES.HTML,i),S(p,f);var d={baseTag:A(u.TAG_NAMES.BASE,n),linkTags:A(u.TAG_NAMES.LINK,o),metaTags:A(u.TAG_NAMES.META,a),noscriptTags:A(u.TAG_NAMES.NOSCRIPT,s),scriptTags:A(u.TAG_NAMES.SCRIPT,l),styleTags:A(u.TAG_NAMES.STYLE,h)},m={},g={};Object.keys(d).forEach(function(e){var t=d[e],n=t.newTags,r=t.oldTags;n.length&&(m[e]=n),r.length&&(g[e]=d[e].oldTags)}),t&&t(),c(e,m,g)},E=function(e){return Array.isArray(e)?e.join(""):e},S=function(e,t){void 0!==e&&document.title!==e&&(document.title=E(e)),T(u.TAG_NAMES.TITLE,t)},T=function(e,t){var n=document.getElementsByTagName(e)[0];if(n){for(var r=n.getAttribute(u.HELMET_ATTRIBUTE),i=r?r.split(","):[],o=[].concat(i),a=Object.keys(t),s=0;s<a.length;s++){var c=a[s],l=t[c]||"";n.getAttribute(c)!==l&&n.setAttribute(c,l),-1===i.indexOf(c)&&i.push(c);var h=o.indexOf(c);-1!==h&&o.splice(h,1)}for(var p=o.length-1;0<=p;p--)n.removeAttribute(o[p]);i.length===o.length?n.removeAttribute(u.HELMET_ATTRIBUTE):n.getAttribute(u.HELMET_ATTRIBUTE)!==a.join(",")&&n.setAttribute(u.HELMET_ATTRIBUTE,a.join(","))}},A=function(e,t){var n=document.head||document.querySelector(u.TAG_NAMES.HEAD),r=n.querySelectorAll(e+"["+u.HELMET_ATTRIBUTE+"]"),i=Array.prototype.slice.call(r),o=[],a=void 0;return t&&t.length&&t.forEach(function(t){var n=document.createElement(e);for(var r in t)if(t.hasOwnProperty(r))if(r===u.TAG_PROPERTIES.INNER_HTML)n.innerHTML=t.innerHTML;else if(r===u.TAG_PROPERTIES.CSS_TEXT)n.styleSheet?n.styleSheet.cssText=t.cssText:n.appendChild(document.createTextNode(t.cssText));else{var s=void 0===t[r]?"":t[r];n.setAttribute(r,s)}n.setAttribute(u.HELMET_ATTRIBUTE,"true"),i.some(function(e,t){return a=t,n.isEqualNode(e)})?i.splice(a,1):o.push(n)}),i.forEach(function(e){return e.parentNode.removeChild(e)}),o.forEach(function(e){return n.appendChild(e)}),{oldTags:i,newTags:o}},M=function(e){return Object.keys(e).reduce(function(t,n){var r=void 0===e[n]?""+n:n+'="'+e[n]+'"';return t?t+" "+r:r},"")},C=function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};return Object.keys(e).reduce(function(t,n){return t[u.REACT_TAG_MAP[n]||n]=e[n],t},t)},D=function(e,t,n){return e===u.TAG_NAMES.TITLE?{toComponent:function(){return function(e,t,n){var r,i=((r={key:t})[u.HELMET_ATTRIBUTE]=!0,r),o=C(n,i);return[a.default.createElement(u.TAG_NAMES.TITLE,o,t)]}(0,t.title,t.titleAttributes)},toString:function(){return function(e,t,n,r){var i=M(n),o=E(t);return i?"<"+e+" "+u.HELMET_ATTRIBUTE+'="true" '+i+">"+c(o,r)+"</"+e+">":"<"+e+" "+u.HELMET_ATTRIBUTE+'="true">'+c(o,r)+"</"+e+">"}(e,t.title,t.titleAttributes,n)}}:e===u.ATTRIBUTE_NAMES.BODY||e===u.ATTRIBUTE_NAMES.HTML?{toComponent:function(){return C(t)},toString:function(){return M(t)}}:{toComponent:function(){return function(e,t){return t.map(function(t,n){var r,i=((r={key:n})[u.HELMET_ATTRIBUTE]=!0,r);return Object.keys(t).forEach(function(e){var n=u.REACT_TAG_MAP[e]||e;if(n===u.TAG_PROPERTIES.INNER_HTML||n===u.TAG_PROPERTIES.CSS_TEXT){var r=t.innerHTML||t.cssText;i.dangerouslySetInnerHTML={__html:r}}else i[n]=t[e]}),a.default.createElement(e,i)})}(e,t)},toString:function(){return function(e,t,n){return t.reduce(function(t,r){var i=Object.keys(r).filter(function(e){return e!==u.TAG_PROPERTIES.INNER_HTML&&e!==u.TAG_PROPERTIES.CSS_TEXT}).reduce(function(e,t){var i=void 0===r[t]?t:t+'="'+c(r[t],n)+'"';return e?e+" "+i:i},""),o=r.innerHTML||r.cssText||"",a=-1===u.SELF_CLOSING_TAGS.indexOf(e);return t+"<"+e+" "+u.HELMET_ATTRIBUTE+'="true" '+i+(a?"/>":">"+o+"</"+e+">")},"")}(e,t,n)}}};t.convertReactPropstoHtmlAttributes=function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};return Object.keys(e).reduce(function(t,n){return t[u.HTML_TAG_MAP[n]||n]=e[n],t},t)},t.handleClientStateChange=function(e){w&&x(w),e.defer?w=y(function(){_(e,function(){w=null})}):(_(e),w=null)},t.mapStateOnServer=function(e){var t=e.baseTag,n=e.bodyAttributes,r=e.encode,i=e.htmlAttributes,o=e.linkTags,a=e.metaTags,s=e.noscriptTags,c=e.scriptTags,l=e.styleTags,h=e.title,p=void 0===h?"":h,f=e.titleAttributes;return{base:D(u.TAG_NAMES.BASE,t,r),bodyAttributes:D(u.ATTRIBUTE_NAMES.BODY,n,r),htmlAttributes:D(u.ATTRIBUTE_NAMES.HTML,i,r),link:D(u.TAG_NAMES.LINK,o,r),meta:D(u.TAG_NAMES.META,a,r),noscript:D(u.TAG_NAMES.NOSCRIPT,s,r),script:D(u.TAG_NAMES.SCRIPT,c,r),style:D(u.TAG_NAMES.STYLE,l,r),title:D(u.TAG_NAMES.TITLE,{title:p,titleAttributes:f},r)}},t.reducePropsToState=function(e){return{baseTag:f([u.TAG_PROPERTIES.HREF],e),bodyAttributes:p(u.ATTRIBUTE_NAMES.BODY,e),defer:m(e,u.HELMET_PROPS.DEFER),encode:m(e,u.HELMET_PROPS.ENCODE_SPECIAL_CHARACTERS),htmlAttributes:p(u.ATTRIBUTE_NAMES.HTML,e),linkTags:d(u.TAG_NAMES.LINK,[u.TAG_PROPERTIES.REL,u.TAG_PROPERTIES.HREF],e),metaTags:d(u.TAG_NAMES.META,[u.TAG_PROPERTIES.NAME,u.TAG_PROPERTIES.CHARSET,u.TAG_PROPERTIES.HTTPEQUIV,u.TAG_PROPERTIES.PROPERTY,u.TAG_PROPERTIES.ITEM_PROP],e),noscriptTags:d(u.TAG_NAMES.NOSCRIPT,[u.TAG_PROPERTIES.INNER_HTML],e),onChangeClientState:h(e),scriptTags:d(u.TAG_NAMES.SCRIPT,[u.TAG_PROPERTIES.SRC,u.TAG_PROPERTIES.INNER_HTML],e),styleTags:d(u.TAG_NAMES.STYLE,[u.TAG_PROPERTIES.CSS_TEXT],e),title:l(e),titleAttributes:p(u.ATTRIBUTE_NAMES.TITLE,e)}},t.requestAnimationFrame=y,t.warn=b}).call(this,n("yLpj"))},v5Dd:function(e,t,n){var r=n("NsO/"),i=n("vwuL").f;n("zn7N")("getOwnPropertyDescriptor",function(){return function(e,t){return i(r(e),t)}})},vBP9:function(e,t,n){var r=n("5T2Y").navigator;e.exports=r&&r.userAgent||""},vOnD:function(e,t,n){"use strict";(function(e){function r(e){return"function"==typeof e}function i(e){return e.displayName||e.name||"Component"}function o(e){return e&&"string"==typeof e.styledComponentId}function a(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:"&",i=e.join("").replace(J,""),o=t&&n?n+" "+t+" { "+i+" }":i;return te=r,ne=t,re=new RegExp("\\"+ne+"\\b","g"),K(n||!t?"":t,o)}function s(e){return e.replace(Ce,"-$1").toLowerCase().replace(De,"-ms-")}function u(e,t,n){if(Array.isArray(e)){for(var i,a=[],s=0,c=e.length;s<c;s+=1){if(null===(i=u(e[s],t,n)))continue;Array.isArray(i)?a.push.apply(a,i):a.push(i)}return a}return Le(e)?null:o(e)?"."+e.styledComponentId:r(e)?function(e){return"function"==typeof e&&!(e.prototype&&e.prototype.isReactComponent)}(e)&&t?u(e(t),t,n):e:e instanceof Me?n?(e.inject(n),e.getName()):e:F(e)?Pe(e):e.toString()}function c(e){for(var t=arguments.length,n=Array(1<t?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];return r(e)||F(e)?u(D(B,[e].concat(n))):u(D(e,n))}function l(e){for(var t,n=0|e.length,r=0|n,i=0;4<=n;)t=1540483477*(65535&(t=255&e.charCodeAt(i)|(255&e.charCodeAt(++i))<<8|(255&e.charCodeAt(++i))<<16|(255&e.charCodeAt(++i))<<24))+((65535&1540483477*(t>>>16))<<16),r=1540483477*(65535&r)+((65535&1540483477*(r>>>16))<<16)^(t=1540483477*(65535&(t^=t>>>24))+((65535&1540483477*(t>>>16))<<16)),n-=4,++i;switch(n){case 3:r^=(255&e.charCodeAt(i+2))<<16;case 2:r^=(255&e.charCodeAt(i+1))<<8;case 1:r=1540483477*(65535&(r^=255&e.charCodeAt(i)))+((65535&1540483477*(r>>>16))<<16)}return((r=1540483477*(65535&(r^=r>>>13))+((65535&1540483477*(r>>>16))<<16))^r>>>15)>>>0}function h(e,t){for(var n,i=0;i<e.length;i+=1){if(n=e[i],Array.isArray(n)&&!h(n,t))return!1;if(r(n)&&!o(n))return!1}return!t.some(function(e){return r(e)||function(e){for(var t in e)if(r(e[t]))return!0;return!1}(e)})}function p(e){return e.replace(Fe,"-").replace(Be,"")}function f(e){return"string"==typeof e&&!0}function d(e){return!!(e&&e.prototype&&e.prototype.isReactComponent)}function m(e,t,n){var r=o(e),a=!f(e),s=t.displayName,u=void 0===s?function(e){return f(e)?"styled."+e:"Styled("+i(e)+")"}(e):s,c=t.componentId,l=void 0===c?function(e,t,n){var r="string"==typeof t?p(t):"sc",i=(tt[r]||0)+1;tt[r]=i;var o=r+"-"+e.generateName(r+i);return n?n+"-"+o:o}(ke,t.displayName,t.parentComponentId):c,h=t.ParentComponent,d=void 0===h?nt:h,g=t.attrs,v=void 0===g?B:g,y=t.displayName&&t.componentId?p(t.displayName)+"-"+t.componentId:t.componentId||l,x=r&&e.attrs?Array.prototype.concat(e.attrs,v).filter(Boolean):v,b=new ke(r?e.componentStyle.rules.concat(n):n,x,y),w=void 0,E=function(e,t){return _.a.createElement(d,O({},e,{forwardedComponent:w,forwardedRef:t}))};return E.displayName=u,(w=_.a.forwardRef(E)).displayName=u,w.attrs=x,w.componentStyle=b,w.foldedComponentIds=r?Array.prototype.concat(e.foldedComponentIds,e.styledComponentId):B,w.styledComponentId=y,w.target=r?e.target:e,w.withComponent=function(e){var r=t.componentId,o=k(t,["componentId"]),a=r&&r+"-"+(f(e)?e:p(i(e)));return m(e,O({},o,{attrs:x,componentId:a,ParentComponent:d}),n)},Object.defineProperty(w,"defaultProps",{get:function(){return this._foldedDefaultProps},set:function(t){this._foldedDefaultProps=r?Object(C.a)(e.defaultProps,t):t}}),w.toString=function(){return"."+w.styledComponentId},a&&function e(t,n,r){if("string"!=typeof n){var i=qe(n);i&&i!==Ye&&e(t,i,r);for(var o=Je.concat(He(n),We(n)),a=je[t.$$typeof]||Ue,s=je[n.$$typeof]||Ue,u=o.length,c=void 0,l=void 0;u--;)if(l=o[u],!ze[l]&&(!r||!r[l])&&(!s||!s[l])&&(!a||!a[l])&&(c=Xe(n,l)))try{Ge(t,l,c)}catch(n){}return t}return t}(w,e,{attrs:!0,componentStyle:!0,displayName:!0,foldedComponentIds:!0,styledComponentId:!0,target:!0,withComponent:!0}),w}function g(e){for(var t=arguments.length,n=Array(1<t?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=c.apply(void 0,[e].concat(n)),o="sc-global-"+l(JSON.stringify(i)),a=new it(i,o),s=function(e){function t(n){P(this,t);var r=N(this,e.call(this,n)),i=r.constructor,o=i.globalStyle,a=i.styledComponentId;return H&&(window.scCGSHMRCache[a]=(window.scCGSHMRCache[a]||0)+1),r.state={globalStyle:o,styledComponentId:a},r}return I(t,e),t.prototype.componentWillUnmount=function(){window.scCGSHMRCache[this.state.styledComponentId]&&(window.scCGSHMRCache[this.state.styledComponentId]-=1),0===window.scCGSHMRCache[this.state.styledComponentId]&&this.state.globalStyle.removeStyles(this.styleSheet)},t.prototype.render=function(){var e=this;return _.a.createElement(Qe,null,function(t){e.styleSheet=t||Ae.master;var n=e.state.globalStyle;return n.isStatic?(n.renderStyles(W,e.styleSheet),null):_.a.createElement(Ke,null,function(t){var r=e.constructor.defaultProps,i=O({},e.props);return void 0!==t&&(i.theme=Ne(e.props,t,r)),n.renderStyles(i,e.styleSheet),null})})},t}(_.a.Component);return s.globalStyle=a,s.styledComponentId=o,s}n.d(t,"a",function(){return g});var v=n("aJjT"),y=n.n(v),x=n("TAZq"),b=n.n(x),w=n("q1tI"),_=n.n(w),E=n("ME5O"),S=n("TOwV"),T=(n.n(S),n("Wwog")),A=n("17x9"),M=(n.n(A),n("9uj6")),C=n("ECyS"),D=function(e,t){for(var n=[e[0]],r=0,i=t.length;r<i;r+=1)n.push(t[r],e[r+1]);return n},L="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},P=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},R=function(){function e(e,t){for(var n,r=0;r<t.length;r++)(n=t[r]).enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),O=Object.assign||function(e){for(var t,n=1;n<arguments.length;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e},I=function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)},k=function(e,t){var n={};for(var r in e)0<=t.indexOf(r)||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n},N=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t},F=function(e){return"object"===(void 0===e?"undefined":L(e))&&e.constructor===Object},B=Object.freeze([]),U=Object.freeze({}),z=void 0!==e&&(e.env.REACT_APP_SC_ATTR||e.env.SC_ATTR)||"data-styled",j="data-styled-version",G="data-styled-streamed",H="undefined"!=typeof window&&"HTMLElement"in window,V="boolean"==typeof SC_DISABLE_SPEEDY&&SC_DISABLE_SPEEDY||void 0!==e&&(e.env.REACT_APP_SC_DISABLE_SPEEDY||e.env.SC_DISABLE_SPEEDY)||!1,W={},X=function(e){function t(n){P(this,t);for(var r=arguments.length,i=Array(1<r?r-1:0),o=1;o<r;o++)i[o-1]=arguments[o];var a=N(this,e.call(this,"An error occurred. See https://github.com/styled-components/styled-components/blob/master/packages/styled-components/src/utils/errors.md#"+n+" for more information."+(0<i.length?" Additional arguments: "+i.join(", "):"")));return N(a)}return I(t,e),t}(Error),q=/^[^\S\n]*?\/\* sc-component-id:\s*(\S+)\s+\*\//gm,Y=function(e){var t=""+(e||""),n=[];return t.replace(q,function(e,t,r){return n.push({componentId:t,matchIndex:r}),e}),n.map(function(e,r){var i=e.componentId,o=e.matchIndex,a=n[r+1];return{componentId:i,cssFromDOM:a?t.slice(o,a.matchIndex):t.slice(o)}})},J=/^\s*\/\/.*$/gm,Z=new y.a({global:!1,cascade:!0,keyframe:!1,prefix:!1,compress:!1,semicolon:!0}),K=new y.a({global:!1,cascade:!0,keyframe:!1,prefix:!0,compress:!1,semicolon:!1}),$=[],Q=function(e){if(-2===e){var t=$;return $=[],t}},ee=b()(function(e){$.push(e)}),te=void 0,ne=void 0,re=void 0,ie=function(e,t,n){return 0<t&&-1!==n.slice(0,t).indexOf(ne)&&n.slice(t-ne.length,t)!==ne?"."+te:e};K.use([function(e,t,n){2===e&&n.length&&0<n[0].lastIndexOf(ne)&&(n[0]=n[0].replace(re,ie))},ee,Q]),Z.use([ee,Q]);var oe,ae=function(e){return Z("",e)},se=function(){return n.nc},ue=function(e,t,n){n&&((e[t]||(e[t]=Object.create(null)))[n]=!0)},ce=function(e,t){e[t]=Object.create(null)},le=function(e){return function(t,n){return void 0!==e[t]&&e[t][n]}},he=function(e){var t="";for(var n in e)t+=Object.keys(e[n]).join(" ")+" ";return t.trim()},pe=function(e){if(e.sheet)return e.sheet;for(var t,n=e.ownerDocument.styleSheets.length,r=0;r<n;r+=1)if((t=e.ownerDocument.styleSheets[r]).ownerNode===e)return t;throw new X(10)},fe=function(e,t,n){if(!t)return!1;var r=e.cssRules.length;try{e.insertRule(t,n<=r?n:r)}catch(e){return!1}return!0},de=function(e){return"\n/* sc-component-id: "+e+" */\n"},me=function(e,t){for(var n=0,r=0;r<=t;r+=1)n+=e[r];return n},ge=function(e,t){return function(n){var r=se();return"<style "+[r&&'nonce="'+r+'"',z+'="'+he(t)+'"',j+'="4.4.1"',n].filter(Boolean).join(" ")+">"+e()+"</style>"}},ve=function(e,t){return function(){var n,r=((n={})[z]=he(t),n[j]="4.4.1",n),i=se();return i&&(r.nonce=i),_.a.createElement("style",O({},r,{dangerouslySetInnerHTML:{__html:e()}}))}},ye=function(e){return function(){return Object.keys(e)}},xe=function(e,t){return e.createTextNode(de(t))},be=function e(t,n){var r=void 0===t?Object.create(null):t,i=void 0===n?Object.create(null):n,o=function(e){var t=i[e];return void 0===t?i[e]=[""]:t},a=function(){var e="";for(var t in i){var n=i[t][0];n&&(e+=de(t)+n)}return e};return{clone:function(){var t=function(e){var t=Object.create(null);for(var n in e)t[n]=O({},e[n]);return t}(r),n=Object.create(null);for(var o in i)n[o]=[i[o][0]];return e(t,n)},css:a,getIds:ye(i),hasNameForId:le(r),insertMarker:o,insertRules:function(e,t,n){o(e)[0]+=t.join(" "),ue(r,e,n)},removeRules:function(e){var t=i[e];void 0===t||(t[0]="",ce(r,e))},sealed:!1,styleTag:null,toElement:ve(a,r),toHTML:ge(a,r)}},we=function(e,t,n,r,i){if(H&&!n){var o=function(e,t,n){var r=document;e?r=e.ownerDocument:t&&(r=t.ownerDocument);var i=r.createElement("style");i.setAttribute(z,""),i.setAttribute(j,"4.4.1");var o=se();if(o&&i.setAttribute("nonce",o),i.appendChild(r.createTextNode("")),e&&!t)e.appendChild(i);else{if(!t||!e||!t.parentNode)throw new X(6);t.parentNode.insertBefore(i,n?t:t.nextSibling)}return i}(e,t,r);return V?function(e,t){var n=Object.create(null),r=Object.create(null),i=void 0!==t,o=!1,a=function(t){var i=r[t];return void 0===i?(r[t]=xe(e.ownerDocument,t),e.appendChild(r[t]),n[t]=Object.create(null),r[t]):i},s=function(){var e="";for(var t in r)e+=r[t].data;return e};return{clone:function(){throw new X(5)},css:s,getIds:ye(r),hasNameForId:le(n),insertMarker:a,insertRules:function(e,r,s){for(var u=a(e),c=[],l=r.length,h=0;h<l;h+=1){var p=r[h],f=i;if(f&&-1!==p.indexOf("@import"))c.push(p);else{f=!1;var d=h==l-1?"":" ";u.appendData(""+p+d)}}ue(n,e,s),i&&0<c.length&&(o=!0,t().insertRules(e+"-import",c))},removeRules:function(a){var s=r[a];if(void 0!==s){var u=xe(e.ownerDocument,a);e.replaceChild(u,s),r[a]=u,ce(n,a),i&&o&&t().removeRules(a+"-import")}},sealed:!1,styleTag:e,toElement:ve(s,n),toHTML:ge(s,n)}}(o,i):function(e,t){var n=Object.create(null),r=Object.create(null),i=[],o=void 0!==t,a=!1,s=function(e){var t=r[e];return void 0===t?(r[e]=i.length,i.push(0),ce(n,e),r[e]):t},u=function(){var t=pe(e).cssRules,n="";for(var o in r){n+=de(o);for(var a,s=r[o],u=me(i,s),c=u-i[s];c<u;c+=1)void 0!==(a=t[c])&&(n+=a.cssText)}return n};return{clone:function(){throw new X(5)},css:u,getIds:ye(r),hasNameForId:le(n),insertMarker:s,insertRules:function(r,u,c){for(var l=s(r),h=pe(e),p=me(i,l),f=0,d=[],m=u.length,g=0;g<m;g+=1){var v=u[g],y=o;y&&-1!==v.indexOf("@import")?d.push(v):fe(h,v,p+f)&&(y=!1,f+=1)}o&&0<d.length&&(a=!0,t().insertRules(r+"-import",d)),i[l]+=f,ue(n,r,c)},removeRules:function(s){var u=r[s];if(void 0!==u&&!1!==e.isConnected){var c=i[u];(function(e,t,n){for(var r=t;r>t-n;r-=1)e.deleteRule(r)})(pe(e),me(i,u)-1,c),i[u]=0,ce(n,s),o&&a&&t().removeRules(s+"-import")}},sealed:!1,styleTag:e,toElement:ve(u,n),toHTML:ge(u,n)}}(o,i)}return be()},_e=/\s+/;oe=H?V?40:1e3:-1;var Ee,Se=0,Te=void 0,Ae=function(){function e(){var t=this,n=0<arguments.length&&void 0!==arguments[0]?arguments[0]:H?document.head:null,r=!!(1<arguments.length&&void 0!==arguments[1])&&arguments[1];P(this,e),this.getImportRuleTag=function(){var e=t.importRuleTag;if(void 0!==e)return e;var n=t.tags[0];return t.importRuleTag=we(t.target,n?n.styleTag:null,t.forceServer,!0)},Se+=1,this.id=Se,this.forceServer=r,this.target=r?null:n,this.tagMap={},this.deferred={},this.rehydratedNames={},this.ignoreRehydratedNames={},this.tags=[],this.capacity=1,this.clones=[]}return e.prototype.rehydrate=function(){if(!H||this.forceServer)return this;var e=[],t=[],n=!1,r=document.querySelectorAll("style["+z+"]["+j+'="4.4.1"]'),i=r.length;if(!i)return this;for(var o,a=0;a<i;a+=1){o=r[a],n||(n=!!o.getAttribute(G));for(var s,u=(o.getAttribute(z)||"").trim().split(_e),c=u.length,l=0;l<c;l+=1)s=u[l],this.rehydratedNames[s]=!0;t.push.apply(t,Y(o.textContent)),e.push(o)}var h=t.length;if(!h)return this;var p=this.makeTag(null);(function(e,t,n){for(var r=0,i=n.length;r<i;r+=1){var o=n[r],a=o.componentId,s=o.cssFromDOM,u=ae(s);e.insertRules(a,u)}for(var c,l=0,h=t.length;l<h;l+=1)(c=t[l]).parentNode&&c.parentNode.removeChild(c)})(p,e,t),this.capacity=Math.max(1,oe-h),this.tags.push(p);for(var f=0;f<h;f+=1)this.tagMap[t[f].componentId]=p;return this},e.reset=function(){var t=!!(0<arguments.length&&void 0!==arguments[0])&&arguments[0];Te=new e(void 0,t).rehydrate()},e.prototype.clone=function(){var t=new e(this.target,this.forceServer);return this.clones.push(t),t.tags=this.tags.map(function(e){for(var n=e.getIds(),r=e.clone(),i=0;i<n.length;i+=1)t.tagMap[n[i]]=r;return r}),t.rehydratedNames=O({},this.rehydratedNames),t.deferred=O({},this.deferred),t},e.prototype.sealAllTags=function(){this.capacity=1,this.tags.forEach(function(e){e.sealed=!0})},e.prototype.makeTag=function(e){var t=e?e.styleTag:null;return we(this.target,t,this.forceServer,!1,this.getImportRuleTag)},e.prototype.getTagForId=function(e){var t=this.tagMap[e];if(void 0!==t&&!t.sealed)return t;var n=this.tags[this.tags.length-1];return this.capacity-=1,0===this.capacity&&(this.capacity=oe,n=this.makeTag(n),this.tags.push(n)),this.tagMap[e]=n},e.prototype.hasId=function(e){return void 0!==this.tagMap[e]},e.prototype.hasNameForId=function(e,t){if(void 0===this.ignoreRehydratedNames[e]&&this.rehydratedNames[t])return!0;var n=this.tagMap[e];return void 0!==n&&n.hasNameForId(e,t)},e.prototype.deferredInject=function(e,t){if(void 0===this.tagMap[e]){for(var n=this.clones,r=0;r<n.length;r+=1)n[r].deferredInject(e,t);this.getTagForId(e).insertMarker(e),this.deferred[e]=t}},e.prototype.inject=function(e,t,n){for(var r=this.clones,i=0;i<r.length;i+=1)r[i].inject(e,t,n);var o=this.getTagForId(e);if(void 0!==this.deferred[e]){var a=this.deferred[e].concat(t);o.insertRules(e,a,n),this.deferred[e]=void 0}else o.insertRules(e,t,n)},e.prototype.remove=function(e){var t=this.tagMap[e];if(void 0!==t){for(var n=this.clones,r=0;r<n.length;r+=1)n[r].remove(e);t.removeRules(e),this.ignoreRehydratedNames[e]=!0,this.deferred[e]=void 0}},e.prototype.toHTML=function(){return this.tags.map(function(e){return e.toHTML()}).join("")},e.prototype.toReactElements=function(){var e=this.id;return this.tags.map(function(t,n){return Object(w.cloneElement)(t.toElement(),{key:"sc-"+e+"-"+n})})},R(e,null,[{key:"master",get:function(){return Te||(Te=(new e).rehydrate())}},{key:"instance",get:function(){return e.master}}]),e}(),Me=function(){function e(t,n){var r=this;P(this,e),this.inject=function(e){e.hasNameForId(r.id,r.name)||e.inject(r.id,r.rules,r.name)},this.toString=function(){throw new X(12,r.name+"")},this.name=t,this.rules=n,this.id="sc-keyframes-"+t}return e.prototype.getName=function(){return this.name},e}(),Ce=/([A-Z])/g,De=/^ms-/,Le=function(e){return null==e||!1===e||""===e},Pe=function e(t,n){var i=[];return Object.keys(t).forEach(function(n){if(!Le(t[n])){if(F(t[n]))return i.push.apply(i,e(t[n],n)),i;if(r(t[n]))return i.push(s(n)+":",t[n],";"),i;i.push(s(n)+": "+function(e,t){return null==t||"boolean"==typeof t||""===t?"":"number"!=typeof t||0===t||e in E.a?(t+"").trim():t+"px"}(n,t[n])+";")}return i}),n?[n+" {"].concat(i,["}"]):i},Re=52,Oe=function(e){return String.fromCharCode(e+(25<e?39:97))},Ie=function(e){return function(e){var t="",n=void 0;for(n=e;n>Re;n=Math.floor(n/Re))t=Oe(n%Re)+t;return Oe(n%Re)+t}(l(e))},ke=function(){function e(t,n,r){P(this,e),this.rules=t,this.isStatic=h(t,n),this.componentId=r,Ae.master.hasId(r)||Ae.master.deferredInject(r,[])}return e.prototype.generateAndInjectStyles=function(e,t){var n=this.isStatic,r=this.componentId,i=this.lastClassName;if(H&&n&&"string"==typeof i&&t.hasNameForId(r,i))return i;var o=u(this.rules,e,t),s=Ie(this.componentId+o.join(""));return t.hasNameForId(r,s)||t.inject(this.componentId,a(o,"."+s,void 0,r),s),this.lastClassName=s,s},e.generateName=function(e){return Ie(e)},e}(),Ne=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:U,r=!!n&&e.theme===n.theme;return e.theme&&!r?e.theme:t||n.theme},Fe=/[[\].#*$><+~=|^:(),"'`-]+/g,Be=/(^-|-$)/g,Ue={childContextTypes:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDerivedStateFromProps:!0,propTypes:!0,type:!0},ze={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},je=((Ee={})[S.ForwardRef]={$$typeof:!0,render:!0},Ee),Ge=Object.defineProperty,He=Object.getOwnPropertyNames,Ve=Object.getOwnPropertySymbols,We=void 0===Ve?function(){return[]}:Ve,Xe=Object.getOwnPropertyDescriptor,qe=Object.getPrototypeOf,Ye=Object.prototype,Je=Array.prototype,Ze=Object(w.createContext)(),Ke=Ze.Consumer,$e=(function(e){function t(n){P(this,t);var r=N(this,e.call(this,n));return r.getContext=Object(T.a)(r.getContext.bind(r)),r.renderInner=r.renderInner.bind(r),r}I(t,e),t.prototype.render=function(){return this.props.children?_.a.createElement(Ze.Consumer,null,this.renderInner):null},t.prototype.renderInner=function(e){var t=this.getContext(this.props.theme,e);return _.a.createElement(Ze.Provider,{value:t},this.props.children)},t.prototype.getTheme=function(e,t){if(r(e))return e(t);if(null===e||Array.isArray(e)||"object"!==(void 0===e?"undefined":L(e)))throw new X(8);return O({},t,e)},t.prototype.getContext=function(e,t){return this.getTheme(e,t)}}(w.Component),function(){function e(){P(this,e),this.masterSheet=Ae.master,this.instance=this.masterSheet.clone(),this.sealed=!1}e.prototype.seal=function(){if(!this.sealed){var e=this.masterSheet.clones.indexOf(this.instance);this.masterSheet.clones.splice(e,1),this.sealed=!0}},e.prototype.collectStyles=function(e){if(this.sealed)throw new X(2);return _.a.createElement(et,{sheet:this.instance},e)},e.prototype.getStyleTags=function(){return this.seal(),this.instance.toHTML()},e.prototype.getStyleElement=function(){return this.seal(),this.instance.toReactElements()},e.prototype.interleaveWithNodeStream=function(e){throw new X(3)}}(),Object(w.createContext)()),Qe=$e.Consumer,et=function(e){function t(n){P(this,t);var r=N(this,e.call(this,n));return r.getContext=Object(T.a)(r.getContext),r}return I(t,e),t.prototype.getContext=function(e,t){if(e)return e;if(t)return new Ae(t);throw new X(4)},t.prototype.render=function(){var e=this.props,t=e.children,n=e.sheet,r=e.target;return _.a.createElement($e.Provider,{value:this.getContext(n,r)},t)},t}(w.Component),tt={},nt=function(e){function t(){P(this,t);var n=N(this,e.call(this));return n.attrs={},n.renderOuter=n.renderOuter.bind(n),n.renderInner=n.renderInner.bind(n),n}return I(t,e),t.prototype.render=function(){return _.a.createElement(Qe,null,this.renderOuter)},t.prototype.renderOuter=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:Ae.master;return this.styleSheet=e,this.props.forwardedComponent.componentStyle.isStatic?this.renderInner():_.a.createElement(Ke,null,this.renderInner)},t.prototype.renderInner=function(e){var t,n=this.props.forwardedComponent,r=n.componentStyle,i=n.defaultProps,o=(n.displayName,n.foldedComponentIds),a=n.styledComponentId,s=n.target;t=r.isStatic?this.generateAndInjectStyles(U,this.props):this.generateAndInjectStyles(Ne(this.props,e,i)||U,this.props);var u=this.props.as||this.attrs.as||s,c=f(u),l={},h=O({},this.props,this.attrs),p=void 0;for(p in h){if("forwardedComponent"===p||"as"===p)continue;"forwardedRef"===p?l.ref=h[p]:"forwardedAs"===p?l.as=h[p]:(!c||Object(M.a)(p))&&(l[p]=h[p])}return this.props.style&&this.attrs.style&&(l.style=O({},this.attrs.style,this.props.style)),l.className=Array.prototype.concat(o,a,t===a?null:t,this.props.className,this.attrs.className).filter(Boolean).join(" "),Object(w.createElement)(u,l)},t.prototype.buildExecutionContext=function(e,t,n){var i=this,a=O({},t,{theme:e});return n.length?(this.attrs={},n.forEach(function(e){var t=e,n=!1,s=void 0,u=void 0;for(u in r(t)&&(t=t(a),n=!0),t)s=t[u],n||!r(s)||d(s)||o(s)||(s=s(a)),i.attrs[u]=s,a[u]=s}),a):a},t.prototype.generateAndInjectStyles=function(e,t){var n=t.forwardedComponent,r=n.attrs,i=n.componentStyle;n.warnTooManyClasses;return i.isStatic&&!r.length?i.generateAndInjectStyles(U,this.styleSheet):i.generateAndInjectStyles(this.buildExecutionContext(e,t,r),this.styleSheet)},t}(w.Component),rt=function(e){return function e(t,n){var r=2<arguments.length&&void 0!==arguments[2]?arguments[2]:U;if(!Object(S.isValidElementType)(n))throw new X(1,n+"");var i=function(){return t(n,r,c.apply(void 0,arguments))};return i.withConfig=function(i){return e(t,n,O({},r,i))},i.attrs=function(i){return e(t,n,O({},r,{attrs:Array.prototype.concat(r.attrs,i).filter(Boolean)}))},i}(m,e)};["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","marker","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"].forEach(function(e){rt[e]=rt(e)});var it=function(){function e(t,n){P(this,e),this.rules=t,this.componentId=n,this.isStatic=h(t,B),Ae.master.hasId(n)||Ae.master.deferredInject(n,[])}return e.prototype.createStyles=function(e,t){var n=a(u(this.rules,e,t),"");t.inject(this.componentId,n)},e.prototype.removeStyles=function(e){var t=this.componentId;e.hasId(t)&&e.remove(t)},e.prototype.renderStyles=function(e,t){this.removeStyles(t),this.createStyles(e,t)},e}();H&&(window.scCGSHMRCache={});t.b=rt}).call(this,n("8oxB"))},vQl5:function(e,t,n){"use strict";var r=n("hyoZ");e.exports=new r("tag:yaml.org,2002:seq",{kind:"sequence",construct:function(e){return null===e?[]:e}})},vYYK:function(e,t,n){"use strict";function r(e,t,n){return t in e?o()(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}n.d(t,"a",function(){return r});var i=n("hfKm"),o=n.n(i)},vbtb:function(e){function t(){return{baseUrl:null,breaks:!1,gfm:!0,headerIds:!0,headerPrefix:"",highlight:null,langPrefix:"language-",mangle:!0,pedantic:!1,renderer:null,sanitize:!1,sanitizer:null,silent:!1,smartLists:!1,smartypants:!1,xhtml:!1}}e.exports={defaults:{baseUrl:null,breaks:!1,gfm:!0,headerIds:!0,headerPrefix:"",highlight:null,langPrefix:"language-",mangle:!0,pedantic:!1,renderer:null,sanitize:!1,sanitizer:null,silent:!1,smartLists:!1,smartypants:!1,xhtml:!1},getDefaults:t,changeDefaults:function(t){e.exports.defaults=t}}},viRO:function(e,t,n){"use strict";function r(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(e,t,n){this.props=e,this.context=t,this.refs=O,this.updater=n||R}function o(){}function a(e,t,n){this.props=e,this.context=t,this.refs=O,this.updater=n||R}function s(e,t,n){var r,i={},o=null,a=null;if(null!=t)for(r in void 0!==t.ref&&(a=t.ref),void 0!==t.key&&(o=""+t.key),t)N.call(t,r)&&!F.hasOwnProperty(r)&&(i[r]=t[r]);var s=arguments.length-2;if(1===s)i.children=n;else if(1<s){for(var u=Array(s),c=0;c<s;c++)u[c]=arguments[c+2];i.children=u}if(e&&e.defaultProps)for(r in s=e.defaultProps)void 0===i[r]&&(i[r]=s[r]);return{$$typeof:b,type:e,key:o,ref:a,props:i,_owner:k.current}}function u(e,t){return{$$typeof:b,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function c(e){return"object"==typeof e&&null!==e&&e.$$typeof===b}function l(e,t,n,r){if(U.length){var i=U.pop();return i.result=e,i.keyPrefix=t,i.func=n,i.context=r,i.count=0,i}return{result:e,keyPrefix:t,func:n,context:r,count:0}}function h(e){e.result=null,e.keyPrefix=null,e.func=null,e.context=null,e.count=0,10>U.length&&U.push(e)}function p(e,t,n){return null==e?0:function e(t,n,i,o){var a=typeof t;("undefined"===a||"boolean"===a)&&(t=null);var s=!1;if(null===t)s=!0;else switch(a){case"string":case"number":s=!0;break;case"object":switch(t.$$typeof){case b:case w:s=!0}}if(s)return i(o,t,""===n?"."+f(t,0):n),1;if(s=0,n=""===n?".":n+":",Array.isArray(t))for(var u=0;u<t.length;u++){var c=n+f(a=t[u],u);s+=e(a,c,i,o)}else if(c=null===t||"object"!=typeof t?null:"function"==typeof(c=P&&t[P]||t["@@iterator"])?c:null,"function"==typeof c)for(t=c.call(t),u=0;!(a=t.next()).done;)s+=e(a=a.value,c=n+f(a,u++),i,o);else if("object"===a)throw i=""+t,Error(r(31,"[object Object]"===i?"object with keys {"+Object.keys(t).join(", ")+"}":i,""));return s}(e,"",t,n)}function f(e,t){return"object"==typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+(""+e).replace(/[=:]/g,function(e){return t[e]})}(e.key):t.toString(36)}function d(e,t){e.func.call(e.context,t,e.count++)}function m(e,t,n){var r=e.result,i=e.keyPrefix;e=e.func.call(e.context,t,e.count++),Array.isArray(e)?g(e,r,n,function(e){return e}):null!=e&&(c(e)&&(e=u(e,i+(!e.key||t&&t.key===e.key?"":(""+e.key).replace(B,"$&/")+"/")+n)),r.push(e))}function g(e,t,n,r,i){var o="";null!=n&&(o=(""+n).replace(B,"$&/")+"/"),p(e,m,t=l(t,o,r,i)),h(t)}function v(){var e=z.current;if(null===e)throw Error(r(321));return e}var y=n("MgzW"),x="function"==typeof Symbol&&Symbol.for,b=x?Symbol.for("react.element"):60103,w=x?Symbol.for("react.portal"):60106,_=x?Symbol.for("react.fragment"):60107,E=x?Symbol.for("react.strict_mode"):60108,S=x?Symbol.for("react.profiler"):60114,T=x?Symbol.for("react.provider"):60109,A=x?Symbol.for("react.context"):60110,M=x?Symbol.for("react.forward_ref"):60112,C=x?Symbol.for("react.suspense"):60113,D=x?Symbol.for("react.memo"):60115,L=x?Symbol.for("react.lazy"):60116,P="function"==typeof Symbol&&Symbol.iterator,R={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},O={};i.prototype.isReactComponent={},i.prototype.setState=function(e,t){if("object"!=typeof e&&"function"!=typeof e&&null!=e)throw Error(r(85));this.updater.enqueueSetState(this,e,t,"setState")},i.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},o.prototype=i.prototype;var I=a.prototype=new o;I.constructor=a,y(I,i.prototype),I.isPureReactComponent=!0;var k={current:null},N=Object.prototype.hasOwnProperty,F={key:!0,ref:!0,__self:!0,__source:!0},B=/\/+/g,U=[],z={current:null};t.Children={map:function(e,t,n){if(null==e)return e;var r=[];return g(e,r,null,t,n),r},forEach:function(e,t,n){return null==e?e:(p(e,d,t=l(null,null,t,n)),void h(t))},count:function(e){return p(e,function(){return null},null)},toArray:function(e){var t=[];return g(e,t,null,function(e){return e}),t},only:function(e){if(!c(e))throw Error(r(143));return e}},t.Component=i,t.Fragment=_,t.Profiler=S,t.PureComponent=a,t.StrictMode=E,t.Suspense=C,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED={ReactCurrentDispatcher:z,ReactCurrentBatchConfig:{suspense:null},ReactCurrentOwner:k,IsSomeRendererActing:{current:!1},assign:y},t.cloneElement=function(e,t,n){if(null==e)throw Error(r(267,e));var i=y({},e.props),o=e.key,a=e.ref,s=e._owner;if(null!=t){if(void 0!==t.ref&&(a=t.ref,s=k.current),void 0!==t.key&&(o=""+t.key),e.type&&e.type.defaultProps)var u=e.type.defaultProps;for(c in t)N.call(t,c)&&!F.hasOwnProperty(c)&&(i[c]=void 0===t[c]&&void 0!==u?u[c]:t[c])}var c=arguments.length-2;if(1===c)i.children=n;else if(1<c){u=Array(c);for(var l=0;l<c;l++)u[l]=arguments[l+2];i.children=u}return{$$typeof:b,type:e.type,key:o,ref:a,props:i,_owner:s}},t.createContext=function(e,t){return void 0===t&&(t=null),(e={$$typeof:A,_calculateChangedBits:t,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null}).Provider={$$typeof:T,_context:e},e.Consumer=e},t.createElement=s,t.createFactory=function(e){var t=s.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:M,render:e}},t.isValidElement=c,t.lazy=function(e){return{$$typeof:L,_ctor:e,_status:-1,_result:null}},t.memo=function(e,t){return{$$typeof:D,type:e,compare:void 0===t?null:t}},t.useCallback=function(e,t){return v().useCallback(e,t)},t.useContext=function(e,t){return v().useContext(e,t)},t.useDebugValue=function(){},t.useEffect=function(e,t){return v().useEffect(e,t)},t.useImperativeHandle=function(e,t,n){return v().useImperativeHandle(e,t,n)},t.useLayoutEffect=function(e,t){return v().useLayoutEffect(e,t)},t.useMemo=function(e,t){return v().useMemo(e,t)},t.useReducer=function(e,t,n){return v().useReducer(e,t,n)},t.useRef=function(e){return v().useRef(e)},t.useState=function(e){return v().useState(e)},t.version="16.13.1"},vjea:function(e,t,n){function r(t,n){return e.exports=r=i||function(e,t){return e.__proto__=t,e},r(t,n)}var i=n("TRZx");e.exports=r},vwuL:function(e,t,n){var r=n("NV0k"),i=n("rr1i"),o=n("NsO/"),a=n("G8Mo"),s=n("B+OT"),u=n("eUtF"),c=Object.getOwnPropertyDescriptor;t.f=n("jmDH")?c:function(e,t){if(e=o(e),t=a(t,!0),u)try{return c(e,t)}catch(t){}return s(e,t)?i(!r.f.call(e,t),e[t]):void 0}},"w+qe":function(e){"use strict";function t(e,t){Error.call(this),this.name="YAMLException",this.reason=e,this.mark=t,this.message=(this.reason||"(unknown reason)")+(this.mark?" "+this.mark.toString():""),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=(new Error).stack||""}t.prototype=Object.create(Error.prototype),t.prototype.constructor=t,t.prototype.toString=function(e){var t=this.name+": ";return t+=this.reason||"(unknown reason)",!e&&this.mark&&(t+=" "+this.mark.toString()),t},e.exports=t},"w2d+":function(e,t,n){"use strict";var r=n("hDam"),i=n("UO39"),o=n("SBuE"),a=n("NsO/");e.exports=n("MPFp")(Array,"Array",function(e,t){this._t=a(e),this._i=0,this._k=t},function(){var e=this._t,t=this._k,n=this._i++;return!e||n>=e.length?(this._t=void 0,i(1)):i(0,"keys"==t?n:"values"==t?e[n]:[n,e[n]])},"values"),o.Arguments=o.Array,r("keys"),r("values"),r("entries")},w6GO:function(e,t,n){var r=n("5vMV"),i=n("FpHa");e.exports=Object.keys||function(e){return r(e,i)}},w89z:function(e,t,n){"use strict";function r(){return{type:u.TOGGLE_MENU}}function i(){return{type:u.HIDE_MENU}}function o(){return{type:u.SHOW_HEADER}}function a(){return{type:u.HIDE_HEADER}}function s(e){return{type:u.SET_LANGUAGE,lang:e}}n.d(t,"a",function(){return u}),n.d(t,"f",function(){return r}),n.d(t,"c",function(){return i}),n.d(t,"e",function(){return o}),n.d(t,"b",function(){return a}),n.d(t,"d",function(){return s});var u={TOGGLE_MENU:"TOGGLE_MENU",HIDE_MENU:"HIDE_MENU",SHOW_HEADER:"SHOW_HEADER",HIDE_HEADER:"HIDE_HEADER",SET_LANGUAGE:"SET_LANGUAGE"}},wYmx:function(e,t,n){"use strict";var r=n("eaoh"),i=n("93I4"),o=n("MCSJ"),a=[].slice,s={},u=function(e,t,n){if(!(t in s)){for(var r=[],i=0;i<t;i++)r[i]="a["+i+"]";s[t]=Function("F,a","return new F("+r.join(",")+")")}return s[t](e,n)};e.exports=Function.bind||function(e){var t=r(this),n=a.call(arguments,1),s=function(){var r=n.concat(a.call(arguments));return this instanceof s?u(t,r.length,r):o(t,r,e)};return i(t.prototype)&&(s.prototype=t.prototype),s}},wgeU:function(){},wx14:function(e,t,n){"use strict";function r(){return(r=Object.assign||function(e){for(var t,n=1;n<arguments.length;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)}n.d(t,"a",function(){return r})},yLpj:function(e){var t=function(){return this}();try{t=t||new Function("return this")()}catch(n){"object"==typeof window&&(t=window)}e.exports=t},ydHo:function(e,t,n){"use strict";function r(e){return 48<=e&&57>=e||65<=e&&70>=e||97<=e&&102>=e}function i(e){return 48<=e&&55>=e}function o(e){return 48<=e&&57>=e}var a=n("Y2Yi"),s=n("hyoZ");e.exports=new s("tag:yaml.org,2002:int",{kind:"scalar",resolve:function(e){if(null===e)return!1;var t,n=e.length,a=0,s=!1;if(!n)return!1;if(("-"===(t=e[a])||"+"===t)&&(t=e[++a]),"0"===t){if(a+1===n)return!0;if("b"===(t=e[++a])){for(a++;a<n;a++)if("_"!==(t=e[a])){if("0"!==t&&"1"!==t)return!1;s=!0}return s&&"_"!==t}if("x"===t){for(a++;a<n;a++)if("_"!==(t=e[a])){if(!r(e.charCodeAt(a)))return!1;s=!0}return s&&"_"!==t}for(;a<n;a++)if("_"!==(t=e[a])){if(!i(e.charCodeAt(a)))return!1;s=!0}return s&&"_"!==t}if("_"===t)return!1;for(;a<n;a++)if("_"!==(t=e[a])){if(":"===t)break;if(!o(e.charCodeAt(a)))return!1;s=!0}return!(!s||"_"===t)&&(":"!==t||/^(:[0-5]?[0-9])+$/.test(e.slice(a)))},construct:function(e){var t,n,r=e,i=1,o=[];return-1!==r.indexOf("_")&&(r=r.replace(/_/g,"")),("-"===(t=r[0])||"+"===t)&&("-"===t&&(i=-1),t=(r=r.slice(1))[0]),"0"===r?0:"0"===t?"b"===r[1]?i*parseInt(r.slice(2),2):"x"===r[1]?i*parseInt(r,16):i*parseInt(r,8):-1===r.indexOf(":")?i*parseInt(r,10):(r.split(":").forEach(function(e){o.unshift(parseInt(e,10))}),r=0,n=1,o.forEach(function(e){r+=e*n,n*=60}),i*r)},predicate:function(e){return"[object Number]"===Object.prototype.toString.call(e)&&0==e%1&&!a.isNegativeZero(e)},represent:{binary:function(e){return 0<=e?"0b"+e.toString(2):"-0b"+e.toString(2).slice(1)},octal:function(e){return 0<=e?"0"+e.toString(8):"-0"+e.toString(8).slice(1)},decimal:function(e){return e.toString(10)},hexadecimal:function(e){return 0<=e?"0x"+e.toString(16).toUpperCase():"-0x"+e.toString(16).toUpperCase().slice(1)}},defaultStyle:"decimal",styleAliases:{binary:[2,"bin"],octal:[8,"oct"],decimal:[10,"dec"],hexadecimal:[16,"hex"]}})},yjFg:function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))(function(i,o){function a(e){try{u(r.next(e))}catch(t){o(t)}}function s(e){try{u(r.throw(e))}catch(t){o(t)}}function u(e){e.done?i(e.value):new n(function(t){t(e.value)}).then(a,s)}u((r=r.apply(e,t||[])).next())})};Object.defineProperty(t,"__esModule",{value:!0});const i=n("Womt"),o=n("pyaG"),a=n("bq5J"),s=n("o/9X"),u=n("7YZU"),c=n("jR+S"),l=n("RSEU"),h=n("C46Q"),p=n("m+w6"),f=n("kWms"),d=n("4qcr"),m=n("iK26"),g=n("od5H"),v=e=>e.match(/\.gif$/i),y=e=>e.match(/\.(mp3|wav)$/i),x=(e,t,n)=>new i.WebGLRenderTarget(e,t,{minFilter:i.LinearFilter,magFilter:i.NearestFilter,format:i.RGBAFormat,type:n}),b=e=>"NO"===e?i.NoBlending:"NORMAL"===e?i.NormalBlending:"ADD"===e?i.AdditiveBlending:"SUB"===e?i.SubtractiveBlending:"MUL"===e?i.MultiplyBlending:i.NormalBlending;t.default=class{constructor(e){this.isPlaying=!1,this.frame=0,this.isRecording=!1,this.renderer=null,this.canvas=null,this.mousemove=(e=>{if(this.canvas){const t=this.canvas.getBoundingClientRect(),n=document.documentElement;if(n){const r=t.top+n.scrollLeft,i=t.top+n.scrollTop;this.uniforms.mouse.value.x=(e.pageX-r)/this.canvas.offsetWidth,this.uniforms.mouse.value.y=1-(e.pageY-i)/this.canvas.offsetHeight}}}),this.mousedown=(e=>{const t=e.buttons;this.uniforms.mouseButtons.value=new i.Vector3(1&t>>0,1&t>>1,1&t>>2)}),this.mouseup=this.mousedown,this.resize=((e,t)=>{if(!this.renderer)return;this.renderer.setSize(e,t);const[n,r]=[e/this.pixelRatio,t/this.pixelRatio];this.passes.forEach(e=>{e.target&&e.target.targets.forEach(e=>e.setSize(n,r))}),this.targets.forEach(e=>e.setSize(n,r)),this.uniforms.resolution.value.x=n,this.uniforms.resolution.value.y=r}),this.animate=(()=>{this.frame++,this.isPlaying&&(requestAnimationFrame(this.animate),0==this.frame%this.frameskip&&this.render())});const t=Object.assign({},g.DEFAULT_VEDA_OPTIONS,e);this.pixelRatio=t.pixelRatio,this.frameskip=t.frameskip,this.vertexMode=t.vertexMode,this.passes=[],this.targets=[new i.WebGLRenderTarget(0,0,{minFilter:i.LinearFilter,magFilter:i.NearestFilter,format:i.RGBAFormat}),new i.WebGLRenderTarget(0,0,{minFilter:i.LinearFilter,magFilter:i.NearestFilter,format:i.RGBAFormat})],i.ImageUtils.crossOrigin="*",this.audioLoader=new o.default(t),this.cameraLoader=new a.default,this.gamepadLoader=new s.default,this.keyLoader=new c.default,this.midiLoader=new l.default,this.videoLoader=new d.default,this.gifLoader=new u.default,this.soundLoader=new p.default,this.modelLoader=new h.default,this.start=Date.now(),this.uniforms=i.UniformsUtils.merge([{FRAMEINDEX:{type:"i",value:0},PASSINDEX:{type:"i",value:0},backbuffer:{type:"t",value:new i.Texture},mouse:{type:"v2",value:new i.Vector2},mouseButtons:{type:"v3",value:new i.Vector3},resolution:{type:"v2",value:new i.Vector2},time:{type:"f",value:0},vertexCount:{type:"f",value:t.vertexCount}},i.UniformsLib.common]),this.soundRenderer=new f.default(this.uniforms),this.textureLoader=new i.TextureLoader}setPixelRatio(e){this.canvas&&this.renderer&&(this.pixelRatio=e,this.renderer.setPixelRatio(1/e),this.resize(this.canvas.offsetWidth,this.canvas.offsetHeight))}setFrameskip(e){this.frameskip=e}setVertexCount(e){this.uniforms.vertexCount.value=e}setVertexMode(e){this.vertexMode=e}setFftSize(e){this.audioLoader.setFftSize(e)}setFftSmoothingTimeConstant(e){this.audioLoader.setFftSmoothingTimeConstant(e)}setSoundLength(e){this.soundRenderer.setLength(e)}getTime(){return(Date.now()-this.start)/1e3}resetTime(){this.start=Date.now(),this.uniforms.time.value=0}setCanvas(e){this.canvas&&(window.removeEventListener("mousemove",this.mousemove),window.removeEventListener("mousedown",this.mousedown),window.removeEventListener("mouseup",this.mouseup)),this.canvas=e,this.renderer=new i.WebGLRenderer({canvas:e,alpha:!0,preserveDrawingBuffer:!0}),this.renderer.setPixelRatio(1/this.pixelRatio),this.resize(e.offsetWidth,e.offsetHeight),window.addEventListener("mousemove",this.mousemove),window.addEventListener("mousedown",this.mousedown),window.addEventListener("mouseup",this.mouseup),this.frame=0,this.animate()}createPlane(e){let t;if(e.vs){const n=new i.BufferGeometry,r=new Float32Array(3*this.uniforms.vertexCount.value);n.addAttribute("position",new i.BufferAttribute(r,3));const o=this.uniforms.vertexCount.value,a=new Float32Array(o);a.forEach((e,t)=>{a[t]=t}),n.addAttribute("vertexId",new i.BufferAttribute(a,1));const s=new i.RawShaderMaterial({vertexShader:e.vs,fragmentShader:e.fs||g.DEFAULT_FRAGMENT_SHADER,blending:b(e.BLEND),depthTest:!1,transparent:!0,uniforms:this.uniforms});s.side=i.DoubleSide,s.extensions={derivatives:!0,drawBuffers:!0,fragDepth:!0,shaderTextureLOD:!0},"POINTS"===this.vertexMode?t=new i.Points(n,s):"LINE_LOOP"===this.vertexMode?t=new i.LineLoop(n,s):"LINE_STRIP"===this.vertexMode?t=new i.Line(n,s):"LINES"===this.vertexMode?t=new i.LineSegments(n,s):"TRI_STRIP"===this.vertexMode?(t=new i.Mesh(n,s)).setDrawMode(i.TriangleStripDrawMode):"TRI_FAN"===this.vertexMode?(t=new i.Mesh(n,s)).setDrawMode(i.TriangleFanDrawMode):t=new i.Mesh(n,s)}else{const n=new i.PlaneGeometry(2,2),r=new i.ShaderMaterial({vertexShader:g.DEFAULT_VERTEX_SHADER,fragmentShader:e.fs,uniforms:this.uniforms});r.extensions={derivatives:!0,drawBuffers:!0,fragDepth:!0,shaderTextureLOD:!0},t=new i.Mesh(n,r)}return t}createMesh(e,t,n,r){let o;if(r.vs){const a=e.geometry,s=a.getAttribute("position").count,u=new Float32Array(s);u.forEach((e,t)=>{u[t]=t+n}),a.addAttribute("vertexId",new i.BufferAttribute(u,1));const c=new i.RawShaderMaterial({vertexShader:r.vs,fragmentShader:r.fs||g.DEFAULT_FRAGMENT_SHADER,blending:b(r.BLEND),depthTest:!0,transparent:!0,uniforms:this.uniforms});c.side=i.DoubleSide,c.extensions={derivatives:!0,drawBuffers:!0,fragDepth:!0,shaderTextureLOD:!0};const l=new Float32Array(s);l.fill(t),a.addAttribute("objectId",new i.BufferAttribute(l,1)),"POINTS"===this.vertexMode?o=new i.Points(a,c):"LINE_LOOP"===this.vertexMode?o=new i.LineLoop(a,c):"LINE_STRIP"===this.vertexMode?o=new i.Line(a,c):"LINES"===this.vertexMode?o=new i.LineSegments(a,c):"TRI_STRIP"===this.vertexMode?(o=new i.Mesh(a,c)).setDrawMode(i.TriangleStripDrawMode):"TRI_FAN"===this.vertexMode?(o=new i.Mesh(a,c)).setDrawMode(i.TriangleFanDrawMode):o=new i.Mesh(a,c)}else{const t=e.geometry,n=new i.ShaderMaterial({vertexShader:g.DEFAULT_VERTEX_SHADER,fragmentShader:r.fs,uniforms:this.uniforms});n.extensions={derivatives:!0,drawBuffers:!0,fragDepth:!0,shaderTextureLOD:!0},o=new i.Mesh(t,n)}return o}createRenderPass(e){return r(this,void 0,void 0,function*(){if(!this.canvas)throw new Error("Call setCanvas() before loading shaders");const t=new i.Scene,n=new i.OrthographicCamera(-1,1,1,-1,.1,10);n.position.set(0,0,1),n.lookAt(t.position);const r=[];if(e.MODEL&&e.MODEL.PATH){const n=yield this.modelLoader.load(e.MODEL);let o=0,a=0;n.traverse(n=>{if(n instanceof i.Mesh&&n.geometry instanceof i.BufferGeometry){const i=this.createMesh(n,o,a,e);t.add(i),n.material&&n.material.map&&(r[o]=n.material.map),o++,a+=i.geometry.attributes.vertexId.length}})}else{const n=this.createPlane(e);t.add(n)}let o=null;if(e.TARGET){const n=e.TARGET,r=e.FLOAT?i.FloatType:i.UnsignedByteType;let a=e=>e,s=(e,t)=>t;if(e.WIDTH)try{a=new Function("$WIDTH","$HEIGHT",`return ${e.WIDTH}`)}catch(t){}if(e.HEIGHT)try{s=new Function("$WIDTH","$HEIGHT",`return ${e.HEIGHT}`)}catch(t){}const u=this.canvas.offsetWidth/this.pixelRatio,c=this.canvas.offsetHeight/this.pixelRatio;o={name:n,getWidth:a,getHeight:s,targets:[x(u,c,r),x(u,c,r)]},this.uniforms[n]={type:"t",value:o.targets[0].texture}}return{scene:t,camera:n,target:o,materials:r}})}loadFragmentShader(e){this.loadShader([{fs:e}])}loadVertexShader(e){this.loadShader([{vs:e}])}loadShader(e){return r(this,void 0,void 0,function*(){let t;t=e instanceof Array?e:[e],this.passes.forEach(e=>{const t=e.target;t&&(t.targets[0].texture.dispose(),t.targets[1].texture.dispose())});const n=[];for(const e of t){if(!e.fs&&!e.vs)throw new TypeError("Veda.loadShader: Invalid argument. Shaders must have fs or vs property.");n.push(yield this.createRenderPass(e))}this.passes=n,this.uniforms.FRAMEINDEX.value=0})}loadTexture(e,t,n=1){return r(this,void 0,void 0,function*(){let r;m(t)?r=this.videoLoader.load(e,t,n):v(t)?r=yield this.gifLoader.load(e,t):y(t)?r=yield this.soundLoader.load(t):((r=this.textureLoader.load(t)).magFilter=i.LinearFilter,r.minFilter=i.LinearFilter),this.uniforms[e]={type:"t",value:r}})}unloadTexture(e,t,n){this.uniforms[e].value.dispose(),n&&m(t)&&this.videoLoader.unload(t),n&&v(t)&&this.gifLoader.unload(t),n&&y(t)&&this.soundLoader.unload(t)}setUniform(e,t,n){this.uniforms[e]={type:t,value:n}}loadSoundShader(e){this.soundRenderer.loadShader(e)}playSound(){this.soundRenderer.play()}stopSound(){this.soundRenderer.stop()}play(){this.isPlaying=!0,this.animate()}stop(){this.isPlaying=!1,this.audioLoader.disable(),this.cameraLoader.disable(),this.keyLoader.disable(),this.midiLoader.disable(),this.gamepadLoader.disable()}render(){if(!this.canvas||!this.renderer)return;const e=this.canvas,t=this.renderer;if(this.isRecording){const e=1/60*this.frameskip,t=this.uniforms.time.value+e;this.uniforms.time.value=t,this.start=Date.now()-1e3*t}else this.uniforms.time.value=this.getTime();this.targets=[this.targets[1],this.targets[0]],this.uniforms.backbuffer.value=this.targets[0].texture,this.gifLoader.update(),this.audioLoader.isEnabled&&(this.audioLoader.update(),this.uniforms.volume.value=this.audioLoader.getVolume()),this.gamepadLoader.isEnabled&&this.gamepadLoader.update(),this.passes.forEach((n,r)=>{this.uniforms.PASSINDEX.value=r,n.materials.forEach((e,t)=>{e&&(this.uniforms[`material${t}`]={type:"t",value:e},e.needsUpdate=!0)});const i=n.target;if(i){const r=e.offsetWidth/this.pixelRatio,o=e.offsetHeight/this.pixelRatio;i.targets[1].setSize(i.getWidth(r,o),i.getHeight(r,o)),t.render(n.scene,n.camera,i.targets[1],!0),i.targets=[i.targets[1],i.targets[0]],this.uniforms[i.name].value=i.targets[0].texture}else t.render(n.scene,n.camera,void 0)});const n=this.passes[this.passes.length-1];n&&(n.target&&t.render(n.scene,n.camera,void 0),t.render(n.scene,n.camera,this.targets[1],!0)),this.uniforms.FRAMEINDEX.value++}toggleAudio(e){e?(this.audioLoader.enable(),this.uniforms=Object.assign({},this.uniforms,{volume:{type:"f",value:0},spectrum:{type:"t",value:this.audioLoader.spectrum},samples:{type:"t",value:this.audioLoader.samples}})):this.uniforms.spectrum&&(this.uniforms.spectrum.value.dispose(),this.uniforms.samples.value.dispose(),this.audioLoader.disable())}toggleMidi(e){e?(this.midiLoader.enable(),this.uniforms=Object.assign({},this.uniforms,{midi:{type:"t",value:this.midiLoader.midiTexture},note:{type:"t",value:this.midiLoader.noteTexture}})):this.uniforms.midi&&(this.uniforms.midi.value.dispose(),this.uniforms.note.value.dispose(),this.midiLoader.disable())}toggleCamera(e){e?(this.cameraLoader.enable(),this.uniforms=Object.assign({},this.uniforms,{camera:{type:"t",value:this.cameraLoader.texture}})):this.cameraLoader.disable()}toggleKeyboard(e){e?(this.keyLoader.enable(),this.uniforms=Object.assign({},this.uniforms,{key:{type:"t",value:this.keyLoader.texture}})):this.keyLoader.disable()}toggleGamepad(e){e?(this.gamepadLoader.enable(),this.uniforms=Object.assign({},this.uniforms,{gamepad:{type:"t",value:this.gamepadLoader.texture}})):this.gamepadLoader.disable()}startRecording(){this.isRecording=!0}stopRecording(){this.isRecording=!1}}},yl30:function(e,t,n){"use strict";function r(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){vi=!1,yi=null,function(e,t,n){var r=Array.prototype.slice.call(arguments,3);try{t.apply(n,r)}catch(e){this.onError(e)}}.apply(wi,arguments)}function o(){if(i.apply(this,arguments),vi){if(!vi)throw Error(r(198));var e=yi;vi=!1,yi=null,xi||(xi=!0,bi=e)}}function a(e,t,n){var r=e.type||"unknown-event";e.currentTarget=Si(n),o(r,t,void 0,e),e.currentTarget=null}function s(){if(Ti)for(var e in Ai){var t=Ai[e],n=Ti.indexOf(e);if(!(-1<n))throw Error(r(96,e));if(!Mi[n]){if(!t.extractEvents)throw Error(r(97,e));for(var i in Mi[n]=t,n=t.eventTypes){var o=void 0,a=n[i],s=t,c=i;if(Ci.hasOwnProperty(c))throw Error(r(99,c));Ci[c]=a;var l=a.phasedRegistrationNames;if(l){for(o in l)l.hasOwnProperty(o)&&u(l[o],s,c);o=!0}else a.registrationName?(u(a.registrationName,s,c),o=!0):o=!1;if(!o)throw Error(r(98,i,e))}}}}function u(e,t,n){if(Di[e])throw Error(r(100,e));Di[e]=t,Li[e]=t.eventTypes[n].dependencies}function c(e){var t,n=!1;for(t in e)if(e.hasOwnProperty(t)){var i=e[t];if(!Ai.hasOwnProperty(t)||Ai[t]!==i){if(Ai[t])throw Error(r(102,t));Ai[t]=i,n=!0}}n&&s()}function l(e){if(e=Ei(e)){if("function"!=typeof Ri)throw Error(r(280));var t=e.stateNode;t&&(t=_i(t),Ri(e.stateNode,e.type,t))}}function h(e){Oi?Ii?Ii.push(e):Ii=[e]:Oi=e}function p(){if(Oi){var e=Oi,t=Ii;if(Ii=Oi=null,l(e),t)for(e=0;e<t.length;e++)l(t[e])}}function f(e,t){return e(t)}function d(e,t,n,r,i){return e(t,n,r,i)}function m(){}function g(){(null!==Oi||null!==Ii)&&(m(),p())}function v(e,t,n){if(Fi)return e(t,n);Fi=!0;try{return ki(e,t,n)}finally{Fi=!1,g()}}function y(e,t,n,r,i,o){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=o}function x(e){return e[1].toUpperCase()}function b(e,t,n,r){var i=Gi.hasOwnProperty(t)?Gi[t]:null;(null===i?!r&&!(!(2<t.length)||"o"!==t[0]&&"O"!==t[0]||"n"!==t[1]&&"N"!==t[1]):0===i.type)||(function(e,t,n,r){if(null==t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null===n?"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e:!n.acceptsBooleans);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,i,r)&&(n=null),r||null===i?function(e){return!!Ui.call(ji,e)||!Ui.call(zi,e)&&(Bi.test(e)?ji[e]=!0:(zi[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=null===n?3!==i.type&&"":n:(t=i.attributeName,r=i.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(i=i.type)||4===i&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}function w(e){return null===e||"object"!=typeof e?null:"function"==typeof(e=uo&&e[uo]||e["@@iterator"])?e:null}function _(e){if(null==e)return null;if("function"==typeof e)return e.displayName||e.name||null;if("string"==typeof e)return e;switch(e){case Zi:return"Fragment";case Ji:return"Portal";case $i:return"Profiler";case Ki:return"StrictMode";case ro:return"Suspense";case io:return"SuspenseList"}if("object"==typeof e)switch(e.$$typeof){case eo:return"Context.Consumer";case Qi:return"Context.Provider";case no:var t=e.render;return t=t.displayName||t.name||"",e.displayName||(""===t?"ForwardRef":"ForwardRef("+t+")");case oo:return _(e.type);case so:return _(e.render);case ao:if(e=1===e._status?e._result:null)return _(e)}return null}function E(e){var t="";do{e:switch(e.tag){case 3:case 4:case 6:case 7:case 10:case 9:var n="";break e;default:var r=e._debugOwner,i=e._debugSource,o=_(e.type);n=null,r&&(n=_(r.type)),r=o,o="",i?o=" (at "+i.fileName.replace(Xi,"")+":"+i.lineNumber+")":n&&(o=" (created by "+n+")"),n="\n    in "+(r||"Unknown")+o}t+=n,e=e.return}while(e);return t}function S(e){switch(typeof e){case"boolean":case"number":case"object":case"string":case"undefined":return e;default:return""}}function T(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function A(e){e._valueTracker||(e._valueTracker=function(e){var t=T(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&void 0!==n&&"function"==typeof n.get&&"function"==typeof n.set){var i=n.get,o=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){r=""+e,o.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function M(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=T(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function C(e,t){var n=t.checked;return mi({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null==n?e._wrapperState.initialChecked:n})}function D(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null==t.checked?t.defaultChecked:t.checked;n=S(null==t.value?n:t.value),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function L(e,t){null!=(t=t.checked)&&b(e,"checked",t,!1)}function P(e,t){L(e,t);var n=S(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?O(e,t.type,n):t.hasOwnProperty("defaultValue")&&O(e,t.type,S(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function R(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function O(e,t,n){("number"!==t||e.ownerDocument.activeElement!==e)&&(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}function I(e,t){return e=mi({children:void 0},t),(t=function(e){var t="";return di.Children.forEach(e,function(e){null!=e&&(t+=e)}),t}(t.children))&&(e.children=t),e}function k(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+S(n),t=null,i=0;i<e.length;i++){if(e[i].value===n)return e[i].selected=!0,void(r&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function N(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(r(91));return mi({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function F(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(r(92));if(Array.isArray(n)){if(!(1>=n.length))throw Error(r(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:S(n)}}function B(e,t){var n=S(t.value),r=S(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function U(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}function z(e){return"svg"===e?"http://www.w3.org/2000/svg":"math"===e?"http://www.w3.org/1998/Math/MathML":"http://www.w3.org/1999/xhtml"}function j(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?z(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}function G(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}function H(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}function V(e){if(fo[e])return fo[e];if(!po[e])return e;var t,n=po[e];for(t in n)if(n.hasOwnProperty(t)&&t in mo)return fo[e]=n[t];return e}function W(e){var t=So.get(e);return void 0===t&&(t=new Map,So.set(e,t)),t}function X(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!=(1026&(t=e).effectTag)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function q(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function Y(e){if(X(e)!==e)throw Error(r(188))}function J(e){if(!(e=function(e){var t=e.alternate;if(!t){if(null===(t=X(e)))throw Error(r(188));return t===e?e:null}for(var n,i=e,o=t;null!==(n=i.return);){var a=n.alternate;if(null===a){if(null!==(o=n.return)){i=o;continue}break}if(n.child===a.child){for(a=n.child;a;){if(a===i)return Y(n),e;if(a===o)return Y(n),t;a=a.sibling}throw Error(r(188))}if(i.return!==o.return)i=n,o=a;else{for(var s=!1,u=n.child;u;){if(u===i){s=!0,i=n,o=a;break}if(u===o){s=!0,o=n,i=a;break}u=u.sibling}if(!s){for(u=a.child;u;){if(u===i){s=!0,i=a,o=n;break}if(u===o){s=!0,o=a,i=n;break}u=u.sibling}if(!s)throw Error(r(189))}}if(i.alternate!==o)throw Error(r(190))}if(3!==i.tag)throw Error(r(188));return i.stateNode.current===i?e:t}(e)))return null;for(var t=e;;){if(5===t.tag||6===t.tag)return t;if(t.child)t.child.return=t,t=t.child;else{if(t===e)break;for(;!t.sibling;){if(!t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}}return null}function Z(e,t){if(null==t)throw Error(r(30));return null==e?t:Array.isArray(e)?Array.isArray(t)?(e.push.apply(e,t),e):(e.push(t),e):Array.isArray(t)?[e].concat(t):[e,t]}function K(e,t,n){Array.isArray(e)?e.forEach(t,n):e&&t.call(n,e)}function $(e){if(e){var t=e._dispatchListeners,n=e._dispatchInstances;if(Array.isArray(t))for(var r=0;r<t.length&&!e.isPropagationStopped();r++)a(e,t[r],n[r]);else t&&a(e,t,n);e._dispatchListeners=null,e._dispatchInstances=null,e.isPersistent()||e.constructor.release(e)}}function Q(e){if(null!==e&&(To=Z(To,e)),e=To,To=null,e){if(K(e,$),To)throw Error(r(95));if(xi)throw e=bi,xi=!1,bi=null,e}}function ee(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}function te(e){if(!Pi)return!1;var t=(e="on"+e)in document;return t||((t=document.createElement("div")).setAttribute(e,"return;"),t="function"==typeof t[e]),t}function ne(e){e.topLevelType=null,e.nativeEvent=null,e.targetInst=null,e.ancestors.length=0,10>Ao.length&&Ao.push(e)}function re(e,t,n,r){if(Ao.length){var i=Ao.pop();return i.topLevelType=e,i.eventSystemFlags=r,i.nativeEvent=t,i.targetInst=n,i}return{topLevelType:e,eventSystemFlags:r,nativeEvent:t,targetInst:n,ancestors:[]}}function ie(e){var t=e.targetInst,n=t;do{if(!n){e.ancestors.push(n);break}var r=n;if(3===r.tag)r=r.stateNode.containerInfo;else{for(;r.return;)r=r.return;r=3===r.tag?r.stateNode.containerInfo:null}if(!r)break;5!==(t=n.tag)&&6!==t||e.ancestors.push(n),n=ke(r)}while(n);for(n=0;n<e.ancestors.length;n++){t=e.ancestors[n];var i=ee(e.nativeEvent);r=e.topLevelType;var o=e.nativeEvent,a=e.eventSystemFlags;0===n&&(a|=64);for(var s,u=null,c=0;c<Mi.length;c++)(s=Mi[c])&&(s=s.extractEvents(r,t,o,i,a))&&(u=Z(u,s));Q(u)}}function oe(e,t,n){if(!n.has(e)){switch(e){case"scroll":ve(t,"scroll",!0);break;case"focus":case"blur":ve(t,"focus",!0),ve(t,"blur",!0),n.set("blur",null),n.set("focus",null);break;case"cancel":case"close":te(e)&&ve(t,e,!0);break;case"invalid":case"submit":case"reset":break;default:-1===Eo.indexOf(e)&&ge(e,t)}n.set(e,null)}}function ae(e,t,n,r,i){return{blockedOn:e,topLevelType:t,eventSystemFlags:32|n,nativeEvent:i,container:r}}function se(e,t){"focus"===e||"blur"===e?Do=null:"dragenter"===e||"dragleave"===e?Lo=null:"mouseover"===e||"mouseout"===e?Po=null:"pointerover"===e||"pointerout"===e?Ro.delete(t.pointerId):("gotpointercapture"===e||"lostpointercapture"===e)&&Oo.delete(t.pointerId)}function ue(e,t,n,r,i,o){return null===e||e.nativeEvent!==o?(e=ae(t,n,r,i,o),null!==t&&(null!==(t=Ne(t))&&vo(t)),e):(e.eventSystemFlags|=r,e)}function ce(e){var t=ke(e.target);if(null!==t){var n=X(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=q(n)))return e.blockedOn=t,void gi.unstable_runWithPriority(e.priority,function(){yo(n)})}else if(3===t&&n.stateNode.hydrate)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function le(e){if(null!==e.blockedOn)return!1;var t=xe(e.topLevelType,e.eventSystemFlags,e.container,e.nativeEvent);if(null!==t){var n=Ne(t);return null!==n&&vo(n),e.blockedOn=t,!1}return!0}function he(e,t,n){le(e)&&n.delete(t)}function pe(){for(Mo=!1;0<Co.length;){var e=Co[0];if(null!==e.blockedOn){null!==(e=Ne(e.blockedOn))&&go(e);break}var t=xe(e.topLevelType,e.eventSystemFlags,e.container,e.nativeEvent);null===t?Co.shift():e.blockedOn=t}null!==Do&&le(Do)&&(Do=null),null!==Lo&&le(Lo)&&(Lo=null),null!==Po&&le(Po)&&(Po=null),Ro.forEach(he),Oo.forEach(he)}function fe(e,t){e.blockedOn===t&&(e.blockedOn=null,Mo||(Mo=!0,gi.unstable_scheduleCallback(gi.unstable_NormalPriority,pe)))}function de(e){function t(t){return fe(t,e)}if(0<Co.length){fe(Co[0],e);for(var n,r=1;r<Co.length;r++)(n=Co[r]).blockedOn===e&&(n.blockedOn=null)}for(null!==Do&&fe(Do,e),null!==Lo&&fe(Lo,e),null!==Po&&fe(Po,e),Ro.forEach(t),Oo.forEach(t),r=0;r<Io.length;r++)(n=Io[r]).blockedOn===e&&(n.blockedOn=null);for(;0<Io.length&&null===(r=Io[0]).blockedOn;)ce(r),null===r.blockedOn&&Io.shift()}function me(e,t){for(var n=0;n<e.length;n+=2){var r=e[n],i=e[n+1],o="on"+(i[0].toUpperCase()+i.slice(1));o={phasedRegistrationNames:{bubbled:o,captured:o+"Capture"},dependencies:[r],eventPriority:t},Uo.set(r,t),Bo.set(r,o),Fo[i]=o}}function ge(e,t){ve(t,e,!1)}function ve(e,t,n){var r=Uo.get(t);switch(void 0===r?2:r){case 0:r=function(e,t,n,r){Ni||m();var i=Ni;Ni=!0;try{d(ye,e,t,n,r)}finally{(Ni=i)||g()}}.bind(null,t,1,e);break;case 1:r=function(e,t,n,r){Ho(Go,ye.bind(null,e,t,n,r))}.bind(null,t,1,e);break;default:r=ye.bind(null,t,1,e)}n?e.addEventListener(t,r,!0):e.addEventListener(t,r,!1)}function ye(e,t,n,r){if(Vo)if(0<Co.length&&-1<ko.indexOf(e))e=ae(null,e,t,n,r),Co.push(e);else{var i=xe(e,t,n,r);if(null===i)se(e,r);else if(-1<ko.indexOf(e))e=ae(i,e,t,n,r),Co.push(e);else if(!function(e,t,n,r,i){switch(t){case"focus":return Do=ue(Do,e,t,n,r,i),!0;case"dragenter":return Lo=ue(Lo,e,t,n,r,i),!0;case"mouseover":return Po=ue(Po,e,t,n,r,i),!0;case"pointerover":var o=i.pointerId;return Ro.set(o,ue(Ro.get(o)||null,e,t,n,r,i)),!0;case"gotpointercapture":return o=i.pointerId,Oo.set(o,ue(Oo.get(o)||null,e,t,n,r,i)),!0}return!1}(i,e,t,n,r)){se(e,r),e=re(e,r,null,t);try{v(ie,e)}finally{ne(e)}}}}function xe(e,t,n,r){if(null!==(n=ke(n=ee(r)))){var i=X(n);if(null===i)n=null;else{var o=i.tag;if(13===o){if(null!==(n=q(i)))return n;n=null}else if(3===o){if(i.stateNode.hydrate)return 3===i.tag?i.stateNode.containerInfo:null;n=null}else i!==n&&(n=null)}}e=re(e,r,n,t);try{v(ie,e)}finally{ne(e)}return null}function be(e,t,n){return null==t||"boolean"==typeof t||""===t?"":n||"number"!=typeof t||0===t||Wo.hasOwnProperty(e)&&Wo[e]?(""+t).trim():t+"px"}function we(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),i=be(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}function _e(e,t){if(t){if(qo[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(r(137,e,""));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(r(60));if(!("object"==typeof t.dangerouslySetInnerHTML&&"__html"in t.dangerouslySetInnerHTML))throw Error(r(61))}if(null!=t.style&&"object"!=typeof t.style)throw Error(r(62,""))}}function Ee(e,t){return-1===e.indexOf("-")?"string"==typeof t.is:"annotation-xml"!==e&&"color-profile"!==e&&"font-face"!==e&&"font-face-src"!==e&&"font-face-uri"!==e&&"font-face-format"!==e&&"font-face-name"!==e&&"missing-glyph"!==e}function Se(e,t){var n=W(e=9===e.nodeType||11===e.nodeType?e:e.ownerDocument);t=Li[t];for(var r=0;r<t.length;r++)oe(t[r],e,n)}function Te(){}function Ae(e){if(void 0===(e=e||("undefined"==typeof document?void 0:document)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function Me(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Ce(e,t){var n,r=Me(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=Me(r)}}function De(){for(var e=window,t=Ae();t instanceof e.HTMLIFrameElement;){try{var n="string"==typeof t.contentWindow.location.href}catch(e){n=!1}if(!n)break;t=Ae((e=t.contentWindow).document)}return t}function Le(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}function Pe(e,t){return("button"===e||"input"===e||"select"===e||"textarea"===e)&&!!t.autoFocus}function Re(e,t){return"textarea"===e||"option"===e||"noscript"===e||"string"==typeof t.children||"number"==typeof t.children||"object"==typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}function Oe(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break}return e}function Ie(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if(n===Jo||n===$o||n===Ko){if(0==t)return e;t--}else n===Zo&&t++}e=e.previousSibling}return null}function ke(e){var t=e[ia];if(t)return t;for(var n=e.parentNode;n;){if(t=n[aa]||n[ia]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=Ie(e);null!==e;){if(n=e[ia])return n;e=Ie(e)}return t}n=(e=n).parentNode}return null}function Ne(e){return!(e=e[ia]||e[aa])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function Fe(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(r(33))}function Be(e){return e[oa]||null}function Ue(e){do{e=e.return}while(e&&5!==e.tag);return e||null}function ze(e,t){var n=e.stateNode;if(!n)return null;var i=_i(n);if(!i)return null;if(n=i[t],"onClick"===t||"onClickCapture"===t||"onDoubleClick"===t||"onDoubleClickCapture"===t||"onMouseDown"===t||"onMouseDownCapture"===t||"onMouseMove"===t||"onMouseMoveCapture"===t||"onMouseUp"===t||"onMouseUpCapture"===t||"onMouseEnter"===t?((i=!i.disabled)||(i="button"!==(e=e.type)&&"input"!==e&&"select"!==e&&"textarea"!==e),e=!i):e=!1,e)return null;if(n&&"function"!=typeof n)throw Error(r(231,t,typeof n));return n}function je(e,t,n){(t=ze(e,n.dispatchConfig.phasedRegistrationNames[t]))&&(n._dispatchListeners=Z(n._dispatchListeners,t),n._dispatchInstances=Z(n._dispatchInstances,e))}function Ge(e){if(e&&e.dispatchConfig.phasedRegistrationNames){for(var t=e._targetInst,n=[];t;)n.push(t),t=Ue(t);for(t=n.length;0<t--;)je(n[t],"captured",e);for(t=0;t<n.length;t++)je(n[t],"bubbled",e)}}function He(e,t,n){e&&n&&n.dispatchConfig.registrationName&&(t=ze(e,n.dispatchConfig.registrationName))&&(n._dispatchListeners=Z(n._dispatchListeners,t),n._dispatchInstances=Z(n._dispatchInstances,e))}function Ve(e){e&&e.dispatchConfig.registrationName&&He(e._targetInst,null,e)}function We(e){K(e,Ge)}function Xe(){if(ca)return ca;var e,t,n=ua,r=n.length,i="value"in sa?sa.value:sa.textContent,o=i.length;for(e=0;e<r&&n[e]===i[e];e++);var a=r-e;for(t=1;t<=a&&n[r-t]===i[o-t];t++);return ca=i.slice(e,1<t?1-t:void 0)}function qe(){return!0}function Ye(){return!1}function Je(e,t,n,r){for(var i in this.dispatchConfig=e,this._targetInst=t,this.nativeEvent=n,e=this.constructor.Interface)e.hasOwnProperty(i)&&((t=e[i])?this[i]=t(n):"target"===i?this.target=r:this[i]=n[i]);return this.isDefaultPrevented=(null==n.defaultPrevented?!1===n.returnValue:n.defaultPrevented)?qe:Ye,this.isPropagationStopped=Ye,this}function Ze(e,t,n,r){if(this.eventPool.length){var i=this.eventPool.pop();return this.call(i,e,t,n,r),i}return new this(e,t,n,r)}function Ke(e){if(!(e instanceof this))throw Error(r(279));e.destructor(),10>this.eventPool.length&&this.eventPool.push(e)}function $e(e){e.eventPool=[],e.getPooled=Ze,e.release=Ke}function Qe(e,t){return"keyup"===e?-1!==pa.indexOf(t.keyCode):"keydown"===e?229!==t.keyCode:"keypress"==e||"mousedown"==e||"blur"==e}function et(e){return"object"==typeof(e=e.detail)&&"data"in e?e.data:null}function tt(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!wa[e.type]:"textarea"===t}function nt(e,t,n){return(e=Je.getPooled(_a.change,e,t,n)).type="change",h(n),We(e),e}function rt(e){Q(e)}function it(e){if(M(Fe(e)))return e}function ot(e,t){if("change"===e)return t}function at(){Ea&&(Ea.detachEvent("onpropertychange",st),Sa=Ea=null)}function st(e){if("value"===e.propertyName&&it(Sa))if(e=nt(Sa,e,ee(e)),Ni)Q(e);else{Ni=!0;try{f(rt,e)}finally{Ni=!1,g()}}}function ut(e,t,n){"focus"===e?(at(),Sa=n,(Ea=t).attachEvent("onpropertychange",st)):"blur"==e&&at()}function ct(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return it(Sa)}function lt(e,t){if("click"===e)return it(t)}function ht(e,t){if("input"===e||"change"===e)return it(t)}function pt(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=Ca[e])&&!!t[e]}function ft(){return pt}function dt(e,t){if(Na(e,t))return!0;if("object"!=typeof e||null===e||"object"!=typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++)if(!Fa.call(t,n[r])||!Na(e[n[r]],t[n[r]]))return!1;return!0}function mt(e,t){var n=t.window===t?t.document:9===t.nodeType?t:t.ownerDocument;return Ha||null==za||za!==Ae(n)?null:("selectionStart"in(n=za)&&Le(n)?n={start:n.selectionStart,end:n.selectionEnd}:n={anchorNode:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset},Ga&&dt(Ga,n)?null:(Ga=n,(e=Je.getPooled(Ua.select,ja,e,t)).type="select",e.target=za,We(e),e))}function gt(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function vt(e){0>os||(e.current=is[os],is[os]=null,os--)}function yt(e,t){is[++os]=e.current,e.current=t}function xt(e,t){var n=e.type.contextTypes;if(!n)return as;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i,o={};for(i in n)o[i]=t[i];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=o),o}function bt(e){return null!=(e=e.childContextTypes)}function wt(){vt(us),vt(ss)}function _t(e,t,n){if(ss.current!==as)throw Error(r(168));yt(ss,t),yt(us,n)}function Et(e,t,n){var i=e.stateNode;if(e=t.childContextTypes,"function"!=typeof i.getChildContext)return n;for(var o in i=i.getChildContext())if(!(o in e))throw Error(r(108,_(t)||"Unknown",o));return mi({},n,{},i)}function St(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||as,cs=ss.current,yt(ss,e),yt(us,us.current),!0}function Tt(e,t,n){var i=e.stateNode;if(!i)throw Error(r(169));n?(e=Et(e,t,cs),i.__reactInternalMemoizedMergedChildContext=e,vt(us),vt(ss),yt(ss,e)):vt(us),yt(us,n)}function At(){switch(ms()){case gs:return 99;case vs:return 98;case ys:return 97;case xs:return 96;case bs:return 95;default:throw Error(r(332))}}function Mt(e){switch(e){case 99:return gs;case 98:return vs;case 97:return ys;case 96:return xs;case 95:return bs;default:throw Error(r(332))}}function Ct(e,t){return e=Mt(e),ls(e,t)}function Dt(e,t,n){return e=Mt(e),hs(e,t,n)}function Lt(e){return null===Ss?(Ss=[e],Ts=hs(gs,Rt)):Ss.push(e),ws}function Pt(){if(null!==Ts){var e=Ts;Ts=null,ps(e)}Rt()}function Rt(){if(!As&&null!==Ss){As=!0;var e=0;try{var t=Ss;Ct(99,function(){for(;e<t.length;e++){var n=t[e];do{n=n(!0)}while(null!==n)}}),Ss=null}catch(t){throw null!==Ss&&(Ss=Ss.slice(e+1)),hs(gs,Pt),t}finally{As=!1}}}function Ot(e,t,n){return 1073741821-(1+(0|(1073741821-e+t/10)/(n/=10)))*n}function It(e,t){if(e&&e.defaultProps)for(var n in t=mi({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}function kt(){Rs=Ps=Ls=null}function Nt(e){var t=Ds.current;vt(Ds),e.type._context._currentValue=t}function Ft(e,t){for(;null!==e;){var n=e.alternate;if(e.childExpirationTime<t)e.childExpirationTime=t,null!==n&&n.childExpirationTime<t&&(n.childExpirationTime=t);else{if(!(null!==n&&n.childExpirationTime<t))break;n.childExpirationTime=t}e=e.return}}function Bt(e,t){Ls=e,Rs=Ps=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(e.expirationTime>=t&&(au=!0),e.firstContext=null)}function Ut(e,t){if(Rs!==e&&!1!==t&&0!==t)if(("number"!=typeof t||1073741823===t)&&(Rs=e,t=1073741823),t={context:e,observedBits:t,next:null},null===Ps){if(null===Ls)throw Error(r(308));Ps=t,Ls.dependencies={expirationTime:0,firstContext:t,responders:null}}else Ps=Ps.next=t;return e._currentValue}function zt(e){e.updateQueue={baseState:e.memoizedState,baseQueue:null,shared:{pending:null},effects:null}}function jt(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,baseQueue:e.baseQueue,shared:e.shared,effects:e.effects})}function Gt(e,t){return(e={expirationTime:e,suspenseConfig:t,tag:0,payload:null,callback:null,next:null}).next=e}function Ht(e,t){if(null!==(e=e.updateQueue)){var n=(e=e.shared).pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}}function Vt(e,t){var n=e.alternate;null!==n&&jt(n,e),null===(n=(e=e.updateQueue).baseQueue)?(e.baseQueue=t.next=t,t.next=t):(t.next=n.next,n.next=t)}function Wt(e,t,n,r){var i=e.updateQueue;Os=!1;var o=i.baseQueue,a=i.shared.pending;if(null!==a){if(null!==o){var s=o.next;o.next=a.next,a.next=s}o=a,i.shared.pending=null,null!==(s=e.alternate)&&(null!==(s=s.updateQueue)&&(s.baseQueue=a))}if(null!==o){s=o.next;var u=i.baseState,c=0,l=null,h=null,p=null;if(null!==s)for(var f=s;;){if((a=f.expirationTime)<r){var d={expirationTime:f.expirationTime,suspenseConfig:f.suspenseConfig,tag:f.tag,payload:f.payload,callback:f.callback,next:null};null==p?(h=p=d,l=u):p=p.next=d,a>c&&(c=a)}else{null!=p&&(p=p.next={expirationTime:1073741823,suspenseConfig:f.suspenseConfig,tag:f.tag,payload:f.payload,callback:f.callback,next:null}),Pr(a,f.suspenseConfig);e:{var m=e,g=f;switch(a=t,d=n,g.tag){case 1:if("function"==typeof(m=g.payload)){u=m.call(d,u,a);break e}u=m;break e;case 3:m.effectTag=64|-4097&m.effectTag;case 0:if(null==(a="function"==typeof(m=g.payload)?m.call(d,u,a):m))break e;u=mi({},u,a);break e;case 2:Os=!0}}null!==f.callback&&(e.effectTag|=32,null===(a=i.effects)?i.effects=[f]:a.push(f))}if(null===(f=f.next)||f===s){if(null===(a=i.shared.pending))break;f=o.next=a.next,a.next=s,i.baseQueue=o=a,i.shared.pending=null}}null===p?l=u:p.next=h,i.baseState=l,i.baseQueue=p,Rr(c),e.expirationTime=c,e.memoizedState=u}}function Xt(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var i=e[t],o=i.callback;if(null!==o){if(i.callback=null,i=o,o=n,"function"!=typeof i)throw Error(r(191,i));i.call(o)}}}function qt(e,t,n,r){n=null==(n=n(r,t=e.memoizedState))?t:mi({},t,n),e.memoizedState=n,0===e.expirationTime&&(e.updateQueue.baseState=n)}function Yt(e,t,n,r,i,o,a){return"function"==typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,o,a):!(t.prototype&&t.prototype.isPureReactComponent&&dt(n,r)&&dt(i,o))}function Jt(e,t,n){var r=!1,i=as,o=t.contextType;return"object"==typeof o&&null!==o?o=Ut(o):(i=bt(t)?cs:ss.current,o=(r=null!=(r=t.contextTypes))?xt(e,i):as),t=new t(n,o),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=Ns,e.stateNode=t,t._reactInternalFiber=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=o),t}function Zt(e,t,n,r){e=t.state,"function"==typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"==typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&Ns.enqueueReplaceState(t,t.state,null)}function Kt(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs=ks,zt(e);var o=t.contextType;"object"==typeof o&&null!==o?i.context=Ut(o):(o=bt(t)?cs:ss.current,i.context=xt(e,o)),Wt(e,n,i,r),i.state=e.memoizedState,"function"==typeof(o=t.getDerivedStateFromProps)&&(qt(e,t,o,n),i.state=e.memoizedState),"function"==typeof t.getDerivedStateFromProps||"function"==typeof i.getSnapshotBeforeUpdate||"function"!=typeof i.UNSAFE_componentWillMount&&"function"!=typeof i.componentWillMount||(t=i.state,"function"==typeof i.componentWillMount&&i.componentWillMount(),"function"==typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),t!==i.state&&Ns.enqueueReplaceState(i,i.state,null),Wt(e,n,i,r),i.state=e.memoizedState),"function"==typeof i.componentDidMount&&(e.effectTag|=4)}function $t(e,t,n){if(null!==(e=n.ref)&&"function"!=typeof e&&"object"!=typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(r(309));var i=n.stateNode}if(!i)throw Error(r(147,e));var o=""+e;return null!==t&&null!==t.ref&&"function"==typeof t.ref&&t.ref._stringRef===o?t.ref:((t=function(e){var t=i.refs;t===ks&&(t=i.refs={}),null===e?delete t[o]:t[o]=e})._stringRef=o,t)}if("string"!=typeof e)throw Error(r(284));if(!n._owner)throw Error(r(290,e))}return e}function Qt(e,t){if("textarea"!==e.type)throw Error(r(31,"[object Object]"===Object.prototype.toString.call(t)?"object with keys {"+Object.keys(t).join(", ")+"}":t,""))}function en(e){function t(t,n){if(e){var r=t.lastEffect;null===r?t.firstEffect=t.lastEffect=n:(r.nextEffect=n,t.lastEffect=n),n.nextEffect=null,n.effectTag=8}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function i(e,t){for(e=new Map;null!==t;)null===t.key?e.set(t.index,t):e.set(t.key,t),t=t.sibling;return e}function o(e,t){return(e=Yr(e,t)).index=0,e.sibling=null,e}function a(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.effectTag=2,n):r:(t.effectTag=2,n):n}function s(t){return e&&null===t.alternate&&(t.effectTag=2),t}function u(e,t,n,r){return null===t||6!==t.tag?((t=Kr(n,e.mode,r)).return=e,t):((t=o(t,n)).return=e,t)}function c(e,t,n,r){return null!==t&&t.elementType===n.type?((r=o(t,n.props)).ref=$t(e,t,n),r.return=e,r):((r=Jr(n.type,n.key,n.props,null,e.mode,r)).ref=$t(e,t,n),r.return=e,r)}function l(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=$r(n,e.mode,r)).return=e,t):((t=o(t,n.children||[])).return=e,t)}function h(e,t,n,r,i){return null===t||7!==t.tag?((t=Zr(n,e.mode,r,i)).return=e,t):((t=o(t,n)).return=e,t)}function p(e,t,n){if("string"==typeof t||"number"==typeof t)return(t=Kr(""+t,e.mode,n)).return=e,t;if("object"==typeof t&&null!==t){switch(t.$$typeof){case Yi:return(n=Jr(t.type,t.key,t.props,null,e.mode,n)).ref=$t(e,null,t),n.return=e,n;case Ji:return(t=$r(t,e.mode,n)).return=e,t}if(Fs(t)||w(t))return(t=Zr(t,e.mode,n,null)).return=e,t;Qt(e,t)}return null}function f(e,t,n,r){var i=null===t?null:t.key;if("string"==typeof n||"number"==typeof n)return null===i?u(e,t,""+n,r):null;if("object"==typeof n&&null!==n){switch(n.$$typeof){case Yi:return n.key===i?n.type===Zi?h(e,t,n.props.children,r,i):c(e,t,n,r):null;case Ji:return n.key===i?l(e,t,n,r):null}if(Fs(n)||w(n))return null===i?h(e,t,n,r,null):null;Qt(e,n)}return null}function d(e,t,n,r,i){if("string"==typeof r||"number"==typeof r)return u(t,e=e.get(n)||null,""+r,i);if("object"==typeof r&&null!==r){switch(r.$$typeof){case Yi:return e=e.get(null===r.key?n:r.key)||null,r.type===Zi?h(t,e,r.props.children,i,r.key):c(t,e,r,i);case Ji:return l(t,e=e.get(null===r.key?n:r.key)||null,r,i)}if(Fs(r)||w(r))return h(t,e=e.get(n)||null,r,i,null);Qt(t,r)}return null}function m(r,o,s,u){for(var c=null,l=null,h=o,m=o=0,g=null;null!==h&&m<s.length;m++){h.index>m?(g=h,h=null):g=h.sibling;var v=f(r,h,s[m],u);if(null===v){null===h&&(h=g);break}e&&h&&null===v.alternate&&t(r,h),o=a(v,o,m),null===l?c=v:l.sibling=v,l=v,h=g}if(m===s.length)return n(r,h),c;if(null===h){for(;m<s.length;m++)null!==(h=p(r,s[m],u))&&(o=a(h,o,m),null===l?c=h:l.sibling=h,l=h);return c}for(h=i(r,h);m<s.length;m++)null!==(g=d(h,r,m,s[m],u))&&(e&&null!==g.alternate&&h.delete(null===g.key?m:g.key),o=a(g,o,m),null===l?c=g:l.sibling=g,l=g);return e&&h.forEach(function(e){return t(r,e)}),c}function g(o,s,u,c){var l=w(u);if("function"!=typeof l)throw Error(r(150));if(null==(u=l.call(u)))throw Error(r(151));for(var h=l=null,m=s,g=s=0,v=null,y=u.next();null!==m&&!y.done;g++,y=u.next()){m.index>g?(v=m,m=null):v=m.sibling;var x=f(o,m,y.value,c);if(null===x){null===m&&(m=v);break}e&&m&&null===x.alternate&&t(o,m),s=a(x,s,g),null===h?l=x:h.sibling=x,h=x,m=v}if(y.done)return n(o,m),l;if(null===m){for(;!y.done;g++,y=u.next())null!==(y=p(o,y.value,c))&&(s=a(y,s,g),null===h?l=y:h.sibling=y,h=y);return l}for(m=i(o,m);!y.done;g++,y=u.next())null!==(y=d(m,o,g,y.value,c))&&(e&&null!==y.alternate&&m.delete(null===y.key?g:y.key),s=a(y,s,g),null===h?l=y:h.sibling=y,h=y);return e&&m.forEach(function(e){return t(o,e)}),l}return function(e,i,a,u){var c="object"==typeof a&&null!==a&&a.type===Zi&&null===a.key;c&&(a=a.props.children);var l="object"==typeof a&&null!==a;if(l)switch(a.$$typeof){case Yi:e:{for(l=a.key,c=i;null!==c;){if(c.key===l){switch(c.tag){case 7:if(a.type===Zi){n(e,c.sibling),(i=o(c,a.props.children)).return=e,e=i;break e}break;default:if(c.elementType===a.type){n(e,c.sibling),(i=o(c,a.props)).ref=$t(e,c,a),i.return=e,e=i;break e}}n(e,c);break}t(e,c),c=c.sibling}a.type===Zi?((i=Zr(a.props.children,e.mode,u,a.key)).return=e,e=i):((u=Jr(a.type,a.key,a.props,null,e.mode,u)).ref=$t(e,i,a),u.return=e,e=u)}return s(e);case Ji:e:{for(c=a.key;null!==i;){if(i.key===c){if(4===i.tag&&i.stateNode.containerInfo===a.containerInfo&&i.stateNode.implementation===a.implementation){n(e,i.sibling),(i=o(i,a.children||[])).return=e,e=i;break e}n(e,i);break}t(e,i),i=i.sibling}(i=$r(a,e.mode,u)).return=e,e=i}return s(e)}if("string"==typeof a||"number"==typeof a)return a=""+a,null!==i&&6===i.tag?(n(e,i.sibling),(i=o(i,a)).return=e,e=i):(n(e,i),(i=Kr(a,e.mode,u)).return=e,e=i),s(e);if(Fs(a))return m(e,i,a,u);if(w(a))return g(e,i,a,u);if(l&&Qt(e,a),void 0===a&&!c)switch(e.tag){case 1:case 0:throw e=e.type,Error(r(152,e.displayName||e.name||"Component"))}return n(e,i)}}function tn(e){if(e===zs)throw Error(r(174));return e}function nn(e,t){yt(Hs,t),yt(Gs,e),yt(js,zs),9===(e=t.nodeType)||11===e?t=(t=t.documentElement)?t.namespaceURI:j(null,""):t=j(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName),vt(js),yt(js,t)}function rn(){vt(js),vt(Gs),vt(Hs)}function on(e){tn(Hs.current);var t=tn(js.current),n=j(t,e.type);t!==n&&(yt(Gs,e),yt(js,n))}function an(e){Gs.current===e&&(vt(js),vt(Gs))}function sn(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||n.data===Ko||n.data===$o))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!=(64&t.effectTag))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}function un(e,t){return{responder:e,props:t}}function cn(){throw Error(r(321))}function ln(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!Na(e[n],t[n]))return!1;return!0}function hn(e,t,n,i,o,a){if(qs=a,Ys=t,t.memoizedState=null,t.updateQueue=null,t.expirationTime=0,Ws.current=null===e||null===e.memoizedState?Qs:eu,e=n(i,o),t.expirationTime===qs){a=0;do{if(t.expirationTime=0,!(25>a))throw Error(r(301));a+=1,Zs=Js=null,t.updateQueue=null,Ws.current=tu,e=n(i,o)}while(t.expirationTime===qs)}if(Ws.current=$s,t=null!==Js&&null!==Js.next,qs=0,Zs=Js=Ys=null,Ks=!1,t)throw Error(r(300));return e}function pn(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===Zs?Ys.memoizedState=Zs=e:Zs=Zs.next=e,Zs}function fn(){if(null===Js){var e=Ys.alternate;e=null===e?null:e.memoizedState}else e=Js.next;var t=null===Zs?Ys.memoizedState:Zs.next;if(null!==t)Zs=t,Js=e;else{if(null===e)throw Error(r(310));e={memoizedState:(Js=e).memoizedState,baseState:Js.baseState,baseQueue:Js.baseQueue,queue:Js.queue,next:null},null===Zs?Ys.memoizedState=Zs=e:Zs=Zs.next=e}return Zs}function dn(e,t){return"function"==typeof t?t(e):t}function mn(e){var t=fn(),n=t.queue;if(null===n)throw Error(r(311));n.lastRenderedReducer=e;var i=Js,o=i.baseQueue,a=n.pending;if(null!==a){if(null!==o){var s=o.next;o.next=a.next,a.next=s}i.baseQueue=o=a,n.pending=null}if(null!==o){o=o.next,i=i.baseState;var u=s=a=null,c=o;do{var l=c.expirationTime;if(l<qs){var h={expirationTime:c.expirationTime,suspenseConfig:c.suspenseConfig,action:c.action,eagerReducer:c.eagerReducer,eagerState:c.eagerState,next:null};null==u?(s=u=h,a=i):u=u.next=h,l>Ys.expirationTime&&(Ys.expirationTime=l,Rr(l))}else null!=u&&(u=u.next={expirationTime:1073741823,suspenseConfig:c.suspenseConfig,action:c.action,eagerReducer:c.eagerReducer,eagerState:c.eagerState,next:null}),Pr(l,c.suspenseConfig),i=c.eagerReducer===e?c.eagerState:e(i,c.action);c=c.next}while(null!==c&&c!==o);null===u?a=i:u.next=s,Na(i,t.memoizedState)||(au=!0),t.memoizedState=i,t.baseState=a,t.baseQueue=u,n.lastRenderedState=i}return[t.memoizedState,n.dispatch]}function gn(e){var t=fn(),n=t.queue;if(null===n)throw Error(r(311));n.lastRenderedReducer=e;var i=n.dispatch,o=n.pending,a=t.memoizedState;if(null!==o){n.pending=null;var s=o=o.next;do{a=e(a,s.action),s=s.next}while(s!==o);Na(a,t.memoizedState)||(au=!0),t.memoizedState=a,null===t.baseQueue&&(t.baseState=a),n.lastRenderedState=a}return[a,i]}function vn(e){var t=pn();return"function"==typeof e&&(e=e()),t.memoizedState=t.baseState=e,e=(e=t.queue={pending:null,dispatch:null,lastRenderedReducer:dn,lastRenderedState:e}).dispatch=Rn.bind(null,Ys,e),[t.memoizedState,e]}function yn(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=Ys.updateQueue)?(t={lastEffect:null},Ys.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function xn(){return fn().memoizedState}function bn(e,t,n,r){var i=pn();Ys.effectTag|=e,i.memoizedState=yn(1|t,n,void 0,void 0===r?null:r)}function wn(e,t,n,r){var i,o=fn();if(r=void 0===r?null:r,null!==Js){var a=Js.memoizedState;if(i=a.destroy,null!==r&&ln(r,a.deps))return void yn(t,n,i,r)}Ys.effectTag|=e,o.memoizedState=yn(1|t,n,i,r)}function _n(e,t){return bn(516,4,e,t)}function En(e,t){return wn(516,4,e,t)}function Sn(e,t){return wn(4,2,e,t)}function Tn(e,t){return"function"==typeof t?(e=e(),t(e),function(){t(null)}):null!=t?(e=e(),t.current=e,function(){t.current=null}):void 0}function An(e,t,n){return n=null!=n?n.concat([e]):null,wn(4,2,Tn.bind(null,t,e),n)}function Mn(){}function Cn(e,t){return pn().memoizedState=[e,void 0===t?null:t],e}function Dn(e,t){var n=fn();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&ln(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Ln(e,t){var n=fn();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&ln(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Pn(e,t,n){var r=At();Ct(98>r?98:r,function(){e(!0)}),Ct(97<r?97:r,function(){var r=Xs.suspense;Xs.suspense=void 0===t?null:t;try{e(!1),n()}finally{Xs.suspense=r}})}function Rn(t,n,r){var i=yr(),o=Is.suspense;o={expirationTime:i=xr(i,t,o),suspenseConfig:o,action:r,eagerReducer:null,eagerState:null,next:null};var a=n.pending;if(null===a?o.next=o:(o.next=a.next,a.next=o),n.pending=o,a=t.alternate,t===Ys||null!==a&&a===Ys)Ks=!0,o.expirationTime=qs,Ys.expirationTime=qs;else{if(0===t.expirationTime&&(null===a||0===a.expirationTime)&&null!==(a=n.lastRenderedReducer))try{var s=n.lastRenderedState,u=a(s,r);if(o.eagerReducer=a,o.eagerState=u,Na(u,s))return}catch(e){}br(t,i)}}function On(e,t){var n=Xr(5,null,null,0);n.elementType="DELETED",n.type="DELETED",n.stateNode=t,n.return=e,n.effectTag=8,null===e.lastEffect?e.firstEffect=e.lastEffect=n:(e.lastEffect.nextEffect=n,e.lastEffect=n)}function In(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,!0);case 13:default:return!1}}function kn(e){if(iu){var t=ru;if(t){var n=t;if(!In(e,t)){if(!(t=Oe(n.nextSibling))||!In(e,t))return e.effectTag=2|-1025&e.effectTag,iu=!1,void(nu=e);On(nu,n)}nu=e,ru=Oe(t.firstChild)}else e.effectTag=2|-1025&e.effectTag,iu=!1,nu=e}}function Nn(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;nu=e}function Fn(e){if(e!==nu)return!1;if(!iu)return Nn(e),iu=!0,!1;var t=e.type;if(5!==e.tag||"head"!==t&&"body"!==t&&!Re(t,e.memoizedProps))for(t=ru;t;)On(e,t),t=Oe(t.nextSibling);if(Nn(e),13===e.tag){if(!(e=null===(e=e.memoizedState)?null:e.dehydrated))throw Error(r(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if(n===Zo){if(0===t){ru=Oe(e.nextSibling);break e}t--}else n!==Jo&&n!==$o&&n!==Ko||t++}e=e.nextSibling}ru=null}}else ru=nu?Oe(e.stateNode.nextSibling):null;return!0}function Bn(){ru=nu=null,iu=!1}function Un(e,t,n,r){t.child=null===e?Us(t,null,n,r):Bs(t,e.child,n,r)}function zn(e,t,n,r,i){n=n.render;var o=t.ref;return Bt(t,i),r=hn(e,t,n,r,o,i),null===e||au?(t.effectTag|=1,Un(e,t,r,i),t.child):(t.updateQueue=e.updateQueue,t.effectTag&=-517,e.expirationTime<=i&&(e.expirationTime=0),$n(e,t,i))}function jn(e,t,n,r,i,o){if(null===e){var a=n.type;return"function"!=typeof a||qr(a)||void 0!==a.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Jr(n.type,null,r,null,t.mode,o)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=a,Gn(e,t,a,r,i,o))}return a=e.child,i<o&&(i=a.memoizedProps,(n=null===(n=n.compare)?dt:n)(i,r)&&e.ref===t.ref)?$n(e,t,o):(t.effectTag|=1,(e=Yr(a,r)).ref=t.ref,e.return=t,t.child=e)}function Gn(e,t,n,r,i,o){return null!==e&&dt(e.memoizedProps,r)&&e.ref===t.ref&&(au=!1,i<o)?(t.expirationTime=e.expirationTime,$n(e,t,o)):Vn(e,t,n,r,o)}function Hn(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.effectTag|=128)}function Vn(e,t,n,r,i){var o=bt(n)?cs:ss.current;return o=xt(t,o),Bt(t,i),n=hn(e,t,n,r,o,i),null===e||au?(t.effectTag|=1,Un(e,t,n,i),t.child):(t.updateQueue=e.updateQueue,t.effectTag&=-517,e.expirationTime<=i&&(e.expirationTime=0),$n(e,t,i))}function Wn(e,t,n,r,i){if(bt(n)){var o=!0;St(t)}else o=!1;if(Bt(t,i),null===t.stateNode)null!==e&&(e.alternate=null,t.alternate=null,t.effectTag|=2),Jt(t,n,r),Kt(t,n,r,i),r=!0;else if(null===e){var a=t.stateNode,s=t.memoizedProps;a.props=s;var u=a.context,c=n.contextType;"object"==typeof c&&null!==c?c=Ut(c):c=xt(t,c=bt(n)?cs:ss.current);var l=n.getDerivedStateFromProps,h="function"==typeof l||"function"==typeof a.getSnapshotBeforeUpdate;h||"function"!=typeof a.UNSAFE_componentWillReceiveProps&&"function"!=typeof a.componentWillReceiveProps||(s!==r||u!==c)&&Zt(t,a,r,c),Os=!1;var p=t.memoizedState;a.state=p,Wt(t,r,a,i),u=t.memoizedState,s!==r||p!==u||us.current||Os?("function"==typeof l&&(qt(t,n,l,r),u=t.memoizedState),(s=Os||Yt(t,n,s,r,p,u,c))?(h||"function"!=typeof a.UNSAFE_componentWillMount&&"function"!=typeof a.componentWillMount||("function"==typeof a.componentWillMount&&a.componentWillMount(),"function"==typeof a.UNSAFE_componentWillMount&&a.UNSAFE_componentWillMount()),"function"==typeof a.componentDidMount&&(t.effectTag|=4)):("function"==typeof a.componentDidMount&&(t.effectTag|=4),t.memoizedProps=r,t.memoizedState=u),a.props=r,a.state=u,a.context=c,r=s):("function"==typeof a.componentDidMount&&(t.effectTag|=4),r=!1)}else a=t.stateNode,jt(e,t),s=t.memoizedProps,a.props=t.type===t.elementType?s:It(t.type,s),u=a.context,"object"==typeof(c=n.contextType)&&null!==c?c=Ut(c):c=xt(t,c=bt(n)?cs:ss.current),(h="function"==typeof(l=n.getDerivedStateFromProps)||"function"==typeof a.getSnapshotBeforeUpdate)||"function"!=typeof a.UNSAFE_componentWillReceiveProps&&"function"!=typeof a.componentWillReceiveProps||(s!==r||u!==c)&&Zt(t,a,r,c),Os=!1,u=t.memoizedState,a.state=u,Wt(t,r,a,i),p=t.memoizedState,s!==r||u!==p||us.current||Os?("function"==typeof l&&(qt(t,n,l,r),p=t.memoizedState),(l=Os||Yt(t,n,s,r,u,p,c))?(h||"function"!=typeof a.UNSAFE_componentWillUpdate&&"function"!=typeof a.componentWillUpdate||("function"==typeof a.componentWillUpdate&&a.componentWillUpdate(r,p,c),"function"==typeof a.UNSAFE_componentWillUpdate&&a.UNSAFE_componentWillUpdate(r,p,c)),"function"==typeof a.componentDidUpdate&&(t.effectTag|=4),"function"==typeof a.getSnapshotBeforeUpdate&&(t.effectTag|=256)):("function"!=typeof a.componentDidUpdate||s===e.memoizedProps&&u===e.memoizedState||(t.effectTag|=4),"function"!=typeof a.getSnapshotBeforeUpdate||s===e.memoizedProps&&u===e.memoizedState||(t.effectTag|=256),t.memoizedProps=r,t.memoizedState=p),a.props=r,a.state=p,a.context=c,r=l):("function"!=typeof a.componentDidUpdate||s===e.memoizedProps&&u===e.memoizedState||(t.effectTag|=4),"function"!=typeof a.getSnapshotBeforeUpdate||s===e.memoizedProps&&u===e.memoizedState||(t.effectTag|=256),r=!1);return Xn(e,t,n,r,o,i)}function Xn(e,t,n,r,i,o){Hn(e,t);var a=0!=(64&t.effectTag);if(!r&&!a)return i&&Tt(t,n,!1),$n(e,t,o);r=t.stateNode,ou.current=t;var s=a&&"function"!=typeof n.getDerivedStateFromError?null:r.render();return t.effectTag|=1,null!==e&&a?(t.child=Bs(t,e.child,null,o),t.child=Bs(t,null,s,o)):Un(e,t,s,o),t.memoizedState=r.state,i&&Tt(t,n,!0),t.child}function qn(e){var t=e.stateNode;t.pendingContext?_t(0,t.pendingContext,t.pendingContext!==t.context):t.context&&_t(0,t.context,!1),nn(e,t.containerInfo)}function Yn(e,t,n){var r,i=t.mode,o=t.pendingProps,a=Vs.current,s=!1;if((r=0!=(64&t.effectTag))||(r=0!=(2&a)&&(null===e||null!==e.memoizedState)),r?(s=!0,t.effectTag&=-65):null!==e&&null===e.memoizedState||void 0===o.fallback||!0===o.unstable_avoidThisFallback||(a|=1),yt(Vs,1&a),null===e){if(void 0!==o.fallback&&kn(t),s){if(s=o.fallback,(o=Zr(null,i,0,null)).return=t,0==(2&t.mode))for(e=null===t.memoizedState?t.child:t.child.child,o.child=e;null!==e;)e.return=o,e=e.sibling;return(n=Zr(s,i,n,null)).return=t,o.sibling=n,t.memoizedState=su,t.child=o,n}return i=o.children,t.memoizedState=null,t.child=Us(t,null,i,n)}if(null!==e.memoizedState){if(i=(e=e.child).sibling,s){if(o=o.fallback,(n=Yr(e,e.pendingProps)).return=t,0==(2&t.mode)&&(s=null===t.memoizedState?t.child:t.child.child)!==e.child)for(n.child=s;null!==s;)s.return=n,s=s.sibling;return(i=Yr(i,o)).return=t,n.sibling=i,n.childExpirationTime=0,t.memoizedState=su,t.child=n,i}return n=Bs(t,e.child,o.children,n),t.memoizedState=null,t.child=n}if(e=e.child,s){if(s=o.fallback,(o=Zr(null,i,0,null)).return=t,o.child=e,null!==e&&(e.return=o),0==(2&t.mode))for(e=null===t.memoizedState?t.child:t.child.child,o.child=e;null!==e;)e.return=o,e=e.sibling;return(n=Zr(s,i,n,null)).return=t,o.sibling=n,n.effectTag|=2,o.childExpirationTime=0,t.memoizedState=su,t.child=o,n}return t.memoizedState=null,t.child=Bs(t,e,o.children,n)}function Jn(e,t){e.expirationTime<t&&(e.expirationTime=t);var n=e.alternate;null!==n&&n.expirationTime<t&&(n.expirationTime=t),Ft(e.return,t)}function Zn(e,t,n,r,i,o){var a=e.memoizedState;null===a?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailExpiration:0,tailMode:i,lastEffect:o}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=r,a.tail=n,a.tailExpiration=0,a.tailMode=i,a.lastEffect=o)}function Kn(e,t,n){var r=t.pendingProps,i=r.revealOrder,o=r.tail;if(Un(e,t,r.children,n),0!=(2&(r=Vs.current)))r=2|1&r,t.effectTag|=64;else{if(null!==e&&0!=(64&e.effectTag))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&Jn(e,n);else if(19===e.tag)Jn(e,n);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(yt(Vs,r),0==(2&t.mode))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;null!==n;)null!==(e=n.alternate)&&null===sn(e)&&(i=n),n=n.sibling;null===(n=i)?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),Zn(t,!1,i,n,o,t.lastEffect);break;case"backwards":for(n=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===sn(e)){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}Zn(t,!0,n,null,o,t.lastEffect);break;case"together":Zn(t,!1,null,null,void 0,t.lastEffect);break;default:t.memoizedState=null}return t.child}function $n(e,t,n){null!==e&&(t.dependencies=e.dependencies);var i=t.expirationTime;if(0!==i&&Rr(i),t.childExpirationTime<n)return null;if(null!==e&&t.child!==e.child)throw Error(r(153));if(null!==t.child){for(n=Yr(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Yr(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function Qn(e,t){switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function er(e,t,n){var i=t.pendingProps;switch(t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return null;case 1:return bt(t.type)&&wt(),null;case 3:return rn(),vt(us),vt(ss),(n=t.stateNode).pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),null!==e&&null!==e.child||!Fn(t)||(t.effectTag|=4),ts(t),null;case 5:an(t),n=tn(Hs.current);var o=t.type;if(null!==e&&null!=t.stateNode)ns(e,t,o,i,n),e.ref!==t.ref&&(t.effectTag|=128);else{if(!i){if(null===t.stateNode)throw Error(r(166));return null}if(e=tn(js.current),Fn(t)){i=t.stateNode,o=t.type;var a=t.memoizedProps;switch(i[ia]=t,i[oa]=a,o){case"iframe":case"object":case"embed":ge("load",i);break;case"video":case"audio":for(e=0;e<Eo.length;e++)ge(Eo[e],i);break;case"source":ge("error",i);break;case"img":case"image":case"link":ge("error",i),ge("load",i);break;case"form":ge("reset",i),ge("submit",i);break;case"details":ge("toggle",i);break;case"input":D(i,a),ge("invalid",i),Se(n,"onChange");break;case"select":i._wrapperState={wasMultiple:!!a.multiple},ge("invalid",i),Se(n,"onChange");break;case"textarea":F(i,a),ge("invalid",i),Se(n,"onChange")}for(var s in _e(o,a),e=null,a)if(a.hasOwnProperty(s)){var u=a[s];"children"===s?"string"==typeof u?i.textContent!==u&&(e=["children",u]):"number"==typeof u&&i.textContent!==""+u&&(e=["children",""+u]):Di.hasOwnProperty(s)&&null!=u&&Se(n,s)}switch(o){case"input":A(i),R(i,a,!0);break;case"textarea":A(i),U(i);break;case"select":case"option":break;default:"function"==typeof a.onClick&&(i.onclick=Te)}n=e,t.updateQueue=n,null!==n&&(t.effectTag|=4)}else{switch(s=9===n.nodeType?n:n.ownerDocument,e===Yo&&(e=z(o)),e===Yo?"script"===o?((e=s.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"==typeof i.is?e=s.createElement(o,{is:i.is}):(e=s.createElement(o),"select"===o&&(s=e,i.multiple?s.multiple=!0:i.size&&(s.size=i.size))):e=s.createElementNS(e,o),e[ia]=t,e[oa]=i,es(e,t,!1,!1),t.stateNode=e,s=Ee(o,i),o){case"iframe":case"object":case"embed":ge("load",e),u=i;break;case"video":case"audio":for(u=0;u<Eo.length;u++)ge(Eo[u],e);u=i;break;case"source":ge("error",e),u=i;break;case"img":case"image":case"link":ge("error",e),ge("load",e),u=i;break;case"form":ge("reset",e),ge("submit",e),u=i;break;case"details":ge("toggle",e),u=i;break;case"input":D(e,i),u=C(e,i),ge("invalid",e),Se(n,"onChange");break;case"option":u=I(e,i);break;case"select":e._wrapperState={wasMultiple:!!i.multiple},u=mi({},i,{value:void 0}),ge("invalid",e),Se(n,"onChange");break;case"textarea":F(e,i),u=N(e,i),ge("invalid",e),Se(n,"onChange");break;default:u=i}_e(o,u);var c=u;for(a in c)if(c.hasOwnProperty(a)){var l=c[a];"style"===a?we(e,l):"dangerouslySetInnerHTML"===a?null!=(l=l?l.__html:void 0)&&ho(e,l):"children"===a?"string"==typeof l?("textarea"!==o||""!==l)&&G(e,l):"number"==typeof l&&G(e,""+l):"suppressContentEditableWarning"!==a&&"suppressHydrationWarning"!==a&&"autoFocus"!==a&&(Di.hasOwnProperty(a)?null!=l&&Se(n,a):null!=l&&b(e,a,l,s))}"input"===o?(A(e),R(e,i,!1)):"textarea"===o?(A(e),U(e)):"option"===o?null!=i.value&&e.setAttribute("value",""+S(i.value)):"select"===o?(e.multiple=!!i.multiple,null==(n=i.value)?null!=i.defaultValue&&k(e,!!i.multiple,i.defaultValue,!0):k(e,!!i.multiple,n,!1)):"function"==typeof u.onClick&&(e.onclick=Te),Pe(o,i)&&(t.effectTag|=4)}null!==t.ref&&(t.effectTag|=128)}return null;case 6:if(e&&null!=t.stateNode)rs(e,t,e.memoizedProps,i);else{if("string"!=typeof i&&null===t.stateNode)throw Error(r(166));n=tn(Hs.current),tn(js.current),Fn(t)?(n=t.stateNode,i=t.memoizedProps,n[ia]=t,n.nodeValue!==i&&(t.effectTag|=4)):((n=(9===n.nodeType?n:n.ownerDocument).createTextNode(i))[ia]=t,t.stateNode=n)}return null;case 13:return vt(Vs),i=t.memoizedState,0!=(64&t.effectTag)?(t.expirationTime=n,t):(n=null!==i,i=!1,null===e?void 0!==t.memoizedProps.fallback&&Fn(t):(i=null!==(o=e.memoizedState),n||null===o||null!==(o=e.child.sibling)&&(null===(a=t.firstEffect)?(t.firstEffect=t.lastEffect=o,o.nextEffect=null):(t.firstEffect=o,o.nextEffect=a),o.effectTag=8)),n&&!i&&0!=(2&t.mode)&&(null===e&&!0!==t.memoizedProps.unstable_avoidThisFallback||0!=(1&Vs.current)?Cu===yu&&(Cu=wu):((Cu===yu||Cu===wu)&&(Cu=_u),0!==Ou&&null!==Tu&&(ti(Tu,Mu),ni(Tu,Ou)))),(n||i)&&(t.effectTag|=4),null);case 4:return rn(),ts(t),null;case 10:return Nt(t),null;case 17:return bt(t.type)&&wt(),null;case 19:if(vt(Vs),null===(i=t.memoizedState))return null;if(o=0!=(64&t.effectTag),null!==(a=i.rendering)){if(!o)if(null===(e=sn(a)))2*Cs()-i.renderingStartTime>i.tailExpiration&&1<n&&(t.effectTag|=64,o=!0,Qn(i,!1),t.expirationTime=t.childExpirationTime=n-1);else if(t.effectTag|=64,o=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.effectTag|=4),Qn(i,!0),null===i.tail&&"hidden"===i.tailMode&&!a.alternate)return null!==(t=t.lastEffect=i.lastEffect)&&(t.nextEffect=null),null;i.isBackwards?(a.sibling=t.child,t.child=a):(null===(n=i.last)?t.child=a:n.sibling=a,i.last=a)}else if(o)Qn(i,!1);else if(Cu!==yu||null!==e&&0!=(64&e.effectTag))for(a=t.child;null!==a;){if(null!==(e=sn(a))){for(t.effectTag|=64,Qn(i,!1),null!==(o=e.updateQueue)&&(t.updateQueue=o,t.effectTag|=4),null===i.lastEffect&&(t.firstEffect=null),t.lastEffect=i.lastEffect,i=t.child;null!==i;)a=n,(o=i).effectTag&=2,o.nextEffect=null,o.firstEffect=null,o.lastEffect=null,null===(e=o.alternate)?(o.childExpirationTime=0,o.expirationTime=a,o.child=null,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null):(o.childExpirationTime=e.childExpirationTime,o.expirationTime=e.expirationTime,o.child=e.child,o.memoizedProps=e.memoizedProps,o.memoizedState=e.memoizedState,o.updateQueue=e.updateQueue,a=e.dependencies,o.dependencies=null===a?null:{expirationTime:a.expirationTime,firstContext:a.firstContext,responders:a.responders}),i=i.sibling;return yt(Vs,2|1&Vs.current),t.child}a=a.sibling}return null===i.tail?null:(0===i.tailExpiration&&(i.tailExpiration=Cs()+500),n=i.tail,i.rendering=n,i.tail=n.sibling,i.lastEffect=t.lastEffect,i.renderingStartTime=Cs(),n.sibling=null,t=Vs.current,yt(Vs,o?2|1&t:1&t),n)}throw Error(r(156,t.tag))}function tr(e){switch(e.tag){case 1:bt(e.type)&&wt();var t=e.effectTag;return 4096&t?(e.effectTag=64|-4097&t,e):null;case 3:if(rn(),vt(us),vt(ss),0!=(64&(t=e.effectTag)))throw Error(r(285));return e.effectTag=64|-4097&t,e;case 5:return an(e),null;case 13:return vt(Vs),4096&(t=e.effectTag)?(e.effectTag=64|-4097&t,e):null;case 19:return vt(Vs),null;case 4:return rn(),null;case 10:return Nt(e),null;default:return null}}function nr(e,t){return{value:e,source:t,stack:E(t)}}function rr(e,t){var n=t.source,r=t.stack;null===r&&null!==n&&(r=E(n)),null!==n&&_(n.type),t=t.value,null!==e&&1===e.tag&&_(e.type);try{console.error(t)}catch(t){setTimeout(function(){throw t})}}function ir(e){var t=e.ref;if(null!==t)if("function"==typeof t)try{t(null)}catch(t){Hr(e,t)}else t.current=null}function or(e,t){switch(t.tag){case 0:case 11:case 15:case 22:return;case 1:if(256&t.effectTag&&null!==e){var n=e.memoizedProps,i=e.memoizedState;t=(e=t.stateNode).getSnapshotBeforeUpdate(t.elementType===t.type?n:It(t.type,n),i),e.__reactInternalSnapshotBeforeUpdate=t}return;case 3:case 5:case 6:case 4:case 17:return}throw Error(r(163))}function ar(e,t){if(null!==(t=null===(t=t.updateQueue)?null:t.lastEffect)){var n=t=t.next;do{if((n.tag&e)===e){var r=n.destroy;n.destroy=void 0,void 0!==r&&r()}n=n.next}while(n!==t)}}function sr(e,t){if(null!==(t=null===(t=t.updateQueue)?null:t.lastEffect)){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function ur(e,t,n){switch(n.tag){case 0:case 11:case 15:case 22:return void sr(3,n);case 1:if(e=n.stateNode,4&n.effectTag)if(null===t)e.componentDidMount();else{var i=n.elementType===n.type?t.memoizedProps:It(n.type,t.memoizedProps);e.componentDidUpdate(i,t.memoizedState,e.__reactInternalSnapshotBeforeUpdate)}return void(null!==(t=n.updateQueue)&&Xt(n,t,e));case 3:if(null!==(t=n.updateQueue)){if(e=null,null!==n.child)switch(n.child.tag){case 5:e=n.child.stateNode;break;case 1:e=n.child.stateNode}Xt(n,t,e)}return;case 5:return e=n.stateNode,void(null===t&&4&n.effectTag&&Pe(n.type,n.memoizedProps)&&e.focus());case 6:case 4:case 12:return;case 13:return void(null===n.memoizedState&&(n=n.alternate,null!==n&&(n=n.memoizedState,null!==n&&(n=n.dehydrated,null!==n&&de(n)))));case 19:case 17:case 20:case 21:return}throw Error(r(163))}function cr(e,t,n){switch("function"==typeof Ju&&Ju(t),t.tag){case 0:case 11:case 14:case 15:case 22:if(null!==(e=t.updateQueue)&&null!==(e=e.lastEffect)){var r=e.next;Ct(97<n?97:n,function(){var e=r;do{var n=e.destroy;if(void 0!==n)try{n()}catch(e){Hr(t,e)}e=e.next}while(e!==r)})}break;case 1:ir(t),"function"==typeof(n=t.stateNode).componentWillUnmount&&function(e,t){try{t.props=e.memoizedProps,t.state=e.memoizedState,t.componentWillUnmount()}catch(t){Hr(e,t)}}(t,n);break;case 5:ir(t);break;case 4:fr(e,t,n)}}function lr(e){var t=e.alternate;e.return=null,e.child=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.alternate=null,e.firstEffect=null,e.lastEffect=null,e.pendingProps=null,e.memoizedProps=null,e.stateNode=null,null!==t&&lr(t)}function hr(e){return 5===e.tag||3===e.tag||4===e.tag}function pr(e){e:{for(var t=e.return;null!==t;){if(hr(t)){var n=t;break e}t=t.return}throw Error(r(160))}switch(t=n.stateNode,n.tag){case 5:var i=!1;break;case 3:case 4:t=t.containerInfo,i=!0;break;default:throw Error(r(161))}16&n.effectTag&&(G(t,""),n.effectTag&=-17);e:t:for(n=e;;){for(;null===n.sibling;){if(null===n.return||hr(n.return)){n=null;break e}n=n.return}for(n.sibling.return=n.return,n=n.sibling;5!==n.tag&&6!==n.tag&&18!==n.tag;){if(2&n.effectTag)continue t;if(null===n.child||4===n.tag)continue t;n.child.return=n,n=n.child}if(!(2&n.effectTag)){n=n.stateNode;break e}}i?function e(t,n,r){var i=t.tag,o=5===i||6===i;if(o)t=o?t.stateNode:t.stateNode.instance,n?8===r.nodeType?r.parentNode.insertBefore(t,n):r.insertBefore(t,n):(8===r.nodeType?(n=r.parentNode,n.insertBefore(t,r)):(n=r,n.appendChild(t)),r=r._reactRootContainer,null!=r||null!==n.onclick||(n.onclick=Te));else if(4!==i&&(t=t.child,null!==t))for(e(t,n,r),t=t.sibling;null!==t;)e(t,n,r),t=t.sibling}(e,n,t):function e(t,n,r){var i=t.tag,o=5===i||6===i;if(o)t=o?t.stateNode:t.stateNode.instance,n?r.insertBefore(t,n):r.appendChild(t);else if(4!==i&&(t=t.child,null!==t))for(e(t,n,r),t=t.sibling;null!==t;)e(t,n,r),t=t.sibling}(e,n,t)}function fr(e,t,n){for(var i,o,a=t,s=!1;;){if(!s){s=a.return;e:for(;;){if(null===s)throw Error(r(160));switch(i=s.stateNode,s.tag){case 5:o=!1;break e;case 3:case 4:i=i.containerInfo,o=!0;break e}s=s.return}s=!0}if(5===a.tag||6===a.tag){e:for(var u=e,c=a,l=c;;)if(cr(u,l,n),null!==l.child&&4!==l.tag)l.child.return=l,l=l.child;else{if(l===c)break e;for(;null===l.sibling;){if(null===l.return||l.return===c)break e;l=l.return}l.sibling.return=l.return,l=l.sibling}o?(u=i,c=a.stateNode,8===u.nodeType?u.parentNode.removeChild(c):u.removeChild(c)):i.removeChild(a.stateNode)}else if(4===a.tag){if(null!==a.child){i=a.stateNode.containerInfo,o=!0,a.child.return=a,a=a.child;continue}}else if(cr(e,a,n),null!==a.child){a.child.return=a,a=a.child;continue}if(a===t)break;for(;null===a.sibling;){if(null===a.return||a.return===t)return;4===(a=a.return).tag&&(s=!1)}a.sibling.return=a.return,a=a.sibling}}function dr(e,t){switch(t.tag){case 0:case 11:case 14:case 15:case 22:return void ar(3,t);case 1:return;case 5:var n=t.stateNode;if(null!=n){var i=t.memoizedProps,o=null===e?i:e.memoizedProps;e=t.type;var a=t.updateQueue;if(t.updateQueue=null,null!==a){for(n[oa]=i,"input"===e&&"radio"===i.type&&null!=i.name&&L(n,i),Ee(e,o),t=Ee(e,i),o=0;o<a.length;o+=2){var s=a[o],u=a[o+1];"style"===s?we(n,u):"dangerouslySetInnerHTML"===s?ho(n,u):"children"===s?G(n,u):b(n,s,u,t)}"input"===e?P(n,i):"textarea"===e?B(n,i):"select"===e&&(t=n._wrapperState.wasMultiple,n._wrapperState.wasMultiple=!!i.multiple,null==(e=i.value)?t!==!!i.multiple&&(null==i.defaultValue?k(n,!!i.multiple,i.multiple?[]:"",!1):k(n,!!i.multiple,i.defaultValue,!0)):k(n,!!i.multiple,e,!1))}}return;case 6:if(null===t.stateNode)throw Error(r(162));return void(t.stateNode.nodeValue=t.memoizedProps);case 3:return void((t=t.stateNode).hydrate&&(t.hydrate=!1,de(t.containerInfo)));case 12:return;case 13:if(n=t,null===t.memoizedState?i=!1:(i=!0,n=t.child,ku=Cs()),null!==n)e:for(e=n;;){if(5===e.tag)a=e.stateNode,i?"function"==typeof(a=a.style).setProperty?a.setProperty("display","none","important"):a.display="none":(a=e.stateNode,o=null!=(o=e.memoizedProps.style)&&o.hasOwnProperty("display")?o.display:null,a.style.display=be("display",o));else if(6===e.tag)e.stateNode.nodeValue=i?"":e.memoizedProps;else{if(13===e.tag&&null!==e.memoizedState&&null===e.memoizedState.dehydrated){(a=e.child.sibling).return=e,e=a;continue}if(null!==e.child){e.child.return=e,e=e.child;continue}}if(e===n)break;for(;null===e.sibling;){if(null===e.return||e.return===n)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}return void mr(t);case 19:return void mr(t);case 17:return}throw Error(r(163))}function mr(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new cu),t.forEach(function(t){var r=function(e,t){var n=e.stateNode;null!==n&&n.delete(t),0==(t=0)&&(t=xr(t=yr(),e,null)),null!==(e=wr(e,t))&&Er(e)}.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))})}}function gr(e,t,n){(n=Gt(n,null)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Bu||(Bu=!0,Uu=r),rr(e,t)},n}function vr(e,t,n){(n=Gt(n,null)).tag=3;var r=e.type.getDerivedStateFromError;if("function"==typeof r){var i=t.value;n.payload=function(){return rr(e,t),r(i)}}var o=e.stateNode;return null!==o&&"function"==typeof o.componentDidCatch&&(n.callback=function(){"function"!=typeof r&&(null===zu?zu=new Set([this]):zu.add(this),rr(e,t));var n=t.stack;this.componentDidCatch(t.value,{componentStack:null===n?"":n})}),n}function yr(){return(Su&(gu|vu))===du?0===qu?qu=1073741821-(0|Cs()/10):qu:1073741821-(0|Cs()/10)}function xr(e,t,n){if(0==(2&(t=t.mode)))return 1073741823;var i=At();if(0==(4&t))return 99===i?1073741823:1073741822;if((Su&gu)!==du)return Mu;if(null!==n)e=Ot(e,0|n.timeoutMs||5e3,250);else switch(i){case 99:e=1073741823;break;case 98:e=Ot(e,150,100);break;case 97:case 96:e=Ot(e,5e3,250);break;case 95:e=2;break;default:throw Error(r(326))}return null!==Tu&&e===Mu&&--e,e}function br(e,t){if(50<Wu)throw Wu=0,Xu=null,Error(r(185));if(null!==(e=wr(e,t))){var n=At();1073741823===t?(Su&mu)!==du&&(Su&(gu|vu))===du?Tr(e):(Er(e),Su===du&&Pt()):Er(e),(4&Su)===du||98!==n&&99!==n||(null===Vu?Vu=new Map([[e,t]]):(void 0===(n=Vu.get(e))||n>t)&&Vu.set(e,t))}}function wr(e,t){e.expirationTime<t&&(e.expirationTime=t);var n=e.alternate;null!==n&&n.expirationTime<t&&(n.expirationTime=t);var r=e.return,i=null;if(null===r&&3===e.tag)i=e.stateNode;else for(;null!==r;){if(n=r.alternate,r.childExpirationTime<t&&(r.childExpirationTime=t),null!==n&&n.childExpirationTime<t&&(n.childExpirationTime=t),null===r.return&&3===r.tag){i=r.stateNode;break}r=r.return}return null!==i&&(Tu===i&&(Rr(t),Cu===_u&&ti(i,Mu)),ni(i,t)),i}function _r(e){var t=e.lastExpiredTime;if(0!==t)return t;if(!ei(e,t=e.firstPendingTime))return t;var n=e.lastPingedTime;return 2>=(e=n>(e=e.nextKnownPendingLevel)?n:e)&&t!==e?0:e}function Er(e){if(0!==e.lastExpiredTime)e.callbackExpirationTime=1073741823,e.callbackPriority=99,e.callbackNode=Lt(Tr.bind(null,e));else{var t=_r(e),n=e.callbackNode;if(0===t)null!==n&&(e.callbackNode=null,e.callbackExpirationTime=0,e.callbackPriority=90);else{var r=yr();if(1073741823===t?r=99:1===t||2===t?r=95:r=0>=(r=10*(1073741821-t)-10*(1073741821-r))?99:250>=r?98:5250>=r?97:95,null!==n){var i=e.callbackPriority;if(e.callbackExpirationTime===t&&i>=r)return;n!==ws&&ps(n)}e.callbackExpirationTime=t,e.callbackPriority=r,t=1073741823===t?Lt(Tr.bind(null,e)):Dt(r,Sr.bind(null,e),{timeout:10*(1073741821-t)-Cs()}),e.callbackNode=t}}}function Sr(e,t){if(qu=0,t)return ri(e,t=yr()),Er(e),null;var n=_r(e);if(0!==n){if(t=e.callbackNode,(Su&(gu|vu))!==du)throw Error(r(327));if(zr(),e===Tu&&n===Mu||Cr(e,n),null!==Au){var i=Su;Su|=gu;for(var o=Lr();;)try{Ir();break}catch(a){Dr(e,a)}if(kt(),Su=i,pu.current=o,Cu===xu)throw t=Du,Cr(e,n),ti(e,n),Er(e),t;if(null===Au)switch(o=e.finishedWork=e.current.alternate,e.finishedExpirationTime=n,i=Cu,Tu=null,i){case yu:case xu:throw Error(r(345));case bu:ri(e,2<n?2:n);break;case wu:if(ti(e,n),n===(i=e.lastSuspendedTime)&&(e.nextKnownPendingLevel=Fr(o)),1073741823===Lu&&10<(o=ku+Nu-Cs())){if(Iu){var a=e.lastPingedTime;if(0===a||a>=n){e.lastPingedTime=n,Cr(e,n);break}}if(0!==(a=_r(e))&&a!==n)break;if(0!==i&&i!==n){e.lastPingedTime=i;break}e.timeoutHandle=ta(Br.bind(null,e),o);break}Br(e);break;case _u:if(ti(e,n),n===(i=e.lastSuspendedTime)&&(e.nextKnownPendingLevel=Fr(o)),Iu&&(0===(o=e.lastPingedTime)||o>=n)){e.lastPingedTime=n,Cr(e,n);break}if(0!==(o=_r(e))&&o!==n)break;if(0!==i&&i!==n){e.lastPingedTime=i;break}if(1073741823===Pu?1073741823===Lu?i=0:(i=10*(1073741821-Lu)-5e3,0>(i=(o=Cs())-i)&&(i=0),(n=10*(1073741821-n)-o)<(i=(120>i?120:480>i?480:1080>i?1080:1920>i?1920:3e3>i?3e3:4320>i?4320:1960*hu(i/1960))-i)&&(i=n)):i=10*(1073741821-Pu)-Cs(),10<i){e.timeoutHandle=ta(Br.bind(null,e),i);break}Br(e);break;case Eu:if(1073741823!==Lu&&null!==Ru){a=Lu;var s=Ru;if(0>=(i=0|s.busyMinDurationMs)?i=0:(o=0|s.busyDelayMs,i=(a=Cs()-(10*(1073741821-a)-(0|s.timeoutMs||5e3)))<=o?0:o+i-a),10<i){ti(e,n),e.timeoutHandle=ta(Br.bind(null,e),i);break}}Br(e);break;default:throw Error(r(329))}if(Er(e),e.callbackNode===t)return Sr.bind(null,e)}}return null}function Tr(e){var t=e.lastExpiredTime;if(t=0===t?1073741823:t,(Su&(gu|vu))!==du)throw Error(r(327));if(zr(),e===Tu&&t===Mu||Cr(e,t),null!==Au){var n=Su;Su|=gu;for(var i=Lr();;)try{Or();break}catch(n){Dr(e,n)}if(kt(),Su=n,pu.current=i,Cu===xu)throw n=Du,Cr(e,t),ti(e,t),Er(e),n;if(null!==Au)throw Error(r(261));e.finishedWork=e.current.alternate,e.finishedExpirationTime=t,Tu=null,Br(e),Er(e)}return null}function Ar(e,t){var n=Su;Su|=1;try{return e(t)}finally{(Su=n)===du&&Pt()}}function Mr(e,t){var n=Su;Su&=-2,Su|=mu;try{return e(t)}finally{(Su=n)===du&&Pt()}}function Cr(e,t){e.finishedWork=null,e.finishedExpirationTime=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,na(n)),null!==Au)for(n=Au.return;null!==n;){var r=n;switch(r.tag){case 1:null!=(r=r.type.childContextTypes)&&wt();break;case 3:rn(),vt(us),vt(ss);break;case 5:an(r);break;case 4:rn();break;case 13:case 19:vt(Vs);break;case 10:Nt(r)}n=n.return}Tu=e,Au=Yr(e.current,null),Mu=t,Cu=yu,Du=null,Pu=Lu=1073741823,Ru=null,Ou=0,Iu=!1}function Dr(e,t){for(;;){try{if(kt(),Ws.current=$s,Ks)for(var n,r=Ys.memoizedState;null!==r;)null!==(n=r.queue)&&(n.pending=null),r=r.next;if(qs=0,Zs=Js=Ys=null,Ks=!1,null===Au||null===Au.return)return Cu=xu,Du=t,Au=null;e:{var i=e,o=Au.return,a=Au,s=t;if(t=Mu,a.effectTag|=2048,a.firstEffect=a.lastEffect=null,null!==s&&"object"==typeof s&&"function"==typeof s.then){var u=s;if(0==(2&a.mode)){var c=a.alternate;c?(a.updateQueue=c.updateQueue,a.memoizedState=c.memoizedState,a.expirationTime=c.expirationTime):(a.updateQueue=null,a.memoizedState=null)}var l=0!=(1&Vs.current),h=o;do{var p;if(p=13===h.tag){var f=h.memoizedState;if(null!==f)p=null!==f.dehydrated;else{var d=h.memoizedProps;p=void 0!==d.fallback&&(!0!==d.unstable_avoidThisFallback||!l)}}if(p){var m=h.updateQueue;if(null===m){var g=new Set;g.add(u),h.updateQueue=g}else m.add(u);if(0==(2&h.mode)){if(h.effectTag|=64,a.effectTag&=-2981,1===a.tag)if(null===a.alternate)a.tag=17;else{var v=Gt(1073741823,null);v.tag=2,Ht(a,v)}a.expirationTime=1073741823;break e}s=void 0,a=t;var y=i.pingCache;if(null===y?(y=i.pingCache=new lu,s=new Set,y.set(u,s)):void 0===(s=y.get(u))&&(s=new Set,y.set(u,s)),!s.has(a)){s.add(a);var x=Vr.bind(null,i,u,a);u.then(x,x)}h.effectTag|=4096,h.expirationTime=t;break e}h=h.return}while(null!==h);s=Error((_(a.type)||"A React component")+" suspended while rendering, but no fallback UI was specified.\n\nAdd a <Suspense fallback=...> component higher in the tree to provide a loading indicator or placeholder to display."+E(a))}Cu!==Eu&&(Cu=bu),s=nr(s,a),h=o;do{switch(h.tag){case 3:u=s,h.effectTag|=4096,h.expirationTime=t,Vt(h,gr(h,u,t));break e;case 1:u=s;var b=h.type,w=h.stateNode;if(0==(64&h.effectTag)&&("function"==typeof b.getDerivedStateFromError||null!==w&&"function"==typeof w.componentDidCatch&&(null===zu||!zu.has(w)))){h.effectTag|=4096,h.expirationTime=t,Vt(h,vr(h,u,t));break e}}h=h.return}while(null!==h)}Au=Nr(Au)}catch(o){t=o;continue}break}}function Lr(){var e=pu.current;return pu.current=$s,null===e?$s:e}function Pr(e,t){e<Lu&&2<e&&(Lu=e),null!==t&&e<Pu&&2<e&&(Pu=e,Ru=t)}function Rr(e){e>Ou&&(Ou=e)}function Or(){for(;null!==Au;)Au=kr(Au)}function Ir(){for(;null!==Au&&!_s();)Au=kr(Au)}function kr(e){var t=uu(e.alternate,e,Mu);return e.memoizedProps=e.pendingProps,null===t&&(t=Nr(e)),fu.current=null,t}function Nr(e){Au=e;do{var t=Au.alternate;if(e=Au.return,0==(2048&Au.effectTag)){if(t=er(t,Au,Mu),1===Mu||1!==Au.childExpirationTime){for(var n=0,r=Au.child;null!==r;){var i=r.expirationTime,o=r.childExpirationTime;i>n&&(n=i),o>n&&(n=o),r=r.sibling}Au.childExpirationTime=n}if(null!==t)return t;null!==e&&0==(2048&e.effectTag)&&(null===e.firstEffect&&(e.firstEffect=Au.firstEffect),null!==Au.lastEffect&&(null!==e.lastEffect&&(e.lastEffect.nextEffect=Au.firstEffect),e.lastEffect=Au.lastEffect),1<Au.effectTag&&(null===e.lastEffect?e.firstEffect=Au:e.lastEffect.nextEffect=Au,e.lastEffect=Au))}else{if(null!==(t=tr(Au)))return t.effectTag&=2047,t;null!==e&&(e.firstEffect=e.lastEffect=null,e.effectTag|=2048)}if(null!==(t=Au.sibling))return t;Au=e}while(null!==Au);return Cu===yu&&(Cu=Eu),null}function Fr(e){var t=e.expirationTime;return t>(e=e.childExpirationTime)?t:e}function Br(e){var t=At();return Ct(99,function(e,t){do{zr()}while(null!==Gu);if((Su&(gu|vu))!==du)throw Error(r(327));var n=e.finishedWork,i=e.finishedExpirationTime;if(null===n)return null;if(e.finishedWork=null,e.finishedExpirationTime=0,n===e.current)throw Error(r(177));e.callbackNode=null,e.callbackExpirationTime=0,e.callbackPriority=90,e.nextKnownPendingLevel=0;var o=Fr(n);if(e.firstPendingTime=o,i<=e.lastSuspendedTime?e.firstSuspendedTime=e.lastSuspendedTime=e.nextKnownPendingLevel=0:i<=e.firstSuspendedTime&&(e.firstSuspendedTime=i-1),i<=e.lastPingedTime&&(e.lastPingedTime=0),i<=e.lastExpiredTime&&(e.lastExpiredTime=0),e===Tu&&(Au=Tu=null,Mu=0),1<n.effectTag?null===n.lastEffect?o=n:(n.lastEffect.nextEffect=n,o=n.firstEffect):o=n.firstEffect,null!==o){var a=Su;Su|=vu,fu.current=null,Qo=Vo;var s=De();if(Le(s)){if("selectionStart"in s)var u={start:s.selectionStart,end:s.selectionEnd};else e:{var c=(u=(u=s.ownerDocument)&&u.defaultView||window).getSelection&&u.getSelection();if(c&&0!==c.rangeCount){u=c.anchorNode;var l=c.anchorOffset,h=c.focusNode;c=c.focusOffset;try{u.nodeType,h.nodeType}catch(a){u=null;break e}var p=0,f=-1,d=-1,m=0,g=0,v=s,y=null;t:for(;;){for(var x;v!==u||0!==l&&3!==v.nodeType||(f=p+l),v!==h||0!==c&&3!==v.nodeType||(d=p+c),3===v.nodeType&&(p+=v.nodeValue.length),null!==(x=v.firstChild);)y=v,v=x;for(;;){if(v===s)break t;if(y===u&&++m===l&&(f=p),y===h&&++g===c&&(d=p),null!==(x=v.nextSibling))break;y=(v=y).parentNode}v=x}u=-1===f||-1===d?null:{start:f,end:d}}else u=null}u=u||{start:0,end:0}}else u=null;ea={activeElementDetached:null,focusedElem:s,selectionRange:u},Vo=!1,Fu=o;do{try{Ur()}catch(a){if(null===Fu)throw Error(r(330));Hr(Fu,a),Fu=Fu.nextEffect}}while(null!==Fu);Fu=o;do{try{for(s=e,u=t;null!==Fu;){var b=Fu.effectTag;if(16&b&&G(Fu.stateNode,""),128&b){var w=Fu.alternate;if(null!==w){var _=w.ref;null!==_&&("function"==typeof _?_(null):_.current=null)}}switch(1038&b){case 2:pr(Fu),Fu.effectTag&=-3;break;case 6:pr(Fu),Fu.effectTag&=-3,dr(Fu.alternate,Fu);break;case 1024:Fu.effectTag&=-1025;break;case 1028:Fu.effectTag&=-1025,dr(Fu.alternate,Fu);break;case 4:dr(Fu.alternate,Fu);break;case 8:fr(s,l=Fu,u),lr(l)}Fu=Fu.nextEffect}}catch(a){if(null===Fu)throw Error(r(330));Hr(Fu,a),Fu=Fu.nextEffect}}while(null!==Fu);if(_=ea,w=De(),b=_.focusedElem,u=_.selectionRange,w!==b&&b&&b.ownerDocument&&function e(t,n){return!(!t||!n)&&(t===n||!(t&&3===t.nodeType)&&(n&&3===n.nodeType?e(t,n.parentNode):"contains"in t?t.contains(n):!!t.compareDocumentPosition&&!!(16&t.compareDocumentPosition(n))))}(b.ownerDocument.documentElement,b)){for((null!==u&&Le(b)&&(w=u.start,void 0===(_=u.end)&&(_=w),"selectionStart"in b?(b.selectionStart=w,b.selectionEnd=pi(_,b.value.length)):(_=(w=b.ownerDocument||document)&&w.defaultView||window).getSelection&&(_=_.getSelection(),l=b.textContent.length,s=pi(u.start,l),u=void 0===u.end?s:pi(u.end,l),!_.extend&&s>u&&(l=u,u=s,s=l),l=Ce(b,s),h=Ce(b,u),l&&h&&(1!==_.rangeCount||_.anchorNode!==l.node||_.anchorOffset!==l.offset||_.focusNode!==h.node||_.focusOffset!==h.offset)&&((w=w.createRange()).setStart(l.node,l.offset),_.removeAllRanges(),s>u?(_.addRange(w),_.extend(h.node,h.offset)):(w.setEnd(h.node,h.offset),_.addRange(w))))),w=[],_=b);_=_.parentNode;)1===_.nodeType&&w.push({element:_,left:_.scrollLeft,top:_.scrollTop});for("function"==typeof b.focus&&b.focus(),b=0;b<w.length;b++)(_=w[b]).element.scrollLeft=_.left,_.element.scrollTop=_.top}Vo=!!Qo,ea=Qo=null,e.current=n,Fu=o;do{try{for(b=e;null!==Fu;){var E=Fu.effectTag;if(36&E&&ur(b,Fu.alternate,Fu),128&E){w=void 0;var S=Fu.ref;if(null!==S){var T=Fu.stateNode;switch(Fu.tag){case 5:w=T;break;default:w=T}"function"==typeof S?S(w):S.current=w}}Fu=Fu.nextEffect}}catch(a){if(null===Fu)throw Error(r(330));Hr(Fu,a),Fu=Fu.nextEffect}}while(null!==Fu);Fu=null,Es(),Su=a}else e.current=n;if(ju)ju=!1,Gu=e,Hu=t;else for(Fu=o;null!==Fu;)t=Fu.nextEffect,Fu.nextEffect=null,Fu=t;if(0===(t=e.firstPendingTime)&&(zu=null),1073741823===t?e===Xu?Wu++:(Wu=0,Xu=e):Wu=0,"function"==typeof Yu&&Yu(n.stateNode,i),Er(e),Bu)throw Bu=!1,e=Uu,Uu=null,e;return(Su&mu)===du?(Pt(),null):null}.bind(null,e,t)),null}function Ur(){for(;null!==Fu;){var e=Fu.effectTag;0!=(256&e)&&or(Fu.alternate,Fu),0==(512&e)||ju||(ju=!0,Dt(97,function(){return zr(),null})),Fu=Fu.nextEffect}}function zr(){if(90!==Hu){var e=97<Hu?97:Hu;return Hu=90,Ct(e,jr)}}function jr(){if(null===Gu)return!1;var e=Gu;if(Gu=null,(Su&(gu|vu))!==du)throw Error(r(331));var t=Su;for(Su|=vu,e=e.current.firstEffect;null!==e;){try{var n=e;if(0!=(512&n.effectTag))switch(n.tag){case 0:case 11:case 15:case 22:ar(5,n),sr(5,n)}}catch(t){if(null===e)throw Error(r(330));Hr(e,t)}n=e.nextEffect,e.nextEffect=null,e=n}return Su=t,Pt(),!0}function Gr(e,t,n){Ht(e,t=gr(e,t=nr(n,t),1073741823)),null!==(e=wr(e,1073741823))&&Er(e)}function Hr(e,t){if(3===e.tag)Gr(e,e,t);else for(var n=e.return;null!==n;){if(3===n.tag){Gr(n,e,t);break}if(1===n.tag){var r=n.stateNode;if("function"==typeof n.type.getDerivedStateFromError||"function"==typeof r.componentDidCatch&&(null===zu||!zu.has(r))){Ht(n,e=vr(n,e=nr(t,e),1073741823)),null!==(n=wr(n,1073741823))&&Er(n);break}}n=n.return}}function Vr(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),Tu===e&&Mu===n?Cu===_u||Cu===wu&&1073741823===Lu&&Cs()-ku<Nu?Cr(e,Mu):Iu=!0:ei(e,n)&&(0!==(t=e.lastPingedTime)&&t<n||(e.lastPingedTime=n,Er(e)))}function Wr(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.effectTag=0,this.lastEffect=this.firstEffect=this.nextEffect=null,this.childExpirationTime=this.expirationTime=0,this.alternate=null}function Xr(e,t,n,r){return new Wr(e,t,n,r)}function qr(e){return(e=e.prototype)&&e.isReactComponent}function Yr(e,t){var n=e.alternate;return null===n?((n=Xr(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.effectTag=0,n.nextEffect=null,n.firstEffect=null,n.lastEffect=null),n.childExpirationTime=e.childExpirationTime,n.expirationTime=e.expirationTime,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{expirationTime:t.expirationTime,firstContext:t.firstContext,responders:t.responders},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Jr(e,t,n,i,o,a){var s=2;if(i=e,"function"==typeof e)qr(e)&&(s=1);else if("string"==typeof e)s=5;else e:switch(e){case Zi:return Zr(n.children,o,a,t);case to:s=8,o|=7;break;case Ki:s=8,o|=1;break;case $i:return(e=Xr(12,n,t,8|o)).elementType=$i,e.type=$i,e.expirationTime=a,e;case ro:return(e=Xr(13,n,t,o)).type=ro,e.elementType=ro,e.expirationTime=a,e;case io:return(e=Xr(19,n,t,o)).elementType=io,e.expirationTime=a,e;default:if("object"==typeof e&&null!==e)switch(e.$$typeof){case Qi:s=10;break e;case eo:s=9;break e;case no:s=11;break e;case oo:s=14;break e;case ao:s=16,i=null;break e;case so:s=22;break e}throw Error(r(130,null==e?e:typeof e,""))}return(t=Xr(s,n,t,o)).elementType=e,t.type=i,t.expirationTime=a,t}function Zr(e,t,n,r){return(e=Xr(7,e,r,t)).expirationTime=n,e}function Kr(e,t,n){return(e=Xr(6,e,null,t)).expirationTime=n,e}function $r(e,t,n){return(t=Xr(4,null===e.children?[]:e.children,e.key,t)).expirationTime=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Qr(e,t,n){this.tag=t,this.current=null,this.containerInfo=e,this.pingCache=this.pendingChildren=null,this.finishedExpirationTime=0,this.finishedWork=null,this.timeoutHandle=-1,this.pendingContext=this.context=null,this.hydrate=n,this.callbackNode=null,this.callbackPriority=90,this.lastExpiredTime=this.lastPingedTime=this.nextKnownPendingLevel=this.lastSuspendedTime=this.firstSuspendedTime=this.firstPendingTime=0}function ei(e,t){var n=e.firstSuspendedTime;return e=e.lastSuspendedTime,0!==n&&n>=t&&e<=t}function ti(e,t){var n=e.firstSuspendedTime,r=e.lastSuspendedTime;n<t&&(e.firstSuspendedTime=t),(r>t||0===n)&&(e.lastSuspendedTime=t),t<=e.lastPingedTime&&(e.lastPingedTime=0),t<=e.lastExpiredTime&&(e.lastExpiredTime=0)}function ni(e,t){t>e.firstPendingTime&&(e.firstPendingTime=t);var n=e.firstSuspendedTime;0!==n&&(t>=n?e.firstSuspendedTime=e.lastSuspendedTime=e.nextKnownPendingLevel=0:t>=e.lastSuspendedTime&&(e.lastSuspendedTime=t+1),t>e.nextKnownPendingLevel&&(e.nextKnownPendingLevel=t))}function ri(e,t){var n=e.lastExpiredTime;(0===n||n>t)&&(e.lastExpiredTime=t)}function ii(e,t,n,i){var o=t.current,a=yr(),s=Is.suspense;a=xr(a,o,s);e:if(n){t:{if(X(n=n._reactInternalFiber)!==n||1!==n.tag)throw Error(r(170));var u=n;do{switch(u.tag){case 3:u=u.stateNode.context;break t;case 1:if(bt(u.type)){u=u.stateNode.__reactInternalMemoizedMergedChildContext;break t}}u=u.return}while(null!==u);throw Error(r(171))}if(1===n.tag){var c=n.type;if(bt(c)){n=Et(n,c,u);break e}}n=u}else n=as;return null===t.context?t.context=n:t.pendingContext=n,(t=Gt(a,s)).payload={element:e},null!==(i=void 0===i?null:i)&&(t.callback=i),Ht(o,t),br(o,a),a}function oi(e){if(!(e=e.current).child)return null;switch(e.child.tag){case 5:default:return e.child.stateNode}}function ai(e,t){null!==(e=e.memoizedState)&&null!==e.dehydrated&&e.retryTime<t&&(e.retryTime=t)}function si(e,t){ai(e,t),(e=e.alternate)&&ai(e,t)}function ui(e,t,n){var r=new Qr(e,t,n=null!=n&&!0===n.hydrate),i=Xr(3,null,null,2===t?7:1===t?3:0);r.current=i,i.stateNode=r,zt(i),e[aa]=r.current,n&&0!==t&&function(e,t){var n=W(t);ko.forEach(function(e){oe(e,t,n)}),No.forEach(function(e){oe(e,t,n)})}(0,9===e.nodeType?e:e.ownerDocument),this._internalRoot=r}function ci(e){return e&&(1===e.nodeType||9===e.nodeType||11===e.nodeType||8===e.nodeType&&" react-mount-point-unstable "===e.nodeValue)}function li(e,t,n,r,i){var o=n._reactRootContainer;if(o){var a=o._internalRoot;if("function"==typeof i){var s=i;i=function(){var e=oi(a);s.call(e)}}ii(t,a,e,i)}else{if(o=n._reactRootContainer=function(e,t){if(t||(t=(t=e?9===e.nodeType?e.documentElement:e.firstChild:null)&&1===t.nodeType&&t.hasAttribute("data-reactroot")),!t)for(var n;n=e.lastChild;)e.removeChild(n);return new ui(e,0,t?{hydrate:!0}:void 0)}(n,r),a=o._internalRoot,"function"==typeof i){var u=i;i=function(){var e=oi(a);u.call(e)}}Mr(function(){ii(t,a,e,i)})}return oi(a)}function hi(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!ci(t))throw Error(r(200));return function(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:Ji,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}(e,t,null,n)}var pi=Math.min,fi=String.fromCharCode,di=n("q1tI"),mi=n("MgzW"),gi=n("QCnb");if(!di)throw Error(r(227));var vi=!1,yi=null,xi=!1,bi=null,wi={onError:function(e){vi=!0,yi=e}},_i=null,Ei=null,Si=null,Ti=null,Ai={},Mi=[],Ci={},Di={},Li={},Pi="undefined"!=typeof window&&void 0!==window.document&&void 0!==window.document.createElement,Ri=null,Oi=null,Ii=null,ki=f,Ni=!1,Fi=!1,Bi=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Ui=Object.prototype.hasOwnProperty,zi={},ji={},Gi={};["children","dangerouslySetInnerHTML","defaultValue","defaultChecked","innerHTML","suppressContentEditableWarning","suppressHydrationWarning","style"].forEach(function(e){Gi[e]=new y(e,0,!1,e,null,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Gi[t]=new y(t,1,!1,e[1],null,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(e){Gi[e]=new y(e,2,!1,e.toLowerCase(),null,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Gi[e]=new y(e,2,!1,e,null,!1)}),["allowFullScreen","async","autoFocus","autoPlay","controls","default","defer","disabled","disablePictureInPicture","formNoValidate","hidden","loop","noModule","noValidate","open","playsInline","readOnly","required","reversed","scoped","seamless","itemScope"].forEach(function(e){Gi[e]=new y(e,3,!1,e.toLowerCase(),null,!1)}),["checked","multiple","muted","selected"].forEach(function(e){Gi[e]=new y(e,3,!0,e,null,!1)}),["capture","download"].forEach(function(e){Gi[e]=new y(e,4,!1,e,null,!1)}),["cols","rows","size","span"].forEach(function(e){Gi[e]=new y(e,6,!1,e,null,!1)}),["rowSpan","start"].forEach(function(e){Gi[e]=new y(e,5,!1,e.toLowerCase(),null,!1)});var Hi=/[\-:]([a-z])/g;["accent-height","alignment-baseline","arabic-form","baseline-shift","cap-height","clip-path","clip-rule","color-interpolation","color-interpolation-filters","color-profile","color-rendering","dominant-baseline","enable-background","fill-opacity","fill-rule","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","glyph-name","glyph-orientation-horizontal","glyph-orientation-vertical","horiz-adv-x","horiz-origin-x","image-rendering","letter-spacing","lighting-color","marker-end","marker-mid","marker-start","overline-position","overline-thickness","paint-order","panose-1","pointer-events","rendering-intent","shape-rendering","stop-color","stop-opacity","strikethrough-position","strikethrough-thickness","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke-width","text-anchor","text-decoration","text-rendering","underline-position","underline-thickness","unicode-bidi","unicode-range","units-per-em","v-alphabetic","v-hanging","v-ideographic","v-mathematical","vector-effect","vert-adv-y","vert-origin-x","vert-origin-y","word-spacing","writing-mode","xmlns:xlink","x-height"].forEach(function(e){var t=e.replace(Hi,x);Gi[t]=new y(t,1,!1,e,null,!1)}),["xlink:actuate","xlink:arcrole","xlink:role","xlink:show","xlink:title","xlink:type"].forEach(function(e){var t=e.replace(Hi,x);Gi[t]=new y(t,1,!1,e,"http://www.w3.org/1999/xlink",!1)}),["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(Hi,x);Gi[t]=new y(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1)}),["tabIndex","crossOrigin"].forEach(function(e){Gi[e]=new y(e,1,!1,e.toLowerCase(),null,!1)}),Gi.xlinkHref=new y("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0),["src","href","action","formAction"].forEach(function(e){Gi[e]=new y(e,1,!1,e.toLowerCase(),null,!0)});var Vi=di.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;Vi.hasOwnProperty("ReactCurrentDispatcher")||(Vi.ReactCurrentDispatcher={current:null}),Vi.hasOwnProperty("ReactCurrentBatchConfig")||(Vi.ReactCurrentBatchConfig={suspense:null});var Wi,Xi=/^(.*)[\\\/]/,qi="function"==typeof Symbol&&Symbol.for,Yi=qi?Symbol.for("react.element"):60103,Ji=qi?Symbol.for("react.portal"):60106,Zi=qi?Symbol.for("react.fragment"):60107,Ki=qi?Symbol.for("react.strict_mode"):60108,$i=qi?Symbol.for("react.profiler"):60114,Qi=qi?Symbol.for("react.provider"):60109,eo=qi?Symbol.for("react.context"):60110,to=qi?Symbol.for("react.concurrent_mode"):60111,no=qi?Symbol.for("react.forward_ref"):60112,ro=qi?Symbol.for("react.suspense"):60113,io=qi?Symbol.for("react.suspense_list"):60120,oo=qi?Symbol.for("react.memo"):60115,ao=qi?Symbol.for("react.lazy"):60116,so=qi?Symbol.for("react.block"):60121,uo="function"==typeof Symbol&&Symbol.iterator,co="http://www.w3.org/1999/xhtml",lo="http://www.w3.org/2000/svg",ho=function(e){return"undefined"!=typeof MSApp&&MSApp.execUnsafeLocalFunction?function(t,n,r,i){MSApp.execUnsafeLocalFunction(function(){return e(t,n)})}:e}(function(e,t){if(e.namespaceURI!==lo||"innerHTML"in e)e.innerHTML=t;else{for((Wi=Wi||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Wi.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}}),po={animationend:H("Animation","AnimationEnd"),animationiteration:H("Animation","AnimationIteration"),animationstart:H("Animation","AnimationStart"),transitionend:H("Transition","TransitionEnd")},fo={},mo={};Pi&&(mo=document.createElement("div").style,"AnimationEvent"in window||(delete po.animationend.animation,delete po.animationiteration.animation,delete po.animationstart.animation),"TransitionEvent"in window||delete po.transitionend.transition);var go,vo,yo,xo=V("animationend"),bo=V("animationiteration"),wo=V("animationstart"),_o=V("transitionend"),Eo=["abort","canplay","canplaythrough","durationchange","emptied","encrypted","ended","error","loadeddata","loadedmetadata","loadstart","pause","play","playing","progress","ratechange","seeked","seeking","stalled","suspend","timeupdate","volumechange","waiting"],So=new("function"==typeof WeakMap?WeakMap:Map),To=null,Ao=[],Mo=!1,Co=[],Do=null,Lo=null,Po=null,Ro=new Map,Oo=new Map,Io=[],ko=["mousedown","mouseup","touchcancel","touchend","touchstart","auxclick","dblclick","pointercancel","pointerdown","pointerup","dragend","dragstart","drop","compositionend","compositionstart","keydown","keypress","keyup","input","textInput","close","cancel","copy","cut","paste","click","change","contextmenu","reset","submit"],No=["focus","blur","dragenter","dragleave","mouseover","mouseout","pointerover","pointerout","gotpointercapture","lostpointercapture"],Fo={},Bo=new Map,Uo=new Map;me(["blur","blur","cancel","cancel","click","click","close","close","contextmenu","contextMenu","copy","copy","cut","cut","auxclick","auxClick","dblclick","doubleClick","dragend","dragEnd","dragstart","dragStart","drop","drop","focus","focus","input","input","invalid","invalid","keydown","keyDown","keypress","keyPress","keyup","keyUp","mousedown","mouseDown","mouseup","mouseUp","paste","paste","pause","pause","play","play","pointercancel","pointerCancel","pointerdown","pointerDown","pointerup","pointerUp","ratechange","rateChange","reset","reset","seeked","seeked","submit","submit","touchcancel","touchCancel","touchend","touchEnd","touchstart","touchStart","volumechange","volumeChange"],0),me(["drag","drag","dragenter","dragEnter","dragexit","dragExit","dragleave","dragLeave","dragover","dragOver","mousemove","mouseMove","mouseout","mouseOut","mouseover","mouseOver","pointermove","pointerMove","pointerout","pointerOut","pointerover","pointerOver","scroll","scroll","toggle","toggle","touchmove","touchMove","wheel","wheel"],1),me(["abort","abort",xo,"animationEnd",bo,"animationIteration",wo,"animationStart","canplay","canPlay","canplaythrough","canPlayThrough","durationchange","durationChange","emptied","emptied","encrypted","encrypted","ended","ended","error","error","gotpointercapture","gotPointerCapture","load","load","loadeddata","loadedData","loadedmetadata","loadedMetadata","loadstart","loadStart","lostpointercapture","lostPointerCapture","playing","playing","progress","progress","seeking","seeking","stalled","stalled","suspend","suspend","timeupdate","timeUpdate",_o,"transitionEnd","waiting","waiting"],2);for(var zo=["change","selectionchange","textInput","compositionstart","compositionend","compositionupdate"],jo=0;jo<zo.length;jo++)Uo.set(zo[jo],0);var Go=gi.unstable_UserBlockingPriority,Ho=gi.unstable_runWithPriority,Vo=!0,Wo={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Xo=["Webkit","ms","Moz","O"];Object.keys(Wo).forEach(function(e){Xo.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Wo[t]=Wo[e]})});var qo=mi({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0}),Yo=co,Jo="$",Zo="/$",Ko="$?",$o="$!",Qo=null,ea=null,ta="function"==typeof setTimeout?setTimeout:void 0,na="function"==typeof clearTimeout?clearTimeout:void 0,ra=Math.random().toString(36).slice(2),ia="__reactInternalInstance$"+ra,oa="__reactEventHandlers$"+ra,aa="__reactContainere$"+ra,sa=null,ua=null,ca=null;mi(Je.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!=typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=qe)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!=typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=qe)},persist:function(){this.isPersistent=qe},isPersistent:Ye,destructor:function(){var e,t=this.constructor.Interface;for(e in t)this[e]=null;this.nativeEvent=this._targetInst=this.dispatchConfig=null,this.isPropagationStopped=this.isDefaultPrevented=Ye,this._dispatchInstances=this._dispatchListeners=null}}),Je.Interface={type:null,target:null,currentTarget:function(){return null},eventPhase:null,bubbles:null,cancelable:null,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:null,isTrusted:null},Je.extend=function(e){function t(){}function n(){return r.apply(this,arguments)}var r=this;t.prototype=r.prototype;var i=new t;return mi(i,n.prototype),n.prototype=i,n.prototype.constructor=n,n.Interface=mi({},r.Interface,e),n.extend=r.extend,$e(n),n},$e(Je);var la=Je.extend({data:null}),ha=Je.extend({data:null}),pa=[9,13,27,32],fa=Pi&&"CompositionEvent"in window,da=null;Pi&&"documentMode"in document&&(da=document.documentMode);var ma=Pi&&"TextEvent"in window&&!da,ga=Pi&&(!fa||da&&8<da&&11>=da),va=" ",ya={beforeInput:{phasedRegistrationNames:{bubbled:"onBeforeInput",captured:"onBeforeInputCapture"},dependencies:["compositionend","keypress","textInput","paste"]},compositionEnd:{phasedRegistrationNames:{bubbled:"onCompositionEnd",captured:"onCompositionEndCapture"},dependencies:["blur","compositionend","keydown","keypress","keyup","mousedown"]},compositionStart:{phasedRegistrationNames:{bubbled:"onCompositionStart",captured:"onCompositionStartCapture"},dependencies:["blur","compositionstart","keydown","keypress","keyup","mousedown"]},compositionUpdate:{phasedRegistrationNames:{bubbled:"onCompositionUpdate",captured:"onCompositionUpdateCapture"},dependencies:["blur","compositionupdate","keydown","keypress","keyup","mousedown"]}},xa=!1,ba=!1,wa={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0},_a={change:{phasedRegistrationNames:{bubbled:"onChange",captured:"onChangeCapture"},dependencies:["blur","change","click","focus","input","keydown","keyup","selectionchange"]}},Ea=null,Sa=null,Ta=!1;Pi&&(Ta=te("input")&&(!document.documentMode||9<document.documentMode));var Aa={eventTypes:_a,_isInputEventSupported:Ta,extractEvents:function(e,t,n,r){var i=t?Fe(t):window,o=i.nodeName&&i.nodeName.toLowerCase();if("select"===o||"input"===o&&"file"===i.type)var a=ot;else if(tt(i))if(Ta)a=ht;else{a=ct;var s=ut}else(o=i.nodeName)&&"input"===o.toLowerCase()&&("checkbox"===i.type||"radio"===i.type)&&(a=lt);return a&&(a=a(e,t))?nt(a,n,r):(s&&s(e,i,t),void("blur"===e&&(e=i._wrapperState)&&e.controlled&&"number"===i.type&&O(i,"number",i.value)))}},Ma=Je.extend({view:null,detail:null}),Ca={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"},Da=0,La=0,Pa=!1,Ra=!1,Oa=Ma.extend({screenX:null,screenY:null,clientX:null,clientY:null,pageX:null,pageY:null,ctrlKey:null,shiftKey:null,altKey:null,metaKey:null,getModifierState:ft,button:null,buttons:null,relatedTarget:function(e){return e.relatedTarget||(e.fromElement===e.srcElement?e.toElement:e.fromElement)},movementX:function(e){if("movementX"in e)return e.movementX;var t=Da;return Da=e.screenX,Pa?"mousemove"===e.type?e.screenX-t:0:(Pa=!0,0)},movementY:function(e){if("movementY"in e)return e.movementY;var t=La;return La=e.screenY,Ra?"mousemove"===e.type?e.screenY-t:0:(Ra=!0,0)}}),Ia=Oa.extend({pointerId:null,width:null,height:null,pressure:null,tangentialPressure:null,tiltX:null,tiltY:null,twist:null,pointerType:null,isPrimary:null}),ka={mouseEnter:{registrationName:"onMouseEnter",dependencies:["mouseout","mouseover"]},mouseLeave:{registrationName:"onMouseLeave",dependencies:["mouseout","mouseover"]},pointerEnter:{registrationName:"onPointerEnter",dependencies:["pointerout","pointerover"]},pointerLeave:{registrationName:"onPointerLeave",dependencies:["pointerout","pointerover"]}},Na="function"==typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t},Fa=Object.prototype.hasOwnProperty,Ba=Pi&&"documentMode"in document&&11>=document.documentMode,Ua={select:{phasedRegistrationNames:{bubbled:"onSelect",captured:"onSelectCapture"},dependencies:["blur","contextmenu","dragend","focus","keydown","keyup","mousedown","mouseup","selectionchange"]}},za=null,ja=null,Ga=null,Ha=!1,Va=Je.extend({animationName:null,elapsedTime:null,pseudoElement:null}),Wa=Je.extend({clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Xa=Ma.extend({relatedTarget:null}),qa={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Ya={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Ja=Ma.extend({key:function(e){if(e.key){var t=qa[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=gt(e))?"Enter":fi(e):"keydown"===e.type||"keyup"===e.type?Ya[e.keyCode]||"Unidentified":""},location:null,ctrlKey:null,shiftKey:null,altKey:null,metaKey:null,repeat:null,locale:null,getModifierState:ft,charCode:function(e){return"keypress"===e.type?gt(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?gt(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),Za=Oa.extend({dataTransfer:null}),Ka=Ma.extend({touches:null,targetTouches:null,changedTouches:null,altKey:null,metaKey:null,ctrlKey:null,shiftKey:null,getModifierState:ft}),$a=Je.extend({propertyName:null,elapsedTime:null,pseudoElement:null}),Qa=Oa.extend({deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:null,deltaMode:null});if(Ti)throw Error(r(101));Ti=Array.prototype.slice.call(["ResponderEventPlugin","SimpleEventPlugin","EnterLeaveEventPlugin","ChangeEventPlugin","SelectEventPlugin","BeforeInputEventPlugin"]),s(),_i=Be,Ei=Ne,Si=Fe,c({SimpleEventPlugin:{eventTypes:Fo,extractEvents:function(e,t,n,r){var i=Bo.get(e);if(!i)return null;switch(e){case"keypress":if(0===gt(n))return null;case"keydown":case"keyup":e=Ja;break;case"blur":case"focus":e=Xa;break;case"click":if(2===n.button)return null;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":e=Oa;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":e=Za;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":e=Ka;break;case xo:case bo:case wo:e=Va;break;case _o:e=$a;break;case"scroll":e=Ma;break;case"wheel":e=Qa;break;case"copy":case"cut":case"paste":e=Wa;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":e=Ia;break;default:e=Je}return We(t=e.getPooled(i,t,n,r)),t}},EnterLeaveEventPlugin:{eventTypes:ka,extractEvents:function(e,t,n,r,i){var o="mouseover"===e||"pointerover"===e,a="mouseout"===e||"pointerout"===e;if(o&&0==(32&i)&&(n.relatedTarget||n.fromElement)||!a&&!o)return null;if(o=r.window===r?r:(o=r.ownerDocument)?o.defaultView||o.parentWindow:window,a){if(a=t,null!==(t=(t=n.relatedTarget||n.toElement)?ke(t):null)){(t!==X(t)||5!==t.tag&&6!==t.tag)&&(t=null)}}else a=null;if(a===t)return null;if("mouseout"===e||"mouseover"===e)var s=Oa,u=ka.mouseLeave,c=ka.mouseEnter,l="mouse";else("pointerout"===e||"pointerover"===e)&&(s=Ia,u=ka.pointerLeave,c=ka.pointerEnter,l="pointer");if(e=null==a?o:Fe(a),o=null==t?o:Fe(t),(u=s.getPooled(u,a,n,r)).type=l+"leave",u.target=e,u.relatedTarget=o,(n=s.getPooled(c,t,n,r)).type=l+"enter",n.target=o,n.relatedTarget=e,l=t,(r=a)&&l)e:{for(c=l,a=0,e=s=r;e;e=Ue(e))a++;for(e=0,t=c;t;t=Ue(t))e++;for(;0<a-e;)s=Ue(s),a--;for(;0<e-a;)c=Ue(c),e--;for(;a--;){if(s===c||s===c.alternate)break e;s=Ue(s),c=Ue(c)}s=null}else s=null;for(c=s,s=[];r&&r!==c&&(null===(a=r.alternate)||a!==c);)s.push(r),r=Ue(r);for(r=[];l&&l!==c&&(null===(a=l.alternate)||a!==c);)r.push(l),l=Ue(l);for(l=0;l<s.length;l++)He(s[l],"bubbled",u);for(l=r.length;0<l--;)He(r[l],"captured",n);return 0==(64&i)?[u]:[u,n]}},ChangeEventPlugin:Aa,SelectEventPlugin:{eventTypes:Ua,extractEvents:function(e,t,n,r,i,o){if(!(o=!(i=o||(r.window===r?r.document:9===r.nodeType?r:r.ownerDocument)))){e:{i=W(i),o=Li.onSelect;for(var a=0;a<o.length;a++)if(!i.has(o[a])){i=!1;break e}i=!0}o=!i}if(o)return null;switch(i=t?Fe(t):window,e){case"focus":(tt(i)||"true"===i.contentEditable)&&(za=i,ja=t,Ga=null);break;case"blur":Ga=ja=za=null;break;case"mousedown":Ha=!0;break;case"contextmenu":case"mouseup":case"dragend":return Ha=!1,mt(n,r);case"selectionchange":if(Ba)break;case"keydown":case"keyup":return mt(n,r)}return null}},BeforeInputEventPlugin:{eventTypes:ya,extractEvents:function(e,t,n,r){var i;if(fa)e:{switch(e){case"compositionstart":var o=ya.compositionStart;break e;case"compositionend":o=ya.compositionEnd;break e;case"compositionupdate":o=ya.compositionUpdate;break e}o=void 0}else ba?Qe(e,n)&&(o=ya.compositionEnd):"keydown"===e&&229===n.keyCode&&(o=ya.compositionStart);return o?(ga&&"ko"!==n.locale&&(ba||o!==ya.compositionStart?o===ya.compositionEnd&&ba&&(i=Xe()):(ua="value"in(sa=r)?sa.value:sa.textContent,ba=!0)),o=la.getPooled(o,t,n,r),i?o.data=i:null!==(i=et(n))&&(o.data=i),We(o),i=o):i=null,(e=ma?function(e,t){return"compositionend"===e?et(t):"keypress"===e?32===t.which?(xa=!0,va):null:"textInput"===e?(e=t.data)===va&&xa?null:e:null}(e,n):function(e,t){if(ba)return"compositionend"===e||!fa&&Qe(e,t)?(e=Xe(),ca=ua=sa=null,ba=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return fi(t.which)}return null;case"compositionend":return ga&&"ko"!==t.locale?null:t.data;default:return null}}(e,n))?((t=ha.getPooled(ya.beforeInput,t,n,r)).data=e,We(t)):t=null,null===i?t:null===t?i:[i,t]}}});var es,ts,ns,rs,is=[],os=-1,as={},ss={current:as},us={current:!1},cs=as,ls=gi.unstable_runWithPriority,hs=gi.unstable_scheduleCallback,ps=gi.unstable_cancelCallback,fs=gi.unstable_requestPaint,ds=gi.unstable_now,ms=gi.unstable_getCurrentPriorityLevel,gs=gi.unstable_ImmediatePriority,vs=gi.unstable_UserBlockingPriority,ys=gi.unstable_NormalPriority,xs=gi.unstable_LowPriority,bs=gi.unstable_IdlePriority,ws={},_s=gi.unstable_shouldYield,Es=void 0===fs?function(){}:fs,Ss=null,Ts=null,As=!1,Ms=ds(),Cs=1e4>Ms?ds:function(){return ds()-Ms},Ds={current:null},Ls=null,Ps=null,Rs=null,Os=!1,Is=Vi.ReactCurrentBatchConfig,ks=(new di.Component).refs,Ns={isMounted:function(e){return!!(e=e._reactInternalFiber)&&X(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternalFiber;var r=yr(),i=Is.suspense;(i=Gt(r=xr(r,e,i),i)).payload=t,null!=n&&(i.callback=n),Ht(e,i),br(e,r)},enqueueReplaceState:function(e,t,n){e=e._reactInternalFiber;var r=yr(),i=Is.suspense;(i=Gt(r=xr(r,e,i),i)).tag=1,i.payload=t,null!=n&&(i.callback=n),Ht(e,i),br(e,r)},enqueueForceUpdate:function(e,t){e=e._reactInternalFiber;var n=yr(),r=Is.suspense;(r=Gt(n=xr(n,e,r),r)).tag=2,null!=t&&(r.callback=t),Ht(e,r),br(e,n)}},Fs=Array.isArray,Bs=en(!0),Us=en(!1),zs={},js={current:zs},Gs={current:zs},Hs={current:zs},Vs={current:0},Ws=Vi.ReactCurrentDispatcher,Xs=Vi.ReactCurrentBatchConfig,qs=0,Ys=null,Js=null,Zs=null,Ks=!1,$s={readContext:Ut,useCallback:cn,useContext:cn,useEffect:cn,useImperativeHandle:cn,useLayoutEffect:cn,useMemo:cn,useReducer:cn,useRef:cn,useState:cn,useDebugValue:cn,useResponder:cn,useDeferredValue:cn,useTransition:cn},Qs={readContext:Ut,useCallback:Cn,useContext:Ut,useEffect:_n,useImperativeHandle:function(e,t,n){return n=null!=n?n.concat([e]):null,bn(4,2,Tn.bind(null,t,e),n)},useLayoutEffect:function(e,t){return bn(4,2,e,t)},useMemo:function(e,t){var n=pn();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=pn();return t=void 0===n?t:n(t),r.memoizedState=r.baseState=t,e=(e=r.queue={pending:null,dispatch:null,lastRenderedReducer:e,lastRenderedState:t}).dispatch=Rn.bind(null,Ys,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},pn().memoizedState=e},useState:vn,useDebugValue:Mn,useResponder:un,useDeferredValue:function(e,t){var n=vn(e),r=n[0],i=n[1];return _n(function(){var n=Xs.suspense;Xs.suspense=void 0===t?null:t;try{i(e)}finally{Xs.suspense=n}},[e,t]),r},useTransition:function(e){var t=vn(!1),n=t[0];return t=t[1],[Cn(Pn.bind(null,t,e),[t,e]),n]}},eu={readContext:Ut,useCallback:Dn,useContext:Ut,useEffect:En,useImperativeHandle:An,useLayoutEffect:Sn,useMemo:Ln,useReducer:mn,useRef:xn,useState:function(){return mn(dn)},useDebugValue:Mn,useResponder:un,useDeferredValue:function(e,t){var n=mn(dn),r=n[0],i=n[1];return En(function(){var n=Xs.suspense;Xs.suspense=void 0===t?null:t;try{i(e)}finally{Xs.suspense=n}},[e,t]),r},useTransition:function(e){var t=mn(dn),n=t[0];return t=t[1],[Dn(Pn.bind(null,t,e),[t,e]),n]}},tu={readContext:Ut,useCallback:Dn,useContext:Ut,useEffect:En,useImperativeHandle:An,useLayoutEffect:Sn,useMemo:Ln,useReducer:gn,useRef:xn,useState:function(){return gn(dn)},useDebugValue:Mn,useResponder:un,useDeferredValue:function(e,t){var n=gn(dn),r=n[0],i=n[1];return En(function(){var n=Xs.suspense;Xs.suspense=void 0===t?null:t;try{i(e)}finally{Xs.suspense=n}},[e,t]),r},useTransition:function(e){var t=gn(dn),n=t[0];return t=t[1],[Dn(Pn.bind(null,t,e),[t,e]),n]}},nu=null,ru=null,iu=!1,ou=Vi.ReactCurrentOwner,au=!1,su={dehydrated:null,retryTime:0};es=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},ts=function(){},ns=function(e,t,n,r,i){var o=e.memoizedProps;if(o!==r){var a,s,u=t.stateNode;for(a in tn(js.current),e=null,"input"===n?(o=C(u,o),r=C(u,r),e=[]):"option"===n?(o=I(u,o),r=I(u,r),e=[]):"select"===n?(o=mi({},o,{value:void 0}),r=mi({},r,{value:void 0}),e=[]):"textarea"===n?(o=N(u,o),r=N(u,r),e=[]):"function"!=typeof o.onClick&&"function"==typeof r.onClick&&(u.onclick=Te),_e(n,r),n=null,o)if(!r.hasOwnProperty(a)&&o.hasOwnProperty(a)&&null!=o[a])if("style"===a)for(s in u=o[a])u.hasOwnProperty(s)&&(n||(n={}),n[s]="");else"dangerouslySetInnerHTML"!=a&&"children"!=a&&"suppressContentEditableWarning"!=a&&"suppressHydrationWarning"!=a&&"autoFocus"!=a&&(Di.hasOwnProperty(a)?e||(e=[]):(e=e||[]).push(a,null));for(a in r){var c=r[a];if(u=null==o?void 0:o[a],r.hasOwnProperty(a)&&c!==u&&(null!=c||null!=u))if("style"!==a)"dangerouslySetInnerHTML"===a?(c=c?c.__html:void 0,u=u?u.__html:void 0,null!=c&&u!==c&&(e=e||[]).push(a,c)):"children"===a?u===c||"string"!=typeof c&&"number"!=typeof c||(e=e||[]).push(a,""+c):"suppressContentEditableWarning"!=a&&"suppressHydrationWarning"!=a&&(Di.hasOwnProperty(a)?(null!=c&&Se(i,a),e||u===c||(e=[])):(e=e||[]).push(a,c));else if(u){for(s in u)!u.hasOwnProperty(s)||c&&c.hasOwnProperty(s)||(n||(n={}),n[s]="");for(s in c)c.hasOwnProperty(s)&&u[s]!==c[s]&&(n||(n={}),n[s]=c[s])}else n||(e||(e=[]),e.push(a,n)),n=c}n&&(e=e||[]).push("style",n),i=e,(t.updateQueue=i)&&(t.effectTag|=4)}},rs=function(e,t,n,r){n!==r&&(t.effectTag|=4)};var uu,cu="function"==typeof WeakSet?WeakSet:Set,lu="function"==typeof WeakMap?WeakMap:Map,hu=Math.ceil,pu=Vi.ReactCurrentDispatcher,fu=Vi.ReactCurrentOwner,du=0,mu=8,gu=16,vu=32,yu=0,xu=1,bu=2,wu=3,_u=4,Eu=5,Su=du,Tu=null,Au=null,Mu=0,Cu=yu,Du=null,Lu=1073741823,Pu=1073741823,Ru=null,Ou=0,Iu=!1,ku=0,Nu=500,Fu=null,Bu=!1,Uu=null,zu=null,ju=!1,Gu=null,Hu=90,Vu=null,Wu=0,Xu=null,qu=0;uu=function(e,t,n){var i=t.expirationTime;if(null!==e){var o=t.pendingProps;if(e.memoizedProps!==o||us.current)au=!0;else{if(i<n){switch(au=!1,t.tag){case 3:qn(t),Bn();break;case 5:if(on(t),4&t.mode&&1!==n&&o.hidden)return t.expirationTime=t.childExpirationTime=1,null;break;case 1:bt(t.type)&&St(t);break;case 4:nn(t,t.stateNode.containerInfo);break;case 10:i=t.memoizedProps.value,o=t.type._context,yt(Ds,o._currentValue),o._currentValue=i;break;case 13:if(null!==t.memoizedState)return 0!==(i=t.child.childExpirationTime)&&i>=n?Yn(e,t,n):(yt(Vs,1&Vs.current),null===(t=$n(e,t,n))?null:t.sibling);yt(Vs,1&Vs.current);break;case 19:if(i=t.childExpirationTime>=n,0!=(64&e.effectTag)){if(i)return Kn(e,t,n);t.effectTag|=64}if(null!==(o=t.memoizedState)&&(o.rendering=null,o.tail=null),yt(Vs,Vs.current),!i)return null}return $n(e,t,n)}au=!1}}else au=!1;switch(t.expirationTime=0,t.tag){case 2:if(i=t.type,null!==e&&(e.alternate=null,t.alternate=null,t.effectTag|=2),e=t.pendingProps,o=xt(t,ss.current),Bt(t,n),o=hn(null,t,i,e,o,n),t.effectTag|=1,"object"==typeof o&&null!==o&&"function"==typeof o.render&&void 0===o.$$typeof){if(t.tag=1,t.memoizedState=null,t.updateQueue=null,bt(i)){var a=!0;St(t)}else a=!1;t.memoizedState=null!==o.state&&void 0!==o.state?o.state:null,zt(t);var s=i.getDerivedStateFromProps;"function"==typeof s&&qt(t,i,s,e),o.updater=Ns,t.stateNode=o,o._reactInternalFiber=t,Kt(t,i,e,n),t=Xn(null,t,i,!0,a,n)}else t.tag=0,Un(null,t,o,n),t=t.child;return t;case 16:if(o=t.elementType,null!==e&&(e.alternate=null,t.alternate=null,t.effectTag|=2),e=t.pendingProps,function(e){if(-1===e._status){e._status=0;var t=e._ctor;t=t(),e._result=t,t.then(function(t){0===e._status&&(t=t.default,e._status=1,e._result=t)},function(t){0===e._status&&(e._status=2,e._result=t)})}}(o),1!==o._status)throw o._result;throw o=o._result,t.type=o,a=t.tag=function(e){if("function"==typeof e)return qr(e)?1:0;if(null!=e){if((e=e.$$typeof)===no)return 11;if(e===oo)return 14}return 2}(o),e=It(o,e),0===a?t=Vn(null,t,o,e,n):1===a?t=Wn(null,t,o,e,n):11===a?t=zn(null,t,o,e,n):14===a&&(t=jn(null,t,o,It(o.type,e),i,n)),Error(r(306,o,""));case 0:return i=t.type,o=t.pendingProps,Vn(e,t,i,o=t.elementType===i?o:It(i,o),n);case 1:return i=t.type,o=t.pendingProps,Wn(e,t,i,o=t.elementType===i?o:It(i,o),n);case 3:if(qn(t),i=t.updateQueue,null===e||null===i)throw Error(r(282));if(i=t.pendingProps,o=null===(o=t.memoizedState)?null:o.element,jt(e,t),Wt(t,i,null,n),(i=t.memoizedState.element)===o)Bn(),t=$n(e,t,n);else{if((o=t.stateNode.hydrate)&&(ru=Oe(t.stateNode.containerInfo.firstChild),nu=t,o=iu=!0),o)for(n=Us(t,null,i,n),t.child=n;n;)n.effectTag=1024|-3&n.effectTag,n=n.sibling;else Un(e,t,i,n),Bn();t=t.child}return t;case 5:return on(t),null===e&&kn(t),i=t.type,o=t.pendingProps,a=null===e?null:e.memoizedProps,s=o.children,Re(i,o)?s=null:null!==a&&Re(i,a)&&(t.effectTag|=16),Hn(e,t),4&t.mode&&1!==n&&o.hidden?(t.expirationTime=t.childExpirationTime=1,t=null):(Un(e,t,s,n),t=t.child),t;case 6:return null===e&&kn(t),null;case 13:return Yn(e,t,n);case 4:return nn(t,t.stateNode.containerInfo),i=t.pendingProps,null===e?t.child=Bs(t,null,i,n):Un(e,t,i,n),t.child;case 11:return i=t.type,o=t.pendingProps,zn(e,t,i,o=t.elementType===i?o:It(i,o),n);case 7:return Un(e,t,t.pendingProps,n),t.child;case 8:case 12:return Un(e,t,t.pendingProps.children,n),t.child;case 10:e:{i=t.type._context,o=t.pendingProps,s=t.memoizedProps,a=o.value;var u=t.type._context;if(yt(Ds,u._currentValue),u._currentValue=a,null!==s)if(u=s.value,0!==(a=Na(u,a)?0:0|("function"==typeof i._calculateChangedBits?i._calculateChangedBits(u,a):1073741823)))for(null!==(u=t.child)&&(u.return=t);null!==u;){var c=u.dependencies;if(null!==c){s=u.child;for(var l=c.firstContext;null!==l;){if(l.context===i&&0!=(l.observedBits&a)){1===u.tag&&((l=Gt(n,null)).tag=2,Ht(u,l)),u.expirationTime<n&&(u.expirationTime=n),null!==(l=u.alternate)&&l.expirationTime<n&&(l.expirationTime=n),Ft(u.return,n),c.expirationTime<n&&(c.expirationTime=n);break}l=l.next}}else s=10===u.tag&&u.type===t.type?null:u.child;if(null!==s)s.return=u;else for(s=u;null!==s;){if(s===t){s=null;break}if(null!==(u=s.sibling)){u.return=s.return,s=u;break}s=s.return}u=s}else if(s.children===o.children&&!us.current){t=$n(e,t,n);break e}Un(e,t,o.children,n),t=t.child}return t;case 9:return o=t.type,i=(a=t.pendingProps).children,Bt(t,n),i=i(o=Ut(o,a.unstable_observedBits)),t.effectTag|=1,Un(e,t,i,n),t.child;case 14:return a=It(o=t.type,t.pendingProps),jn(e,t,o,a=It(o.type,a),i,n);case 15:return Gn(e,t,t.type,t.pendingProps,i,n);case 17:return i=t.type,o=t.pendingProps,o=t.elementType===i?o:It(i,o),null!==e&&(e.alternate=null,t.alternate=null,t.effectTag|=2),t.tag=1,bt(i)?(e=!0,St(t)):e=!1,Bt(t,n),Jt(t,i,o),Kt(t,i,o,n),Xn(null,t,i,!0,e,n);case 19:return Kn(e,t,n)}throw Error(r(156,t.tag))};var Yu=null,Ju=null;ui.prototype.render=function(e){ii(e,this._internalRoot,null,null)},ui.prototype.unmount=function(){var e=this._internalRoot,t=e.containerInfo;ii(null,e,null,function(){t[aa]=null})},go=function(e){if(13===e.tag){var t=Ot(yr(),150,100);br(e,t),si(e,t)}},vo=function(e){13===e.tag&&(br(e,3),si(e,3))},yo=function(e){if(13===e.tag){var t=yr();br(e,t=xr(t,e,null)),si(e,t)}},Ri=function(e,t,n){switch(t){case"input":if(P(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var i=n[t];if(i!==e&&i.form===e.form){var o=Be(i);if(!o)throw Error(r(90));M(i),P(i,o)}}}break;case"textarea":B(e,n);break;case"select":null!=(t=n.value)&&k(e,!!n.multiple,t,!1)}},f=Ar,d=function(e,t,n,r,i){var o=Su;Su|=4;try{return Ct(98,e.bind(null,t,n,r,i))}finally{(Su=o)===du&&Pt()}},m=function(){(Su&(1|gu|vu))==du&&(function(){if(null!==Vu){var e=Vu;Vu=null,e.forEach(function(e,t){ri(t,e),Er(t)}),Pt()}}(),zr())},ki=function(e,t){var n=Su;Su|=2;try{return e(t)}finally{(Su=n)===du&&Pt()}},function(e){var t=e.findFiberByHostInstance;(function(e){if("undefined"==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__)return!1;var t=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(t.isDisabled||!t.supportsFiber)return!0;try{var n=t.inject(e);Yu=function(e){try{t.onCommitFiberRoot(n,e,void 0,64==(64&e.current.effectTag))}catch(t){}},Ju=function(e){try{t.onCommitFiberUnmount(n,e)}catch(t){}}}catch(e){}})(mi({},e,{overrideHookState:null,overrideProps:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Vi.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=J(e))?null:e.stateNode},findFiberByHostInstance:function(e){return t?t(e):null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null}))}({findFiberByHostInstance:ke,bundleType:0,version:"16.13.1",rendererPackageName:"react-dom"}),t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED={Events:[Ne,Fe,Be,c,Ci,We,function(e){K(e,Ve)},h,p,ye,Q,zr,{current:!1}]},t.createPortal=hi,t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternalFiber;if(void 0===t){if("function"==typeof e.render)throw Error(r(188));throw Error(r(268,Object.keys(e)))}return e=null===(e=J(t))?null:e.stateNode},t.flushSync=function(e,t){if((Su&(gu|vu))!=du)throw Error(r(187));var n=Su;Su|=1;try{return Ct(99,e.bind(null,t))}finally{Su=n,Pt()}},t.hydrate=function(e,t,n){if(!ci(t))throw Error(r(200));return li(null,e,t,!0,n)},t.render=function(e,t,n){if(!ci(t))throw Error(r(200));return li(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!ci(e))throw Error(r(40));return!!e._reactRootContainer&&(Mr(function(){li(null,null,e,!1,function(){e._reactRootContainer=null,e[aa]=null})}),!0)},t.unstable_batchedUpdates=Ar,t.unstable_createPortal=function(e,t){return hi(e,t,2<arguments.length&&void 0!==arguments[2]?arguments[2]:null)},t.unstable_renderSubtreeIntoContainer=function(e,t,n,i){if(!ci(n))throw Error(r(200));if(null==e||void 0===e._reactInternalFiber)throw Error(r(38));return li(e,t,n,!1,i)},t.version="16.13.1"},zLVn:function(e,t,n){"use strict";function r(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],0<=t.indexOf(n)||(i[n]=e[n]);return i}n.d(t,"a",function(){return r})},zLkG:function(e,t,n){t.f=n("UWiX")},zXhZ:function(e,t,n){var r=n("5K7Z"),i=n("93I4"),o=n("ZW5q");e.exports=function(e,t){if(r(e),i(t)&&t.constructor===e)return t;var n=o.f(e);return(0,n.resolve)(t),n.promise}},zn7N:function(e,t,n){var r=n("Y7ZC"),i=n("WEpk"),o=n("KUxP");e.exports=function(e,t){var n=(i.Object||{})[e]||Object[e],a={};a[e]=t(n),r(r.S+r.F*o(function(){n(1)}),"Object",a)}},zrwo:function(e,t,n){"use strict";function r(e){for(var t=1;t<arguments.length;t++){var n=null==arguments[t]?{}:arguments[t],r=c()(n);"function"==typeof s.a&&(r=r.concat(s()(n).filter(function(e){return o()(n,e).enumerable}))),r.forEach(function(t){Object(l.a)(e,t,n[t])})}return e}n.d(t,"a",function(){return r});var i=n("Jo+v"),o=n.n(i),a=n("4mXO"),s=n.n(a),u=n("pLtp"),c=n.n(u),l=n("vYYK")}}]);